<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:37:55 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2016-1-5+AND+created+%3C%3D+2016-1-12+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="65" total="65"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-12774] Vectorization problem with empty partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12774</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A query against a table with no data in partition X fails under vectorization.&lt;/p&gt;

&lt;p&gt;Table:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;;
drop table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; exists test;
CREATE TABLE &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test(
  district_id bigint, 
  user_type string,
  7d &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
PARTITIONED BY
  (partition_date string)
ROW FORMAT SERDE 
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt; 
STORED AS INPUTFORMAT 
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.mapred.TextInputFormat&apos;&lt;/span&gt; 
OUTPUTFORMAT 
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.vectorized.execution.enabled = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
select partition_date, sum(teachers_7d)
from
(
select distinct ad1.partition_date, ad1.district_id, ad1.7d teachers_7d
from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test ad1
left join &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test ad2 on ad1.district_id = ad2.district_id and ad2.user_type = &lt;span class=&quot;code-quote&quot;&gt;&apos;STUDENT&apos;&lt;/span&gt; 
and ad2.partition_date = &lt;span class=&quot;code-quote&quot;&gt;&apos;2015-12-20&apos;&lt;/span&gt;
where ad1.user_type = &lt;span class=&quot;code-quote&quot;&gt;&apos;TEACHER&apos;&lt;/span&gt;
and ad1.partition_date = &lt;span class=&quot;code-quote&quot;&gt;&apos;2015-12-20&apos;&lt;/span&gt;
) a
group by partition_date
;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This will elicit a task that fails:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Diagnostic Messages &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; Task:
Error: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:449)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)
	at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)
	at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	... 9 more
Caused by: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)
	at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)
	... 14 more
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	... 17 more
Caused by: java.lang.RuntimeException: Map &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; initialization failed
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:147)
	... 22 more
Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazy.objectinspector.primitive.LazyLongObjectInspector cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.serde2.objectinspector.primitive.SettableLongObjectInspector
	at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory.genVectorExpressionWritable(VectorExpressionWriterFactory.java:410)
	at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory.processVectorInspector(VectorExpressionWriterFactory.java:1102)
	at org.apache.hadoop.hive.ql.exec.vector.VectorReduceSinkOperator.initializeOp(VectorReduceSinkOperator.java:55)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:469)
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:425)
	at org.apache.hadoop.hive.ql.exec.vector.VectorFilterOperator.initializeOp(VectorFilterOperator.java:77)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:469)
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:425)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:193)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
	at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:431)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:126)
	... 22 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927160">HIVE-12774</key>
            <summary>Vectorization problem with empty partition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lancenorskog">Lance Norskog</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 02:13:37 +0000</created>
                <updated>Tue, 5 Jan 2016 22:40:57 +0000</updated>
                                            <version>1.3.0</version>
                                                    <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15082231" author="lancenorskog" created="Tue, 5 Jan 2016 02:16:20 +0000"  >&lt;p&gt;This is probably not the same bug as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10308&quot; title=&quot;Vectorization execution throws java.lang.IllegalArgumentException: Unsupported complex type: MAP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10308&quot;&gt;&lt;del&gt;HIVE-10308&lt;/del&gt;&lt;/a&gt;. I&apos;m using Cloudera Hadoop 5.5 and don&apos;t know if &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10308&quot; title=&quot;Vectorization execution throws java.lang.IllegalArgumentException: Unsupported complex type: MAP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10308&quot;&gt;&lt;del&gt;HIVE-10308&lt;/del&gt;&lt;/a&gt; has been applied to my binary.&lt;/p&gt;

&lt;p&gt;However, the final stack trace is the same. This bug may require a fix similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10308&quot; title=&quot;Vectorization execution throws java.lang.IllegalArgumentException: Unsupported complex type: MAP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10308&quot;&gt;&lt;del&gt;HIVE-10308&lt;/del&gt;&lt;/a&gt;. I&apos;m not up to speed on Hive internals and cannot contribute a fix or a unit test.&lt;/p&gt;</comment>
                            <comment id="15082238" author="lancenorskog" created="Tue, 5 Jan 2016 02:21:16 +0000"  >&lt;p&gt;This bug surfaced immediately after we switched from MapReduce v1 to YARN. However, post hoc does not mean propter hoc.&lt;/p&gt;</comment>
                            <comment id="15082342" author="gopalv" created="Tue, 5 Jan 2016 04:23:06 +0000"  >&lt;p&gt;Can&apos;t really figure out why it would try to vectorize a TextInputFormat file (LazySimpleSerDe isn&apos;t vectorized, yet).&lt;/p&gt;

&lt;p&gt;if the vectorizer is working correctly, this query should not contain a VectorFilterOperator at all.&lt;/p&gt;

&lt;p&gt;But I&apos;m guessing that it does generate a vectorized operator tree because it has no rows at all (NullInputFormat).&lt;/p&gt;</comment>
                            <comment id="15083973" author="lancenorskog" created="Tue, 5 Jan 2016 22:40:57 +0000"  >&lt;p&gt;If you simplify the example by removing the group by/SUM aspect, or by removing the partition, or by putting data in the table, the problem does not occur.&lt;br/&gt;
It seems to need all of these complications in order to trigger the bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Jan 2016 04:23:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qsb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12775] &quot;hive.exec.orc.default.buffer.size&quot; in HiveConf is not used anywhere</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12775</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider removing &quot;hive.exec.orc.default.buffer.size&quot; from HiveConf as it does not seem to be used anywhere in the code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12927176">HIVE-12775</key>
            <summary>&quot;hive.exec.orc.default.buffer.size&quot; in HiveConf is not used anywhere</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 05:27:00 +0000</created>
                <updated>Tue, 5 Jan 2016 05:55:23 +0000</updated>
                            <resolved>Tue, 5 Jan 2016 05:55:23 +0000</resolved>
                                                                    <component>ORC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15082440" author="prasanth_j" created="Tue, 5 Jan 2016 05:53:54 +0000"  >&lt;p&gt;OrcConf.BUFFER_SIZE uses it. Pig uses it to set compression buffer size. &lt;/p&gt;</comment>
                            <comment id="15082442" author="prasanth_j" created="Tue, 5 Jan 2016 05:55:23 +0000"  >&lt;p&gt;Marking this as invalid as this config is used by Orc and other external tools that writes as Orc files. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Jan 2016 05:53:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qsen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12776] Add parse utility method for parsing any stand-alone HQL expression</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12776</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Extensions that use Hive QL as their standard language, will benefit from this. &lt;/p&gt;

&lt;p&gt;Apache Lens uses HQL as its language of choice. To support that, it depends on a fork of Hive, which has such code. I&apos;m planning to port that to Apache Hive. &lt;/p&gt;

&lt;p&gt;Relevant commit: &lt;a href=&quot;https://github.com/InMobi/hive/commit/7caea9ed1d269c1cd1d1326cb39c1db7e0bf2bba#diff-fb3acd67881ceb02e83c2e42cf70beef&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/InMobi/hive/commit/7caea9ed1d269c1cd1d1326cb39c1db7e0bf2bba#diff-fb3acd67881ceb02e83c2e42cf70beef&lt;/a&gt;&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12927228">HIVE-12776</key>
            <summary>Add parse utility method for parsing any stand-alone HQL expression</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prongs">Rajat Khandelwal</assignee>
                                    <reporter username="prongs">Rajat Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 10:11:08 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:51 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 05:43:41 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15083206" author="prongs" created="Tue, 5 Jan 2016 15:10:47 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://reviews.apache.org/r/41931/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/41931/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15085084" author="prongs" created="Wed, 6 Jan 2016 06:53:50 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15085103" author="prongs" created="Wed, 6 Jan 2016 07:10:13 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15085962" author="hiveqa" created="Wed, 6 Jan 2016 18:06:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780684/HIVE-12776.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780684/HIVE-12776.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 17 failed/errored test(s), 9985 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-schema_evol_orc_acidvec_mapwork_part.q-vector_partitioned_date_time.q-vector_non_string_partition.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_order2
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6530/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6530/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6530/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6530/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6530/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6530/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 17 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780684 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15085971" author="alangates" created="Wed, 6 Jan 2016 18:11:51 +0000"  >&lt;p&gt;One question I have for this is what expectations are you putting on the format of Hive&apos;s AST?  I&apos;m not in favor of declaring the AST a public interface, because that would limit our ability to make changes to it.  Without that though anyone who calls this method may see different AST&apos;s depending on the version of Hive they are working with.&lt;/p&gt;</comment>
                            <comment id="15086783" author="amareshwari" created="Thu, 7 Jan 2016 04:23:28 +0000"  >
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;, Let me try to answer your question. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;what expectations are you putting on the format of Hive&apos;s AST?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No expectations.&lt;/p&gt;

&lt;p&gt;Right now there is no way to look at AST of an expression. For ex: case when dim.x=0 then m1 else m2 end. You can get AST only for a query. The patch is adding utility method to get AST corresponding to an expression and not changing any of the existing parsing or any grammar.&lt;/p&gt;

&lt;p&gt;I did not understand why this would happen - &quot;Without that though anyone who calls this method may see different AST&apos;s depending on the version of Hive they are working with&quot;.&lt;/p&gt;</comment>
                            <comment id="15087759" author="alangates" created="Thu, 7 Jan 2016 17:51:15 +0000"  >&lt;p&gt;Here&apos;s an example of what I&apos;m worried about.  A user is calling this interface with Hive 1.2, and getting back an AST that maybe looks like A-&amp;gt;B-&amp;gt;C.  In Hive 1.3 we make a language change, and the same syntax now produces a slightly different AST.  So after upgrading the user makes the same call with the same input and gets A-&amp;gt;B-&amp;gt;D-&amp;gt;C.  I don&apos;t want to have to guarantee we won&apos;t cause these kinds of issues.  If we mark this clearly as not having backwards compatibility guarantees then I&apos;m perfectly fine with it. &lt;/p&gt;</comment>
                            <comment id="15087986" author="thejas" created="Thu, 7 Jan 2016 19:50:09 +0000"  >&lt;p&gt;Note that the classes such as ASTNode are also subject to change. For example, it uses several Antlr classes, it is possible someday there is a much superior parser or an incompatible version of Antlr that hive might upgrade to.&lt;/p&gt;</comment>
                            <comment id="15088677" author="amareshwari" created="Fri, 8 Jan 2016 04:19:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, Agree with both of you. It should be fine.&lt;/p&gt;</comment>
                            <comment id="15088681" author="amareshwari" created="Fri, 8 Jan 2016 04:20:41 +0000"  >&lt;p&gt;+1 for the patch. Test failures seem unrelated and they are all failing in other builds as well.&lt;/p&gt;</comment>
                            <comment id="15091468" author="amareshwari" created="Mon, 11 Jan 2016 05:43:41 +0000"  >&lt;p&gt;Committed. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15093760" author="lefty@hortonworks.com" created="Tue, 12 Jan 2016 11:27:48 +0000"  >&lt;p&gt;Does ParseDriver.java need to be documented in the wiki?&lt;/p&gt;</comment>
                            <comment id="15093767" author="amareshwari" created="Tue, 12 Jan 2016 11:32:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;, AFAIK, not required.&lt;/p&gt;</comment>
                            <comment id="15093780" author="lefty@hortonworks.com" created="Tue, 12 Jan 2016 11:43:27 +0000"  >&lt;p&gt;Okay, thanks Amareshwari.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12822938">LENS-518</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780679" name="HIVE-12776.01.patch" size="7978" author="prongs" created="Wed, 6 Jan 2016 06:53:48 +0000"/>
                            <attachment id="12780684" name="HIVE-12776.02.patch" size="7947" author="prongs" created="Wed, 6 Jan 2016 07:10:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 18:06:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qsq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12777] Add capability to restore session in CLIService and SessionManager</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12777</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Extensions using CLIService session handles should be able to restore the session from the handle. &lt;/p&gt;

&lt;p&gt;Apache Lens depends on a fork of hive and that fork has such a capability. &lt;/p&gt;

&lt;p&gt;Functionality added: Restoring a session. A session opened once is lost once the cli service is re-created. There may be some operation going on in that session at the time the service is restarted. It&apos;s useful to be able to restore a previously existing session. &lt;/p&gt;

&lt;p&gt;Have added code in CLIService for that effect. Have also added a test class. &lt;/p&gt;

&lt;p&gt;Relevant commit: &lt;a href=&quot;https://github.com/InMobi/hive/commit/931fe9116161a18952c082c14223ad6745fefe00#diff-0acb35f7cab7492f522b0c40ce3ce1be&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/InMobi/hive/commit/931fe9116161a18952c082c14223ad6745fefe00#diff-0acb35f7cab7492f522b0c40ce3ce1be&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12927230">HIVE-12777</key>
            <summary>Add capability to restore session in CLIService and SessionManager</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prongs">Rajat Khandelwal</assignee>
                                    <reporter username="prongs">Rajat Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 10:14:04 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:50 +0000</updated>
                            <resolved>Mon, 1 Feb 2016 04:58:13 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="15083068" author="prongs" created="Tue, 5 Jan 2016 13:51:23 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://reviews.apache.org/r/41928/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/41928/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15083687" author="sershe" created="Tue, 5 Jan 2016 20:02:47 +0000"  >&lt;p&gt;Can you please attach a patch here for HiveQA to run?&lt;/p&gt;</comment>
                            <comment id="15085079" author="prongs" created="Wed, 6 Jan 2016 06:53:18 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15086279" author="hiveqa" created="Wed, 6 Jan 2016 21:08:05 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780678/HIVE-12777.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780678/HIVE-12777.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 9983 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_order2
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testRestoreSession
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6531/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6531/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6531/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6531/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6531/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6531/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780678 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091555" author="prongs" created="Mon, 11 Jan 2016 07:43:53 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15091733" author="prongs" created="Mon, 11 Jan 2016 10:23:18 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15092237" author="hiveqa" created="Mon, 11 Jan 2016 16:37:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781536/HIVE-12777.09.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781536/HIVE-12777.09.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6590/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6590/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6590/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6590/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6590/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6590/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-6590/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   002a616..9b5f1ff  branch-1   -&amp;gt; origin/branch-1
   5485856..5bcfe4d  branch-2.0 -&amp;gt; origin/branch-2.0
   3a1c4b5..104dc31  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at 3a1c4b5 HIVE-12442: Refactor/repackage HiveServer2&apos;s Thrift code so that it can be used in the tasks (Rohit Dholakia reviewed by Vaibhav Gumashta)
+ git clean -f -d
Removing ql/src/test/queries/clientpositive/columnStatsUpdateForStatsOptimizer.q
Removing ql/src/test/results/clientpositive/columnStatsUpdateForStatsOptimizer.q.out
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 3 commits, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at 104dc31 HIVE-12761: Add stack trace servlet to HS2 web ui (Shinichi Yamashita via Jimmy Xiang)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781536 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15093647" author="prongs" created="Tue, 12 Jan 2016 09:56:48 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15093653" author="vgumashta" created="Tue, 12 Jan 2016 09:59:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt; Thanks for the useful work. I&apos;ll also take a look at the patch today.&lt;/p&gt;</comment>
                            <comment id="15094612" author="hiveqa" created="Tue, 12 Jan 2016 19:36:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781788/HIVE-12777.11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781788/HIVE-12777.11.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6602/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6602/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6602/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6602/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6602/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6602/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor.RestoreSession&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1800,40] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor.RestoreSession&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1801,34] cannot find symbol
  symbol: class TRestoreSessionResp
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3562,99] cannot find symbol
  symbol:   class TRestoreSessionReq
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3582,24] cannot find symbol
  symbol:   class TRestoreSessionReq
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3624,19] cannot find symbol
  symbol:   class TRestoreSessionReq
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3783,34] cannot find symbol
  symbol:   class TRestoreSessionReq
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args.RestoreSession_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3840,28] cannot find symbol
  symbol:   class TRestoreSessionReq
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args.RestoreSession_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3925,99] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3945,28] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3987,23] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[4146,38] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result.RestoreSession_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[4203,32] cannot find symbol
  symbol:   class TRestoreSessionResp
  location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result.RestoreSession_resultTupleScheme
[INFO] 34 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [11.285s]
[INFO] Hive Shims Common ................................. SUCCESS [19.915s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [12.548s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [3.726s]
[INFO] Hive Shims ........................................ SUCCESS [2.686s]
[INFO] Hive Storage API .................................. SUCCESS [6.348s]
[INFO] Hive ORC .......................................... SUCCESS [13.283s]
[INFO] Hive Common ....................................... SUCCESS [24.400s]
[INFO] Hive Serde ........................................ SUCCESS [15.423s]
[INFO] Hive Metastore .................................... SUCCESS [50.858s]
[INFO] Hive Ant Utilities ................................ SUCCESS [1.766s]
[INFO] Hive Llap Client .................................. SUCCESS [12.479s]
[INFO] Hive Service RPC .................................. FAILURE [7.392s]
[INFO] Spark Remote Client ............................... SKIPPED
[INFO] Hive Query Language ............................... SKIPPED
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HPL/SQL ...................................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Llap Server .................................. SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:05.296s
[INFO] Finished at: Tue Jan 12 14:36:33 EST 2016
[INFO] Final Memory: 96M/684M
[INFO] ------------------------------------------------------------------------
[WARNING] The requested profile &quot;hadoop-2&quot; could not be activated because it does not exist.
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-service-rpc: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[44,47] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: interface org.apache.hive.service.rpc.thrift.TCLIService.Iface
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[44,12] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: interface org.apache.hive.service.rpc.thrift.TCLIService.Iface
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[88,32] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: interface org.apache.hive.service.rpc.thrift.TCLIService.AsyncIface
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[171,47] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.Client
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[171,12] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.Client
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[177,37] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.Client
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[184,12] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.Client
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[658,32] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncClient
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[666,15] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncClient.RestoreSession_call
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[667,34] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncClient.RestoreSession_call
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[680,14] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncClient.RestoreSession_call
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3497,13] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3571,7] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3595,12] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3599,24] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3860,13] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3934,7] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3958,12] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3962,28] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1789,133] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1798,34] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor.RestoreSession&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1835,104] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor.RestoreSession&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1800,40] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.AsyncProcessor.RestoreSession&amp;lt;I&amp;gt;
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[1801,34] cannot find symbol
[ERROR] symbol: class TRestoreSessionResp
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3562,99] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3582,24] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3624,19] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3783,34] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args.RestoreSession_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3840,28] cannot find symbol
[ERROR] symbol:   class TRestoreSessionReq
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_args.RestoreSession_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3925,99] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3945,28] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[3987,23] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[4146,38] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result.RestoreSession_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-github-source-source/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java:[4203,32] cannot find symbol
[ERROR] symbol:   class TRestoreSessionResp
[ERROR] location: class org.apache.hive.service.rpc.thrift.TCLIService.RestoreSession_result.RestoreSession_resultTupleScheme
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-service-rpc
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781788 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15096042" author="prongs" created="Wed, 13 Jan 2016 11:29:05 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15096626" author="hiveqa" created="Wed, 13 Jan 2016 17:29:06 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782037/HIVE-12777.12.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782037/HIVE-12777.12.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10020 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testRestoreSession
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6613/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6613/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6613/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6613/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6613/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6613/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782037 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15097569" author="xuefuz" created="Thu, 14 Jan 2016 04:24:00 +0000"  >&lt;p&gt;Could we have more description on what we are trying to do and to achieve here? Otherwise, we have read the code to guess it out.&lt;/p&gt;</comment>
                            <comment id="15097581" author="prongs" created="Thu, 14 Jan 2016 04:42:17 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Please take a look at the url in the description. That commit is adding restore functionality in cli service. In this patch I&apos;m trying to add a bigger version of that. I&apos;m adding restore functionality at the interface level. Hence, all the implementations have some additions. Two thrift structs have also been added to facilitate the addition of the functionality in one of the implementations. &lt;/p&gt;</comment>
                            <comment id="15097729" author="prongs" created="Thu, 14 Jan 2016 07:00:34 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15098714" author="hiveqa" created="Thu, 14 Jan 2016 19:40:00 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782213/HIVE-12777.13.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782213/HIVE-12777.13.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 10009 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestEmbeddedThriftBinaryCLIService - did not produce a TEST-*.xml file
TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth.org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthUDFBlacklist.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testAllowedCommands
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testAuthorization1
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testConfigWhiteList
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary.testAuthorization1
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp.testAuthorization1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6624/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6624/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6624/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6624/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6624/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6624/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782213 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15104171" author="xuefuz" created="Mon, 18 Jan 2016 04:51:48 +0000"  >&lt;p&gt;Sorry but I still don&apos;t understand what functionality we are adding here. We should have clear description of the problem we are trying to solve, the new functionality we are adding, and the approach we are taking, For bigger feature additions, we might even need a functional and design doc.&lt;/p&gt;

&lt;p&gt;The doc or JIRA description is supposed to help code review, but not the other way around. Here it seems I have to understand the code in order to understand the feature.&lt;/p&gt;</comment>
                            <comment id="15105018" author="prongs" created="Mon, 18 Jan 2016 09:48:49 +0000"  >&lt;p&gt;This patch allows CLIService to have a functionality to restore a session given session handle. This functionality is added only at the service level. Clients don&apos;t have that functionality. Anyone that has an instance of CLIService can now restore previous sessions using the session handle. Have added test case for that too. Have updated &lt;a href=&quot;https://reviews.apache.org/r/41928/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/41928/&lt;/a&gt; with the changes. &lt;/p&gt;</comment>
                            <comment id="15105020" author="prongs" created="Mon, 18 Jan 2016 09:49:38 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15105175" author="prongs" created="Mon, 18 Jan 2016 11:33:51 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15105178" author="hiveqa" created="Mon, 18 Jan 2016 11:37:05 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782843/HIVE-12777.15.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782843/HIVE-12777.15.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10022 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth.org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthUDFBlacklist.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testAllowedCommands
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testAuthorization1
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.testConfigWhiteList
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary.testAuthorization1
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp.testAuthorization1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6659/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6659/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6659/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6659/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6659/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6659/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782843 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15105575" author="hiveqa" created="Mon, 18 Jan 2016 17:48:01 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782858/HIVE-12777.16.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782858/HIVE-12777.16.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 91 failed/errored test(s), 9843 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_coalesce.q-auto_sortmerge_join_7.q-dynamic_partition_pruning.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.hooks.TestHs2Hooks.testHookContexts
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.beeline.TestBeeLineWithArgs.org.apache.hive.beeline.TestBeeLineWithArgs
org.apache.hive.beeline.cli.TestHiveCli.testCmd
org.apache.hive.beeline.cli.TestHiveCli.testDatabaseOptions
org.apache.hive.beeline.cli.TestHiveCli.testErrOutput
org.apache.hive.beeline.cli.TestHiveCli.testHelp
org.apache.hive.beeline.cli.TestHiveCli.testInValidCmd
org.apache.hive.beeline.cli.TestHiveCli.testInvalidDatabaseOptions
org.apache.hive.beeline.cli.TestHiveCli.testInvalidOptions
org.apache.hive.beeline.cli.TestHiveCli.testInvalidOptions2
org.apache.hive.beeline.cli.TestHiveCli.testNoErrorDB
org.apache.hive.beeline.cli.TestHiveCli.testSetHeaderValue
org.apache.hive.beeline.cli.TestHiveCli.testSetPromptValue
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd2
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd3
org.apache.hive.beeline.cli.TestHiveCli.testSqlFromCmd
org.apache.hive.beeline.cli.TestHiveCli.testSqlFromCmdWithDBName
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB1
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB2
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB3
org.apache.hive.beeline.cli.TestHiveCli.testUseInvalidDB
org.apache.hive.beeline.cli.TestHiveCli.testVariables
org.apache.hive.beeline.cli.TestHiveCli.testVariablesForSource
org.apache.hive.jdbc.TestJdbcDriver2.org.apache.hive.jdbc.TestJdbcDriver2
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark
org.apache.hive.jdbc.TestJdbcWithMiniHS2.org.apache.hive.jdbc.TestJdbcWithMiniHS2
org.apache.hive.jdbc.TestJdbcWithMiniMr.org.apache.hive.jdbc.TestJdbcWithMiniMr
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark
org.apache.hive.jdbc.TestNoSaslAuth.org.apache.hive.jdbc.TestNoSaslAuth
org.apache.hive.jdbc.TestSSL.testConnectionMismatch
org.apache.hive.jdbc.TestSSL.testInvalidConfig
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithURL
org.apache.hive.jdbc.TestSSL.testSSLFetch
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerPrimaryQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerSecondaryQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testQueueMappingCheckDisabled
org.apache.hive.jdbc.authorization.TestHS2AuthzContext.org.apache.hive.jdbc.authorization.TestHS2AuthzContext
org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext.org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext
org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth.org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthUDFBlacklist.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization
org.apache.hive.jdbc.miniHS2.TestHiveServer2.org.apache.hive.jdbc.miniHS2.TestHiveServer2
org.apache.hive.jdbc.miniHS2.TestHiveServer2SessionTimeout.testConnection
org.apache.hive.jdbc.miniHS2.TestHs2Metrics.org.apache.hive.jdbc.miniHS2.TestHs2Metrics
org.apache.hive.jdbc.miniHS2.TestMiniHS2.testConfInSession
org.apache.hive.minikdc.TestHs2HooksWithMiniKdc.org.apache.hive.minikdc.TestHs2HooksWithMiniKdc
org.apache.hive.minikdc.TestJdbcWithMiniKdc.org.apache.hive.minikdc.TestJdbcWithMiniKdc
org.apache.hive.minikdc.TestJdbcWithMiniKdcCookie.org.apache.hive.minikdc.TestJdbcWithMiniKdcCookie
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary.org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp.org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS
org.apache.hive.service.auth.TestCustomAuthentication.testCustomAuthentication
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testConfOverlay
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatement
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementParallel
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testGetFunctions
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testGetInfo
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testGlobalCompileLockTimeout
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testOpenSession
org.apache.hive.service.cli.TestRetryingThriftCLIServiceClient.testRetryBehaviour
org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithMr.org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithMr
org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithTez.org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithTez
org.apache.hive.service.cli.operation.TestOperationLoggingLayout.org.apache.hive.service.cli.operation.TestOperationLoggingLayout
org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitDir
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFile
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFileAndConfOverlay
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFileWithUser
org.apache.hive.service.cli.session.TestSessionHooks.testProxyUser
org.apache.hive.service.cli.session.TestSessionHooks.testSessionHook
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testExecuteStatement
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testExecuteStatementAsync
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testGetFunctions
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testOpenSession
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatement
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testGetFunctions
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testOpenSession
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6661/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6661/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6661/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6661/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6661/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6661/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 91 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782858 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15110007" author="amareshwari" created="Thu, 21 Jan 2016 04:11:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;, The test failures on the patch seem related. Please have a look at them.&lt;/p&gt;</comment>
                            <comment id="15110590" author="prongs" created="Thu, 21 Jan 2016 13:40:59 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15110606" author="prongs" created="Thu, 21 Jan 2016 13:48:07 +0000"  >&lt;p&gt;Yes, found something that is causing NPE. fixed and updated. &lt;/p&gt;</comment>
                            <comment id="15110981" author="xuefuz" created="Thu, 21 Jan 2016 17:45:46 +0000"  >&lt;p&gt;Could we have description of what the feature is please? I don&apos;t understand what we are trying to achieve here. Are we trying to restore a session that&apos;s lost? How does it get lost? Where do we restore it from? What are the use cases? How does this benefits Hive users?&lt;/p&gt;</comment>
                            <comment id="15112357" author="prongs" created="Fri, 22 Jan 2016 12:15:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; I&apos;ll try to answer as clearly as possible using an example. &lt;/p&gt;

&lt;p&gt;Imagine a piece of code that uses SessionHandle as a member of a class. For convenience it takes CLIService in the constructor so that it can create the session handle. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Blah{
	public CLIService cliService;
	SessionHandle handle;
	public Blah(CLIService cliService){
		this.cliService = cliService;
		this.session = cliService.openSession(...);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, imagine that Blah is an important part of a big project. The project has a server like architecture and has capabilities for stop/start/restart. CLIService is something it&apos;s creating in its lifecycle somewhere. &lt;/p&gt;

&lt;p&gt;Now, the project needs the capability to get an instance of Blah class that it had created before one restart. It has control over Blah objects so it has logic to serialize/deserialize Blah objects. Let&apos;s say that the server is able to read SessionHandle on restart and needs to create Blah objects using that. &lt;/p&gt;

&lt;p&gt;Looking at our code so far, this use case is not supported. Hence we add a constructor &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Blah{
	public CLIService cliService;
	SessionHandle handle;
	public Blah(CLIService cliService){
		this.cliService = cliService;
		this.session = cliService.openSession(...);
	}
	public Blah(CLIService cliService, SessionHandle session){
		this.cliService = cliService;
		this.session = session;
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But that&apos;s not enough. Suppose the server had crashed. On restart, it&apos;ll create a new instance of CLIService, and as a side effect, a new Session Manager. (Remember, there is no involvement of HiveServer) The new session manager doesn&apos;t recognize the old session. Hence, two additions are necessary:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class SessionManager{
	...
	public SessionHandle restoreSession(...){
		...
	}
	...
}

public class CLIService{
	...
	public SessionHandle restoreSession(...){
		sessionManager.restoreSession(...)
	}
	...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so that Blah class can do this for completeness:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Blah{
	public CLIService cliService;
	SessionHandle handle;
	public Blah(CLIService cliService){
		this.cliService = cliService;
		this.session = cliService.openSession(...);
	}
	public Blah(CLIService cliService, SessionHandle session){
		this.cliService = cliService;		
		this.session = cliService.restoreSession(session, ...)
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The required additions(last but one) are the changes I&apos;ve posted in the review request and patch. &lt;/p&gt;

&lt;p&gt;To re-iterate, this is not a Hive Server feature, but just a feature in CLIService. CLIService needs a capability to restore a session.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Are we trying to restore a session that&apos;s lost? How does it get lost?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, JVM crash caused the session to get lost. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Where do we restore it from?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The user of CLIService restores it from whatever persistence it has, and asks CLIService to do necessary book keeping for restoring.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How does this benefits Hive users?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Don&apos;t know about Hive users per se, but the applications depending on hive &amp;#8211; in particular CLIService &amp;#8211; get the benefit of maintaining the same session on unexpected scenarios, whereas without this feature they&apos;ll have to do extensive bookkeeping for maintaining the list of session handles that were used while performing a sequence of operations. &lt;/p&gt;
</comment>
                            <comment id="15112367" author="prongs" created="Fri, 22 Jan 2016 12:26:42 +0000"  >&lt;p&gt;In future, this feature can be used to add session restore capabilities in Hive Server. If HIveServer can persist SessionHandle objects during restart, then it can very well restore them with some additional code. Will take that up in a follow up jira. &lt;/p&gt;</comment>
                            <comment id="15112940" author="hiveqa" created="Fri, 22 Jan 2016 19:36:42 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12783587/HIVE-12777.17.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12783587/HIVE-12777.17.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 9987 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6703/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6703/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6703/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6703/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6703/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6703/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12783587 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15114338" author="xuefuz" created="Sun, 24 Jan 2016 15:10:08 +0000"  >&lt;p&gt;Thanks for the explanation. Hive session has a large state. Once a session is opened, its state can be changed, such as configuration, delegation token, temp functions, added jars, etc. However, the implementation here is only restore the session handle (basically an identifier). Thus, I&apos;m in serious doubt of its usefulness. Clearly, restoreSession() should mean more than just that.&lt;/p&gt;</comment>
                            <comment id="15114805" author="prongs" created="Mon, 25 Jan 2016 06:02:17 +0000"  >&lt;p&gt;Agree with you on that. Maybe the name can be changed to `retrieveSessionHandle` or something. However, notice that the person who&apos;s trying to retrieve then handle, had persisted the handle. The same person can persist the jars, functions etc as and when required, so that they can be used at the time or restore. The full-fledged restore feature that I mentioned earlier will contain the steps you mention. This feature is just for the users of CLIService. &lt;/p&gt;</comment>
                            <comment id="15119153" author="amareshwari" created="Wed, 27 Jan 2016 12:28:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;, Posted some comments on review board. Also check if any of the failure reported by pre-commit build are related to the patch. Run them in master make sure.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, Agree with you : restoreSession on Hive Server crashes is more work and this jira is not doing that and It is doing a simple restore of the session handle. Let us know if you want any more to be added in this jira. This simple change would unblock us to move to hive master, and help move forward.&lt;/p&gt;</comment>
                            <comment id="15119335" author="xuefuz" created="Wed, 27 Jan 2016 14:46:50 +0000"  >&lt;p&gt;This is fine if all you want is to create a session with a given handle. However, please name it properly to avoid confusion, something like &quot;createSessionWithHandle()&quot;. Thanks.&lt;/p&gt;</comment>
                            <comment id="15119443" author="prongs" created="Wed, 27 Jan 2016 15:24:40 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I&apos;d planned to rename the function, but I think renaming function makes sense only if there&apos;s another function that&apos;s creating a session without session handle. Now, there&apos;s only one function for creating a session and it allows null argument. &lt;/p&gt;</comment>
                            <comment id="15119603" author="prongs" created="Wed, 27 Jan 2016 15:30:36 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15120921" author="hiveqa" created="Thu, 28 Jan 2016 07:12:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784660/HIVE-12777.18.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784660/HIVE-12777.18.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6774/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6774/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6774/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6774/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6774/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6774/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-6774/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 8c65c34 HIVE-12523 : display Hive query name in explain plan (Sergey Shelukhin, reviewed by Gunther Hagleitner)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 8c65c34 HIVE-12523 : display Hive query name in explain plan (Sergey Shelukhin, reviewed by Gunther Hagleitner)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784660 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15120927" author="prongs" created="Thu, 28 Jan 2016 07:18:57 +0000"  >&lt;p&gt;This is painful, master moves forward while the build is in queue. Then it&apos;s another day&apos;s wait before a build gets executed :/&lt;/p&gt;</comment>
                            <comment id="15120928" author="prongs" created="Thu, 28 Jan 2016 07:19:31 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15123132" author="prongs" created="Fri, 29 Jan 2016 07:24:33 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15123379" author="hiveqa" created="Fri, 29 Jan 2016 11:49:57 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12785113/HIVE-12777.21.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12785113/HIVE-12777.21.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10045 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6788/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6788/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6788/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6788/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6788/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6788/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12785113 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15123393" author="prongs" created="Fri, 29 Jan 2016 12:00:06 +0000"  >&lt;p&gt;Same tests failed in the build # 6787. seems to be an issue in hive master. &lt;/p&gt;</comment>
                            <comment id="15123413" author="amareshwari" created="Fri, 29 Jan 2016 12:16:39 +0000"  >&lt;p&gt;The patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12785113/HIVE-12777.21.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12785113/HIVE-12777.21.patch&lt;/a&gt; looks fine to me.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="15125757" author="amareshwari" created="Mon, 1 Feb 2016 04:58:13 +0000"  >&lt;p&gt;Committed. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15125917" author="lefty@hortonworks.com" created="Mon, 1 Feb 2016 08:13:15 +0000"  >&lt;p&gt;Does this need to be documented in the wiki?&lt;/p&gt;</comment>
                            <comment id="15125923" author="amareshwari" created="Mon, 1 Feb 2016 08:15:45 +0000"  >&lt;p&gt;Not required&lt;/p&gt;</comment>
                            <comment id="15125925" author="lefty@hortonworks.com" created="Mon, 1 Feb 2016 08:19:56 +0000"  >&lt;p&gt;Okay, thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12822938">LENS-518</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780678" name="HIVE-12777.04.patch" size="235930" author="prongs" created="Wed, 6 Jan 2016 06:53:17 +0000"/>
                            <attachment id="12781519" name="HIVE-12777.08.patch" size="179102" author="prongs" created="Mon, 11 Jan 2016 07:43:50 +0000"/>
                            <attachment id="12781536" name="HIVE-12777.09.patch" size="238021" author="prongs" created="Mon, 11 Jan 2016 10:23:15 +0000"/>
                            <attachment id="12781788" name="HIVE-12777.11.patch" size="237891" author="prongs" created="Tue, 12 Jan 2016 09:56:44 +0000"/>
                            <attachment id="12782037" name="HIVE-12777.12.patch" size="919367" author="prongs" created="Wed, 13 Jan 2016 11:29:00 +0000"/>
                            <attachment id="12782213" name="HIVE-12777.13.patch" size="921480" author="prongs" created="Thu, 14 Jan 2016 07:00:32 +0000"/>
                            <attachment id="12782843" name="HIVE-12777.15.patch" size="12897" author="prongs" created="Mon, 18 Jan 2016 09:49:35 +0000"/>
                            <attachment id="12782858" name="HIVE-12777.16.patch" size="13632" author="prongs" created="Mon, 18 Jan 2016 11:33:48 +0000"/>
                            <attachment id="12783587" name="HIVE-12777.17.patch" size="14041" author="prongs" created="Thu, 21 Jan 2016 13:40:54 +0000"/>
                            <attachment id="12784660" name="HIVE-12777.18.patch" size="2470810" author="prongs" created="Wed, 27 Jan 2016 15:30:34 +0000"/>
                            <attachment id="12784852" name="HIVE-12777.19.patch" size="14186" author="prongs" created="Thu, 28 Jan 2016 07:19:29 +0000"/>
                            <attachment id="12785113" name="HIVE-12777.21.patch" size="13472" author="prongs" created="Fri, 29 Jan 2016 07:24:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Jan 2016 20:02:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qsqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12778] Having with count distinct doesn&apos;t work for special combination</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12778</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is problem for combination of count(distinct ) in having clause without count(distinct ) in select clause. &lt;br/&gt;
First case returns error &lt;b&gt;FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10002&amp;#93;&lt;/span&gt;: Line Invalid column reference&lt;/b&gt; (unexpected)&lt;br/&gt;
If I add count(distinct ) to select clause result is ok (expected).&lt;/p&gt;

&lt;p&gt;Please run code to see it.&lt;br/&gt;
Steps to reproduce:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table table_subquery_having_problem (id &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, value &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
insert into table table_subquery_having_problem values (1,1);
insert into table table_subquery_having_problem values (1,2);
insert into table table_subquery_having_problem values (1,3);
insert into table table_subquery_having_problem values (1,4);
insert into table table_subquery_having_problem values (1,5);
insert into table table_subquery_having_problem values (1,6);
insert into table table_subquery_having_problem values (1,7);
insert into table table_subquery_having_problem values (1,8);
insert into table table_subquery_having_problem values (1,9);

select x.id from table_subquery_having_problem x
group by x.id
having count(distinct x.value)&amp;gt;1;  -- result is ERROR

select x.id, count(distinct x.value) from table_subquery_having_problem x
group by x.id
having count(distinct x.value)&amp;gt;1; --result is OK
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927237">HIVE-12778</key>
            <summary>Having with count distinct doesn&apos;t work for special combination</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brejcak@centrum.cz">Peter Brejcak</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 10:42:53 +0000</created>
                <updated>Thu, 2 Feb 2017 10:54:48 +0000</updated>
                                            <version>1.1.0</version>
                    <version>1.2.1</version>
                                                    <component>Hive</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15095390" author="taksaito" created="Wed, 13 Jan 2016 01:21:00 +0000"  >&lt;p&gt;I was able to reproduce with ver. 1.2.1 with the below stack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: SemanticException [Error 10002]: Line 3:22 Invalid column reference &apos;value&apos;
16/01/13 01:16:06 [main]: ERROR ql.Driver: FAILED: SemanticException [Error 10002]: Line 3:22 Invalid column reference &apos;value&apos;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 3:22 Invalid column reference &apos;value&apos;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanGroupByOperator1(SemanticAnalyzer.java:4492)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanMapAggrNoSkew(SemanticAnalyzer.java:5775)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:8883)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9743)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9636)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genOPTree(SemanticAnalyzer.java:10109)
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:329)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10120)
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:211)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:227)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:454)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:314)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1164)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1212)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1101)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1091)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:168)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:379)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:739)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:684)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:624)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15849782" author="swaranga" created="Thu, 2 Feb 2017 10:54:48 +0000"  >&lt;p&gt;Ping&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jan 2016 01:21:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qss7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12779] Buffer underflow when inserting data to table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12779</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I face a buffer underflow problem when inserting data to table from hive 1.1.0.&lt;/p&gt;

&lt;p&gt;the block size is 128 MB and the data size is only 10MB, but it gives me 891 mappers.&lt;/p&gt;

&lt;p&gt;Task with the most failures(4):&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Task ID:&lt;br/&gt;
  task_1451989578563_0001_m_000008&lt;/p&gt;

&lt;p&gt;URL:&lt;br/&gt;
  &lt;a href=&quot;http://0.0.0.0:8088/taskdetails.jsp?jobid=job_1451989578563_0001&amp;amp;tipid=task_1451989578563_0001_m_000008&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://0.0.0.0:8088/taskdetails.jsp?jobid=job_1451989578563_0001&amp;amp;tipid=task_1451989578563_0001_m_000008&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Diagnostic Messages for this Task:&lt;br/&gt;
Error: java.lang.RuntimeException: Failed to load plan: hdfs://tpe-nn-3-1:8020/tmp/hive/alec.tu/af798488-dbf5-45da-8adb-e4f2ddde1242/hive_2016-01-05_18-34-26_864_3947114301988950007-1/-mr-10004/bb86c923-0dca-43cd-aa5d-ef575d764e06/map.xml: org.apache.hive.com.esotericsoftware.kryo.KryoException: Buffer underflow.&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.getBaseWork(Utilities.java:450)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.getMapWork(Utilities.java:296)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.init(HiveInputFormat.java:268)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:234)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getRecordReader(CombineHiveInputFormat.java:701)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.&amp;lt;init&amp;gt;(MapTask.java:169)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:432)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)&lt;br/&gt;
        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)&lt;br/&gt;
        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)&lt;br/&gt;
Caused by: org.apache.hive.com.esotericsoftware.kryo.KryoException: Buffer underflow.&lt;br/&gt;
        at org.apache.hive.com.esotericsoftware.kryo.io.Input.require(Input.java:181)&lt;br/&gt;
        at org.apache.hive.com.esotericsoftware.kryo.io.Input.readBoolean(Input.java:783)&lt;br/&gt;
        at org.apache.hive.com.esotericsoftware.kryo.serializers.UnsafeCacheFields$UnsafeBooleanField.read(UnsafeCacheFields.java:120)&lt;br/&gt;
        at org.apache.hive.com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:507)&lt;br/&gt;
        at org.apache.hive.com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:672)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.deserializeObjectByKryo(Utilities.java:1069)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.deserializePlan(Utilities.java:960)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.deserializePlan(Utilities.java:974)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.getBaseWork(Utilities.java:416)&lt;br/&gt;
        ... 12 more&lt;/p&gt;

&lt;p&gt;Container killed by the ApplicationMaster.&lt;br/&gt;
Container killed on request. Exit code is 143&lt;br/&gt;
Container exited with a non-zero exit code 143&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CDH 5.4.9&lt;/p&gt;</environment>
        <key id="12927238">HIVE-12779</key>
            <summary>Buffer underflow when inserting data to table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alec.tu">Ming Hsuan Tu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 10:46:15 +0000</created>
                <updated>Tue, 31 May 2016 11:10:39 +0000</updated>
                                                                            <component>Database/Schema</component>
                    <component>SQL</component>
                        <due>Sun, 31 Jan 2016 00:00:00 +0000</due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15204052" author="alina.abramova" created="Mon, 21 Mar 2016 11:22:49 +0000"  >&lt;p&gt;I investigated this issue and see that this bug appears randomly and for me only in case concurrently running jobs in Hive which address to the same table. I ran two queries in two beelines and about one of thirty attempts finished with this exception. After investigating issues with kryo&apos;s serializer I found that this exception appears in few cases:&lt;br/&gt;
1) Kryo is used in multithreading env. But I see that in Hive kryo created as thread local variable and this case is excluded, I think&lt;br/&gt;
2) Two Input uses the same buffer. As example&lt;br/&gt;
Input inp1 = new Input(buff);&lt;br/&gt;
Input inp2 = new Input(buff);&lt;br/&gt;
For me suspected causes cases when Hive receives the stream to read from FileSystem, maybe two threads use the one path for reading a plan, but, in theory, it is excluded, because jobs can not have the one plan with one path.&lt;br/&gt;
3) When output stream was not closed after serialization, but I did not found such incidents in Hive&apos;s code after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8688&quot; title=&quot;serialized plan OutputStream is not being closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8688&quot;&gt;&lt;del&gt;HIVE-8688&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Maybe reporter could give more information about the query for finding 100% reproducable case.&lt;/p&gt;</comment>
                            <comment id="15296115" author="osayankin" created="Mon, 23 May 2016 08:52:54 +0000"  >&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;STEP 1. Create tables temp.test with over 1 000 000 of rows&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Create test file test.csv with 1 000 000 lines of random test data of according types to table.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;STEP 2. Create folders in hdfs&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sudo -u mapr hadoop fs -mkdir /temp
sudo -u mapr hadoop fs -mkdir /temp/step5
sudo -u mapr hadoop fs -mkdir /temp/step6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;STEP 3 Create test table and upload data&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE temp.test 
(id INT, a1 BIGINT, a2 BIGINT, b1 BOOLEAN, b2 BOOLEAN,
c1 DECIMAL(10,5), c2 DECIMAL(10,5), d1 DOUBLE, d2 DOUBLE, e1 FLOAT,
e2 FLOAT, f1 INT, f2 INT, g1 SMALLINT, g2 SMALLINT,
h1 STRING, h2 STRING, i1 TIMESTAMP, i2 TIMESTAMP, j1 TINYINT,
j2 TINYINT, k1 CHAR(22), k2 CHAR(22), l1 VARCHAR(22), l2 VARCHAR(22))
ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hadoop fs -put ~/test.csv /user/hive/warehouse/temp.db/test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;STEP 4. Create tables temp.step5 and temp.step6 using queries below&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE temp.step5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Create External Table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not exists temp.step5 (
trans_num decimal(10,5),
store_num bigint,
quantity &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
net_price &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
weight &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
operating_company string,
banner string,
product_id_hormel_rev3 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
exposed_flag &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
tm_dim_key_week bigint,
experian_id bigint,
units &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
cents &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
baseline_units &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
baseline_cents &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
coupon &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
feature &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
display &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
totl_prc_reduc &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
feature_or_display &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
any_promo &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
coupon_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
feature_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
display_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
price_reduction_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
feature_or_display_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
any_promo_occasions &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
coupon_dollars &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
coupon_units &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
period &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
estimated_hh_income string,
state string,
county_code string,
latitude string,
longitude string,
cape_age_pop_pct_0_17 string,
cape_age_pop_pct_65_99_plus string,
cape_age_pop_pct_18_99_plus string,
cape_age_pop_median_age string,
cape_ethnic_pop_pct_white_only string,
cape_ethnic_pop_pct_black_only string,
cape_ethnic_pop_pct_asian_only string,
cape_ethnic_pop_pct_hispanic string,
cape_child_hh_pct_with_persons_lt18 string,
cape_child_hh_pct_marr_couple_famwith_persons_lt18 string,
cape_typ_hh_pct_married_couple_family string,
cape_tenancy_occhu_pct_owner_occupied string,
cape_tenancy_occhu_pct_renter_occupied string,
cape_hhsize_hh_average_household_size string,
cape_density_persons_per_hh_for_pop_in_hh string,
cape_homval_oohu_median_home_value string,
cape_hustr_hu_pct_mobile_home string,
cape_built_hu_median_housing_unit_age string,
cape_lang_hh_pct_spanish_speaking string,
cape_educ_pop25_plus_median_education_attained string,
cape_inc_hh_median_family_household_income string,
cape_educ_ispsa_decile string,
cape_inc_family_inc_state_decile string,
census_rural_urban_county_size_code string,
core_based_statistical_areas string,
person_1_birth_year_and_month string,
person_1_combined_age string,
person_1_gender string,
person_1_marital_status string,
recipient_reliability_code string,
household_composition string,
person_1_person_type string,
homeowner_combined_homeowner string,
homeowner_probability_model string,
dwelling_type string,
length_of_residence string,
dwelling_unit_size string,
number_of_children_in_living_unit string,
number_of_adults_in_living_unit string,
number_of_person_in_living_unit string,
mail_responder string,
mosaic_hh string)
ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt; LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;/temp/step5&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE temp.step6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Create External Table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not exists temp.step6
(
experian_id bigint,                                  
exposed_flag &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,                                   
banner STRING,                                        
Product_0_Quantity_PRE STRING,                        
Product_1_Quantity_PRE STRING,                       
Product_2_Quantity_PRE STRING,                       
Product_3_Quantity_PRE STRING,                       
Product_4_Quantity_PRE STRING,                       
Product_5_Quantity_PRE STRING,                       
Product_6_Quantity_PRE STRING,                       
Product_7_Quantity_PRE STRING,  
Product_8_Quantity_PRE STRING,              
Product_0_Quantity_POS STRING,

Product_1_Quantity_POS STRING,                       
Product_2_Quantity_POS STRING,                       
Product_3_Quantity_POS STRING,                       
Product_4_Quantity_POS STRING,                       
Product_5_Quantity_POS STRING,                       
Product_6_Quantity_POS STRING,                       
Product_7_Quantity_POS STRING,   
Product_8_Quantity_POS STRING,

Product_0_Net_Price_PRE STRING ,                      
Product_1_Net_Price_PRE STRING ,                      
Product_2_Net_Price_PRE STRING ,                      
Product_3_Net_Price_PRE STRING ,                      
Product_4_Net_Price_PRE STRING ,                      
Product_5_Net_Price_PRE STRING ,                      
Product_6_Net_Price_PRE STRING ,                      
Product_7_Net_Price_PRE STRING ,                      
Product_8_Net_Price_PRE STRING ,

Product_0_Net_Price_POS STRING ,                      
Product_1_Net_Price_POS STRING ,                      
Product_2_Net_Price_POS STRING ,                      
Product_3_Net_Price_POS STRING ,                      
Product_4_Net_Price_POS STRING ,                      
Product_5_Net_Price_POS STRING ,                      
Product_6_Net_Price_POS STRING ,                      
Product_7_Net_Price_POS STRING ,                      
Product_8_Net_Price_POS STRING ,

Coupon_Units_PRE_P0 STRING ,                          
Coupon_Units_PRE_P1 STRING ,                          
Coupon_Units_PRE_P2 STRING ,                          
Coupon_Units_PRE_P3 STRING ,                          
Coupon_Units_PRE_P4 STRING ,                          
Coupon_Units_PRE_P5 STRING ,                          
Coupon_Units_PRE_P6 STRING ,                          
Coupon_Units_PRE_P7 STRING ,  
Coupon_Units_PRE_P8 STRING ,         

Coupon_Units_POS_P0 STRING ,                          
Coupon_Units_POS_P1 STRING ,                          
Coupon_Units_POS_P2 STRING ,                          
Coupon_Units_POS_P3 STRING ,                          
Coupon_Units_POS_P4 STRING ,                          
Coupon_Units_POS_P5 STRING ,                          
Coupon_Units_POS_P6 STRING ,                          
Coupon_Units_POS_P7 STRING ,                          
Coupon_Units_POS_P8 STRING ,

Coupon_Dollars_PRE_P0   STRING ,                      
Coupon_Dollars_PRE_P1   STRING ,                      
Coupon_Dollars_PRE_P2   STRING ,                      
Coupon_Dollars_PRE_P3   STRING ,                      
Coupon_Dollars_PRE_P4   STRING ,                      
Coupon_Dollars_PRE_P5   STRING ,                      
Coupon_Dollars_PRE_P6   STRING ,                      
Coupon_Dollars_PRE_P7   STRING ,
Coupon_Dollars_PRE_P8   STRING ,                     

Coupon_Dollars_POS_P0   STRING ,                      
Coupon_Dollars_POS_P1   STRING ,                      
Coupon_Dollars_POS_P2   STRING ,                      
Coupon_Dollars_POS_P3   STRING ,                      
Coupon_Dollars_POS_P4   STRING ,                      
Coupon_Dollars_POS_P5   STRING ,                      
Coupon_Dollars_POS_P6   STRING ,                      
Coupon_Dollars_POS_P7   STRING ,
Coupon_Dollars_POS_P8   STRING ,                      

Dollars_per_Trip_PRE_P0   STRING ,                    
Dollars_per_Trip_PRE_P1   STRING ,                    
Dollars_per_Trip_PRE_P2   STRING ,                    
Dollars_per_Trip_PRE_P3   STRING ,                    
Dollars_per_Trip_PRE_P4   STRING ,                    
Dollars_per_Trip_PRE_P5   STRING ,                    
Dollars_per_Trip_PRE_P6   STRING ,                    
Dollars_per_Trip_PRE_P7   STRING ,
Dollars_per_Trip_PRE_P8   STRING ,                    

Dollars_per_Trip_POS_P0   STRING ,                    
Dollars_per_Trip_POS_P1   STRING ,                    
Dollars_per_Trip_POS_P2   STRING ,                    
Dollars_per_Trip_POS_P3   STRING ,                    
Dollars_per_Trip_POS_P4   STRING ,                    
Dollars_per_Trip_POS_P5   STRING ,                    
Dollars_per_Trip_POS_P6   STRING ,                    
Dollars_per_Trip_POS_P7   STRING ,   
Dollars_per_Trip_POS_P8   STRING ,                  

Units_per_Trip_PRE_P0    STRING ,                     
Units_per_Trip_PRE_P1    STRING ,                     
Units_per_Trip_PRE_P2    STRING ,                     
Units_per_Trip_PRE_P3    STRING ,                     
Units_per_Trip_PRE_P4    STRING ,                     
Units_per_Trip_PRE_P5    STRING ,                     
Units_per_Trip_PRE_P6    STRING ,                     
Units_per_Trip_PRE_P7    STRING ,  
Units_per_Trip_PRE_P8    STRING ,                   

Units_per_Trip_POS_P0    STRING ,                     
Units_per_Trip_POS_P1    STRING ,                     
Units_per_Trip_POS_P2    STRING ,                     
Units_per_Trip_POS_P3    STRING ,                     
Units_per_Trip_POS_P4    STRING ,                     
Units_per_Trip_POS_P5    STRING ,                     
Units_per_Trip_POS_P6    STRING ,                     
Units_per_Trip_POS_P7    STRING ,                     
Units_per_Trip_POS_P8    STRING ,

Trips_PRE_P0 STRING ,                                 
Trips_PRE_P1 STRING ,                                 
Trips_PRE_P2 STRING ,                                 
Trips_PRE_P3 STRING ,                                 
Trips_PRE_P4 STRING ,                                 
Trips_PRE_P5 STRING ,                                 
Trips_PRE_P6 STRING ,                                 
Trips_PRE_P7 STRING ,   
Trips_PRE_P8 STRING ,                              

Trips_POS_P0 STRING ,                                 
Trips_POS_P1 STRING ,                                 
Trips_POS_P2 STRING ,                                 
Trips_POS_P3 STRING ,                                 
Trips_POS_P4 STRING ,                                 
Trips_POS_P5 STRING ,                                 
Trips_POS_P6 STRING ,                                 
Trips_POS_P7 STRING ,                                 
Trips_POS_P8 STRING ,

Coupon_Dollars_per_Trip_Diff_PRE_POS_P1 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P2 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P3 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P4 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P5 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P6 STRING,      
Coupon_Dollars_per_Trip_Diff_PRE_POS_P7 STRING,  
Coupon_Dollars_per_Trip_Diff_PRE_POS_P8 STRING,  

Perc_Coupon_Dollars_P0_PRE  STRING ,                  
Perc_Coupon_Dollars_P1_PRE  STRING ,                  
Perc_Coupon_Dollars_P2_PRE  STRING ,                  
Perc_Coupon_Dollars_P3_PRE  STRING ,                  
Perc_Coupon_Dollars_P4_PRE  STRING ,                  
Perc_Coupon_Dollars_P5_PRE  STRING ,                  
Perc_Coupon_Dollars_P6_PRE  STRING ,                  
Perc_Coupon_Dollars_P7_PRE  STRING ,                  
Perc_Coupon_Dollars_P8_PRE  STRING ,

Perc_Coupon_Dollars_P0_POS  STRING ,                  
Perc_Coupon_Dollars_P1_POS  STRING ,                  
Perc_Coupon_Dollars_P2_POS  STRING ,                  
Perc_Coupon_Dollars_P3_POS  STRING ,                  
Perc_Coupon_Dollars_P4_POS  STRING ,                  
Perc_Coupon_Dollars_P5_POS  STRING ,                  
Perc_Coupon_Dollars_P6_POS  STRING ,                  
Perc_Coupon_Dollars_P7_POS  STRING ,   
Perc_Coupon_Dollars_P8_POS  STRING ,                

Coupon_Units_per_Trip_Diff_PRE_POS_P0   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P1   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P2   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P3   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P4   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P5   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P6   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P7   STRING,      
Coupon_Units_per_Trip_Diff_PRE_POS_P8   STRING,

Perc_Coupon_Units_P0_PRE  STRING ,                    
Perc_Coupon_Units_P1_PRE  STRING ,                    
Perc_Coupon_Units_P2_PRE  STRING ,                    
Perc_Coupon_Units_P3_PRE  STRING ,                    
Perc_Coupon_Units_P4_PRE  STRING ,                    
Perc_Coupon_Units_P5_PRE  STRING ,                    
Perc_Coupon_Units_P6_PRE  STRING ,                    
Perc_Coupon_Units_P7_PRE  STRING ,    
Perc_Coupon_Units_P8_PRE  STRING ,                

Perc_Coupon_Units_P0_POS  STRING ,                    
Perc_Coupon_Units_P1_POS  STRING ,                    
Perc_Coupon_Units_P2_POS  STRING ,                    
Perc_Coupon_Units_P3_POS  STRING ,                    
Perc_Coupon_Units_P4_POS  STRING ,                    
Perc_Coupon_Units_P5_POS  STRING ,                    
Perc_Coupon_Units_P6_POS  STRING ,                    
Perc_Coupon_Units_P7_POS  STRING ,  
Perc_Coupon_Units_P8_POS  STRING ,                  

Coupon_Trips_Share_Diff_PRE_POS_P0 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P1 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P2 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P3 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P4 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P5 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P6 STRING,           
Coupon_Trips_Share_Diff_PRE_POS_P7 STRING,  
Coupon_Trips_Share_Diff_PRE_POS_P8 STRING,          

Perc_Coupon_Trips__P0_PRE  STRING ,                 
Perc_Coupon_Trips__P1_PRE  STRING ,                 
Perc_Coupon_Trips__P2_PRE  STRING ,                 
Perc_Coupon_Trips__P3_PRE  STRING ,                 
Perc_Coupon_Trips__P4_PRE  STRING ,                 
Perc_Coupon_Trips__P5_PRE  STRING ,                 
Perc_Coupon_Trips__P6_PRE  STRING ,                 
Perc_Coupon_Trips__P7_PRE  STRING ,  
Perc_Coupon_Trips__P8_PRE  STRING ,               

Perc_Coupon_Trips__P0_POS  STRING ,                 
Perc_Coupon_Trips__P1_POS  STRING ,                 
Perc_Coupon_Trips__P2_POS  STRING ,                 
Perc_Coupon_Trips__P3_POS  STRING ,                 
Perc_Coupon_Trips__P4_POS  STRING ,                 
Perc_Coupon_Trips__P5_POS  STRING ,                 
Perc_Coupon_Trips__P6_POS  STRING ,                 
Perc_Coupon_Trips__P7_POS  STRING ,   
Perc_Coupon_Trips__P8_POS  STRING ,               

Feature_Trips_Share_Diff_PRE_POS_P0  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P1  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P2  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P3  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P4  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P5  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P6  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P7  STRING,         
Feature_Trips_Share_Diff_PRE_POS_P8  STRING,

Perc_Feature_Trips_P0_PRE    STRING ,                 
Perc_Feature_Trips_P1_PRE    STRING ,                 
Perc_Feature_Trips_P2_PRE    STRING ,                 
Perc_Feature_Trips_P3_PRE    STRING ,                 
Perc_Feature_Trips_P4_PRE    STRING ,                 
Perc_Feature_Trips_P5_PRE    STRING ,                 
Perc_Feature_Trips_P6_PRE    STRING ,                 
Perc_Feature_Trips_P7_PRE     STRING ,   
Perc_Feature_Trips_P8_PRE     STRING ,                

Perc_Feature_Trips_P0_POS    STRING ,                 
Perc_Feature_Trips_P1_POS    STRING ,                 
Perc_Feature_Trips_P2_POS    STRING ,                 
Perc_Feature_Trips_P3_POS    STRING ,                 
Perc_Feature_Trips_P4_POS    STRING ,                 
Perc_Feature_Trips_P5_POS    STRING ,                 
Perc_Feature_Trips_P6_POS    STRING ,                 
Perc_Feature_Trips_P7_POS    STRING ,  
Perc_Feature_Trips_P8_POS    STRING ,                

Display_Trips_Share_Diff_PRE_POS_P0  STRING,         
Display_Trips_Share_Diff_PRE_POS_P1  STRING,         
Display_Trips_Share_Diff_PRE_POS_P2  STRING,         
Display_Trips_Share_Diff_PRE_POS_P3  STRING,         
Display_Trips_Share_Diff_PRE_POS_P4  STRING,         
Display_Trips_Share_Diff_PRE_POS_P5  STRING,         
Display_Trips_Share_Diff_PRE_POS_P6  STRING,         
Display_Trips_Share_Diff_PRE_POS_P7  STRING,  
Display_Trips_Share_Diff_PRE_POS_P8  STRING,        

Perc_Display_Trips_P0_PRE  STRING ,                   
Perc_Display_Trips_P1_PRE  STRING ,                   
Perc_Display_Trips_P2_PRE  STRING ,                   
Perc_Display_Trips_P3_PRE  STRING ,                   
Perc_Display_Trips_P4_PRE  STRING ,                   
Perc_Display_Trips_P5_PRE  STRING ,                   
Perc_Display_Trips_P6_PRE  STRING ,                   
Perc_Display_Trips_P7_PRE  STRING ,                   
Perc_Display_Trips_P8_PRE  STRING ,

Perc_Display_Trips_P0_POS  STRING ,                   
Perc_Display_Trips_P1_POS  STRING ,                   
Perc_Display_Trips_P2_POS  STRING ,                   
Perc_Display_Trips_P3_POS  STRING ,                   
Perc_Display_Trips_P4_POS  STRING ,                   
Perc_Display_Trips_P5_POS  STRING ,                   
Perc_Display_Trips_P6_POS  STRING ,                   
Perc_Display_Trips_P7_POS  STRING ,                   
Perc_Display_Trips_P8_POS  STRING ,

Feature_or_display_Trips_Share_Diff_PRE_POS_P0 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P1 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P2 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P3 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P4 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P5 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P6 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P7 STRING,
Feature_or_display_Trips_Share_Diff_PRE_POS_P8 STRING,

Perc_Feature_or_Display_Trips_P0_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P1_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P2_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P3_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P4_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P5_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P6_PRE  STRING ,        
Perc_Feature_or_Display_Trips_P7_PRE  STRING ,      
Perc_Feature_or_Display_Trips_P8_PRE  STRING ,   

Perc_Feature_or_Display_Trips_P0_POS  STRING ,        
Perc_Feature_or_Display_Trips_P1_POS  STRING ,        
Perc_Feature_or_Display_Trips_P2_POS  STRING ,        
Perc_Feature_or_Display_Trips_P3_POS  STRING ,        
Perc_Feature_or_Display_Trips_P4_POS  STRING ,        
Perc_Feature_or_Display_Trips_P5_POS  STRING ,        
Perc_Feature_or_Display_Trips_P6_POS  STRING ,        
Perc_Feature_or_Display_Trips_P7_POS  STRING ,        
Perc_Feature_or_Display_Trips_P8_POS  STRING ,     

Any_promo_Trips_Share_Diff_PRE_POS_P0  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P1  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P2  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P3  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P4  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P5  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P6  STRING,       
Any_promo_Trips_Share_Diff_PRE_POS_P7  STRING,
Any_promo_Trips_Share_Diff_PRE_POS_P8  STRING,       

Perc_Any_Promo_Trips_P0_PRE   STRING ,                
Perc_Any_Promo_Trips_P1_PRE   STRING ,                
Perc_Any_Promo_Trips_P2_PRE   STRING ,                
Perc_Any_Promo_Trips_P3_PRE   STRING ,                
Perc_Any_Promo_Trips_P4_PRE   STRING ,                
Perc_Any_Promo_Trips_P5_PRE   STRING ,                
Perc_Any_Promo_Trips_P6_PRE   STRING ,                
Perc_Any_Promo_Trips_P7_PRE   STRING ,    

Perc_Any_Promo_Trips_P0_POS   STRING ,                
Perc_Any_Promo_Trips_P1_POS   STRING ,                
Perc_Any_Promo_Trips_P2_POS   STRING ,                
Perc_Any_Promo_Trips_P3_POS   STRING ,                
Perc_Any_Promo_Trips_P4_POS   STRING ,                
Perc_Any_Promo_Trips_P5_POS   STRING ,                
Perc_Any_Promo_Trips_P6_POS   STRING ,                
Perc_Any_Promo_Trips_P7_POS   STRING ,
Perc_Any_Promo_Trips_P8_POS   STRING ,               

Price_reduction_Trips_Share_Diff_PRE_POS_P0 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P1 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P2 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P3 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P4 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P5 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P6 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P7 STRING,  
Price_reduction_Trips_Share_Diff_PRE_POS_P8 STRING,

Perc_Price_Reduction_Trips_P0_PRE    STRING ,         
Perc_Price_Reduction_Trips_P1_PRE    STRING ,         
Perc_Price_Reduction_Trips_P2_PRE    STRING ,         
Perc_Price_Reduction_Trips_P3_PRE    STRING ,         
Perc_Price_Reduction_Trips_P4_PRE    STRING ,         
Perc_Price_Reduction_Trips_P5_PRE    STRING ,         
Perc_Price_Reduction_Trips_P6_PRE    STRING ,         
Perc_Price_Reduction_Trips_P7_PRE    STRING ,  
Perc_Price_Reduction_Trips_P8_PRE    STRING ,       

Perc_Price_Reduction_Trips_P0_POS    STRING ,         
Perc_Price_Reduction_Trips_P1_POS    STRING ,         
Perc_Price_Reduction_Trips_P2_POS    STRING ,         
Perc_Price_Reduction_Trips_P3_POS    STRING ,         
Perc_Price_Reduction_Trips_P4_POS    STRING ,         
Perc_Price_Reduction_Trips_P5_POS    STRING ,         
Perc_Price_Reduction_Trips_P6_POS    STRING ,         
Perc_Price_Reduction_Trips_P7_POS    STRING ,      
Perc_Price_Reduction_Trips_P8_POS    STRING ,     

Price_per_Unit_Diff_PRE_POS_P0 STRING,               
Price_per_unit_Diff_PRE_POS_P1 STRING,               
Price_per_unit_Diff_PRE_POS_P2 STRING,               
Price_per_unit_Diff_PRE_POS_P3 STRING,               
Price_per_unit_Diff_PRE_POS_P4 STRING,               
Price_per_unit_Diff_PRE_POS_P5 STRING,               
Price_per_unit_Diff_PRE_POS_P6 STRING,               
Price_per_unit_Diff_PRE_POS_P7 STRING,               
Price_per_unit_Diff_PRE_POS_P8 STRING,

Price_per_Unit_P0_PRE   STRING ,                      
Price_per_Unit_P1_PRE   STRING ,                      
Price_per_Unit_P2_PRE   STRING ,                      
Price_per_Unit_P3_PRE   STRING ,                      
Price_per_Unit_P4_PRE   STRING ,                      
Price_per_Unit_P5_PRE   STRING ,                      
Price_per_Unit_P6_PRE   STRING ,                      
Price_per_Unit_P7_PRE   STRING ,                      
Price_per_Unit_P8_PRE   STRING ,

Price_per_Unit_P0_POS   STRING ,                      
Price_per_Unit_P1_POS   STRING ,                      
Price_per_Unit_P2_POS   STRING ,                      
Price_per_Unit_P3_POS   STRING ,                      
Price_per_Unit_P4_POS   STRING ,                      
Price_per_Unit_P5_POS   STRING ,                      
Price_per_Unit_P6_POS   STRING ,                      
Price_per_Unit_P7_POS   STRING ,      
Price_per_Unit_P8_POS   STRING ,

Buyer_Pre_P0 STRING,                
Buyer_Pre_P1 STRING,
Buyer_Pre_P2 STRING,
Buyer_Pre_P3 STRING,
Buyer_Pre_P4 STRING,
Buyer_Pre_P5 STRING,
Buyer_Pre_P6 STRING,
Buyer_Pre_P7 STRING,
Buyer_Pre_P8 STRING,

Nonbuyer_Pre_P0 STRING,
Nonbuyer_Pre_P1 STRING,
Nonbuyer_Pre_P2 STRING,
Nonbuyer_Pre_P3 STRING,
Nonbuyer_Pre_P4 STRING,
Nonbuyer_Pre_P5 STRING,
Nonbuyer_Pre_P6 STRING,
Nonbuyer_Pre_P7 STRING,
Nonbuyer_Pre_P8 STRING,

Buyer_Pos_P0 STRING,
Buyer_Pos_P1 STRING,
Buyer_Pos_P2 STRING,
Buyer_Pos_P3 STRING,
Buyer_Pos_P4 STRING,
Buyer_Pos_P5 STRING,
Buyer_Pos_P6 STRING,
Buyer_Pos_P7 STRING,
Buyer_Pos_P8 STRING,

Nonbuyer_Pos_P0 STRING,
Nonbuyer_Pos_P1 STRING,
Nonbuyer_Pos_P2 STRING,
Nonbuyer_Pos_P3 STRING,
Nonbuyer_Pos_P4 STRING,
Nonbuyer_Pos_P5 STRING,
Nonbuyer_Pos_P6 STRING,
Nonbuyer_Pos_P7 STRING,
Nonbuyer_Pos_P8 STRING,

estimated_hh_income string,
state string,
county_code string,
latitude string,
longitude string,
cape_age_pop_pct_0_17 string,
cape_age_pop_pct_65_99_plus string,
cape_age_pop_pct_18_99_plus string,
cape_age_pop_median_age string,
cape_ethnic_pop_pct_white_only string,
cape_ethnic_pop_pct_black_only string,
cape_ethnic_pop_pct_asian_only string,
cape_ethnic_pop_pct_hispanic string,
cape_child_hh_pct_with_persons_lt18 string,
cape_child_hh_pct_marr_couple_famwith_persons_lt18 string,
cape_typ_hh_pct_married_couple_family string,
cape_tenancy_occhu_pct_owner_occupied string,
cape_tenancy_occhu_pct_renter_occupied string,
cape_hhsize_hh_average_household_size string,
cape_density_persons_per_hh_for_pop_in_hh string,
cape_homval_oohu_median_home_value string,
cape_hustr_hu_pct_mobile_home string,
cape_built_hu_median_housing_unit_age string,
cape_lang_hh_pct_spanish_speaking string,
cape_educ_pop25_plus_median_education_attained string,
cape_inc_hh_median_family_household_income string,
cape_educ_ispsa_decile string,
cape_inc_family_inc_state_decile string,
census_rural_urban_county_size_code string,
core_based_statistical_areas string,
person_1_birth_year_and_month string,
person_1_combined_age string,
person_1_gender string,
person_1_marital_status string,
recipient_reliability_code string,
household_composition string,
person_1_person_type string,
homeowner_combined_homeowner string,
homeowner_probability_model string,
dwelling_type string,
length_of_residence string,
dwelling_unit_size string,
number_of_children_in_living_unit string,
number_of_adults_in_living_unit string,
number_of_person_in_living_unit string,
mail_responder string,
mosaic_hh string
)
ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt; LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;/temp/step6&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;STEP 5. Insert data to table temp.step6&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INSERT OVERWRITE TABLE temp.step5 SELECT 
c2,a2,d2,d2,d2,h2,h2,f2,f2,a2,id,f2,f2,d2,d2,f2,f2,f2,f2,f2,f2,f2,f2,f2,f2,f2,
f2,d2,f2,f2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,
h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2
FROM temp.test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;STEP 6. Run query in hive shell&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Insert Overwrite Table temp.step6
SELECT
experian_id,max(exposed_flag) as exposed_flag,banner,

sum(CASE WHEN product_id_Hormel_REV3=0 and PERIOD=1 THEN Quantity END) as Product_0_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=1 and PERIOD=1 THEN Quantity END) as Product_1_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=2 and PERIOD=1 THEN Quantity END) as Product_2_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=3 and PERIOD=1 THEN Quantity END) as Product_3_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=4 and PERIOD=1 THEN Quantity END) as Product_4_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=5 and PERIOD=1 THEN Quantity END) as Product_5_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=6 and PERIOD=1 THEN Quantity END) as Product_6_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=7 and PERIOD=1 THEN Quantity END) as Product_7_Quantity_PRE,
sum(CASE WHEN product_id_Hormel_REV3=8 and PERIOD=1 THEN Quantity END) as Product_8_Quantity_PRE,

sum(CASE WHEN product_id_Hormel_REV3=0 and PERIOD=2 THEN Quantity END) as Product_0_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=1 and PERIOD=2 THEN Quantity END) as Product_1_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=2 and PERIOD=2 THEN Quantity END) as Product_2_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=3 and PERIOD=2 THEN Quantity END) as Product_3_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=4 and PERIOD=2 THEN Quantity END) as Product_4_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=5 and PERIOD=2 THEN Quantity END) as Product_5_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=6 and PERIOD=2 THEN Quantity END) as Product_6_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=7 and PERIOD=2 THEN Quantity END) as Product_7_Quantity_POS,
sum(CASE WHEN product_id_Hormel_REV3=8 and PERIOD=2 THEN Quantity END) as Product_8_Quantity_POS,

sum(CASE WHEN product_id_Hormel_REV3=0 and PERIOD=1 THEN Net_Price END) as Product_0_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=1 and PERIOD=1 THEN Net_Price END) as Product_1_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=2 and PERIOD=1 THEN Net_Price END) as Product_2_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=3 and PERIOD=1 THEN Net_Price END) as Product_3_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=4 and PERIOD=1 THEN Net_Price END) as Product_4_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=5 and PERIOD=1 THEN Net_Price END) as Product_5_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=6 and PERIOD=1 THEN Net_Price END) as Product_6_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=7 and PERIOD=1 THEN Net_Price END) as Product_7_Net_Price_PRE,
sum(CASE WHEN product_id_Hormel_REV3=8 and PERIOD=1 THEN Net_Price END) as Product_8_Net_Price_PRE,

sum(CASE WHEN product_id_Hormel_REV3=0 and PERIOD=2 THEN Net_Price END) as Product_0_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=1 and PERIOD=2 THEN Net_Price END) as Product_1_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=2 and PERIOD=2 THEN Net_Price END) as Product_2_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=3 and PERIOD=2 THEN Net_Price END) as Product_3_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=4 and PERIOD=2 THEN Net_Price END) as Product_4_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=5 and PERIOD=2 THEN Net_Price END) as Product_5_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=6 and PERIOD=2 THEN Net_Price END) as Product_6_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=7 and PERIOD=2 THEN Net_Price END) as Product_7_Net_Price_POS,
sum(CASE WHEN product_id_Hormel_REV3=8 and PERIOD=2 THEN Net_Price END) as Product_8_Net_Price_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Coupon_Units END) as Coupon_Units_PRE_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Units END) as Coupon_Units_PRE_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Units END) as Coupon_Units_PRE_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Units END) as Coupon_Units_PRE_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Units END) as Coupon_Units_PRE_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Units END) as Coupon_Units_PRE_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Units END) as Coupon_Units_PRE_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Units END) as Coupon_Units_PRE_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Units END) as Coupon_Units_PRE_P8,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Coupon_Units END) as Coupon_Units_POS_P0,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Units END) as Coupon_Units_POS_P1,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Units END) as Coupon_Units_POS_P2,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Units END) as Coupon_Units_POS_P3,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Units END) as Coupon_Units_POS_P4,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Units END) as Coupon_Units_POS_P5,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Units END) as Coupon_Units_POS_P6,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Units END) as Coupon_Units_POS_P7,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Units END) as Coupon_Units_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END) as Coupon_Dollars_PRE_P8,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P0,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P1,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P2,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P3,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P4,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P5,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P6,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P7,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END) as Coupon_Dollars_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Dollars_per_Trip_PRE_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Dollars_per_Trip_PRE_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Dollars_per_Trip_PRE_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Dollars_per_Trip_PRE_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Dollars_per_Trip_PRE_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Dollars_per_Trip_PRE_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Dollars_per_Trip_PRE_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Dollars_per_Trip_PRE_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Dollars_per_Trip_PRE_P8,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Dollars_per_Trip_POS_P0,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Dollars_per_Trip_POS_P1,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Dollars_per_Trip_POS_P2,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Dollars_per_Trip_POS_P3,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Dollars_per_Trip_POS_P4,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Dollars_per_Trip_POS_P5,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Dollars_per_Trip_POS_P6,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Dollars_per_Trip_POS_P7,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Dollars_per_Trip_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Units_per_Trip_PRE_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Units_per_Trip_PRE_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Units_per_Trip_PRE_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Units_per_Trip_PRE_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Units_per_Trip_PRE_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Units_per_Trip_PRE_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Units_per_Trip_PRE_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Units_per_Trip_PRE_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Quantity END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Units_per_Trip_PRE_P8,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Units_per_Trip_POS_P0,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Units_per_Trip_POS_P1,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Units_per_Trip_POS_P2,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Units_per_Trip_POS_P3,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Units_per_Trip_POS_P4,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Units_per_Trip_POS_P5,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Units_per_Trip_POS_P6,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Units_per_Trip_POS_P7,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Quantity END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Units_per_Trip_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Trips_PRE_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Trips_PRE_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Trips_PRE_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Trips_PRE_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Trips_PRE_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Trips_PRE_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Trips_PRE_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Trips_PRE_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Trips_PRE_P8,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Trips_POS_P0,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Trips_POS_P1,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Trips_POS_P2,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Trips_POS_P3,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Trips_POS_P4,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Trips_POS_P5,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Trips_POS_P6,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Trips_POS_P7,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Trips_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Coupon_Dollars_per_Trip_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Dollars_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Dollars_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Dollars_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Dollars_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Dollars_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Dollars_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Dollars_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Dollars_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Dollars_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Dollars_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Dollars_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Dollars_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Dollars_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Dollars_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Dollars_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Dollars_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Dollars_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Dollars END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Dollars_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Coupon_Units_per_Trip_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Units_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Units_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Units_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Units_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Units_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Units_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Units_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Units_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Units_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Units_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Units_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Units_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Units_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Units_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Units_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Units_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Units_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Coupon_Units END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Units_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Coupon_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Trips__P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Trips__P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Trips__P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Trips__P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Trips__P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Trips__P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Trips__P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Trips__P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Trips__P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Coupon_Trips__P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Coupon_Trips__P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Coupon_Trips__P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Coupon_Trips__P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Coupon_Trips__P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Coupon_Trips__P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Coupon_Trips__P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Coupon_Trips__P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN coupon_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Coupon_Trips__P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Feature_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Feature_Trips_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Feature_Trips_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Feature_Trips_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Feature_Trips_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Feature_Trips_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Feature_Trips_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Feature_Trips_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Feature_Trips_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN feature_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Feature_Trips_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Feature_Trips_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Feature_Trips_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Feature_Trips_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Feature_Trips_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Feature_Trips_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Feature_Trips_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Feature_Trips_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Feature_Trips_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN feature_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Feature_Trips_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Display_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Display_Trips_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Display_Trips_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Display_Trips_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Display_Trips_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Display_Trips_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Display_Trips_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Display_Trips_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Display_Trips_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Display_Trips_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Display_Trips_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Display_Trips_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Display_Trips_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Display_Trips_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Display_Trips_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Display_Trips_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Display_Trips_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Display_Trips_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Display_Trips_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Feature_or_display_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as  Perc_Feature_or_Display_Trips_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN feature_or_display_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Feature_or_Display_Trips_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Any_promo_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Any_Promo_Trips_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Any_Promo_Trips_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Any_Promo_Trips_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Any_Promo_Trips_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Any_Promo_Trips_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Any_Promo_Trips_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Any_Promo_Trips_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Any_Promo_Trips_P7_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Any_Promo_Trips_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Any_Promo_Trips_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Any_Promo_Trips_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Any_Promo_Trips_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Any_Promo_Trips_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Any_Promo_Trips_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Any_Promo_Trips_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Any_Promo_Trips_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN any_promo_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Any_Promo_Trips_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Price_reduction_Trips_Share_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN price_reduction_occasions END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END) as Perc_Price_Reduction_Trips_P8_POS,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Quantity  END) as Price_per_Unit_Diff_PRE_POS_P0,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P1,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P2,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P3,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P4,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P5,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P6,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P7,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Quantity  END) -  sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Quantity  END) as Price_per_unit_Diff_PRE_POS_P8,

sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Quantity  END) as Price_per_Unit_P0_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Quantity  END) as Price_per_Unit_P1_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Quantity  END) as Price_per_Unit_P2_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Quantity  END) as Price_per_Unit_P3_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Quantity  END) as Price_per_Unit_P4_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Quantity  END) as Price_per_Unit_P5_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Quantity  END) as Price_per_Unit_P6_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Quantity  END) as Price_per_Unit_P7_PRE,
sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Quantity  END) as Price_per_Unit_P8_PRE,

sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Quantity  END) as Price_per_Unit_P0_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Quantity  END) as Price_per_Unit_P1_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Quantity  END) as Price_per_Unit_P2_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Quantity  END) as Price_per_Unit_P3_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Quantity  END) as Price_per_Unit_P4_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Quantity  END) as Price_per_Unit_P5_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Quantity  END) as Price_per_Unit_P6_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Quantity  END) as Price_per_Unit_P7_POS,
sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Net_Price END)/sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Quantity  END) as Price_per_Unit_P8_POS,

(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P0,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P1,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P2,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P3,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P4,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P5,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P6,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P7,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pre_P8,

(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=0 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P0,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=1 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P1,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=2 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P2,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=3 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P3,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=4 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P4,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=5 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P5,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=6 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P6,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=7 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P7,                                                                                                                                                                                                                                                                                              
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=1 and product_id_Hormel_REV3=8 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as  Nonbuyer_Pre_P8,                                                                                                                                                                                                                                                                                              

(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P0,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P1,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P2,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P3,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P4,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P5,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P6,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P7,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END)) &amp;gt;0 then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Buyer_Pos_P8,

(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=0 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P0,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=1 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P1,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=2 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P2,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=3 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P3,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=4 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P4,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=5 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P5,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=6 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P6,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=7 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P7,
(&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when (sum(CASE WHEN PERIOD=2 and product_id_Hormel_REV3=8 THEN Trans_Num END)) IS NULL then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 0 end) as Nonbuyer_Pos_P8,

max(estimated_hh_income) as  estimated_hh_income,                                                                                                                                                                                                                                             
max(state) as  state,
max(county_code) as  county_code,
max(latitude) as  latitude,
max(longitude) as  longitude,
max(cape_age_pop_pct_0_17) as  cape_age_pop_pct_0_17,
max(cape_age_pop_pct_65_99_plus) as  cape_age_pop_pct_65_99_plus,
max(cape_age_pop_pct_18_99_plus) as  cape_age_pop_pct_18_99_plus,
max(cape_age_pop_median_age) as  cape_age_pop_median_age,
max(cape_ethnic_pop_pct_white_only) as  cape_ethnic_pop_pct_white_only,
max(cape_ethnic_pop_pct_black_only) as  cape_ethnic_pop_pct_black_only,
max(cape_ethnic_pop_pct_asian_only) as  cape_ethnic_pop_pct_asian_only,
max(cape_ethnic_pop_pct_hispanic) as  cape_ethnic_pop_pct_hispanic,
max(cape_child_hh_pct_with_persons_lt18) as  cape_child_hh_pct_with_persons_lt18,
max(cape_child_hh_pct_marr_couple_famwith_persons_lt18) as  cape_child_hh_pct_marr_couple_famwith_persons_lt18,
max(cape_typ_hh_pct_married_couple_family) as  cape_typ_hh_pct_married_couple_family,
max(cape_tenancy_occhu_pct_owner_occupied) as  cape_tenancy_occhu_pct_owner_occupied,
max(cape_tenancy_occhu_pct_renter_occupied) as  cape_tenancy_occhu_pct_renter_occupied,
max(cape_hhsize_hh_average_household_size) as  cape_hhsize_hh_average_household_size,
max(cape_density_persons_per_hh_for_pop_in_hh) as  cape_density_persons_per_hh_for_pop_in_hh,
max(cape_homval_oohu_median_home_value) as  cape_homval_oohu_median_home_value,
max(cape_hustr_hu_pct_mobile_home) as  cape_hustr_hu_pct_mobile_home,
max(cape_built_hu_median_housing_unit_age) as  cape_built_hu_median_housing_unit_age,
max(cape_lang_hh_pct_spanish_speaking) as  cape_lang_hh_pct_spanish_speaking,
max(cape_educ_pop25_plus_median_education_attained) as  cape_educ_pop25_plus_median_education_attained,
max(cape_inc_hh_median_family_household_income) as  cape_inc_hh_median_family_household_income,
max(cape_educ_ispsa_decile) as  cape_educ_ispsa_decile,
max(cape_inc_family_inc_state_decile) as  cape_inc_family_inc_state_decile,
max(census_rural_urban_county_size_code) as  census_rural_urban_county_size_code,
max(core_based_statistical_areas) as  core_based_statistical_areas,
max(person_1_birth_year_and_month) as  person_1_birth_year_and_month,
max(person_1_combined_age) as  person_1_combined_age,
max(person_1_gender) as  person_1_gender,
max(person_1_marital_status) as  person_1_marital_status,
max(recipient_reliability_code) as  recipient_reliability_code,
max(household_composition) as  household_composition,
max(person_1_person_type) as  person_1_person_type,
max(homeowner_combined_homeowner) as  homeowner_combined_homeowner,
max(homeowner_probability_model) as  homeowner_probability_model,
max(dwelling_type) as  dwelling_type,
max(length_of_residence) as  length_of_residence,
max(dwelling_unit_size) as  dwelling_unit_size,
max(number_of_children_in_living_unit) as  number_of_children_in_living_unit,
max(number_of_adults_in_living_unit) as  number_of_adults_in_living_unit,
max(number_of_person_in_living_unit) as  number_of_person_in_living_unit,
max(mail_responder) as  mail_responder,
max(mosaic_hh) as  mosaic_hh

FROM temp.step5
group by experian_id,Banner;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15296226" author="osayankin" created="Mon, 23 May 2016 10:55:02 +0000"  >&lt;p&gt;I have patch for this issue. Alan Gates, could you assign this issue to me?&lt;/p&gt;</comment>
                            <comment id="15307573" author="osayankin" created="Tue, 31 May 2016 11:10:39 +0000"  >&lt;p&gt;Alina has found a workaround for this issue.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;ROOT-CAUSE:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Consider method &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; require (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; required) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; KryoException 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from class com.esotericsoftware.kryo.io.Input where exception happens. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; remaining = limit - position;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (remaining &amp;gt;= required) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; remaining;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (required &amp;gt; capacity) &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KryoException(&quot;Buffer too small: capacity:
&lt;span class=&quot;code-quote&quot;&gt;&quot; + capacity + &quot;&lt;/span&gt;, required: &quot; + required);

  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count;
  &lt;span class=&quot;code-comment&quot;&gt;// Try to fill the buffer.
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (remaining &amp;gt; 0) {
  count = fill(buffer, limit, capacity - limit);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (count == -1) &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KryoException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Buffer underflow.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We can see that exception (&quot;Buffer underflow.&quot;) occurs when count == -1. So let us see method fill(byte[] buffer, int offset, int count) in details:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inputStream == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -1;
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; inputStream.read(buffer, offset, count);
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
  &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KryoException(ex);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It returns -1 either when inputStream == null or from inputStream.read(buffer, offset, count). We definitely know that inputStream can not be equal null here because of constructor:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Input (InputStream inputStream) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;(4096);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inputStream == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&quot;inputStream
cannot be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.&quot;);
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.inputStream = inputStream;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From Java docs we know that if no byte is available because the stream is at end of file, the value -1 is returned by the method  inputStream.read(buffer, offset, count). Hence we suspect here some errors in HDFS  here that causes -1 to be a return value. Skipping usage of file system as query plan storage and sending it via RPC directly will fix the issue.&lt;/p&gt;


&lt;p&gt;&lt;b&gt;SOLUTION:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Use &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hive.rpc.query.plan&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in hive-site.xml as workaround. This property defines whether to send the query plan via local resource or RPC.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Mar 2016 11:22:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qssf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329363</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-12780] Fix the output of the history command in Beeline</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12780</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I executed !history command in beeline. And the following results displayed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Beeline version 2.1.0-SNAPSHOT by Apache Hive
beeline&amp;gt; !history
1.    0: select
1.    1: select
1.    2: select
1.    3: select
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a result, &quot;1.&quot; is not necessary to output. I will change the output, such as the following.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Beeline version 2.1.0-SNAPSHOT by Apache Hive
beeline&amp;gt; !history
0: select
1: select
2: select
3: select
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927263">HIVE-12780</key>
            <summary>Fix the output of the history command in Beeline</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sinchii">Shinichi Yamashita</assignee>
                                    <reporter username="sinchii">Shinichi Yamashita</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 12:24:27 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:32 +0000</updated>
                            <resolved>Sun, 31 Jan 2016 21:09:33 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15083046" author="sinchii" created="Tue, 5 Jan 2016 13:26:29 +0000"  >&lt;p&gt;I attach a patch file which I change the padding.&lt;/p&gt;</comment>
                            <comment id="15084969" author="hiveqa" created="Wed, 6 Jan 2016 04:32:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780545/HIVE-12780.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780545/HIVE-12780.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 9997 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_order2
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6522/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6522/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6522/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6522/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6522/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6522/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780545 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15087261" author="chinnalalam" created="Thu, 7 Jan 2016 11:55:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sinchii&quot; class=&quot;user-hover&quot; rel=&quot;sinchii&quot;&gt;Shinichi Yamashita&lt;/a&gt;, Thanks for the patch. &lt;/p&gt;

&lt;p&gt;I have a minor review comments,&lt;/p&gt;

&lt;p&gt;1. Please declare a  string array outside the loop.&lt;br/&gt;
2. Please try to add unit test case.&lt;/p&gt;

</comment>
                            <comment id="15087478" author="sinchii" created="Thu, 7 Jan 2016 14:25:01 +0000"  >&lt;p&gt;Thank you for your comment. I moved a string array to outside the loop and add  test case.&lt;/p&gt;</comment>
                            <comment id="15089012" author="hiveqa" created="Fri, 8 Jan 2016 10:17:30 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780972/HIVE-12780.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780972/HIVE-12780.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 36 failed/errored test(s), 10000 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_stats_orc
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge_diff_fs
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_select_dummy_source
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_insert_overwrite_local_directory_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_cast
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_mapjoin1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_date_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_elt
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_shufflejoin
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6550/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6550/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6550/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6550/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6550/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6550/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 36 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780972 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15118688" author="ashutoshc" created="Wed, 27 Jan 2016 05:27:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15119763" author="ashutoshc" created="Wed, 27 Jan 2016 16:52:22 +0000"  >&lt;p&gt;Patch needs a rebase after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12789&quot; title=&quot;Fix output twice in the history command of Beeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12789&quot;&gt;&lt;del&gt;HIVE-12789&lt;/del&gt;&lt;/a&gt; commit.&lt;/p&gt;</comment>
                            <comment id="15120445" author="sinchii" created="Wed, 27 Jan 2016 23:54:50 +0000"  >&lt;p&gt;I attach a patch file after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12789&quot; title=&quot;Fix output twice in the history command of Beeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12789&quot;&gt;&lt;del&gt;HIVE-12789&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15122910" author="hiveqa" created="Fri, 29 Jan 2016 04:07:58 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784781/HIVE-12780.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784781/HIVE-12780.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10037 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6784/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6784/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6784/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6784/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6784/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6784/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784781 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15125510" author="ashutoshc" created="Sun, 31 Jan 2016 21:09:33 +0000"  >&lt;p&gt;Pushed to master. Thanks, Shinichi!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780533" name="HIVE-12780.1.patch" size="723" author="sinchii" created="Tue, 5 Jan 2016 12:25:36 +0000"/>
                            <attachment id="12780545" name="HIVE-12780.2.patch" size="801" author="sinchii" created="Tue, 5 Jan 2016 13:26:29 +0000"/>
                            <attachment id="12780972" name="HIVE-12780.3.patch" size="3684" author="sinchii" created="Thu, 7 Jan 2016 14:25:01 +0000"/>
                            <attachment id="12784781" name="HIVE-12780.4.patch" size="2580" author="sinchii" created="Wed, 27 Jan 2016 23:54:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 04:32:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qsxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12781] Temporarily disable authorization tests that always fail on Jenkins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12781</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This includes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927334">HIVE-12781</key>
            <summary>Temporarily disable authorization tests that always fail on Jenkins</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12927108">HIVE-12773</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 19:14:42 +0000</created>
                <updated>Tue, 21 Jun 2016 15:53:10 +0000</updated>
                            <resolved>Thu, 10 Mar 2016 00:13:34 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15083862" author="pxiong" created="Tue, 5 Jan 2016 21:40:09 +0000"  >&lt;p&gt;re-assigned to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;&apos;s suggestion.&lt;/p&gt;</comment>
                            <comment id="15086322" author="pxiong" created="Wed, 6 Jan 2016 21:23:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;, i saw you removed &quot;org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch&quot;. Could you open a new JIRA for it? It also failed from time to time. Thanks. &lt;/p&gt;</comment>
                            <comment id="15086323" author="sershe" created="Wed, 6 Jan 2016 21:25:03 +0000"  >&lt;p&gt;Moved the operations test fix (broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12075&quot; title=&quot;add analyze command to explictly cache file metadata in HBase metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12075&quot;&gt;&lt;del&gt;HIVE-12075&lt;/del&gt;&lt;/a&gt;) into a separate JIRA&lt;/p&gt;</comment>
                            <comment id="15187515" author="ashutoshc" created="Wed, 9 Mar 2016 17:53:10 +0000"  >&lt;p&gt;Failure from recent run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running: diff -a /home/hiveptest/54.224.7.202-hiveptest-1/apache-github-source-source/itests/qtest/../../itests/qtest/target/qfile-results/clientnegative/authorization_uri_import.q.out /home/hiveptest/54.224.7.202-hiveptest-1/apache-github-source-source/itests/qtest/../../ql/src/test/results/clientnegative/authorization_uri_import.q.out
11a12,40
&amp;gt; PREHOOK: query: export table import_auth_uri to &lt;span class=&quot;code-quote&quot;&gt;&apos;ql/test/data/exports/import_auth_uri&apos;&lt;/span&gt;
&amp;gt; PREHOOK: type: EXPORT
&amp;gt; PREHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; #### A masked pattern was here ####
&amp;gt; POSTHOOK: query: export table import_auth_uri to &lt;span class=&quot;code-quote&quot;&gt;&apos;ql/test/data/exports/import_auth_uri&apos;&lt;/span&gt;
&amp;gt; POSTHOOK: type: EXPORT
&amp;gt; POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; #### A masked pattern was here ####
&amp;gt; PREHOOK: query: drop table import_auth_uri
&amp;gt; PREHOOK: type: DROPTABLE
&amp;gt; PREHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; PREHOOK: Output: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; POSTHOOK: query: drop table import_auth_uri
&amp;gt; POSTHOOK: type: DROPTABLE
&amp;gt; POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; POSTHOOK: Output: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@import_auth_uri
&amp;gt; PREHOOK: query: create database importer
&amp;gt; PREHOOK: type: CREATEDATABASE
&amp;gt; PREHOOK: Output: database:importer
&amp;gt; POSTHOOK: query: create database importer
&amp;gt; POSTHOOK: type: CREATEDATABASE
&amp;gt; POSTHOOK: Output: database:importer
&amp;gt; PREHOOK: query: use importer
&amp;gt; PREHOOK: type: SWITCHDATABASE
&amp;gt; PREHOOK: Input: database:importer
&amp;gt; POSTHOOK: query: use importer
&amp;gt; POSTHOOK: type: SWITCHDATABASE
&amp;gt; POSTHOOK: Input: database:importer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shall we disable this test till we find a fix for this?&lt;/p&gt;</comment>
                            <comment id="15188324" author="sushanth" created="Thu, 10 Mar 2016 00:00:34 +0000"  >&lt;p&gt;Yeah, not a bad idea to try to disable this temporarily, I think. The problem with this test is that it fails in a ptest env, but not in a lone run. And in a lone run, it makes sense that it succeeds, this is the expected correct output.&lt;/p&gt;</comment>
                            <comment id="15188332" author="ashutoshc" created="Thu, 10 Mar 2016 00:06:36 +0000"  >&lt;p&gt;Patch to temporarily disable test. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="15188334" author="sushanth" created="Thu, 10 Mar 2016 00:09:14 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Could you create another jira and cc us to figure out why this test fails in the ptest env and eventually re-enable it?&lt;/p&gt;</comment>
                            <comment id="15188343" author="ashutoshc" created="Thu, 10 Mar 2016 00:13:34 +0000"  >&lt;p&gt;Pushed to master.&lt;/p&gt;</comment>
                            <comment id="15188352" author="ashutoshc" created="Thu, 10 Mar 2016 00:16:16 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13252&quot; title=&quot;Reenable authorization_uri_import.q test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13252&quot;&gt;HIVE-13252&lt;/a&gt; to reenable.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12948600">HIVE-13252</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928127">HIVE-12792</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12792395" name="HIVE-12781.patch" size="743" author="ashutoshc" created="Thu, 10 Mar 2016 00:06:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 21:25:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qtdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12782] update the golden files for some tests that fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12782</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This includes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_order2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_multiple_part_clause
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927335">HIVE-12782</key>
            <summary>update the golden files for some tests that fail</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12927108">HIVE-12773</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 19:15:55 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:48 +0000</updated>
                            <resolved>Tue, 5 Jan 2016 21:08:19 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15083766" author="pxiong" created="Tue, 5 Jan 2016 20:54:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you take a look? Thanks.&lt;/p&gt;</comment>
                            <comment id="15083779" author="ashutoshc" created="Tue, 5 Jan 2016 21:03:10 +0000"  >&lt;p&gt;+1 no need to wait for QA runs for golden file updates.&lt;/p&gt;</comment>
                            <comment id="15083789" author="pxiong" created="Tue, 5 Jan 2016 21:07:17 +0000"  >&lt;p&gt;alright,,, pushed to master. Thanks for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780622" name="HIVE-12782.01.patch" size="39257" author="pxiong" created="Tue, 5 Jan 2016 20:54:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Jan 2016 21:03:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qtdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12783] fix the unit test failures in TestSparkClient and TestSparkSessionManagerImpl</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12783</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This includes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hive.spark.client.TestSparkClient.testSyncRpc
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;all of them passed on my laptop. cc&apos;ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, could you please take a look? Shall we ignore them? Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12927337">HIVE-12783</key>
            <summary>fix the unit test failures in TestSparkClient and TestSparkSessionManagerImpl</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12927108">HIVE-12773</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 19:19:03 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:36 +0000</updated>
                            <resolved>Thu, 21 Jan 2016 01:18:39 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15086341" author="pxiong" created="Wed, 6 Jan 2016 21:42:47 +0000"  >&lt;p&gt;ping? cc&apos;ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15086346" author="szehon" created="Wed, 6 Jan 2016 21:47:15 +0000"  >&lt;p&gt;Timeout is already set to 20 secs which seems long enough, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; do you know if its a real issue related to the rebase?&lt;/p&gt;

&lt;p&gt;Should we disable these tests for now?&lt;/p&gt;</comment>
                            <comment id="15086444" author="xuefuz" created="Wed, 6 Jan 2016 22:58:37 +0000"  >&lt;p&gt;Actually this seems to be real problem and timeout value doesn&apos;t seem to be the cause. I can reliably reproduce the problem on my local box on master, while on spark branch (which doesn&apos;t have all the changes in master) these tests pass rapidly. Therefore, the problem must be caused by some recent changes in master. We shouldn&apos;t simply ignore or disable these tests.&lt;/p&gt;</comment>
                            <comment id="15087570" author="xuefuz" created="Thu, 7 Jan 2016 15:24:48 +0000"  >&lt;p&gt;The failure seems being caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11890&quot; title=&quot;Create ORC module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11890&quot;&gt;&lt;del&gt;HIVE-11890&lt;/del&gt;&lt;/a&gt;. These tests pass if the head is moved to the commit prior to this one, and fail if the commit is included. Please fix these failures or revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11890&quot; title=&quot;Create ORC module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11890&quot;&gt;&lt;del&gt;HIVE-11890&lt;/del&gt;&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="15087764" author="owen.omalley" created="Thu, 7 Jan 2016 17:52:32 +0000"  >&lt;p&gt;Sorry for the breakage. I&apos;ll take a look at it.&lt;/p&gt;</comment>
                            <comment id="15087817" author="owen.omalley" created="Thu, 7 Jan 2016 18:23:34 +0000"  >&lt;p&gt;The big difference I&apos;m seeing is a bunch of errors in spark-client/target/tmp/log/hive.log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-01-07T09:51:49,242 INFO  [Driver[]]: spark.SparkEnv (Logging.scala:logInfo(59)) - Registering OutputCommitCoordinator
2016-01-07T09:51:49,365 ERROR [Driver[]]: spark.SparkContext (Logging.scala:logError(96)) - Error initializing SparkContext.
java.lang.SecurityException: class &lt;span class=&quot;code-quote&quot;&gt;&quot;javax.servlet.FilterRegistration&quot;&lt;/span&gt;&apos;s signer information does not match signer information of other classes in the same &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.checkCerts(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:952) ~[?:1.7.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.preDefineClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:666) ~[?:1.7.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.defineClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:794) ~[?:1.7.0_45]
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.7.0_45]
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:449) ~[?:1.7.0_45]
        at java.net.URLClassLoader.access$100(URLClassLoader.java:71) ~[?:1.7.0_45]
        at java.net.URLClassLoader$1.run(URLClassLoader.java:361) ~[?:1.7.0_45]
        at java.net.URLClassLoader$1.run(URLClassLoader.java:355) ~[?:1.7.0_45]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.7.0_45]
        at java.net.URLClassLoader.findClass(URLClassLoader.java:354) ~[?:1.7.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:425) ~[?:1.7.0_45]
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308) ~[?:1.7.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:358) ~[?:1.7.0_45]
        at org.spark-project.jetty.servlet.ServletContextHandler.&amp;lt;init&amp;gt;(ServletContextHandler.java:136) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.spark-project.jetty.servlet.ServletContextHandler.&amp;lt;init&amp;gt;(ServletContextHandler.java:129) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.spark-project.jetty.servlet.ServletContextHandler.&amp;lt;init&amp;gt;(ServletContextHandler.java:98) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.JettyUtils$.createServletHandler(JettyUtils.scala:110) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.JettyUtils$.createServletHandler(JettyUtils.scala:101) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.WebUI.attachPage(WebUI.scala:78) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.WebUI$$anonfun$attachTab$1.apply(WebUI.scala:62) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.WebUI$$anonfun$attachTab$1.apply(WebUI.scala:62) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at scala.collection.mutable.ResizableArray$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreach(ResizableArray.scala:59) ~[scala-library-2.10.4.jar:?]
        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47) ~[scala-library-2.10.4.jar:?]
        at org.apache.spark.ui.WebUI.attachTab(WebUI.scala:62) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.SparkUI.initialize(SparkUI.scala:61) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.SparkUI.&amp;lt;init&amp;gt;(SparkUI.scala:74) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.SparkUI$.create(SparkUI.scala:190) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.ui.SparkUI$.createLiveUI(SparkUI.scala:141) ~[spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.SparkContext.&amp;lt;init&amp;gt;(SparkContext.scala:457) [spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.spark.api.java.JavaSparkContext.&amp;lt;init&amp;gt;(JavaSparkContext.scala:61) [spark-core_2.10-1.5.0.jar:1.5.0]
        at org.apache.hive.spark.client.RemoteDriver.&amp;lt;init&amp;gt;(RemoteDriver.java:156) [classes/:?]
        at org.apache.hive.spark.client.RemoteDriver.main(RemoteDriver.java:500) [classes/:?]
        at org.apache.hive.spark.client.SparkClientImpl$2.run(SparkClientImpl.java:217) [classes/:?]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744) [?:1.7.0_45]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any ideas what is happening? The patch in question moved most of the orc classes to a new jar named: hive-orc.&lt;/p&gt;</comment>
                            <comment id="15087841" author="xuefuz" created="Thu, 7 Jan 2016 18:38:14 +0000"  >&lt;p&gt;That seems suggesting that there are different versions of the same library on the classpath somehow. I&apos;m not sure if the patch in question introduced this, but it&apos;s also possible that the patch manifested the problem by changing the classpath library ordering. Maven dependency tree might gives more info about these conflicting versions.&lt;/p&gt;</comment>
                            <comment id="15087877" author="owen.omalley" created="Thu, 7 Jan 2016 18:58:51 +0000"  >&lt;p&gt;Doing &quot;cd spark-client; mvn dependency:tree -Dverbose&quot; before and after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11890&quot; title=&quot;Create ORC module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11890&quot;&gt;&lt;del&gt;HIVE-11890&lt;/del&gt;&lt;/a&gt; produce identical results. I suspect that Spark is playing some strange classpath game. Doing a quick web search turns up:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-1693&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-1693&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15088115" author="owen.omalley" created="Thu, 7 Jan 2016 21:09:40 +0000"  >&lt;p&gt;I tried excluding some of the transitive dependencies in the orc module and that is making the tests pass for me. Can you try it?&lt;/p&gt;</comment>
                            <comment id="15088117" author="xuefuz" created="Thu, 7 Jan 2016 21:12:24 +0000"  >&lt;p&gt;I think the problem is not about project dependency, but about the classpath for the process where the test runs.&lt;/p&gt;</comment>
                            <comment id="15088126" author="xuefuz" created="Thu, 7 Jan 2016 21:19:54 +0000"  >&lt;p&gt;Awesome. It seems having fixed TestSparkClient for which I have just tried. Let&apos;s kick off ptest to get its opinion. Thanks for taking a look at this.&lt;/p&gt;</comment>
                            <comment id="15089944" author="owen.omalley" created="Fri, 8 Jan 2016 21:09:26 +0000"  >&lt;p&gt;One test case still fails for me with the same SecurityException.&lt;/p&gt;

&lt;p&gt;TestSparkSessionManagerImpl.testMultiSessionMultipleUse&lt;/p&gt;</comment>
                            <comment id="15090077" author="owen.omalley" created="Fri, 8 Jan 2016 22:29:46 +0000"  >&lt;p&gt;This patch fixes the problem.&lt;/p&gt;</comment>
                            <comment id="15090657" author="hiveqa" created="Sat, 9 Jan 2016 15:20:41 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781318/HIVE-12783.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781318/HIVE-12783.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6563/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6563/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6563/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6563/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6563/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6563/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781318 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15090659" author="xuefuz" created="Sat, 9 Jan 2016 15:29:26 +0000"  >&lt;p&gt;Patch looks good. Just one thing I&apos;m not sure of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &amp;lt;dependency&amp;gt;
+      &amp;lt;groupId&amp;gt;org.eclipse.jetty.orbit&amp;lt;/groupId&amp;gt;
+      &amp;lt;artifactId&amp;gt;javax.servlet&amp;lt;/artifactId&amp;gt;
+      &amp;lt;version&amp;gt;3.0.0.v201112011016&amp;lt;/version&amp;gt;
     &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is this required?&lt;/p&gt;</comment>
                            <comment id="15092242" author="owen.omalley" created="Mon, 11 Jan 2016 16:38:46 +0000"  >&lt;p&gt;&lt;b&gt;sigh&lt;/b&gt; yes.&lt;/p&gt;

&lt;p&gt;The problem fundamentally comes in because there are two conflicting artifacts:&lt;/p&gt;

&lt;p&gt;         &amp;lt;groupId&amp;gt;javax.servlet&amp;lt;/groupId&amp;gt;&lt;br/&gt;
         &amp;lt;artifactId&amp;gt;servlet-api&amp;lt;/artifactId&amp;gt;&lt;/p&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;p&gt;      &amp;lt;groupId&amp;gt;org.eclipse.jetty.orbit&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;javax.servlet&amp;lt;/artifactId&amp;gt;&lt;/p&gt;

&lt;p&gt;Spark requires the eclipse version, but most other tools including jetty and hadoop depend on the java one, but work with either. Since common depends on jetty, I needed to exclude the java one from jetty&apos;s dependencies, but the unit tests failed without one of them. Therefore I needed to add in the one that spark works with.&lt;/p&gt;</comment>
                            <comment id="15092264" author="owen.omalley" created="Mon, 11 Jan 2016 16:51:23 +0000"  >&lt;p&gt;Note that this fix gets around the problem for hive development, but our users will end up with the same problem unless they do the same thing to their projects.&lt;/p&gt;

&lt;p&gt;The real fix is for spark to either remove their dependence on the eclipse version or to shroud it so that it doesn&apos;t leak through to all of their users.&lt;/p&gt;

&lt;p&gt;Of course Hive really should do the same with guava and protobuf, since both of those libraries deliberately break cross-version compatibility.&lt;/p&gt;</comment>
                            <comment id="15092294" author="xuefuz" created="Mon, 11 Jan 2016 17:11:11 +0000"  >&lt;p&gt;+1. Thanks for the explanation and fix.&lt;/p&gt;</comment>
                            <comment id="15092363" author="owen.omalley" created="Mon, 11 Jan 2016 17:47:24 +0000"  >&lt;p&gt;Ok, I just added documentation for this in the Hive Developer FAQ.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-WhydoSparkunittestsfailwithaSecurityException?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-WhydoSparkunittestsfailwithaSecurityException?&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="15092366" author="owen.omalley" created="Mon, 11 Jan 2016 17:48:22 +0000"  >&lt;p&gt;Here&apos;s a slight modification that pulls the version string into a maven variable to match the rest of Hive&apos;s poms.&lt;/p&gt;</comment>
                            <comment id="15092894" author="hiveqa" created="Mon, 11 Jan 2016 23:01:32 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781606/HIVE-12783.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781606/HIVE-12783.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10008 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6594/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6594/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6594/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6594/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6594/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6594/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781606 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15096767" author="pxiong" created="Wed, 13 Jan 2016 18:46:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, is it OK to check it in? I saw &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; already +1. Thanks.&lt;/p&gt;</comment>
                            <comment id="15097559" author="xuefuz" created="Thu, 14 Jan 2016 04:13:57 +0000"  >&lt;p&gt;+1 to patch #3 also.&lt;/p&gt;</comment>
                            <comment id="15098687" author="sershe" created="Thu, 14 Jan 2016 19:30:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt; Should this be committed? As far as I see HiveQA has run on the latest patch and there&apos;s a +1&lt;/p&gt;</comment>
                            <comment id="15098690" author="sershe" created="Thu, 14 Jan 2016 19:32:30 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The real fix is for spark to either remove their dependence on the eclipse version or to shroud it so that it doesn&apos;t leak through to all of their users.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Should there be a Spark JIRA for this?&lt;/p&gt;</comment>
                            <comment id="15105947" author="pxiong" created="Mon, 18 Jan 2016 23:19:19 +0000"  >&lt;p&gt;just talked with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt; and he is going to commit it soon. thx&lt;/p&gt;</comment>
                            <comment id="15107462" author="owen.omalley" created="Tue, 19 Jan 2016 21:24:47 +0000"  >&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                            <comment id="15107471" author="pxiong" created="Tue, 19 Jan 2016 21:27:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, thanks a lot. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15107877" author="lefty@hortonworks.com" created="Wed, 20 Jan 2016 02:57:11 +0000"  >&lt;p&gt;Nudging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;:  this needs a status update.  Thanks.&lt;/p&gt;</comment>
                            <comment id="15109860" author="sershe" created="Thu, 21 Jan 2016 01:18:39 +0000"  >&lt;p&gt;It was already committed to master; backported to branch-2.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12711672">SPARK-1693</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12888699">HIVE-11890</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781606" name="HIVE-12783.patch" size="6760" author="owen.omalley" created="Mon, 11 Jan 2016 17:48:22 +0000"/>
                            <attachment id="12781318" name="HIVE-12783.patch" size="6285" author="owen.omalley" created="Fri, 8 Jan 2016 22:29:46 +0000"/>
                            <attachment id="12781067" name="HIVE-12783.patch" size="1224" author="owen.omalley" created="Thu, 7 Jan 2016 21:09:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 21:47:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qte7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12784] Group by SemanticException: Invalid column reference</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12784</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some queries work fine in older versions throws SemanticException, the stack trace:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: SemanticException [Error 10002]: Line 96:1 Invalid column reference &apos;key2&apos;
15/12/21 18:56:44 [main]: ERROR ql.Driver: FAILED: SemanticException [Error 10002]: Line 96:1 Invalid column reference &apos;key2&apos;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 96:1 Invalid column reference &apos;key2&apos;
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanGroupByOperator1(SemanticAnalyzer.java:4228)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanMapAggrNoSkew(SemanticAnalyzer.java:5670)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:9007)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9884)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9777)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genOPTree(SemanticAnalyzer.java:10250)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10261)
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10141)
at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:222)
at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:421)
at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:305)
at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1110)
at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1158)
at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1047)
at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1037)
at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:207)
at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:159)
at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:370)
at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:305)
at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:403)
at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:419)
at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:708)
at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)
at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:615)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:606)
at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Reproduce:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create table tlb (key int, key1 int, key2 int);
create table src (key int, value string);
select key, key1, key2 from (select a.key, 0 as key1 , 0 as key2 from tlb a inner join src b on a.key = b.key) a group by key, key1, key2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12927348">HIVE-12784</key>
            <summary>Group by SemanticException: Invalid column reference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ychena">Yongzhi Chen</assignee>
                                    <reporter username="ychena">Yongzhi Chen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 19:52:54 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:32 +0000</updated>
                            <resolved>Sat, 9 Jan 2016 15:00:09 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15085842" author="ychena" created="Wed, 6 Jan 2016 17:06:44 +0000"  >&lt;p&gt;Running following query without problem, the only difference is that it assign value 1 to key2 instead of 0:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select key, key1, key2 from (select a.key, 0 as key1 , 1 as key2 from tlb a inner join src b on a.key = b.key) a group by key, key1, key2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11712&quot; title=&quot;Duplicate groupby keys cause ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11712&quot;&gt;&lt;del&gt;HIVE-11712&lt;/del&gt;&lt;/a&gt; introduce a way to remove duplicate key in group by. But not all the cases are duplicate keys. For example, in the reproduce, it try to assign constant value 0 to different columns, we should not remove second const (ExprNodeConstDesc) as duplicate key, for different columns can have same values. &lt;br/&gt;
Fix the issue by separate duplicate key case from other scenarios.&lt;/p&gt;

</comment>
                            <comment id="15085843" author="ychena" created="Wed, 6 Jan 2016 17:07:54 +0000"  >&lt;p&gt;Need code review.&lt;/p&gt;</comment>
                            <comment id="15086725" author="hiveqa" created="Thu, 7 Jan 2016 03:14:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780787/HIVE-12784.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780787/HIVE-12784.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 9983 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_duplicate_key
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6534/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6534/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6534/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6534/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6534/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6534/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780787 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15087554" author="ychena" created="Thu, 7 Jan 2016 15:12:56 +0000"  >&lt;p&gt;Only one failure is related. Update the test results with patch2.&lt;/p&gt;</comment>
                            <comment id="15087614" author="ychena" created="Thu, 7 Jan 2016 15:56:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, could you review the code? Thanks&lt;/p&gt;</comment>
                            <comment id="15089173" author="hiveqa" created="Fri, 8 Jan 2016 13:05:45 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780978/HIVE-12784.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780978/HIVE-12784.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 19 failed/errored test(s), 9984 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_partition_diff_num_cols.q-vectorization_10.q-orc_merge9.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6551/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6551/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6551/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6551/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6551/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6551/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 19 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780978 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15089241" author="ychena" created="Fri, 8 Jan 2016 14:10:58 +0000"  >&lt;p&gt;The failures are not related. &lt;/p&gt;</comment>
                            <comment id="15089530" author="xuefuz" created="Fri, 8 Jan 2016 17:07:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15089574" author="ychena" created="Fri, 8 Jan 2016 17:36:41 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; for your review. &lt;/p&gt;</comment>
                            <comment id="15090654" author="ychena" created="Sat, 9 Jan 2016 15:00:09 +0000"  >&lt;p&gt;Committed into master and branch-1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12932199">HIVE-12886</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780787" name="HIVE-12784.1.patch" size="3603" author="ychena" created="Wed, 6 Jan 2016 17:07:23 +0000"/>
                            <attachment id="12780978" name="HIVE-12784.2.patch" size="6281" author="ychena" created="Thu, 7 Jan 2016 15:13:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 03:14:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qtgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12785] View with union type and UDF to `cast` the struct is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12785</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Unfortunately &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12156&quot; title=&quot;expanding view doesn&amp;#39;t quote reserved keyword&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12156&quot;&gt;&lt;del&gt;HIVE-12156&lt;/del&gt;&lt;/a&gt; is breaking the following use case:&lt;/p&gt;

&lt;p&gt;I do have a table with a &lt;tt&gt;uniontype&lt;/tt&gt; of &lt;tt&gt;struct&lt;/tt&gt; s, such as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE `minimal_sample`(
  `record_type` string,
  `event` uniontype&amp;lt;struct&amp;lt;string_value:string&amp;gt;,struct&amp;lt;int_value:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my case, the table comes from an Avro schema which looks like: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-quote&quot;&gt;&apos;avro.schema.literal&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;{\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;record\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;Minimal\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;namespace\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;org.ver.vkanalas.minimalsamp\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;fields\&quot;&lt;/span&gt;:[{\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;record_type\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;string\&quot;&lt;/span&gt;},{\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;event\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:[{\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;record\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;a\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;fields\&quot;&lt;/span&gt;:[{\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;string_value\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;string\&quot;&lt;/span&gt;}]},{\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;record\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;b\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;fields\&quot;&lt;/span&gt;:[{\&lt;span class=&quot;code-quote&quot;&gt;&quot;name\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;int_value\&quot;&lt;/span&gt;,\&lt;span class=&quot;code-quote&quot;&gt;&quot;type\&quot;&lt;/span&gt;:\&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;\&quot;&lt;/span&gt;}]}]}]}&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I wrote custom UDF (source attached) to &lt;em&gt;cast&lt;/em&gt; the union type to one of the struct to access nested elements, such as &lt;tt&gt;int_value&lt;/tt&gt; in my example.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE FUNCTION toSint AS &lt;span class=&quot;code-quote&quot;&gt;&apos;org.ver.udf.minimal.StructFromUnionMinimalB&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A simple query with the UDF is working fine. But creating a view with the same select is failing when I&apos;m trying to query it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE OR REPLACE VIEW minimal_sample_viewB AS SELECT toSint(event).int_value FROM minimal_sample WHERE record_type = &lt;span class=&quot;code-quote&quot;&gt;&apos;B&apos;&lt;/span&gt;;

SELECT * FROM minimal_sample_viewB;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The stack trace is posted below.&lt;/p&gt;

&lt;p&gt;I did try to revert (or exclude) &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12156&quot; title=&quot;expanding view doesn&amp;#39;t quote reserved keyword&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12156&quot;&gt;&lt;del&gt;HIVE-12156&lt;/del&gt;&lt;/a&gt; from the version I&apos;m running and this use case is working fine.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: SemanticException Line 0:-1 . Operator is only supported on struct or list of struct types &lt;span class=&quot;code-quote&quot;&gt;&apos;int_value&apos;&lt;/span&gt; in definition of VIEW minimal_sample_viewb [
SELECT &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.`int_value` FROM `&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;`.`minimal_sample` WHERE `minimal_sample`.`record_type` = &lt;span class=&quot;code-quote&quot;&gt;&apos;B&apos;&lt;/span&gt;
] used as minimal_sample_viewb at Line 3:14
16/01/05 22:49:41 [main]: ERROR ql.Driver: FAILED: SemanticException Line 0:-1 . Operator is only supported on struct or list of struct types &lt;span class=&quot;code-quote&quot;&gt;&apos;int_value&apos;&lt;/span&gt; in definition of VIEW minimal_sample_viewb [
SELECT &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.`int_value` FROM `&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;`.`minimal_sample` WHERE `minimal_sample`.`record_type` = &lt;span class=&quot;code-quote&quot;&gt;&apos;B&apos;&lt;/span&gt;
] used as minimal_sample_viewb at Line 3:14
org.apache.hadoop.hive.ql.parse.SemanticException: Line 0:-1 . Operator is only supported on struct or list of struct types &lt;span class=&quot;code-quote&quot;&gt;&apos;int_value&apos;&lt;/span&gt; in definition of VIEW minimal_sample_viewb [
SELECT &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.`int_value` FROM `&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;`.`minimal_sample` WHERE `minimal_sample`.`record_type` = &lt;span class=&quot;code-quote&quot;&gt;&apos;B&apos;&lt;/span&gt;
] used as minimal_sample_viewb at Line 3:14
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.getXpathOrFuncExprNodeDesc(TypeCheckProcFactory.java:893)
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:1321)
	at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:95)
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:79)
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:133)
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:110)
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:209)
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:153)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:10500)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:10455)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:3822)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:3601)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:8943)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:8898)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9743)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9623)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9650)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:9636)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genOPTree(SemanticAnalyzer.java:10109)
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:329)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10120)
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:211)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:227)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:454)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:314)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1164)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1212)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1101)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1091)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:168)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:379)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:314)
	at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:412)
	at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:428)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:717)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:684)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:624)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;HDP-2.3.4.0&lt;/p&gt;</environment>
        <key id="12927371">HIVE-12785</key>
            <summary>View with union type and UDF to `cast` the struct is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="bperroud">Benoit Perroud</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jan 2016 21:55:10 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:24 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 18:30:10 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15085000" author="pxiong" created="Wed, 6 Jan 2016 05:25:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bperroud&quot; class=&quot;user-hover&quot; rel=&quot;bperroud&quot;&gt;Benoit Perroud&lt;/a&gt;, could you please provide a query that can reproduce your problem without the specific function `toSint`? This will help me to better investigate it. Thanks!&lt;/p&gt;</comment>
                            <comment id="15085117" author="bperroud" created="Wed, 6 Jan 2016 07:25:01 +0000"  >&lt;p&gt;Test data and UDF source.&lt;/p&gt;</comment>
                            <comment id="15085123" author="bperroud" created="Wed, 6 Jan 2016 07:27:48 +0000"  >&lt;p&gt;I just uploaded test data as well as the source code of the UDF. I hope this helps. Thanks!&lt;/p&gt;</comment>
                            <comment id="15086673" author="pxiong" created="Thu, 7 Jan 2016 02:13:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bperroud&quot; class=&quot;user-hover&quot; rel=&quot;bperroud&quot;&gt;Benoit Perroud&lt;/a&gt;, could you please try the patch attached and see if it solves your problem? Thanks. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;, could you please review the patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="15086937" author="bperroud" created="Thu, 7 Jan 2016 06:51:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt; I did try it out, and it is working fine, the regression is gone.&lt;/p&gt;

&lt;p&gt;Thanks a lot for the quick resolution!&lt;/p&gt;</comment>
                            <comment id="15088507" author="hiveqa" created="Fri, 8 Jan 2016 00:56:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780875/HIVE-12785.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780875/HIVE-12785.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 9998 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6545/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6545/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6545/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6545/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6545/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6545/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780875 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15090842" author="pxiong" created="Sun, 10 Jan 2016 01:05:42 +0000"  >&lt;p&gt;address &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="15091288" author="hiveqa" created="Sun, 10 Jan 2016 23:29:45 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781429/HIVE-12785.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781429/HIVE-12785.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10000 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6581/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6581/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6581/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6581/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6581/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6581/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781429 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092822" author="jpullokkaran" created="Mon, 11 Jan 2016 22:31:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15094433" author="pxiong" created="Tue, 12 Jan 2016 18:24:41 +0000"  >&lt;p&gt;pushed to 2.0 and master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                            <comment id="15096915" author="bperroud" created="Wed, 13 Jan 2016 20:17:05 +0000"  >&lt;p&gt;The new version looks cleaner and is working on my side, too. Thanks!&lt;/p&gt;</comment>
                            <comment id="15096920" author="pxiong" created="Wed, 13 Jan 2016 20:20:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bperroud&quot; class=&quot;user-hover&quot; rel=&quot;bperroud&quot;&gt;Benoit Perroud&lt;/a&gt;, thanks for confirming this!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12904449">HIVE-12156</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780875" name="HIVE-12785.01.patch" size="3548" author="pxiong" created="Thu, 7 Jan 2016 02:12:43 +0000"/>
                            <attachment id="12781429" name="HIVE-12785.02.patch" size="6886" author="pxiong" created="Sun, 10 Jan 2016 01:05:42 +0000"/>
                            <attachment id="12780689" name="StructFromUnionMinimalB.java" size="3709" author="bperroud" created="Wed, 6 Jan 2016 07:25:01 +0000"/>
                            <attachment id="12780688" name="data_minimal.avro" size="400" author="bperroud" created="Wed, 6 Jan 2016 07:25:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 05:25:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qtlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12786] CBO may fail for recoverable errors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12786</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In some cases, CBO may generate an error from which it may be possible to recover. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12927645">HIVE-12786</key>
            <summary>CBO may fail for recoverable errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 01:59:43 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:27 +0000</updated>
                            <resolved>Thu, 7 Jan 2016 22:39:55 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15085478" author="hiveqa" created="Wed, 6 Jan 2016 12:15:59 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780652/HIVE-12786.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780652/HIVE-12786.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 19 failed/errored test(s), 9998 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_order2
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6527/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6527/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6527/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6527/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6527/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6527/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 19 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780652 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15087893" author="jcamachorodriguez" created="Thu, 7 Jan 2016 19:08:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15088299" author="ashutoshc" created="Thu, 7 Jan 2016 22:39:55 +0000"  >&lt;p&gt;Pushed to master &amp;amp; branch-2.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780652" name="HIVE-12786.patch" size="11385" author="ashutoshc" created="Wed, 6 Jan 2016 02:04:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 12:15:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qvan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12787] Trace improvement - Inconsistent logging upon shutdown-start of the Hive metastore process</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12787</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The log at: &lt;a href=&quot;https://github.com/apache/hive/blob/master/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java#L793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java#L793&lt;/a&gt; logged at the start of the shutdown of the Hive metastore process can be improved to match the finish of the shutdown log at: &lt;a href=&quot;https://github.com/apache/hive/blob/master/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java#L793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java#L793&lt;/a&gt;&lt;br/&gt;
by rephrasing from: &quot;Shutting down the object store...&quot; to: &quot;Metastore shutdown started...&quot;. This will match the shutdown completion log: &quot;Metastore shutdown complete.&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12927649">HIVE-12787</key>
            <summary>Trace improvement - Inconsistent logging upon shutdown-start of the Hive metastore process</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sahuja">Siddharth Ahuja</assignee>
                                    <reporter username="sahuja">Siddharth Ahuja</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 02:43:47 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:56 +0000</updated>
                            <resolved>Sat, 20 Feb 2016 23:18:05 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15088598" author="sahuja" created="Fri, 8 Jan 2016 02:28:01 +0000"  >&lt;p&gt;Attaching the patch with the updated shutdown-start log message that changes the log: &quot;Shutting down the object store...&quot; to &quot;Metastore shutdown complete...&quot;.&lt;/p&gt;</comment>
                            <comment id="15090820" author="hiveqa" created="Sat, 9 Jan 2016 23:01:04 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781125/HIVE-12787.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781125/HIVE-12787.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9985 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6566/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6566/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6566/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6566/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6566/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6566/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781125 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091302" author="sahuja" created="Mon, 11 Jan 2016 00:22:16 +0000"  >&lt;p&gt;The test failure seem not related to the changes in this JIRA.&lt;/p&gt;</comment>
                            <comment id="15106775" author="aihuaxu" created="Tue, 19 Jan 2016 14:13:59 +0000"  >&lt;p&gt;+1. Makes sense to me. &lt;/p&gt;</comment>
                            <comment id="15155806" author="ashutoshc" created="Sat, 20 Feb 2016 23:18:05 +0000"  >&lt;p&gt;Pushed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781125" name="HIVE-12787.1.patch" size="615" author="sahuja" created="Fri, 8 Jan 2016 02:28:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jan 2016 23:01:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qvbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12788] Setting hive.optimize.union.remove to TRUE will break UNION ALL with aggregate functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12788</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See the test case below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; create table test (a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
&lt;/span&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; insert overwrite table test values (1);
&lt;/span&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;No rows affected (0.01 seconds)

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.mapred.supports.subdirectories=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;No rows affected (0.007 seconds)

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; SELECT COUNT(1) FROM test UNION ALL SELECT COUNT(1) FROM test;
&lt;/span&gt;+----------+--+
| _u1._c0  |
+----------+--+
+----------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;UNION ALL without COUNT function will work as expected:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; select * from test UNION ALL SELECT * FROM test;
&lt;/span&gt;+--------+--+
| _u1.a  |
+--------+--+
| 1      |
| 1      |
+--------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the same query without setting hive.mapred.supports.subdirectories and hive.optimize.union.remove to true will give correct result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.optimize.union.remove;
&lt;/span&gt;+-----------------------------------+--+
|                set                |
+-----------------------------------+--+
| hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;  |
+-----------------------------------+--+

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; SELECT COUNT(1) FROM test UNION ALL SELECT COUNT(1) FROM test;
&lt;/span&gt;+----------+--+
| _u1._c0  |
+----------+--+
| 1        |
| 1        |
+----------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12928000">HIVE-12788</key>
            <summary>Setting hive.optimize.union.remove to TRUE will break UNION ALL with aggregate functions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang.ma">Chaoyu Tang</assignee>
                                    <reporter username="ericlin">Eric Lin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 11:19:18 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:32 +0000</updated>
                            <resolved>Wed, 13 Jan 2016 16:09:56 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15086764" author="ctang.ma" created="Thu, 7 Jan 2016 03:58:02 +0000"  >&lt;p&gt;1. When hive.compute.query.using.stats is enabled, the union all with aggregate function with union.remove optimization only returns one row, which I think is due to an issue in StatsOptimizator and I am working on now.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive&amp;gt; Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample02 union all Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample01;
OK
723
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. When hive.compute.query.using.stats is disabled, you have to set mapred.input.dir.recursive=true in order to make hive.optimize.union.remove work. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set mapred.input.dir.recursive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive&amp;gt; Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample02 union all Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample01;
WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; versions. Consider using a different execution engine (i.e. tez, spark) or using Hive 1.X releases.
Query ID = ctang_20160106151655_c0eb9943-2963-4162-b9f4-c964005bf1a3
Total jobs = 2
Launching Job 1 out of 2
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapreduce.job.reduces=&amp;lt;number&amp;gt;
Job running in-process (local Hadoop)
2016-01-06 22:47:52,677 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_local51783692_0010
Launching Job 2 out of 2
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapreduce.job.reduces=&amp;lt;number&amp;gt;
Job running in-process (local Hadoop)
2016-01-06 22:47:55,278 Stage-2 map = 100%,  reduce = 100%
Ended Job = job_local1194656206_0011
MapReduce Jobs Launched: 
Stage-Stage-1:  HDFS Read: 0 HDFS Write: 0 SUCCESS
Stage-Stage-2:  HDFS Read: 0 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 0 msec
OK
823
723
Time taken: 8.339 seconds, Fetched: 2 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. With union remove optimization disabled, union all with aggregation function always works regardless StatsOptimization is enabled or not since the StatsOptimization is not applicable.&lt;/p&gt;</comment>
                            <comment id="15089796" author="ctang.ma" created="Fri, 8 Jan 2016 19:38:22 +0000"  >&lt;p&gt;The patch adds StatsOptimizator support to union with aggregate function.&lt;/p&gt;</comment>
                            <comment id="15089817" author="ctang.ma" created="Fri, 8 Jan 2016 19:45:11 +0000"  >&lt;p&gt;Patch has been uploaded to &lt;a href=&quot;https://reviews.apache.org/r/42081/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/42081/&lt;/a&gt; . Thanks for review in advanced.&lt;/p&gt;</comment>
                            <comment id="15089867" author="ctang.ma" created="Fri, 8 Jan 2016 20:15:49 +0000"  >&lt;p&gt;This patch mainly addresses the StatsOptimization issue in union with aggregate function. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, could you help to review the patch? Thanks.&lt;/p&gt;

&lt;p&gt;I also created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12812&quot; title=&quot;Enable mapred.input.dir.recursive by default to support union with aggregate function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12812&quot;&gt;&lt;del&gt;HIVE-12812&lt;/del&gt;&lt;/a&gt; to set mapred.input.dir.recursive=true by default in Hive to address the above case 2 separately.&lt;/p&gt;</comment>
                            <comment id="15090936" author="hiveqa" created="Sun, 10 Jan 2016 07:18:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781288/HIVE-12788.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781288/HIVE-12788.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10001 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_26
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6573/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6573/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781288 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091056" author="ctang.ma" created="Sun, 10 Jan 2016 14:15:04 +0000"  >&lt;p&gt;Fix the failed tests.&lt;/p&gt;</comment>
                            <comment id="15091171" author="pxiong" created="Sun, 10 Jan 2016 19:29:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, I read your reply to my comments and I quoted here&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Could you please be more specific on the reason why &quot;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; TS[0] branch &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; src1 is not optimized, then there is no need to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; processing TS[6] branch? Thanks.
The AST tree of query (select max(value) from src1 union all select max(value) from src2) passed to StatsOptimizator after UnionRemove optimization is:
      TS[0]-&amp;gt;SEL[1]-&amp;gt;GBY[2]-RS[3]-&amp;gt;GBY[4]-&amp;gt;FS[17]   --- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src1
      TS[6]-&amp;gt;SEL[7]-&amp;gt;GBY[8]-RS[9]-&amp;gt;GBY[10]-&amp;gt;FS[18]  --- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src2
It has two top Operators, TS[0] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; table src1 and TS[6] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; table src2. If the TS[0] branch (&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src1) is not optimized but TS[6] branch (&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src2) is, in existing code, TS[6] branch result will be set to FetchTask in ParseContext and the entire query is not further compiled into MRTasks (in SemanticAnalyzer.analyzeInternal step 9). So the union query will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result with only the row from TS[6] (the subquery src2). It is obviously not right. So &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; union query, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; any one of its subqueries could not be Stats Optimizated, the whole query should not be optimized and fails back to regular plan. I wonder &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it is a littler clear. Thanks

- Chaoyu
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Did you investigate the possibility to merge the result from a FetchTask and a MR task? I would still prefer a solution that can best leverage the stats optimizer whenever possible (even only for a branch of a union). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you provide some comments on the possibility here? Thanks.&lt;/p&gt;</comment>
                            <comment id="15091878" author="hiveqa" created="Mon, 11 Jan 2016 13:17:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781454/HIVE-12788.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781454/HIVE-12788.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10004 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6587/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6587/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781454 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092720" author="ctang.ma" created="Mon, 11 Jan 2016 21:32:24 +0000"  >&lt;p&gt;The failed tests seem not related to the patch.&lt;/p&gt;</comment>
                            <comment id="15092739" author="ctang.ma" created="Mon, 11 Jan 2016 21:45:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt; Thanks for reviewing the patch. Yeah, I agree with you that it is ideal that we should optimize every subquery whenever possible, and will look into this possibility. But I wonder if we can treat it as a further enhancement with a separate JIRA so that here we can at least unblock the critical query data incorrect issue? Thanks&lt;/p&gt;</comment>
                            <comment id="15094401" author="pxiong" created="Tue, 12 Jan 2016 18:03:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, i assume i already +1 on review board. if that is not enough, +1 here. Thanks.&lt;/p&gt;</comment>
                            <comment id="15096436" author="ctang.ma" created="Wed, 13 Jan 2016 16:09:56 +0000"  >&lt;p&gt;Committed to 1.3.0, 2.0.0 and 2.1.0. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt; for reviewing the patch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12929336">HIVE-12840</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782077" name="HIVE-12788-branch-1.patch" size="47929" author="ctang.ma" created="Wed, 13 Jan 2016 16:02:34 +0000"/>
                            <attachment id="12781454" name="HIVE-12788.1.patch" size="47806" author="ctang.ma" created="Sun, 10 Jan 2016 14:15:04 +0000"/>
                            <attachment id="12781288" name="HIVE-12788.patch" size="47460" author="ctang.ma" created="Fri, 8 Jan 2016 20:03:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 03:58:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qxhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12789] Fix output twice in the history command of Beeline</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12789</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When I revised &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12780&quot; title=&quot;Fix the output of the history command in Beeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12780&quot;&gt;&lt;del&gt;HIVE-12780&lt;/del&gt;&lt;/a&gt;, I confirmed that a result of history output it twice.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;root@hadoop ~&amp;#93;&lt;/span&gt;# cat ~/.beeline/history&lt;br/&gt;
select 1;&lt;br/&gt;
select 2;&lt;br/&gt;
select 3;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@hadoop ~&amp;#93;&lt;/span&gt;# beeline&lt;br/&gt;
which: no hbase in (/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/hadoop/bin:/usr/local/hive/bin:/usr/pgsql-9.4/bin:/root/bin)&lt;br/&gt;
Beeline version 2.1.0-SNAPSHOT by Apache Hive&lt;br/&gt;
beeline&amp;gt; !history&lt;br/&gt;
1.    0: select 1;&lt;br/&gt;
1.    1: select 2;&lt;br/&gt;
1.    2: select 3;&lt;br/&gt;
1.    3: select 1;&lt;br/&gt;
1.    4: select 2;&lt;br/&gt;
1.    5: select 3;&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12928017">HIVE-12789</key>
            <summary>Fix output twice in the history command of Beeline</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sinchii">Shinichi Yamashita</assignee>
                                    <reporter username="sinchii">Shinichi Yamashita</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 13:34:42 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:49 +0000</updated>
                            <resolved>Wed, 27 Jan 2016 16:51:09 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15087315" author="sinchii" created="Thu, 7 Jan 2016 12:52:54 +0000"  >&lt;p&gt;I attach a patch file.&lt;/p&gt;</comment>
                            <comment id="15088834" author="hiveqa" created="Fri, 8 Jan 2016 07:33:10 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780960/HIVE-12789.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780960/HIVE-12789.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6549/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6549/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6549/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6549/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6549/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6549/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780960 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091077" author="sinchii" created="Sun, 10 Jan 2016 15:16:23 +0000"  >&lt;p&gt;Jline 2.12 is processing load method in new FileHistory(File).&lt;br/&gt;
I confirmed that it is in the following code at BeeLine#getConsoleReader.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-comment&quot;&gt;// now set the output &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the history
&lt;/span&gt;      consoleReader.setHistory(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileHistory(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(...)));
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And load method is disposed of again in BeeLine#getConsoleReader.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hist != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        History h = consoleReader.getHistory();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (h &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; FileHistory) {
          ((FileHistory) consoleReader.getHistory()).load(...));
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; { 
        (snip)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think this problem occurs by these. And I revise it not to call load in the latter half.&lt;/p&gt;</comment>
                            <comment id="15092019" author="hiveqa" created="Mon, 11 Jan 2016 14:56:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781455/HIVE-12789.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781455/HIVE-12789.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10004 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6588/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6588/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6588/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6588/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6588/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6588/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781455 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15118686" author="ashutoshc" created="Wed, 27 Jan 2016 05:24:16 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15119759" author="ashutoshc" created="Wed, 27 Jan 2016 16:51:09 +0000"  >&lt;p&gt;Pushed to master. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sinchii&quot; class=&quot;user-hover&quot; rel=&quot;sinchii&quot;&gt;Shinichi Yamashita&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780960" name="HIVE-12789.1.patch" size="3757" author="sinchii" created="Thu, 7 Jan 2016 12:52:54 +0000"/>
                            <attachment id="12781455" name="HIVE-12789.2.patch" size="3232" author="sinchii" created="Sun, 10 Jan 2016 15:16:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2016 07:33:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qxlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12790] Metastore connection leaks in HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12790</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 keeps opening new connections to HMS each time it launches a task. These connections do not appear to be closed when the task completes thus causing a HMS connection leak. &quot;lsof&quot; for the HS2 process shows connections to port 9083.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-12-03 04:20:56,352 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 11 out of 41
2015-12-03 04:20:56,354 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:20:56,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14824
2015-12-03 04:20:56,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
....
2015-12-03 04:21:06,355 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 12 out of 41
2015-12-03 04:21:06,357 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:21:06,362 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14825
2015-12-03 04:21:06,362 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
...
2015-12-03 04:21:08,357 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 13 out of 41
2015-12-03 04:21:08,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:21:08,364 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14826
2015-12-03 04:21:08,365 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
... 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The TaskRunner thread starts a new SessionState each time, which creates a new connection to the HMS (via Hive.get(conf).getMSC()) that is never closed.&lt;/p&gt;

&lt;p&gt;Even SessionState.close(), currently not being called by the TaskRunner thread, does not close this connection.&lt;/p&gt;

&lt;p&gt;Attaching a anonymized log snippet where the number of HMS connections reaches north of 25000+ connections.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928076">HIVE-12790</key>
            <summary>Metastore connection leaks in HiveServer2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ngangam">Naveen Gangam</assignee>
                                    <reporter username="ngangam">Naveen Gangam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 17:46:27 +0000</created>
                <updated>Thu, 11 May 2017 23:03:32 +0000</updated>
                            <resolved>Fri, 5 Feb 2016 14:10:14 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                <comments>
                            <comment id="15085925" author="ngangam" created="Wed, 6 Jan 2016 17:48:31 +0000"  >&lt;p&gt;Log snippet containing only the messages around the creation of connections to HMS and showing current HMS connection counts.&lt;/p&gt;</comment>
                            <comment id="15086001" author="thejas" created="Wed, 6 Jan 2016 18:26:11 +0000"  >&lt;p&gt;TaskRunner should not be creating a new SessionState object. The SessionState object is expected to be used for the entire hive session. The right fix would be to not create additional SessionState in TaskRunner (assuming thats happening).&lt;/p&gt;
</comment>
                            <comment id="15086014" author="thejas" created="Wed, 6 Jan 2016 18:33:10 +0000"  >&lt;p&gt;Also, there is no association of Hive object to SessionState right now. Doing a close within SessionState.close does not seem right.&lt;br/&gt;
Are you sure that the TaskRunner actually creates a new SessionState ?&lt;br/&gt;
Is this something that happens only when hive.exec.parallel=true ?&lt;/p&gt;</comment>
                            <comment id="15086232" author="ngangam" created="Wed, 6 Jan 2016 20:33:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; These logs are based on Hive 0.13 and I just realized the Hive object and SessionState are no longer associated in the latest release. Regardless, given that a new connection to the HMS is established every time right after the log message &quot;Launching Job&quot; is printed, it points to the the following code in Driver.launchTask()&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      console.printInfo(&lt;span class=&quot;code-quote&quot;&gt;&quot;Launching Job &quot;&lt;/span&gt; + cxt.getCurJobNo() + &lt;span class=&quot;code-quote&quot;&gt;&quot; out of &quot;&lt;/span&gt; + jobs);
    }
    tsk.initialize(conf, plan, cxt);
    TaskResult tskRes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TaskResult();
    TaskRunner tskRun = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TaskRunner(tsk, tskRes);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The last line above launches a new thread and the first message from that new thread is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-12-03 04:21:08,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it appeared that the following codepath was creating new HMS connections  &lt;br/&gt;
TaskRunner.run()-&lt;del&gt;&amp;gt;SessionState.start()&lt;/del&gt;-&amp;gt;Hive.get().getMSC()&lt;/p&gt;

&lt;p&gt;Hive.get() should return a shared instance but for some reason, is it possible that it is closing the current and returning a new instance?&lt;/p&gt;</comment>
                            <comment id="15086265" author="thejas" created="Wed, 6 Jan 2016 20:57:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;The last line above launches a new thread and the first message from that new thread is&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is not what i expect. I expect new thread to be launched later at - tskRun.start(); (that gets called when hive.exec.parallel=true).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Hive.get() should return a shared instance&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That returns a thread local instance if it already exists. In this case this is a new thread, so new instances gets created.&lt;br/&gt;
You can close that one if a separate thread was used for task execution&lt;/p&gt;</comment>
                            <comment id="15086269" author="ngangam" created="Wed, 6 Jan 2016 20:58:31 +0000"  >
&lt;p&gt;Just to add a bit more context, the logs are from an environment where HS2 is running Talend generated hive queries via JDBC. I dont know much about Talend other than treating it as a JDBC app connecting to HS2. I would imagine it is capable of launching parallel jobs (I have seen tasks from different queries get launched one after the other in a different log file). &lt;br/&gt;
So Beeline is not in the picture.&lt;/p&gt;</comment>
                            <comment id="15086324" author="ngangam" created="Wed, 6 Jan 2016 21:27:09 +0000"  >
&lt;p&gt;Yes, you are right. I meant whenever start() is called on that thread because no other log messages appears to be logged between these 2 events.&lt;/p&gt;

&lt;p&gt;The proposed fix calls SessionState.close() from its run() method, so it should only close it when executing in a new thread. &lt;/p&gt;

&lt;p&gt;Since Hive and SessionState are no longer associated, I can move the Hive.closeCurrent() cleanup to the TaskRunner itself, right before the SS.close(). But shouldnt the thread local variables be cleaned up when a session is closed? (we still do Hive.get() in SessionState).&lt;/p&gt;

&lt;p&gt;Thoughts? Thank you in advance.&lt;/p&gt;</comment>
                            <comment id="15088083" author="thejas" created="Thu, 7 Jan 2016 20:51:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;The proposed fix calls SessionState.close() from its run() method, so it should only close it when executing in a new thread.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;SeesionState is needed beyond the lifetime of the current query execution, as it represents a session.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But shouldn&apos;t the thread local variables be cleaned up when a session is closed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We don&apos;t maintain a session to threads/threadlocal mapping. It should ideally be closed when the thread is being released.&lt;br/&gt;
Also, Hive.get() is called from many places outside of SessionState as well.&lt;/p&gt;

&lt;p&gt;You can call Hive.closeCurrent() in the place where you added the call to ss.close to fix this.&lt;/p&gt;</comment>
                            <comment id="15088169" author="ngangam" created="Thu, 7 Jan 2016 21:40:06 +0000"  >
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; and I just discussed exactly what you just mentioned. I think we agree that SessionState.close() should not be called as it is shared across threads within a session. I will take another look to confirm that Hive instance is not being shared across threads as well before I upload another patch.&lt;/p&gt;

&lt;p&gt;Appreciate your input on this. Thanks much.&lt;/p&gt;</comment>
                            <comment id="15088185" author="ngangam" created="Thu, 7 Jan 2016 21:50:27 +0000"  >
&lt;p&gt;Review was posted to RB yesterday at &lt;a href=&quot;https://reviews.apache.org/r/41990/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/41990/&lt;/a&gt; &lt;br/&gt;
It currently has the patch from yesterday. I will refresh it when I have a new version.&lt;/p&gt;</comment>
                            <comment id="15122256" author="ngangam" created="Thu, 28 Jan 2016 20:15:41 +0000"  >&lt;p&gt;I have verified that this appears to be a problem in the newest code too when &quot;hive.exec.parallel&quot; is set to true. &lt;br/&gt;
I am attaching a new patch based on the conversation from a few days ago. It appears to fix the issue.&lt;/p&gt;</comment>
                            <comment id="15123659" author="aihuaxu" created="Fri, 29 Jan 2016 16:12:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; I had a minor issue regarding the comment in text. Otherwise, looks good to me.  +1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you also take a look? Thanks.&lt;/p&gt;</comment>
                            <comment id="15125197" author="hiveqa" created="Sun, 31 Jan 2016 01:58:06 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12785008/HIVE-12790.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12785008/HIVE-12790.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10047 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_aggregate_without_gby
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6805/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6805/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12785008 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15128417" author="ngangam" created="Tue, 2 Feb 2016 15:41:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Could you please review the fix when you have a moment? Thank you in advance.&lt;/p&gt;</comment>
                            <comment id="15128959" author="thejas" created="Tue, 2 Feb 2016 20:28:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; Thanks for checking with me. Added some comments in review board.&lt;br/&gt;
I don&apos;t think the SessionState.close calling Hive.close is necessary to deal with the issue of connection leak when hive.exec.parallel=true. However, it can help with case when the thread pool in HS2 expands and contracts, at least in case of binary transport mode, where a thread is associated with a session/connection.&lt;/p&gt;</comment>
                            <comment id="15129244" author="ngangam" created="Tue, 2 Feb 2016 22:51:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Agreed, the fix in SS.close() was not specifically for this issue. It was meant as a general cleanup fix. &lt;/p&gt;</comment>
                            <comment id="15130564" author="ngangam" created="Wed, 3 Feb 2016 15:33:49 +0000"  >&lt;p&gt;1) Fixed the comment in the code.&lt;br/&gt;
2) Any exception throw on Hive.closeCurrent() will now be logged.&lt;/p&gt;</comment>
                            <comment id="15131442" author="thejas" created="Thu, 4 Feb 2016 00:29:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15133279" author="hiveqa" created="Thu, 4 Feb 2016 23:08:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12786030/HIVE-12790.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12786030/HIVE-12790.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10051 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6865/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6865/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12786030 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15134217" author="ngangam" created="Fri, 5 Feb 2016 14:03:54 +0000"  >&lt;p&gt;The test failures are not related to the patch. The failing qtest works fine locally.&lt;/p&gt;</comment>
                            <comment id="15134224" author="aihuaxu" created="Fri, 5 Feb 2016 14:10:14 +0000"  >&lt;p&gt;Pushed to master. Thanks Naveen for the work and Thejas for reviewing.&lt;/p&gt;</comment>
                            <comment id="15134238" author="ngangam" created="Fri, 5 Feb 2016 14:22:29 +0000"  >&lt;p&gt;Thanks for reviewing and pushing this thru &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15134240" author="aihuaxu" created="Fri, 5 Feb 2016 14:25:21 +0000"  >&lt;p&gt;Pushed to branch-1 and branch-2.0 as well.&lt;/p&gt;</comment>
                            <comment id="15137498" author="sershe" created="Mon, 8 Feb 2016 19:17:53 +0000"  >&lt;p&gt;Assuming the current RC passes, this will not make it into 2.0 as it was committed after the RC was cut.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12785008" name="HIVE-12790.2.patch" size="1910" author="ngangam" created="Thu, 28 Jan 2016 20:15:41 +0000"/>
                            <attachment id="12786030" name="HIVE-12790.3.patch" size="2268" author="ngangam" created="Wed, 3 Feb 2016 15:33:49 +0000"/>
                            <attachment id="12780802" name="HIVE-12790.patch" size="1814" author="ngangam" created="Wed, 6 Jan 2016 18:06:48 +0000"/>
                            <attachment id="12780794" name="snippedLog.txt" size="6301498" author="ngangam" created="Wed, 6 Jan 2016 17:48:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 18:26:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qxyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12791] Truncated table stats should return 0 as datasize</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12791</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table s as select * from src;
truncate table s;
hive&amp;gt; explain select * from s;
OK
STAGE DEPENDENCIES:
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-0
    Fetch Operator
      limit: -1
      Processor Tree:
        TableScan
          alias: s
          Statistics: Num rows: 29 Data size: 5812 Basic stats: COMPLETE Column stats: NONE
          Select Operator
            expressions: key (type: string), value (type: string)
            outputColumnNames: _col0, _col1
            Statistics: Num rows: 29 Data size: 5812 Basic stats: COMPLETE Column stats: NONE
            ListSink

Time taken: 0.048 seconds, Fetched: 17 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should be &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Num rows: 1 Data size: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928122">HIVE-12791</key>
            <summary>Truncated table stats should return 0 as datasize</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12921361">HIVE-12661</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 20:30:28 +0000</created>
                <updated>Thu, 24 Aug 2017 14:46:50 +0000</updated>
                            <resolved>Wed, 8 Jun 2016 22:46:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15321598" author="pxiong" created="Wed, 8 Jun 2016 22:46:25 +0000"  >&lt;p&gt;after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12661&quot; title=&quot;StatsSetupConst.COLUMN_STATS_ACCURATE is not used correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12661&quot;&gt;&lt;del&gt;HIVE-12661&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16140110" author="belugabehr" created="Thu, 24 Aug 2017 14:46:50 +0000"  >&lt;p&gt;I believe this is still an issue. Please confirm and re-open &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Aug 2017 14:46:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qy8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12792] HIVE-12075 didn&apos;t update operation type for plugins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12792</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928127">HIVE-12792</key>
            <summary>HIVE-12075 didn&apos;t update operation type for plugins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 21:21:02 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:45 +0000</updated>
                            <resolved>Fri, 8 Jan 2016 20:04:26 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15086321" author="sershe" created="Wed, 6 Jan 2016 21:22:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; can you take a look? In general, I wonder why we have to have 2 enums and two separate permission models with potentially different requirements per operation for SQL and plugins. That seems broken.&lt;/p&gt;</comment>
                            <comment id="15087528" author="hiveqa" created="Thu, 7 Jan 2016 14:57:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780836/HIVE-12792.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780836/HIVE-12792.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 9982 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6538/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6538/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6538/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6538/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6538/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6538/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: NonZeroExitCodeException
Command &apos;cd /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-6538/ &amp;amp;&amp;amp; tar -zvcf test-results.tar.gz test-results/&apos; failed with exit status 141 and output &apos;test-results/
test-results/TEST-TestMiniSparkOnYarnCliDriver-TEST-org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.xml
test-results/TEST-TestStorageBasedMetastoreAuthorizationProvider-TEST-org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.xml
test-results/TEST-TestGenericUDFLastDay-TEST-org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFLastDay.xml
test-results/TEST-TestMetaStoreInitListener-TEST-org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.xml
test-results/TEST-TestAcidTableSerializer-TEST-org.apache.hive.hcatalog.streaming.mutate.client.TestAcidTableSerializer.xml
test-results/TEST-TestHiveAuthorizerShowFilters-TEST-org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.xml
test-results/TEST-TestMetaStoreListenersError-TEST-org.apache.hadoop.hive.metastore.TestMetaStoreListenersError.xml
test-results/TEST-TestFolderPermissions-TEST-org.apache.hadoop.hive.ql.security.TestFolderPermissions.xml
test-results/TEST-TestBucketIdResolverImpl-TEST-org.apache.hive.hcatalog.streaming.mutate.worker.TestBucketIdResolverImpl.xml
test-results/TEST-TestMutatorCoordinator-TEST-org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator.xml
test-results/TEST-TestInputJobInfo-TEST-org.apache.hive.hcatalog.mapreduce.TestInputJobInfo.xml
test-results/TEST-TestVectorTimestampExpressions-TEST-org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTimestampExpressions.xml
test-results/TEST-TestHiveSessionImpl-TEST-org.apache.hive.service.cli.session.TestHiveSessionImpl.xml
test-results/TEST-TestPerformTestRCFileAndSeqFile-TEST-org.apache.hadoop.hive.ql.io.TestPerformTestRCFileAndSeqFile.xml
test-results/TEST-TestHiveDecimalParse-TEST-org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.xml
test-results/TEST-TestHiveClientCache-TEST-org.apache.hive.hcatalog.common.TestHiveClientCache.xml
test-results/TEST-TestLockRequestBuilder-TEST-org.apache.hadoop.hive.metastore.TestLockRequestBuilder.xml
test-results/TEST-TestDefaultAccumuloRowIdFactory-TEST-org.apache.hadoop.hive.accumulo.serde.TestDefaultAccumuloRowIdFactory.xml
test-results/TEST-TestCliDriver-load_dyn_part5.q-ppd_constant_where.q-alter_view_rename.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestSparkCliDriver-join39.q-stats12.q-union27.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestMinimrCliDriver-table_nonprintable.q-load_fs2.q-insert_dir_distcp.q-and-1-more-TEST-org.apache.hadoop.hive.cli.TestMinimrCliDriver.xml
test-results/TEST-TestMapJoinMemoryExhaustionHandler-TEST-org.apache.hadoop.hive.ql.exec.mapjoin.TestMapJoinMemoryExhaustionHandler.xml
test-results/TEST-TestHiveBinarySearchRecordReader-TEST-org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.xml
test-results/TEST-TestSparkCliDriver-auto_join9.q-bucketmapjoin10.q-skewjoinopt19.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestCliDriver-cbo_rp_lineage2.q-show_indexes_edge_cases.q-add_part_exist.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestLog4j2Appenders-TEST-org.apache.hadoop.hive.ql.log.TestLog4j2Appenders.xml
test-results/TEST-TestCliDriver-cbo_rp_udf_udaf.q-table_access_keys_stats.q-show_tblproperties.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestGenericUDFLevenshtein-TEST-org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFLevenshtein.xml
test-results/TEST-TestSparkCliDriver-join_cond_pushdown_unqual4.q-vectorization_16.q-groupby10.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestOrcStruct-TEST-org.apache.hadoop.hive.ql.io.orc.TestOrcStruct.xml
test-results/TEST-TestCliDriver-udf_decode.q-update_orig_table.q-join44.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestTempletonUtils-TEST-org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.xml
test-results/TEST-TestCliDriver-inputddl8.q-auto_join24.q-cast1.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestGenericAvroRecordWritable-TEST-org.apache.hadoop.hive.serde2.avro.TestGenericAvroRecordWritable.xml
test-results/TEST-TestCliDriver-cbo_rp_stats.q-skewjoinopt16.q-rename_column.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestSparkCliDriver-union_top_level.q-bucketmapjoin_negative3.q-union_remove_1.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestSessionManagerMetrics-TEST-org.apache.hive.service.cli.session.TestSessionManagerMetrics.xml
test-results/TEST-TestSparkCliDriver-load_dyn_part5.q-skewjoinopt8.q-groupby1_noskew.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestDateWritable-TEST-org.apache.hadoop.hive.serde2.io.TestDateWritable.xml
test-results/TEST-TestObjectInspectorConverters-TEST-org.apache.hadoop.hive.serde2.objectinspector.TestObjectInspectorConverters.xml
test-results/TEST-TestLazyHBaseObject-TEST-org.apache.hadoop.hive.hbase.TestLazyHBaseObject.xml
test-results/TEST-TestHiveIntervalYearMonthWritable-TEST-org.apache.hadoop.hive.serde2.io.TestHiveIntervalYearMonthWritable.xml
test-results/TEST-TestGroupingValidator-TEST-org.apache.hive.hcatalog.streaming.mutate.worker.TestGroupingValidator.xml
test-results/TEST-TestListBucketingPrunner-TEST-org.apache.hadoop.hive.ql.optimizer.listbucketingpruner.TestListBucketingPrunner.xml
test-results/TEST-TestAbstractParquetMapInspector-TEST-org.apache.hadoop.hive.ql.io.parquet.serde.TestAbstractParquetMapInspector.xml
test-results/TEST-TestSparkCliDriver-tez_joins_explain.q-input17.q-union29.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestSparkCliDriver.xml
test-results/TEST-TestVectorFilterExpressions-TEST-org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorFilterExpressions.xml
test-results/TEST-TestCliDriver-skewjoinopt15.q-udf_percentile.q-join35.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
test-results/TEST-TestCliDriver-union_remove_1.q-mapjoin_mapjoin.q-constantPropWhen.q-and-12-more-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780836 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15087891" author="sershe" created="Thu, 7 Jan 2016 19:08:21 +0000"  >&lt;p&gt;Adding the insert privilege after some discussion.&lt;/p&gt;</comment>
                            <comment id="15088375" author="thejas" created="Thu, 7 Jan 2016 23:25:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15088378" author="thejas" created="Thu, 7 Jan 2016 23:26:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wonder why we have to have 2 enums and two separate permission models with potentially different requirements per operation for SQL and plugins. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The permissions in HiveOperation class are used by the old broken authorization mode. SQLStandardAuth uses the different set defined in Operation2Privilege&lt;/p&gt;</comment>
                            <comment id="15089845" author="sershe" created="Fri, 8 Jan 2016 20:04:26 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12927334">HIVE-12781</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12903566">HIVE-12075</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781026" name="HIVE-12792.01.patch" size="1661" author="sershe" created="Thu, 7 Jan 2016 19:08:21 +0000"/>
                            <attachment id="12780836" name="HIVE-12792.patch" size="1628" author="sershe" created="Wed, 6 Jan 2016 21:22:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 14:57:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qy9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12793] Address TestSparkCliDriver.testCliDriver_order2 failure due to HIVE-12782</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12793</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928135">HIVE-12793</key>
            <summary>Address TestSparkCliDriver.testCliDriver_order2 failure due to HIVE-12782</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12927108">HIVE-12773</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 21:54:50 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:37 +0000</updated>
                            <resolved>Wed, 6 Jan 2016 23:13:54 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15086367" author="pxiong" created="Wed, 6 Jan 2016 22:06:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you please take a look? It is just a simple golden file update... Thanks.&lt;/p&gt;</comment>
                            <comment id="15086440" author="ashutoshc" created="Wed, 6 Jan 2016 22:52:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15086465" author="pxiong" created="Wed, 6 Jan 2016 23:13:28 +0000"  >&lt;p&gt;pushed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780841" name="HIVE-12793.01.patch" size="3079" author="pxiong" created="Wed, 6 Jan 2016 22:05:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 22:52:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qybj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12794] LLAP cannot run queries against HBase due to missing HBase jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12794</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928145">HIVE-12794</key>
            <summary>LLAP cannot run queries against HBase due to missing HBase jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="taksaito">Takahiko Saito</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 22:06:39 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:34 +0000</updated>
                            <resolved>Thu, 14 Jan 2016 23:38:54 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15086475" author="sershe" created="Wed, 6 Jan 2016 23:17:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; can you take a look? This adds HBase dependency jars to LLAP.&lt;/p&gt;</comment>
                            <comment id="15088163" author="hiveqa" created="Thu, 7 Jan 2016 21:38:29 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780854/HIVE-12794.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780854/HIVE-12794.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9997 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6543/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6543/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6543/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6543/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6543/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780854 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15093281" author="hagleitn" created="Tue, 12 Jan 2016 04:38:39 +0000"  >&lt;p&gt;LGTM +1&lt;/p&gt;</comment>
                            <comment id="15094464" author="sershe" created="Tue, 12 Jan 2016 18:46:29 +0000"  >&lt;p&gt;Rebased the patch; also fixed a small issue where failing to add HBase jars would fail, but failing to add the HBase serde jar would just print error and proceed.&lt;/p&gt;</comment>
                            <comment id="15094857" author="sershe" created="Tue, 12 Jan 2016 20:24:24 +0000"  >&lt;p&gt;Apparently, adding the new args does not play well with the python script. Changing getopts to argparse. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=t3rmin4t0r&quot; class=&quot;user-hover&quot; rel=&quot;t3rmin4t0r&quot;&gt;Gopal V&lt;/a&gt; fyi&lt;/p&gt;</comment>
                            <comment id="15095553" author="hiveqa" created="Wed, 13 Jan 2016 03:49:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781911/HIVE-12794.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781911/HIVE-12794.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10018 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6606/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6606/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6606/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6606/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6606/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6606/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781911 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15098701" author="sershe" created="Thu, 14 Jan 2016 19:35:42 +0000"  >&lt;p&gt;Posted RB.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/42318/diff/1-2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/42318/diff/1-2/&lt;/a&gt; are the changes that are not yet +1-d&lt;/p&gt;</comment>
                            <comment id="15098715" author="hagleitn" created="Thu, 14 Jan 2016 19:41:38 +0000"  >&lt;p&gt;+1 to .02 (latest)&lt;/p&gt;</comment>
                            <comment id="15099134" author="sershe" created="Thu, 14 Jan 2016 23:38:54 +0000"  >&lt;p&gt;Committed to master and branch-2.0. Thanks for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781879" name="HIVE-12794.01.patch" size="9565" author="sershe" created="Tue, 12 Jan 2016 18:46:29 +0000"/>
                            <attachment id="12781911" name="HIVE-12794.02.patch" size="13075" author="sershe" created="Tue, 12 Jan 2016 20:24:24 +0000"/>
                            <attachment id="12780854" name="HIVE-12794.patch" size="9186" author="sershe" created="Wed, 6 Jan 2016 23:17:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 23:17:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qydr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12795] Vectorized execution causes ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12795</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In some hive versions, when&lt;br/&gt;
set hive.auto.convert.join=false;&lt;br/&gt;
set hive.vectorized.execution.enabled = true;&lt;/p&gt;

&lt;p&gt;Some join queries fail with ClassCastException:&lt;br/&gt;
The stack:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazy.objectinspector.primitive.LazyStringObjectInspector cannot be cast to org.apache.hadoop.hive.serde2.objectinspector.primitive.SettableStringObjectInspector
at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory.genVectorExpressionWritable(VectorExpressionWriterFactory.java:419)
at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory.processVectorInspector(VectorExpressionWriterFactory.java:1102)
at org.apache.hadoop.hive.ql.exec.vector.VectorReduceSinkOperator.initializeOp(VectorReduceSinkOperator.java:55)
at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:469)
at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:425)
at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:193)
at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:431)
at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:385)
at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:126)
... 22 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It can not be reproduced in hive 2.0 and 1.3 because of different code path. &lt;br/&gt;
Reproduce:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
CREATE TABLE test1
 (
   id string)
   PARTITIONED BY (
  cr_year bigint,
  cr_month bigint)
 ROW FORMAT SERDE
  &apos;org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe&apos;
STORED AS INPUTFORMAT
  &apos;org.apache.hadoop.hive.ql.io.RCFileInputFormat&apos;
OUTPUTFORMAT
  &apos;org.apache.hadoop.hive.ql.io.RCFileOutputFormat&apos;
TBLPROPERTIES (
  &apos;serialization.null.format&apos;=&apos;&apos; );
  
  CREATE TABLE test2(
    id string
  )
   PARTITIONED BY (
  cr_year bigint,
  cr_month bigint)
ROW FORMAT SERDE
  &apos;org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe&apos;
STORED AS INPUTFORMAT
  &apos;org.apache.hadoop.hive.ql.io.RCFileInputFormat&apos;
OUTPUTFORMAT
  &apos;org.apache.hadoop.hive.ql.io.RCFileOutputFormat&apos;
TBLPROPERTIES (
  &apos;serialization.null.format&apos;=&apos;&apos;
 );
set hive.auto.convert.join=false;
set hive.vectorized.execution.enabled = true;
 SELECT cr.id1 ,
cr.id2 
FROM
(SELECT t1.id id1,
 t2.id id2
 from
 (select * from test1 ) t1
 left outer join test2  t2
 on t1.id=t2.id) cr;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12928158">HIVE-12795</key>
            <summary>Vectorized execution causes ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ychena">Yongzhi Chen</assignee>
                                    <reporter username="ychena">Yongzhi Chen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 22:40:40 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:45 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 15:30:46 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15087566" author="ychena" created="Thu, 7 Jan 2016 15:21:46 +0000"  >&lt;p&gt;The patch fix the issue by making sure to use WritableObjectInspector.&lt;/p&gt;</comment>
                            <comment id="15087569" author="ychena" created="Thu, 7 Jan 2016 15:23:40 +0000"  >&lt;p&gt;Need code review.&lt;/p&gt;</comment>
                            <comment id="15087727" author="aihuaxu" created="Thu, 7 Jan 2016 17:32:31 +0000"  >&lt;p&gt;Seems more natural to use TypeInfoUtils.getTypeInfoFromObjectInspector(field.getFieldObjectInspector())); to me to get TypeInfo. But I guess both approaches work.&lt;/p&gt;

&lt;p&gt;+1 on pending test.&lt;/p&gt;
</comment>
                            <comment id="15089285" author="hiveqa" created="Fri, 8 Jan 2016 14:43:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780982/HIVE-12795.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780982/HIVE-12795.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6552/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6552/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6552/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6552/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6552/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6552/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780982 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15089321" author="ychena" created="Fri, 8 Jan 2016 15:12:37 +0000"  >&lt;p&gt;The failures are not related, their ages are 18 or more.&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; for your advice, attach second patch to use TypeInfoUtils.getTypeInfoFromObjectInspector.&lt;/p&gt;</comment>
                            <comment id="15090864" author="hiveqa" created="Sun, 10 Jan 2016 02:18:48 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781225/HIVE-12795.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781225/HIVE-12795.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 10001 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6568/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6568/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6568/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6568/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6568/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6568/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781225 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15090872" author="ychena" created="Sun, 10 Jan 2016 03:00:06 +0000"  >&lt;p&gt;The failures are not related.&lt;/p&gt;</comment>
                            <comment id="15092124" author="ychena" created="Mon, 11 Jan 2016 15:30:46 +0000"  >&lt;p&gt;Integrated into master and branch-1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780982" name="HIVE-12795.1.patch" size="5702" author="ychena" created="Thu, 7 Jan 2016 15:23:11 +0000"/>
                            <attachment id="12781225" name="HIVE-12795.2.patch" size="5693" author="ychena" created="Fri, 8 Jan 2016 15:12:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 17:32:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qygn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12796] Switch to 32-bits containers for HMS upgrade tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12796</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive metastore upgrade tests create LXC containers for each of the databases server supported by HMS. These containers are default to Ubuntu 64-bits. &lt;/p&gt;

&lt;p&gt;The Oracle database libraries are correctly executed on 32-bits only. We should switch to 32-bits containers for all the database servers to allow tests being executed for Oracle as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928165">HIVE-12796</key>
            <summary>Switch to 32-bits containers for HMS upgrade tests</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spena">Sergio Pe&#241;a</assignee>
                                    <reporter username="spena">Sergio Pe&#241;a</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 22:56:49 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:48 +0000</updated>
                            <resolved>Wed, 6 Jan 2016 23:35:53 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15086457" author="spena" created="Wed, 6 Jan 2016 23:05:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; I just need to create an LXC container with i386 architecture. Once this is committed, I will destroy the current 64-bits containers to allow the script create new ones.&lt;/p&gt;

&lt;p&gt;Could you review it?&lt;/p&gt;</comment>
                            <comment id="15086501" author="spena" created="Wed, 6 Jan 2016 23:35:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; I committed this to master. Could you try submitting the patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10468&quot; title=&quot;Create scripts to do metastore upgrade tests on jenkins for Oracle DB.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10468&quot;&gt;&lt;del&gt;HIVE-10468&lt;/del&gt;&lt;/a&gt; to see if that works? &lt;/p&gt;

&lt;p&gt;I also destroyed and created the Oracle container on the HMS amazon instance because the script will not re-create the container if it already exists.&lt;/p&gt;</comment>
                            <comment id="15087238" author="ngangam" created="Thu, 7 Jan 2016 11:33:20 +0000"  >&lt;p&gt;Fix looks good to me. +1 from my end.&lt;/p&gt;</comment>
                            <comment id="15087239" author="ngangam" created="Thu, 7 Jan 2016 11:34:11 +0000"  >&lt;p&gt;Yes, I will submit a new rebased patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10468&quot; title=&quot;Create scripts to do metastore upgrade tests on jenkins for Oracle DB.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10468&quot;&gt;&lt;del&gt;HIVE-10468&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12823560">HIVE-10468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780853" name="HIVE-12796.1.patch" size="649" author="spena" created="Wed, 6 Jan 2016 23:03:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 11:33:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qyi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12797] Synchronization issues with tez/llap session pool in hs2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12797</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The changes introduced as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12674&quot; title=&quot;HS2 Tez sessions should have maximum age&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12674&quot;&gt;&lt;del&gt;HIVE-12674&lt;/del&gt;&lt;/a&gt; causes issues while shutting down hs2 when session pools are used.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.util.ConcurrentModificationException
        at java.util.LinkedList$ListItr.checkForComodification(LinkedList.java:966) ~[?:1.8.0_45]
        at java.util.LinkedList$ListItr.remove(LinkedList.java:921) ~[?:1.8.0_45]
        at org.apache.hadoop.hive.ql.exec.tez.TezSessionPoolManager.stop(TezSessionPoolManager.java:288) ~[hive-exec-2.0.0.2.3.5.0-79.jar:2.0.0.2.3.5.0-79]
        at org.apache.hive.service.server.HiveServer2.stop(HiveServer2.java:479) [hive-jdbc-2.0.0.2.3.5.0-79-standalone.jar:2.0.0.2.3.5.0-79]
        at org.apache.hive.service.server.HiveServer2$2.run(HiveServer2.java:183) [hive-jdbc-2.0.0.2.3.5.0-79-standalone.jar:2.0.0.2.3.5.0-79]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928169">HIVE-12797</key>
            <summary>Synchronization issues with tez/llap session pool in hs2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 23:01:24 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:37 +0000</updated>
                            <resolved>Tue, 26 Jan 2016 01:00:04 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15086452" author="vikram.dixit" created="Wed, 6 Jan 2016 23:02:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can you review please?&lt;/p&gt;</comment>
                            <comment id="15086563" author="sershe" created="Thu, 7 Jan 2016 00:21:31 +0000"  >&lt;p&gt;openSessions is already a synchronized list. Should the synchronized list part be removed then?&lt;/p&gt;</comment>
                            <comment id="15086567" author="vikram.dixit" created="Thu, 7 Jan 2016 00:24:33 +0000"  >&lt;p&gt;From the documentation of synchronized list:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Returns a &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (thread-safe) list backed by the specified list. In order to guarantee serial access, it is critical that all access to the backing list is accomplished through the returned list.

It is imperative that the user manually synchronize on the returned list when iterating over it:

  List list = Collections.synchronizedList(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList());
      ...
  &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (list) {
      Iterator i = list.iterator(); &lt;span class=&quot;code-comment&quot;&gt;// Must be in &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; block
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (i.hasNext())
          foo(i.next());
  }
 
Failure to follow &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; advice may result in non-deterministic behavior.
The returned list will be serializable &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the specified list is serializable.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like we need a synchronized block even when the list is called a synchronized list.&lt;/p&gt;</comment>
                            <comment id="15086572" author="sershe" created="Thu, 7 Jan 2016 00:30:56 +0000"  >&lt;p&gt;Yeah, but we don&apos;t need the original synchronized list I assume, given that we synchronize manually. Also TezJobMonitor iterates openSessions via getOpenSessions. It&apos;d need to get a snapshot or something.&lt;/p&gt;</comment>
                            <comment id="15088003" author="hiveqa" created="Thu, 7 Jan 2016 19:59:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12780852/HIVE-12797.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12780852/HIVE-12797.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9997 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6542/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6542/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6542/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6542/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6542/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6542/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12780852 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15088148" author="vikram.dixit" created="Thu, 7 Jan 2016 21:32:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; It looks like we only need the synchronization for the iterations according to the javadoc. I added the synchronized block in the TezJobMonitor and while at it found another synchronizedList being used in a similar fashion inside that class and fixed that as well. I can remove this synchronizedList business fully as it actually does the same thing as using a synchronized block internally in its add/remove methods. I am leaning towards the solution in this patch for now. Let me know if you feel strongly towards removing this synchronized list and synchronize manually.&lt;/p&gt;</comment>
                            <comment id="15088239" author="sershe" created="Thu, 7 Jan 2016 22:19:32 +0000"  >&lt;p&gt;I don&apos;t think this will work unless I&apos;m missing something... synchronized list synchronizes on internal mutex whereas iterations in the patch synchronize on the object, so nothing should prevent the list from being modified during one of the loops.&lt;br/&gt;
Imho there&apos;s no reason to have SynchronizedList here.&lt;br/&gt;
Also an interface where you getOpenSessions() but then have to sync on it is highly unobvious. If java had proper destructors, it would be easy to wrap, but as is I think we should shallow-copy the list and maybe rename method to OpenSessionsSnapshot, or something. Or at least add the comment to the method, although this can still easily lead to problems if someone calls it without reading comments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15088296" author="vikram.dixit" created="Thu, 7 Jan 2016 22:38:40 +0000"  >&lt;p&gt;Yeah. I agree that it doesn&apos;t make sense in terms of synchronization if the&lt;br/&gt;
mutex is different. I thought it was synchronizing on &apos;this&apos; but it doesn&apos;t&lt;br/&gt;
look like it. I will remove the synchronized list here.&lt;/p&gt;</comment>
                            <comment id="15088461" author="sershe" created="Fri, 8 Jan 2016 00:21:28 +0000"  >&lt;p&gt;+1. Is shutdownList the other synchronized list with the same problem? openSessions changes look good.&lt;/p&gt;</comment>
                            <comment id="15088464" author="vikram.dixit" created="Fri, 8 Jan 2016 00:24:39 +0000"  >&lt;p&gt;Yes. It is another synchronized list with the same problem. Should fix it the same way as the openSessions stuff. Uploaded new patch for the same.&lt;/p&gt;</comment>
                            <comment id="15090734" author="hiveqa" created="Sat, 9 Jan 2016 18:22:12 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781112/HIVE-12797.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781112/HIVE-12797.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 9985 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6564/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6564/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6564/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6564/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6564/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6564/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781112 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092968" author="sershe" created="Tue, 12 Jan 2016 00:03:59 +0000"  >&lt;p&gt;+1. &lt;/p&gt;</comment>
                            <comment id="15116324" author="sseth" created="Tue, 26 Jan 2016 00:05:16 +0000"  >&lt;p&gt;I&apos;m still seeing this. Re-opening.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-01-25T19:02:06,280 ERROR [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-8]: server.HiveServer2 (HiveServer2.java:stop(490)) - Tez session pool manager stop had an error during stop of HiveServer2. Shutting down HiveServer2 anyway.
java.util.ConcurrentModificationException
        at java.util.LinkedList$ListItr.checkForComodification(LinkedList.java:966) ~[?:1.8.0_40]
        at java.util.LinkedList$ListItr.remove(LinkedList.java:921) ~[?:1.8.0_40]
        at org.apache.hadoop.hive.ql.exec.tez.TezSessionPoolManager.stop(TezSessionPoolManager.java:339) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hive.service.server.HiveServer2.stop(HiveServer2.java:488) [hive-jdbc-2.1.0-SNAPSHOT-standalone.jar:2.1.0-SNAPSHOT]
        at org.apache.hive.service.server.HiveServer2$2.run(HiveServer2.java:192) [hive-jdbc-2.1.0-SNAPSHOT-standalone.jar:2.1.0-SNAPSHOT]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15116410" author="sershe" created="Tue, 26 Jan 2016 00:53:52 +0000"  >&lt;p&gt;Hmm, this should not be possible, as all accesses to openSessions are synchronized in a straightforward manner. I wonder how this happens.&lt;/p&gt;</comment>
                            <comment id="15116417" author="sershe" created="Tue, 26 Jan 2016 00:57:22 +0000"  >&lt;p&gt;Ah, nevermind&lt;/p&gt;</comment>
                            <comment id="15116421" author="sershe" created="Tue, 26 Jan 2016 01:00:04 +0000"  >&lt;p&gt;I filed a jira for the new issue&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12934004">HIVE-12926</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780852" name="HIVE-12797.1.patch" size="3342" author="vikram.dixit" created="Wed, 6 Jan 2016 23:02:40 +0000"/>
                            <attachment id="12781070" name="HIVE-12797.2.patch" size="4294" author="vikram.dixit" created="Thu, 7 Jan 2016 21:32:06 +0000"/>
                            <attachment id="12781110" name="HIVE-12797.3.patch" size="6117" author="vikram.dixit" created="Fri, 8 Jan 2016 00:11:16 +0000"/>
                            <attachment id="12781112" name="HIVE-12797.4.patch" size="7161" author="vikram.dixit" created="Fri, 8 Jan 2016 00:24:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 00:21:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qyj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12798] CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver.vector* queries failures due to NPE in Vectorizer.onExpressionHasNullSafes()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12798</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As of 01/04/2016, the following tests fail in the MiniTezCliDriver mode when the cbo return path is enabled. We need to fix them :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; vector_leftsemi_mapjoin
 vector_join_filters
 vector_interval_mapjoin
 vector_left_outer_join
 vectorized_mapjoin
 vector_inner_join
 vectorized_context
 tez_vector_dynpart_hashjoin_1
 count
 auto_sortmerge_join_6
 skewjoin
 vector_auto_smb_mapjoin_14
 auto_join_filters
 vector_outer_join0
 vector_outer_join1
 vector_outer_join2
 vector_outer_join3
 vector_outer_join4
 vector_outer_join5
 hybridgrace_hashjoin_1
 vector_mapjoin_reduce
 vectorized_nested_mapjoin
 vector_left_outer_join2
 vector_char_mapjoin1
 vector_decimal_mapjoin
 vectorized_dynamic_partition_pruning
 vector_varchar_mapjoin1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This jira is intended to cover the vectorization issues related to the MiniTezCliDriver failures caused by NPE via nullSafes array as shown below :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; onExpressionHasNullSafes(MapJoinDesc desc) {
     &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;[] nullSafes = desc.getNullSafes();
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; nullSafe : nullSafes) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928188">HIVE-12798</key>
            <summary>CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver.vector* queries failures due to NPE in Vectorizer.onExpressionHasNullSafes()</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12762144">HIVE-9132</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 00:36:22 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:35 +0000</updated>
                            <resolved>Tue, 19 Jan 2016 22:42:35 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15087993" author="hsubramaniyan" created="Thu, 7 Jan 2016 19:54:20 +0000"  >&lt;p&gt;cc-ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt; for review.&lt;/p&gt;</comment>
                            <comment id="15088166" author="mmccline" created="Thu, 7 Jan 2016 21:38:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15090546" author="hiveqa" created="Sat, 9 Jan 2016 10:54:20 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781050/HIVE-12798.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781050/HIVE-12798.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9961 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6561/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6561/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6561/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6561/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6561/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6561/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781050 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15107596" author="hsubramaniyan" created="Tue, 19 Jan 2016 22:37:36 +0000"  >&lt;p&gt;I&apos;ve comitted this to master. cc-ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; for approval for commit to branch-2.0. This can lead to NPE even in regular code path with vectorization turned on.&lt;/p&gt;</comment>
                            <comment id="15107648" author="sershe" created="Tue, 19 Jan 2016 23:13:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781050" name="HIVE-12798.1.patch" size="683" author="hsubramaniyan" created="Thu, 7 Jan 2016 19:54:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 21:38:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qyn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12799] Always use Schema Evolution for ACID</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12799</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Always use Schema Evolution for ACID &amp;#8211; ignore hive.exec.schema.evolution setting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928268">HIVE-12799</key>
            <summary>Always use Schema Evolution for ACID</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmccline">Matt McCline</assignee>
                                    <reporter username="mmccline">Matt McCline</reporter>
                        <labels>
                            <label>TODOC1.3</label>
                            <label>TODOC2.0</label>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Thu, 7 Jan 2016 08:13:35 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:42 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 17:53:18 +0000</resolved>
                                                    <fixVersion>2.0.1</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15087051" author="mmccline" created="Thu, 7 Jan 2016 08:15:03 +0000"  >&lt;p&gt;And, for now, turn hive.exec.schema.evolution off by default until we get more of a handle on column rename, position move, etc.  For ACID however, it is a requirement.&lt;/p&gt;</comment>
                            <comment id="15088671" author="hiveqa" created="Fri, 8 Jan 2016 04:14:52 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781096/HIVE-12799.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781096/HIVE-12799.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 22 failed/errored test(s), 9998 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into_with_schema2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_ptf_negative_InvalidValueBoundary
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6547/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6547/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6547/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6547/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6547/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6547/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 22 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781096 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15090837" author="hiveqa" created="Sun, 10 Jan 2016 00:40:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781228/HIVE-12799.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781228/HIVE-12799.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 24 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10000 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6567/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6567/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6567/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6567/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6567/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6567/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781228 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092549" author="hiveqa" created="Mon, 11 Jan 2016 19:40:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781546/HIVE-12799.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781546/HIVE-12799.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 34 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 9986 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorized_parquet.q-orc_merge6.q-vector_outer_join0.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6592/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6592/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6592/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6592/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6592/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6592/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781546 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092693" author="sershe" created="Mon, 11 Jan 2016 21:19:05 +0000"  >&lt;p&gt;Can you post a RB?&lt;/p&gt;</comment>
                            <comment id="15093038" author="sershe" created="Tue, 12 Jan 2016 01:01:47 +0000"  >&lt;p&gt;Left some comments on the RB.&lt;/p&gt;</comment>
                            <comment id="15094023" author="sershe" created="Tue, 12 Jan 2016 15:09:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15094083" author="mmccline" created="Tue, 12 Jan 2016 15:35:27 +0000"  >&lt;p&gt;Great, thank you!&lt;/p&gt;</comment>
                            <comment id="15094378" author="hiveqa" created="Tue, 12 Jan 2016 17:50:46 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781721/HIVE-12799.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781721/HIVE-12799.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 34 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10018 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6600/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6600/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6600/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6600/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6600/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6600/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781721 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15094385" author="mmccline" created="Tue, 12 Jan 2016 17:52:56 +0000"  >&lt;p&gt;Test failures are unrelated.&lt;br/&gt;
Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="15095487" author="lefty@hortonworks.com" created="Wed, 13 Jan 2016 02:25:33 +0000"  >&lt;p&gt;Doc note:  This changes the default value of &lt;b&gt;hive.exec.schema.evolution&lt;/b&gt; to false in 2.1.0 (edit:  and 2.0.1) and changes the parameter to true for ACID, which is not mentioned in the parameter description but should be documented in the wiki.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12625&quot; title=&quot;Backport to branch-1 HIVE-11981 ORC Schema Evolution Issues (Vectorized, ACID, and Non-Vectorized)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12625&quot;&gt;&lt;del&gt;HIVE-12625&lt;/del&gt;&lt;/a&gt; adds the parameter to 1.3.0 with its new default and ACID behavior.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Configuration Properties &amp;#8211; Query and DDL Execution &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-Configuration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Transactions &amp;#8211; Configuration &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;hive.exec.schema.evolution&lt;/b&gt; was introduced in 2.0.0 by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11981&quot; title=&quot;ORC Schema Evolution Issues (Vectorized, ACID, and Non-Vectorized)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11981&quot;&gt;&lt;del&gt;HIVE-11981&lt;/del&gt;&lt;/a&gt; with a default value of true.&lt;/p&gt;</comment>
                            <comment id="15259152" author="mmccline" created="Tue, 26 Apr 2016 23:21:46 +0000"  >&lt;p&gt;Also committed to branch-2.0&lt;/p&gt;</comment>
                            <comment id="15272122" author="lefty@hortonworks.com" created="Thu, 5 May 2016 09:33:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13178&quot; title=&quot;Enhance ORC Schema Evolution to handle more standard data type conversions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13178&quot;&gt;&lt;del&gt;HIVE-13178&lt;/del&gt;&lt;/a&gt; changes the default for &lt;b&gt;hive.exec.schema.evolution&lt;/b&gt; back to true again in 2.1.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12901127">HIVE-11981</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12920230">HIVE-12625</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781096" name="HIVE-12799.01.patch" size="23276" author="mmccline" created="Thu, 7 Jan 2016 23:26:36 +0000"/>
                            <attachment id="12781228" name="HIVE-12799.02.patch" size="37380" author="mmccline" created="Fri, 8 Jan 2016 15:24:43 +0000"/>
                            <attachment id="12781546" name="HIVE-12799.03.patch" size="55766" author="mmccline" created="Mon, 11 Jan 2016 12:19:20 +0000"/>
                            <attachment id="12781721" name="HIVE-12799.04.patch" size="56393" author="mmccline" created="Tue, 12 Jan 2016 03:36:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2016 04:14:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qz4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12800] HiveFilterSetOpTransposeRule might be executed over non deterministic filter predicates</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12800</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928380">HIVE-12800</key>
            <summary>HiveFilterSetOpTransposeRule might be executed over non deterministic filter predicates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamachorodriguez">Jesus Camacho Rodriguez</assignee>
                                    <reporter username="jcamachorodriguez">Jesus Camacho Rodriguez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 18:00:03 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:26 +0000</updated>
                            <resolved>Sat, 9 Jan 2016 11:52:07 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15087801" author="jcamachorodriguez" created="Thu, 7 Jan 2016 18:11:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;, could you take a look? It is a quick fix, we were instantiating the parent class (FilterSetOpTransposeRule) instead of the class itself. Thanks&lt;/p&gt;</comment>
                            <comment id="15088205" author="jpullokkaran" created="Thu, 7 Jan 2016 22:03:28 +0000"  >&lt;p&gt;+1 Pending QA Run&lt;/p&gt;</comment>
                            <comment id="15090411" author="hiveqa" created="Sat, 9 Jan 2016 04:35:26 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781017/HIVE-12800.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781017/HIVE-12800.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6557/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6557/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6557/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6557/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6557/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6557/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781017 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15090573" author="jcamachorodriguez" created="Sat, 9 Jan 2016 11:52:07 +0000"  >&lt;p&gt;Pushed to master, branch-2.0. Thanks for the review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781017" name="HIVE-12800.patch" size="1417" author="jcamachorodriguez" created="Thu, 7 Jan 2016 18:18:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jan 2016 22:03:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qztr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12801] document HIVE-11500 (metadata cache in HBase metastore)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12801</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928399">HIVE-12801</key>
            <summary>document HIVE-11500 (metadata cache in HBase metastore)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 18:53:50 +0000</created>
                <updated>Thu, 7 Jan 2016 18:54:15 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12853083">HIVE-11500</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qzxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12802] CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver.vector_join_filters.q failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12802</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Discovered as part of running :&lt;br/&gt;
mvn test -Dtest=TestMiniTezCliDriver -Dqfile_regex=vector.* -Dhive.cbo.returnpath.hiveop=true -Dtest.output.overwrite=true&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT sum(hash(a.key,a.value,b.key,b.value)) from myinput1 a LEFT OUTER JOIN myinput1 b ON (a.value=b.value AND a.key &amp;gt; 40 AND a.value &amp;gt; 50 AND a.key = a.value AND b.key &amp;gt; 40 AND b.value &amp;gt; 50 AND b.key = b.value) RIGHT OUTER JOIN myinput1 c ON (b.value=c.value AND c.key &amp;gt; 40 AND c.value &amp;gt; 50 AND c.key = c.value AND b.key &amp;gt; 40 AND b.value &amp;gt; 50 AND b.key = b.value)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-01-07T11:16:06,198 ERROR [657fd759-7643-467b-9bd0-17cb4958cb69 main[]]: parse.CalcitePlanner (CalcitePlanner.java:genOPTree(309)) - CBO failed, skipping CBO.
java.lang.IndexOutOfBoundsException: index (10) must be less than size (6)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:305) ~[guava-14.0.1.jar:?]
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:284) ~[guava-14.0.1.jar:?]
        at com.google.common.collect.RegularImmutableList.get(RegularImmutableList.java:81) ~[guava-14.0.1.jar:?]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.ExprNodeConverter.visitInputRef(ExprNodeConverter.java:109) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.ExprNodeConverter.visitInputRef(ExprNodeConverter.java:79) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.calcite.rex.RexInputRef.accept(RexInputRef.java:112) ~[calcite-core-1.5.0.jar:1.5.0]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.ExprNodeConverter.visitCall(ExprNodeConverter.java:128) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.ExprNodeConverter.visitCall(ExprNodeConverter.java:79) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.calcite.rex.RexCall.accept(RexCall.java:107) ~[calcite-core-1.5.0.jar:1.5.0]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.convertToExprNode(HiveOpConverter.java:1153) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.translateJoin(HiveOpConverter.java:381) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.visit(HiveOpConverter.java:313) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.dispatch(HiveOpConverter.java:164) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.visit(HiveOpConverter.java:268) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.dispatch(HiveOpConverter.java:162) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.visit(HiveOpConverter.java:397) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.dispatch(HiveOpConverter.java:181) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.convert(HiveOpConverter.java:154) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.getOptimizedHiveOPDag(CalcitePlanner.java:688) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:266) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10094) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:231) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:237) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:471) [hive-exec-2.1.0-SNAPSHOT.jar:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928425">HIVE-12802</key>
            <summary>CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver.vector_join_filters.q failure</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12762144">HIVE-9132</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 19:47:28 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:45 +0000</updated>
                            <resolved>Mon, 25 Jan 2016 18:43:16 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15111661" author="hiveqa" created="Fri, 22 Jan 2016 00:14:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12783456/HIVE-12802.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12783456/HIVE-12802.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10007 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_decimal_round.q-cbo_windowing.q-tez_schema_evolution.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.TestTxnCommands2.testDeleteIn
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6696/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6696/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6696/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6696/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6696/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6696/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12783456 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15111678" author="hsubramaniyan" created="Fri, 22 Jan 2016 00:23:36 +0000"  >&lt;p&gt;The test failures are unrelated to the change. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; can you please review the change.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="15112336" author="jcamachorodriguez" created="Fri, 22 Jan 2016 11:53:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15115730" author="hsubramaniyan" created="Mon, 25 Jan 2016 18:43:16 +0000"  >&lt;p&gt;Patch committed to master, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12783456" name="HIVE-12802.1.patch" size="1941" author="hsubramaniyan" created="Wed, 20 Jan 2016 23:16:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2016 00:14:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r03r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12803] CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver count.q failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12803</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select a, count(distinct b), count(distinct c), sum(d) from abcd group by a;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set hive.cbo.returnpath.hiveop=true;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IndexOutOfBoundsException: Index: 5, Size: 5
        at java.util.ArrayList.rangeCheck(ArrayList.java:635) ~[?:1.7.0_79]
        at java.util.ArrayList.get(ArrayList.java:411) ~[?:1.7.0_79]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveGBOpConvUtil.genReduceSideGB1NoMapGB(HiveGBOpConvUtil.java:1060) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveGBOpConvUtil.genNoMapSideGBNoSkew(HiveGBOpConvUtil.java:473) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveGBOpConvUtil.translateGB(HiveGBOpConvUtil.java:304) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.visit(HiveOpConverter.java:398) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.dispatch(HiveOpConverter.java:181) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveOpConverter.convert(HiveOpConverter.java:154) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.getOptimizedHiveOPDag(CalcitePlanner.java:688) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:266) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10094) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:231) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:237) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:74) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:237) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:471) [hive-exec-2.1.0-SNAPSHOT.jar:?]
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:311) [hive-exec-2.1.0-SNAPSHOT.jar:?]
        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1149) [hive-exec-2.1.0-SNAPSHOT.jar:?]
        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1237) [hive-exec-2.1.0-SNAPSHOT.jar:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928450">HIVE-12803</key>
            <summary>CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver count.q failure</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12762144">HIVE-9132</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="vgarg">Vineet Garg</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 21:21:55 +0000</created>
                <updated>Thu, 11 Aug 2016 20:39:54 +0000</updated>
                            <resolved>Thu, 11 Aug 2016 20:39:54 +0000</resolved>
                                                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15133277" author="hsubramaniyan" created="Thu, 4 Feb 2016 23:07:02 +0000"  >&lt;p&gt;The exception mentioned in the jira is fixed by the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12924&quot; title=&quot;CBO: Calcite Operator To Hive Operator (Calcite Return Path): TestCliDriver groupby_ppr_multi_distinct.q failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12924&quot;&gt;&lt;del&gt;HIVE-12924&lt;/del&gt;&lt;/a&gt;. However I see wrong results in the queries so I am leaving this jira open for now.&lt;/p&gt;</comment>
                            <comment id="15417900" author="vgarg" created="Thu, 11 Aug 2016 20:39:54 +0000"  >&lt;p&gt;Same issue is captured by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14396&quot; title=&quot;CBO: Calcite Operator To Hive Operator (Calcite Return Path): TestCliDriver count.q failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14396&quot;&gt;&lt;del&gt;HIVE-14396&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Aug 2016 20:39:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r09b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12804] if JAVA_HOME is not set, LLapServiceGen should fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12804</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now, a bogus value results, probably coming from a python None, probably from this line:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;java_home&quot; : os.getenv(&quot;JAVA_HOME&quot;),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ echo $JAVA_HOME

$ grep java_home llap-slider-07Jan2016/appConfig.json 
    &quot;java_home&quot;: &quot;None&quot;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12928451">HIVE-12804</key>
            <summary>if JAVA_HOME is not set, LLapServiceGen should fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 21:23:24 +0000</created>
                <updated>Sat, 23 Jan 2016 01:07:50 +0000</updated>
                            <resolved>Sat, 23 Jan 2016 01:07:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15088138" author="sershe" created="Thu, 7 Jan 2016 21:23:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; fyi. I might look some time&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12924995">HIVE-12769</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12924995">HIVE-12769</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r09j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12805] CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver skewjoin.q failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12805</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Set hive.cbo.returnpath.hiveop=true&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FROM T1 a FULL OUTER JOIN T2 c ON c.key+1=a.key SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ STREAMTABLE(a) */&lt;/span&gt; sum(hash(a.key)), sum(hash(a.val)), sum(hash(c.key))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
        at java.util.ArrayList.rangeCheck(ArrayList.java:635)
        at java.util.ArrayList.get(ArrayList.java:411)
        at org.apache.hadoop.hive.ql.ppd.SyntheticJoinPredicate$JoinSynthetic.process(SyntheticJoinPredicate.java:183)
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89)
        at org.apache.hadoop.hive.ql.lib.PreOrderOnceWalker.walk(PreOrderOnceWalker.java:43)
        at org.apache.hadoop.hive.ql.lib.PreOrderOnceWalker.walk(PreOrderOnceWalker.java:54)
        at org.apache.hadoop.hive.ql.lib.PreOrderOnceWalker.walk(PreOrderOnceWalker.java:54)
        at org.apache.hadoop.hive.ql.lib.PreOrderOnceWalker.walk(PreOrderOnceWalker.java:54)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120)
        at org.apache.hadoop.hive.ql.ppd.SyntheticJoinPredicate.transform(SyntheticJoinPredicate.java:100)
        at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:236)
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10170)
        at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:231)
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:237)
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:471)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same error happens in auto_sortmerge_join_6.q.out for &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select count(*) FROM tbl1 a JOIN tbl2 b ON a.key = b.key join src h on h.value = a.value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928456">HIVE-12805</key>
            <summary>CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver skewjoin.q failure</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12762144">HIVE-9132</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 21:37:59 +0000</created>
                <updated>Tue, 21 Jun 2016 15:53:12 +0000</updated>
                            <resolved>Wed, 27 Jan 2016 03:09:28 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15097756" author="hiveqa" created="Thu, 14 Jan 2016 07:21:55 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782180/HIVE-12805.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782180/HIVE-12805.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10018 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_auto_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_join0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_lineage2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6619/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6619/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6619/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6619/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6619/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6619/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782180 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15102332" author="hiveqa" created="Fri, 15 Jan 2016 19:19:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782414/HIVE-12805.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782414/HIVE-12805.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10019 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6638/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6638/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6638/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6638/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6638/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6638/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782414 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15102398" author="hsubramaniyan" created="Fri, 15 Jan 2016 20:11:41 +0000"  >&lt;p&gt;The failures are unrelated to the change.&lt;/p&gt;</comment>
                            <comment id="15105995" author="ashutoshc" created="Mon, 18 Jan 2016 23:58:19 +0000"  >&lt;p&gt;Will be better to do the checks before constructing the MultiJoin, instead of later to save some CPU cycles.&lt;/p&gt;</comment>
                            <comment id="15107420" author="hsubramaniyan" created="Tue, 19 Jan 2016 20:58:41 +0000"  >&lt;p&gt;Addressing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; &apos;s comments in patch 2.&lt;/p&gt;</comment>
                            <comment id="15107427" author="hsubramaniyan" created="Tue, 19 Jan 2016 21:00:17 +0000"  >&lt;p&gt;^Typo : patch 3&lt;/p&gt;</comment>
                            <comment id="15108635" author="hiveqa" created="Wed, 20 Jan 2016 14:44:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12783186/HIVE-12805.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12783186/HIVE-12805.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9993 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-auto_sortmerge_join_13.q-alter_merge_2_orc.q-vector_outer_join2.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_bmj_schema_evolution.q-orc_merge5.q-vectorization_limit.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6682/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6682/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6682/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6682/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6682/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6682/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12783186 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15109809" author="ashutoshc" created="Thu, 21 Jan 2016 00:26:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15111932" author="hiveqa" created="Fri, 22 Jan 2016 05:15:20 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12783474/HIVE-12805.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12783474/HIVE-12805.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10025 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_auto_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_join0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_rp_lineage2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6698/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6698/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6698/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6698/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6698/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6698/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12783474 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15117040" author="hiveqa" created="Tue, 26 Jan 2016 10:27:48 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784263/HIVE-12805.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784263/HIVE-12805.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10031 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6743/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6743/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6743/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6743/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6743/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6743/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784263 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15117934" author="hsubramaniyan" created="Tue, 26 Jan 2016 20:31:19 +0000"  >&lt;p&gt;The test failures are unrelated to the change. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; can you please look at the latest change.&lt;/p&gt;</comment>
                            <comment id="15118174" author="ashutoshc" created="Tue, 26 Jan 2016 22:19:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; Can you please update RB ?&lt;/p&gt;</comment>
                            <comment id="15118244" author="ashutoshc" created="Tue, 26 Jan 2016 23:01:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15118545" author="hsubramaniyan" created="Wed, 27 Jan 2016 03:09:28 +0000"  >&lt;p&gt;Patch committed to master, thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12782180" name="HIVE-12805.1.patch" size="1730" author="hsubramaniyan" created="Thu, 14 Jan 2016 02:02:19 +0000"/>
                            <attachment id="12782414" name="HIVE-12805.2.patch" size="4556" author="hsubramaniyan" created="Fri, 15 Jan 2016 01:27:44 +0000"/>
                            <attachment id="12783186" name="HIVE-12805.3.patch" size="7051" author="hsubramaniyan" created="Tue, 19 Jan 2016 20:59:19 +0000"/>
                            <attachment id="12783474" name="HIVE-12805.4.patch" size="6890" author="hsubramaniyan" created="Thu, 21 Jan 2016 00:22:31 +0000"/>
                            <attachment id="12784263" name="HIVE-12805.5.patch" size="6356" author="hsubramaniyan" created="Mon, 25 Jan 2016 22:52:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jan 2016 07:21:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r0an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12806] CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver vector_auto_smb_mapjoin_14.q failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12806</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Step to reproduce:&lt;br/&gt;
mvn test -Dtest=TestMiniTezCliDriver -Dqfile=vector_auto_smb_mapjoin_14.q -Dhive.cbo.returnpath.hiveop=true -Dtest.output.overwrite=true&lt;/p&gt;

&lt;p&gt;Query :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select count(*) from (
  select a.key as key, a.value as val1, b.value as val2 from tbl1 a join tbl2 b on a.key = b.key
) subq1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Stack trace :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-01-07T14:08:04,803 ERROR [da534038-d792-4d16-86e9-87b9f971adda main[]]: SessionState (SessionState.java:printError(1010)) - Vertex failed, vertexName=Map 1, vertexId=vertex_1452204324051_0001_33_00, diagnostics=[Vertex vertex_1452204324051_0001_33_00 [Map 1] k\
illed/failed due to:AM_USERCODE_FAILURE, Exception in VertexManager, vertex:vertex_1452204324051_0001_33_00 [Map 1], java.lang.RuntimeException: java.lang.RuntimeException: Failed to load plan: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: java.lang.IllegalArgumentException: java.net.URISyntaxException: \
Relative path in absolute URI: subq1:amerge.xml
        at org.apache.hadoop.hive.ql.exec.tez.CustomPartitionVertex.onRootVertexInitialized(CustomPartitionVertex.java:314)
        at org.apache.tez.dag.app.dag.impl.VertexManager$VertexManagerEventRootInputInitialized.invoke(VertexManager.java:624)
        at org.apache.tez.dag.app.dag.impl.VertexManager$VertexManagerEvent$1.run(VertexManager.java:645)
        at org.apache.tez.dag.app.dag.impl.VertexManager$VertexManagerEvent$1.run(VertexManager.java:640)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)
        at org.apache.tez.dag.app.dag.impl.VertexManager$VertexManagerEvent.call(VertexManager.java:640)
        at org.apache.tez.dag.app.dag.impl.VertexManager$VertexManagerEvent.call(VertexManager.java:629)
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.RuntimeException: Failed to load plan: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: subq1:amerge.xml
        at org.apache.hadoop.hive.ql.exec.Utilities.getBaseWork(Utilities.java:451)
        at org.apache.hadoop.hive.ql.exec.Utilities.getMergeWork(Utilities.java:339)
        at org.apache.hadoop.hive.ql.exec.tez.SplitGrouper.populateMapWork(SplitGrouper.java:260)
        at org.apache.hadoop.hive.ql.exec.tez.SplitGrouper.generateGroupedSplits(SplitGrouper.java:172)
        at org.apache.hadoop.hive.ql.exec.tez.CustomPartitionVertex.onRootVertexInitialized(CustomPartitionVertex.java:277)
        ... 12 more
Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: subq1:amerge.xml
        at org.apache.hadoop.fs.Path.initialize(Path.java:206)
        at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:172)
        at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:94)
        at org.apache.hadoop.hive.ql.exec.Utilities.getPlanPath(Utilities.java:588)
        at org.apache.hadoop.hive.ql.exec.Utilities.getBaseWork(Utilities.java:387)
        ... 16 more
Caused by: java.net.URISyntaxException: Relative path in absolute URI: subq1:amerge.xml
        at java.net.URI.checkPath(URI.java:1804)
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:752)
        at org.apache.hadoop.fs.Path.initialize(Path.java:203)
        ... 20 more
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928466">HIVE-12806</key>
            <summary>CBO: Calcite Operator To Hive Operator (Calcite Return Path): MiniTezCliDriver vector_auto_smb_mapjoin_14.q failure</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12762144">HIVE-9132</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vgarg">Vineet Garg</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 22:21:59 +0000</created>
                <updated>Tue, 6 Sep 2016 18:03:40 +0000</updated>
                                                                            <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15088250" author="hsubramaniyan" created="Thu, 7 Jan 2016 22:24:27 +0000"  >&lt;p&gt;This could be an exposed issue in Tez related code path. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;, any insights into why the above error could be happening will be helpful before analyzing this issue further.&lt;/p&gt;</comment>
                            <comment id="15088328" author="hsubramaniyan" created="Thu, 7 Jan 2016 22:58:43 +0000"  >&lt;p&gt;From a quick glance looks like Calcite seems to be adding  table name alias as &quot;subq1:a&quot; which finally seems to be a part of the URI  and needs to be handled by hadoop.fs properly. Looks related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-3257&quot; title=&quot;Path should handle all characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-3257&quot;&gt;HADOOP-3257&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="15096374" author="hiveqa" created="Wed, 13 Jan 2016 15:50:10 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781930/HIVE-12806.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781930/HIVE-12806.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10019 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6612/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6612/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6612/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6612/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6612/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6612/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781930 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15105994" author="ashutoshc" created="Mon, 18 Jan 2016 23:56:58 +0000"  >&lt;p&gt;It will be good to understand how come we have : in table alias in op return path and not in ast return path. Else, we are just masking the symptom instead of fixing the root cause.&lt;/p&gt;</comment>
                            <comment id="15421505" author="vgarg" created="Mon, 15 Aug 2016 19:17:12 +0000"  >&lt;p&gt;Still failing. I&apos;ll take a look&lt;/p&gt;</comment>
                            <comment id="15421596" author="hiveqa" created="Mon, 15 Aug 2016 20:12:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781930/HIVE-12806.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781930/HIVE-12806.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/887/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/887/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/887/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/887/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-887/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-887/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.8.0_25 ]]
+ export JAVA_HOME=/usr/java/jdk1.8.0_25
+ JAVA_HOME=/usr/java/jdk1.8.0_25
+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-887/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at e841edc HIVE-14345 : Beeline result table has erroneous characters (Miklos Csanady via Ashutosh Chauhan)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at e841edc HIVE-14345 : Beeline result table has erroneous characters (Miklos Csanady via Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781930 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15440166" author="vgarg" created="Fri, 26 Aug 2016 23:19:53 +0000"  >&lt;p&gt;As Hari earlier mentioned that CALCITE is adding subquery alias with colon to table alias name. In this case mergejoin work has two inputs, while trying to initialize inputs TEZ tries to figure out the plan path for inputs based on input name. Input name for bigtablework seems to be coming out from underlying table alias which has colon in it in this case. So root cause for this issue is that table alias have colon in it. Replacing this colon with a dot fixes this issue. But we would like to understand why CALCITE is appending colon. Also in a lot of cases CALCITE appends null or wrong alias. &lt;/p&gt;</comment>
                            <comment id="15440287" author="vgarg" created="Sat, 27 Aug 2016 00:17:19 +0000"  >&lt;p&gt;This alias is actually built on HIVE side not CALCITE side. There are two aliases on hive side: simple table alias and alias id (which is &amp;lt;subquery_alias&amp;gt;:&amp;lt;table_alias&amp;gt;. For HIVE ast path (i.e. without return path) table alias is used but for some reason with return path we are using alias id instead. &lt;/p&gt;</comment>
                            <comment id="15444539" author="hiveqa" created="Mon, 29 Aug 2016 02:13:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12825940/HIVE-12806.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12825940/HIVE-12806.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10461 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkNegativeCliDriver - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_annotate_stats_groupby]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_cross_product_check_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_join0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_lineage2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1029/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1029/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1029/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1029/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1029/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1029/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12825940 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15444805" author="vgarg" created="Mon, 29 Aug 2016 04:42:54 +0000"  >&lt;p&gt;Looking into cbo_rp_auto_join1&lt;/p&gt;</comment>
                            <comment id="15451437" author="hiveqa" created="Wed, 31 Aug 2016 07:27:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12826251/HIVE-12806.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12826251/HIVE-12806.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10502 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1051/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1051/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1051/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1051/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1051/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1051/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12826251 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15453888" author="hiveqa" created="Thu, 1 Sep 2016 00:47:02 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12826490/HIVE-12806.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12826490/HIVE-12806.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10503 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1062/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1062/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1062/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1062/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1062/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1062/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12826490 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15456725" author="ashutoshc" created="Thu, 1 Sep 2016 21:48:43 +0000"  >&lt;p&gt;I think better fix for this is to change QB::getAppendedAliasFromId() to use . instead of :&lt;/p&gt;</comment>
                            <comment id="15456752" author="vgarg" created="Thu, 1 Sep 2016 22:00:00 +0000"  >&lt;p&gt;The reason I didn&apos;t touch it was because this is being used in non-cbo/returnpath as well and I was afraid of breaking some existing logic relying on &apos;:&apos;&lt;br/&gt;
Let me verify that by changing it and running tests&lt;/p&gt;</comment>
                            <comment id="15461787" author="hiveqa" created="Sat, 3 Sep 2016 22:19:19 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12826715/HIVE-12806.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12826715/HIVE-12806.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 192 failed/errored test(s), 10443 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestBeeLineWithArgs - did not produce a TEST-*.xml file
TestHiveCli - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[authorization_view_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[authorization_view_disable_cbo_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[authorization_view_sqlstd]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join10]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join11]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join12]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join13]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join14]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join15]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join16]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join17]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join19]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join19_inclause]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join20]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join22]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join24]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join26]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join27]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join32]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join33]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join8]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join_reordering_values]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join_stats2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join_stats]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join_without_localtask]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_10]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_11]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_12]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_14]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_15]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_7]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_8]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucket_map_join_spark1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucket_map_join_spark2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucket_map_join_spark3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucket_map_join_spark4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucketsortoptimize_insert_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucketsortoptimize_insert_4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucketsortoptimize_insert_5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[bucketsortoptimize_insert_6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constantPropagateForSubQuery]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer7]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cross_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cross_product_check_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[decimal_join2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[empty_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[explain_dependency]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[explain_logical]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[filter_join_breaktask]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fouter_join_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_map_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_map_ppr_multi_distinct]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr_multi_distinct]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_1_23]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_skew_1_23]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input23]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part7]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join17]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join28]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join32]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join32_lessSize]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join33]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join34]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join35]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join39]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join40]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_cond_pushdown_unqual5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_filters_overlap]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_star]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_oneskew_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[louter_join_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_memcheck]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_subquery2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_subquery]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[metadataonly1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multiMapJoin1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multiMapJoin2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multi_join_union]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonblock_op_deduplicate]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[optimize_nullscan]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join_filter]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union_view]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_vc]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[regexp_extract]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[router_join_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[runtime_skewjoin_mapjoin_spark]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin10]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin11]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin7]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin8]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin_mapjoin9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[smb_mapjoin_14]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[smb_mapjoin_25]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_in_having]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_multiinsert]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[tez_join_hash]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[transform_ppr1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[transform_ppr2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_explode]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udtf_explode]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union22]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union24]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union34]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[unionDistinct_1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_ppr]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_12]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_13]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_14]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_stats]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_between_columns]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_binary_join_groupby]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_char_mapjoin1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_complex_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_groupby_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_inner_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_left_outer_join2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_left_outer_join]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_leftsemi_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_mapjoin_reduce]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_varchar_mapjoin1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_context]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_mapjoin2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_nested_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_ptf]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_unencrypted_tbl]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[alter_view_failure6]
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_select_view]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_1]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_3]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_4]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_5]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_7]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_8]
org.apache.hadoop.hive.ql.plan.TestReadEntityDirect.testSelectEntityInDirect
org.apache.hadoop.hive.ql.plan.TestReadEntityDirect.testSelectEntityInDirectJoinAlias
org.apache.hadoop.hive.ql.plan.TestViewEntity.testUnionView
org.apache.hadoop.hive.ql.plan.TestViewEntity.testViewInSubQuery
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.testInputSomeColumnsUsedView
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1101/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1101/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1101/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1101/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1101/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1101/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 192 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12826715 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15468069" author="vgarg" created="Tue, 6 Sep 2016 18:03:40 +0000"  >&lt;p&gt;Most of these 185 test failures are due to change in qualified alias. Some of them looks like unit test failures which probably will need to be investigated. I think it is better to apply this change for return path only and keeping the things they way it is for non-return path. My concern is we might end up breaking something which was working. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; What do you suggest ?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781930" name="HIVE-12806.1.patch" size="1430" author="hsubramaniyan" created="Tue, 12 Jan 2016 22:01:25 +0000"/>
                            <attachment id="12825940" name="HIVE-12806.2.patch" size="30043" author="vgarg" created="Mon, 29 Aug 2016 00:37:49 +0000"/>
                            <attachment id="12826251" name="HIVE-12806.3.patch" size="38785" author="vgarg" created="Tue, 30 Aug 2016 21:59:39 +0000"/>
                            <attachment id="12826490" name="HIVE-12806.4.patch" size="45428" author="vgarg" created="Wed, 31 Aug 2016 19:49:13 +0000"/>
                            <attachment id="12826715" name="HIVE-12806.5.patch" size="44629" author="vgarg" created="Thu, 1 Sep 2016 22:18:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jan 2016 15:50:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r0cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12807] Thrift and DB Changes for HIVE-12352</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12807</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This ticket just covers the thrift and DB changes necessary for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12352&quot; title=&quot;CompactionTxnHandler.markCleaned() may delete too much&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12352&quot;&gt;&lt;del&gt;HIVE-12352&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928503">HIVE-12807</key>
            <summary>Thrift and DB Changes for HIVE-12352</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12910847">HIVE-12352</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 23:40:12 +0000</created>
                <updated>Thu, 28 Jan 2016 10:03:41 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:07:57 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15089767" author="alangates" created="Fri, 8 Jan 2016 19:24:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15089901" author="ekoifman" created="Fri, 8 Jan 2016 20:41:17 +0000"  >&lt;p&gt;I think we should target this for 2.0 rather than 2.1&lt;/p&gt;</comment>
                            <comment id="15089954" author="alangates" created="Fri, 8 Jan 2016 21:15:25 +0000"  >&lt;p&gt;New version of the patch that targets Hive 2.0.  This patch will now need to be committed to master, 2.0 and branch 1.&lt;/p&gt;</comment>
                            <comment id="15090904" author="hiveqa" created="Sun, 10 Jan 2016 05:38:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781301/HIVE-12708.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781301/HIVE-12708.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 30 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_15
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_views
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_no_match
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapreduce1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_merge2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_text_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_script_env_var1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_vector_dynpart_hashjoin_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_string_concat
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_distinct_gby
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_parquet
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6572/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6572/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6572/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6572/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6572/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6572/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 30 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781301 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15094538" author="alangates" created="Tue, 12 Jan 2016 19:07:43 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                            <comment id="15121141" author="lefty@hortonworks.com" created="Thu, 28 Jan 2016 10:03:41 +0000"  >&lt;p&gt;Typo alert (moot point):  This issue&apos;s patches were named &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12708&quot; title=&quot;Hive on Spark doesn&amp;#39;t work with Kerboresed HBase [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12708&quot;&gt;&lt;del&gt;HIVE-12708&lt;/del&gt;&lt;/a&gt; instead of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12807&quot; title=&quot;Thrift and DB Changes for HIVE-12352&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12807&quot;&gt;&lt;del&gt;HIVE-12807&lt;/del&gt;&lt;/a&gt;.  But this was resolved as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;, so it doesn&apos;t matter.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928738">HIVE-12814</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781301" name="HIVE-12708.2.patch" size="67317" author="alangates" created="Fri, 8 Jan 2016 21:15:25 +0000"/>
                            <attachment id="12781278" name="HIVE-12708.patch" size="63865" author="alangates" created="Fri, 8 Jan 2016 19:24:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2016 20:41:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r0l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12808] Logical PPD: Push filter clauses through PTF(Windowing) into TS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12808</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Simplified repro case of &lt;a href=&quot;https://community.hortonworks.com/questions/8880/hive-on-tez-pushdown-predicate-doesnt-work-in-part.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HCC #8880&lt;/a&gt;, with the slow query showing the push-down miss. &lt;/p&gt;

&lt;p&gt;And the manually rewritten query to indicate the expected one.&lt;/p&gt;

&lt;p&gt;Part of the problem could be the window range not being split apart for PPD, but the FIL is not pushed down even if the rownum filter is removed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create temporary table positions (regionid string, id bigint, deviceid string, ts string);

insert into positions values(&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt;, 1422792010, &lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2016-01-01&apos;&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt;, 1422792010, &lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2016-01-01&apos;&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt;, 1422792010, &lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2016-01-02&apos;&lt;/span&gt;),
(&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt;, 1422792010, &lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2016-01-02&apos;&lt;/span&gt;);


-- slow query
explain
WITH t1 AS 
( 
         SELECT   *, 
                  Row_number() over ( PARTITION BY regionid, id, deviceid ORDER BY ts DESC) AS rownos
         FROM     positions ), 
latestposition as ( 
       SELECT * 
       FROM   t1 
       WHERE  rownos = 1) 
SELECT * 
FROM   latestposition 
WHERE  regionid=&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt; 
AND    id=1422792010 
AND    deviceid=&lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;;

-- fast query
explain
WITH t1 AS 
( 
         SELECT   *, 
                  Row_number() over ( PARTITION BY regionid, id, deviceid ORDER BY ts DESC) AS rownos
         FROM     positions 
         WHERE  regionid=&lt;span class=&quot;code-quote&quot;&gt;&apos;1d6a0be1-6366-4692-9597-ebd5cd0f01d1&apos;&lt;/span&gt; 
         AND    id=1422792010 
         AND    deviceid=&lt;span class=&quot;code-quote&quot;&gt;&apos;6c5d1a30-2331-448b-a726-a380d6b3a432&apos;&lt;/span&gt;
),latestposition as ( 
       SELECT * 
       FROM   t1 
       WHERE  rownos = 1) 
SELECT * 
FROM   latestposition 
;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928504">HIVE-12808</key>
            <summary>Logical PPD: Push filter clauses through PTF(Windowing) into TS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jpullokkaran">Laljo John Pullokkaran</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Thu, 7 Jan 2016 23:42:08 +0000</created>
                <updated>Mon, 2 Oct 2017 20:11:08 +0000</updated>
                            <resolved>Wed, 24 Feb 2016 19:52:27 +0000</resolved>
                                    <version>1.2.1</version>
                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>CBO</component>
                    <component>Logical Optimizer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15088440" author="jpullokkaran" created="Fri, 8 Jan 2016 00:08:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; I have a WIP patch for this.&lt;br/&gt;
I can take up this bug; let me know.&lt;/p&gt;</comment>
                            <comment id="15088452" author="gopalv" created="Fri, 8 Jan 2016 00:18:55 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt; that would be great.&lt;/p&gt;

&lt;p&gt;I haven&apos;t made any progress beyond the test-case.&lt;/p&gt;</comment>
                            <comment id="15097441" author="jpullokkaran" created="Thu, 14 Jan 2016 01:48:37 +0000"  >&lt;p&gt;Initial patch; need to upload a patch with q.out changes.&lt;/p&gt;</comment>
                            <comment id="15098017" author="hiveqa" created="Thu, 14 Jan 2016 11:47:38 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782179/HIVE-12808.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782179/HIVE-12808.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 10005 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_joins_explain.q-vector_decimal_aggregate.q-vector_groupby_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lineage3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_windowing1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_windowing2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptfgroupbyjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_unqualcolumnrefs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.rpc.TestRpc.testClientTimeout
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6621/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6621/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6621/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6621/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6621/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6621/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782179 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15103247" author="hiveqa" created="Sat, 16 Jan 2016 16:33:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782597/HIVE-12808.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782597/HIVE-12808.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10021 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptfgroupbyjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_unqualcolumnrefs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6648/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6648/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6648/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6648/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6648/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6648/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782597 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15131638" author="hiveqa" created="Thu, 4 Feb 2016 03:08:05 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12785874/HIVE-12808.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12785874/HIVE-12808.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10053 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_streaming
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_in
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6858/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6858/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6858/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6858/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6858/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12785874 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15152749" author="hiveqa" created="Thu, 18 Feb 2016 18:11:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12788344/HIVE-12808.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12788344/HIVE-12808.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 9815 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_coltype_literals
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_unqualcolumnrefs
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_stats_only_null
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats_only_null
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_in
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7020/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7020/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7020/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7020/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7020/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7020/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12788344 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15155801" author="ashutoshc" created="Sat, 20 Feb 2016 23:11:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt; Can you create a RB for this?&lt;/p&gt;</comment>
                            <comment id="15155860" author="hiveqa" created="Sun, 21 Feb 2016 02:35:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12788757/HIVE-12808.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12788757/HIVE-12808.05.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 9817 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7044/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7044/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7044/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7044/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7044/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7044/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12788757 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15160315" author="ashutoshc" created="Wed, 24 Feb 2016 07:29:15 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15163610" author="ashutoshc" created="Wed, 24 Feb 2016 19:52:27 +0000"  >&lt;p&gt;Pushed to master. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15166508" author="lefty@hortonworks.com" created="Thu, 25 Feb 2016 01:31:51 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;hive.optimize.ppd.windowing&lt;/b&gt; to HiveConf.java, so it will need to be documented in Configuration Properties for the 2.1.0 release.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Query and DDL Execution &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added a TODOC2.1 label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13106530">HIVE-17668</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782179" name="HIVE-12808.01.patch" size="24864" author="jpullokkaran" created="Thu, 14 Jan 2016 01:48:13 +0000"/>
                            <attachment id="12782597" name="HIVE-12808.02.patch" size="264156" author="jpullokkaran" created="Fri, 15 Jan 2016 20:13:24 +0000"/>
                            <attachment id="12785874" name="HIVE-12808.03.patch" size="291912" author="jpullokkaran" created="Tue, 2 Feb 2016 22:07:05 +0000"/>
                            <attachment id="12788344" name="HIVE-12808.04.patch" size="298961" author="jpullokkaran" created="Thu, 18 Feb 2016 00:47:21 +0000"/>
                            <attachment id="12788757" name="HIVE-12808.05.patch" size="284238" author="jpullokkaran" created="Fri, 19 Feb 2016 21:23:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2016 00:08:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r0lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12809] Vectorization: fast-path for coalesce if input.noNulls = true</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12809</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Coalesce can skip processing other columns, if all the input columns are non-null.&lt;/p&gt;

&lt;p&gt;Possibly retaining, isRepeating=true.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928544">HIVE-12809</key>
            <summary>Vectorization: fast-path for coalesce if input.noNulls = true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 02:52:10 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:24 +0000</updated>
                            <resolved>Fri, 22 Jan 2016 23:47:56 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15102622" author="gopalv" created="Fri, 15 Jan 2016 22:49:17 +0000"  >&lt;p&gt;Attach the right patch with the isNull&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; change.&lt;/p&gt;</comment>
                            <comment id="15103543" author="hiveqa" created="Sun, 17 Jan 2016 01:54:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782629/HIVE-12809.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782629/HIVE-12809.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10021 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6652/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6652/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6652/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6652/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6652/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6652/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782629 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15106008" author="gopalv" created="Tue, 19 Jan 2016 00:10:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt;: can you take a look at this patch? This is aimed at keeping noNulls=true if at least 1 column fed into a coalesce is a constant.&lt;/p&gt;</comment>
                            <comment id="15106068" author="sershe" created="Tue, 19 Jan 2016 01:09:46 +0000"  >&lt;p&gt;+1. The initial noNulls set for the common case is kind of a separate change from the first-column shortcut, right?&lt;/p&gt;</comment>
                            <comment id="15106071" author="gopalv" created="Tue, 19 Jan 2016 01:13:08 +0000"  >&lt;p&gt;Yes, two invariants.&lt;/p&gt;

&lt;p&gt;If any column has noNulls, the final output has no Nulls&lt;br/&gt;
If first column is non-null &amp;amp; repeating, the final output is the first column + isRepeating retained.&lt;/p&gt;</comment>
                            <comment id="15106072" author="sershe" created="Tue, 19 Jan 2016 01:14:26 +0000"  >&lt;p&gt;Yeah, just wanted to make sure I understand the patch correctly. +1 still &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15113355" author="gopalv" created="Fri, 22 Jan 2016 23:47:57 +0000"  >&lt;p&gt;Pushed to master &amp;amp; branch-2.0, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12924333">HIVE-12750</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782625" name="HIVE-12809.1.patch" size="1781" author="gopalv" created="Fri, 15 Jan 2016 22:47:14 +0000"/>
                            <attachment id="12782629" name="HIVE-12809.2.patch" size="1820" author="gopalv" created="Fri, 15 Jan 2016 22:49:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 Jan 2016 01:54:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r0u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>commit f15278af7970f8c857e52938f99c2b0fcc1a8155&lt;br/&gt;
Author: Gopal V &amp;lt;&lt;a href=&apos;mailto:gopalv@apache.org&apos;&gt;gopalv@apache.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12809&quot; title=&quot;Vectorization: fast-path for coalesce if input.noNulls = true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12809&quot;&gt;&lt;strike&gt;HIVE-12809&lt;/strike&gt;&lt;/a&gt;: Vectorization: fast-path for coalesce if input.noNulls = true (Gopal V, reviewed by Sergey Shelukhin)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signed-off-by: Gopal V &amp;lt;&lt;a href=&apos;mailto:gopalv@apache.org&apos;&gt;gopalv@apache.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12810] Hive select fails - java.lang.IndexOutOfBoundsException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12810</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hadoop HDP 2.3 (Hadoop 2.7.1.2.3.0.0-2557)&lt;br/&gt;
Hive 1.2.1.2.3.0.0-2557&lt;/p&gt;

&lt;p&gt;We are loading orc tables in hive with sqoop from hana db.&lt;/p&gt;

&lt;p&gt;Everything works fine, count and select with ie. 16.000.000 entries in the table, but when we load 34.000.000 entries query select does not work anymore and we get the followong error (select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is working in both cases):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select count(*) from tablename;
INFO  : Session is already open
INFO  :

INFO  : Status: Running (Executing on YARN cluster with App id application_1452091205505_0032)

INFO  : Map 1: -/-      Reducer 2: 0/1
INFO  : Map 1: 0/96     Reducer 2: 0/1
.
.
.
INFO  : Map 1: 96/96    Reducer 2: 0(+1)/1
INFO  : Map 1: 96/96    Reducer 2: 1/1
+-----------+--+
|    _c0    |
+-----------+--+
| 34146816  |
+-----------+--+
1 row selected (45.455 seconds)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&quot;select originalxml from tablename where messageid = &lt;span class=&quot;code-quote&quot;&gt;&apos;d0b3c872-435d-499b-a65c-619d9e732bbb&apos;&lt;/span&gt;

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//10.4.zz.xx:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; select originalxml from tablename where messageid = &lt;span class=&quot;code-quote&quot;&gt;&apos;d0b3c872-435d-499b-a65c-619d9e732bbb&apos;&lt;/span&gt;;
&lt;/span&gt;INFO  : Session is already open
INFO  : Tez session was closed. Reopening...
INFO  : Session re-established.
INFO  :

INFO  : Status: Running (Executing on YARN cluster with App id application_1452091205505_0032)

INFO  : Map 1: -/-
ERROR : Status: Failed
ERROR : Vertex failed, vertexName=Map 1, vertexId=vertex_1452091205505_0032_1_00, diagnostics=[Vertex vertex_1452091205505_0032_1_00 [Map 1] killed/failed due to:ROOT_INPUT_INIT_FAILURE, Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0032_1_00 [Map 1], java.lang.RuntimeException: serious problem
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1021)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1048)
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.addSplitsForGroup(HiveInputFormat.java:306)
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:408)
        at org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator.initialize(HiveSplitGenerator.java:155)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:245)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:239)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:422)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:226)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 0
        at java.util.concurrent.FutureTask.report(FutureTask.java:122)
        at java.util.concurrent.FutureTask.get(FutureTask.java:192)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1016)
        ... 15 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0
        at java.util.Collections$EmptyList.get(Collections.java:4454)
        at org.apache.hadoop.hive.ql.io.orc.OrcProto$Type.getSubtypes(OrcProto.java:12240)
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getColumnIndicesFromNames(ReaderImpl.java:649)
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getRawDataSizeOfColumns(ReaderImpl.java:632)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:927)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)
        ... 4 more
]
ERROR : DAG did not succeed due to VERTEX_FAILURE. failedVertices:1 killedVertices:0
Error: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing statement: FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code 2 from org.apache.hadoop.hive.ql.exec.tez.TezTask. Vertex failed, vertexName=Map 1, vertexId=vertex_1452091205505_0032_1_00, diagnostics=[Vertex vertex_1452091205505_0032_1_00 [Map 1] killed/failed due to:ROOT_INPUT_INIT_FAILURE, Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0032_1_00 [Map 1], java.lang.RuntimeException: serious problem
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1021)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1048)
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.addSplitsForGroup(HiveInputFormat.java:306)
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:408)
        at org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator.initialize(HiveSplitGenerator.java:155)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:245)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:239)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:422)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:226)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 0
        at java.util.concurrent.FutureTask.report(FutureTask.java:122)
        at java.util.concurrent.FutureTask.get(FutureTask.java:192)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1016)
        ... 15 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0
        at java.util.Collections$EmptyList.get(Collections.java:4454)
        at org.apache.hadoop.hive.ql.io.orc.OrcProto$Type.getSubtypes(OrcProto.java:12240)
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getColumnIndicesFromNames(ReaderImpl.java:649)
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getRawDataSizeOfColumns(ReaderImpl.java:632)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:927)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)
        ... 4 more
]DAG did not succeed due to VERTEX_FAILURE. failedVertices:1 killedVertices:0 (state=08S01,code=2)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//10.4.zz.xx:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If anybody can help regarding this issue I will appreciate.&lt;/p&gt;

&lt;p&gt;thanks,&lt;br/&gt;
maske&lt;/p&gt;</description>
                <environment>&lt;p&gt;HDP 2.3.0&lt;/p&gt;</environment>
        <key id="12928591">HIVE-12810</key>
            <summary>Hive select fails - java.lang.IndexOutOfBoundsException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="maske">Matjaz Skerjanec</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 09:26:50 +0000</created>
                <updated>Mon, 18 Jan 2016 12:18:03 +0000</updated>
                                            <version>1.2.1</version>
                                                    <component>Beeline</component>
                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15088973" author="gopalv" created="Fri, 8 Jan 2016 09:43:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maske&quot; class=&quot;user-hover&quot; rel=&quot;maske&quot;&gt;Matjaz Skerjanec&lt;/a&gt;: is the table marked as &quot;transactional&quot;=&quot;true&quot; in the describe?&lt;/p&gt;

&lt;p&gt;If it is, this might be a dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11102&quot; title=&quot;ReaderImpl: getColumnIndicesFromNames does not work for some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11102&quot;&gt;&lt;del&gt;HIVE-11102&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15089031" author="maske" created="Fri, 8 Jan 2016 10:31:36 +0000"  >&lt;p&gt;How can I see that?&lt;/p&gt;

&lt;p&gt;describe formatted tablename;&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
Table Type:                   | MANAGED_TABLE&lt;br/&gt;
Table Parameters:             | NULL    &lt;br/&gt;
orc.compress &lt;br/&gt;
transient_lastDdlTime&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;</comment>
                            <comment id="15089040" author="gopalv" created="Fri, 8 Jan 2016 10:40:47 +0000"  >&lt;p&gt;The word &quot;transactional&quot; should be in the Table parameters?&lt;/p&gt;

&lt;p&gt;An alternate way is that you can do a &quot;dfs -ls &quot; of the dir to find that as well. The ACID compliant tables have different naming conventions for the files inside it.&lt;/p&gt;

&lt;p&gt;The other bug reported was shipped in 2.3.2 release.&lt;/p&gt;</comment>
                            <comment id="15089065" author="maske" created="Fri, 8 Jan 2016 11:04:03 +0000"  >&lt;p&gt;Gopal,&lt;br/&gt;
I do not find &quot;transactional&quot; anywhere on suggested places.&lt;/p&gt;</comment>
                            <comment id="15089089" author="maske" created="Fri, 8 Jan 2016 11:39:35 +0000"  >&lt;p&gt;I also have two other tables where select is working fine.&lt;br/&gt;
It is also impossible to print last 5 rows for example on this table, on other tables no problem.&lt;br/&gt;
The problem started when we loaded 34mio of records in that table, with 16mio there was no problem.&lt;/p&gt;

&lt;p&gt;0: jdbc:hive2://10.4.zz.xx:10000/default&amp;gt; select * from tablename limit 5;&lt;br/&gt;
Error: java.io.IOException: java.lang.RuntimeException: serious problem (state=,code=0)&lt;/p&gt;</comment>
                            <comment id="15089091" author="gopalv" created="Fri, 8 Jan 2016 11:43:40 +0000"  >&lt;p&gt;You need to post a &lt;tt&gt;dfs -ls&lt;/tt&gt; on the dir, because this doesn&apos;t make sense right now.&lt;/p&gt;</comment>
                            <comment id="15089093" author="maske" created="Fri, 8 Jan 2016 11:47:48 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;hdfs@hdp-node1 ~&amp;#93;&lt;/span&gt;$ hdfs dfs -ls /apps/hive/warehouse/archive.db/tablename&lt;br/&gt;
Found 36 items&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00000&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708846898 2016-01-07 22:48 /apps/hive/warehouse/archive.db/tablename/part-m-00001&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1707780193 2016-01-07 22:53 /apps/hive/warehouse/archive.db/tablename/part-m-00002&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00003&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708664903 2016-01-07 22:52 /apps/hive/warehouse/archive.db/tablename/part-m-00004&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1707965289 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00005&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00006&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706666181 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00007&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1707111247 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00008&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00009&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708573731 2016-01-07 22:48 /apps/hive/warehouse/archive.db/tablename/part-m-00010&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706909984 2016-01-07 22:51 /apps/hive/warehouse/archive.db/tablename/part-m-00011&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00012&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706116939 2016-01-07 22:53 /apps/hive/warehouse/archive.db/tablename/part-m-00013&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708793297 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00014&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00015&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00016&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00017&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00018&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00019&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00020&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00021&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00022&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00023&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00024&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00025&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00026&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708762502 2016-01-07 22:54 /apps/hive/warehouse/archive.db/tablename/part-m-00027&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706241325 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00028&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:16 /apps/hive/warehouse/archive.db/tablename/part-m-00029&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706505399 2016-01-07 22:46 /apps/hive/warehouse/archive.db/tablename/part-m-00030&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1710595521 2016-01-07 22:51 /apps/hive/warehouse/archive.db/tablename/part-m-00031&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs         49 2016-01-07 21:17 /apps/hive/warehouse/archive.db/tablename/part-m-00032&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1708213829 2016-01-07 22:48 /apps/hive/warehouse/archive.db/tablename/part-m-00033&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs 1706986531 2016-01-07 22:52 /apps/hive/warehouse/archive.db/tablename/part-m-00034&lt;br/&gt;
&lt;del&gt;rw-rw-rw&lt;/del&gt;   3 hdfs hdfs      11425 2016-01-07 21:17 /apps/hive/warehouse/archive.db/tablename/part-m-00035&lt;/p&gt;</comment>
                            <comment id="15089110" author="gopalv" created="Fri, 8 Jan 2016 12:02:16 +0000"  >&lt;p&gt;That looks like it is not using ACID schemas.&lt;/p&gt;

&lt;p&gt;You can attempt the following as a work around to the problem.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.execution.engine=mr;

insert overwrite tablename as select * from tablename sort by messageid;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That should reload the table organized by messageid by reading via the legacy input format (org.apache.hadoop.hive.ql.io.CombineHiveInputFormat) &amp;amp; get to a file layout which is produced by the hive&apos;s writer (instead of SQOOP&apos;s writer).&lt;/p&gt;</comment>
                            <comment id="15089112" author="gopalv" created="Fri, 8 Jan 2016 12:02:54 +0000"  >&lt;p&gt;And once it is reloaded, you can revert to using Tez to run queries on the same.&lt;/p&gt;</comment>
                            <comment id="15089142" author="maske" created="Fri, 8 Jan 2016 12:33:14 +0000"  >&lt;p&gt;I&apos;m concerned about this procedure since we are just in the beginning of loadnig few meilion of entries every day to this table...it should work as expected not with workarounds.&lt;/p&gt;

&lt;p&gt;Why do you think, select is working with 16 milion of entries and does not work with 34 milion of entries?&lt;br/&gt;
It is some kind of limitin parameter maybe to be set?&lt;/p&gt;

&lt;p&gt;If I look into aplication log I can  see:&lt;br/&gt;
first few warnings: &lt;br/&gt;
WARN &lt;a href=&quot;#0&quot;&gt;ORC_GET_SPLITS #0&lt;/a&gt; ipc.Client: interrupted waiting to send rpc request to server&lt;/p&gt;

&lt;p&gt;and later on error:&lt;/p&gt;

&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.tez.dag.app.dag.impl.AMUserCodeException: java.lang.RuntimeException: serious problem&lt;/p&gt;

&lt;p&gt;and java exception:&lt;/p&gt;

&lt;p&gt;java.lang.IndexOutOfBoundsException: Index:&lt;/p&gt;

&lt;p&gt;----------&lt;br/&gt;
#hdfs dfs -ls /apps/hive/warehouse/archive.db.db/tablename/part-m-00035&lt;/p&gt;

&lt;p&gt;Container: container_e09_1452091205505_0030_01_000001 on hdp-node3.something.com_45454&lt;br/&gt;
===============================================================================&lt;br/&gt;
LogType:dag_1452091205505_0030_1.dot&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:1102&lt;br/&gt;
Log Contents:&lt;br/&gt;
digraph hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32 {&lt;br/&gt;
graph [ label=&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32&quot;, fontsize=24, fontname=Helvetica];&lt;br/&gt;
node &lt;span class=&quot;error&quot;&gt;&amp;#91;fontsize=12, fontname=Helvetica&amp;#93;&lt;/span&gt;;&lt;br/&gt;
edge &lt;span class=&quot;error&quot;&gt;&amp;#91;fontsize=9, fontcolor=blue, fontname=Arial&amp;#93;&lt;/span&gt;;&lt;br/&gt;
&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1&quot; [ label = &quot;Map_1&lt;span class=&quot;error&quot;&gt;&amp;#91;MapTezProcessor&amp;#93;&lt;/span&gt;&quot; ];&lt;br/&gt;
&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1&quot; -&amp;gt; &quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1_out_Map_1&quot; [ label = &quot;Output &lt;span class=&quot;error&quot;&gt;&amp;#91;outputClass=MROutput,\n committer=&amp;#93;&lt;/span&gt;&quot; ];&lt;br/&gt;
&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1_tablename&quot; [ label = &quot;Map_1&lt;span class=&quot;error&quot;&gt;&amp;#91;tablename&amp;#93;&lt;/span&gt;&quot;, shape = &quot;box&quot; ];&lt;br/&gt;
&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1_tablename&quot; -&amp;gt; &quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1&quot; [ label = &quot;Input &lt;span class=&quot;error&quot;&gt;&amp;#91;inputClass=MRInputLegacy,\n initializer=HiveSplitGenerator&amp;#93;&lt;/span&gt;&quot; ];&lt;br/&gt;
&quot;hive_20160108092603_9b21f8a6_0a4a_45aa_9006_2e88328cd361_32.Map_1_out_Map_1&quot; [ label = &quot;Map_1&lt;span class=&quot;error&quot;&gt;&amp;#91;out_Map_1&amp;#93;&lt;/span&gt;&quot;, shape = &quot;box&quot; ];&lt;br/&gt;
}&lt;br/&gt;
End of LogType:dag_1452091205505_0030_1.dot&lt;/p&gt;

&lt;p&gt;LogType:stderr&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:118&lt;br/&gt;
Log Contents:&lt;br/&gt;
2016-01-08 09:26:10 Running Dag: dag_1452091205505_0030_1&lt;br/&gt;
2016-01-08 09:26:12 Completed Dag: dag_1452091205505_0030_1&lt;br/&gt;
End of LogType:stderr&lt;/p&gt;

&lt;p&gt;LogType:stdout&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:8503&lt;br/&gt;
Log Contents:&lt;br/&gt;
0.839: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (G1 Evacuation Pause) (young), 0.0122097 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Parallel Time: 7.9 ms, GC Workers: 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Start (ms): Min: 838.9, Avg: 839.0, Max: 839.1, Diff: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ext Root Scanning (ms): Min: 0.0, Avg: 2.2, Max: 4.1, Diff: 4.1, Sum: 8.7&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Update RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;Processed Buffers: Min: 0, Avg: 0.0, Max: 0, Diff: 0, Sum: 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Scanning (ms): Min: 0.0, Avg: 0.2, Max: 0.7, Diff: 0.7, Sum: 0.7&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Object Copy (ms): Min: 0.0, Avg: 2.8, Max: 4.4, Diff: 4.4, Sum: 11.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Termination (ms): Min: 0.0, Avg: 0.3, Max: 0.4, Diff: 0.4, Sum: 1.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Other (ms): Min: 0.0, Avg: 2.1, Max: 7.5, Diff: 7.5, Sum: 8.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Total (ms): Min: 7.5, Avg: 7.6, Max: 7.8, Diff: 0.2, Sum: 30.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker End (ms): Min: 846.7, Avg: 846.7, Max: 846.7, Diff: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Fixup: 0.2 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Purge: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Clear CT: 0.4 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Other: 3.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Choose CSet: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Proc: 2.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Enq: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Redirty Cards: 0.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Humongous Reclaim: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Free CSet: 0.1 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Eden: 18.0M(18.0M)-&amp;gt;0.0B(23.0M) Survivors: 0.0B-&amp;gt;3072.0K Heap: 18.0M(368.0M)-&amp;gt;2914.3K(368.0M)&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.02 sys=0.00, real=0.01 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
1.503: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (G1 Evacuation Pause) (young), 0.0107880 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Parallel Time: 6.9 ms, GC Workers: 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Start (ms): Min: 1502.7, Avg: 1502.8, Max: 1502.9, Diff: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ext Root Scanning (ms): Min: 0.5, Avg: 1.3, Max: 1.8, Diff: 1.3, Sum: 5.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Update RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;Processed Buffers: Min: 0, Avg: 0.0, Max: 0, Diff: 0, Sum: 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Scanning (ms): Min: 0.0, Avg: 1.2, Max: 3.1, Diff: 3.1, Sum: 4.8&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Object Copy (ms): Min: 2.1, Avg: 4.0, Max: 4.8, Diff: 2.8, Sum: 16.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Termination (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 0.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Total (ms): Min: 6.7, Avg: 6.8, Max: 6.9, Diff: 0.2, Sum: 27.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker End (ms): Min: 1509.6, Avg: 1509.6, Max: 1509.6, Diff: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Fixup: 0.4 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Purge: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Clear CT: 0.4 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Other: 3.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Choose CSet: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Proc: 2.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Enq: 0.1 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Redirty Cards: 0.5 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Humongous Reclaim: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Free CSet: 0.1 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Eden: 23.0M(23.0M)-&amp;gt;0.0B(216.0M) Survivors: 3072.0K-&amp;gt;4096.0K Heap: 25.8M(368.0M)-&amp;gt;5120.0K(368.0M)&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.03 sys=0.00, real=0.01 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.070: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (Metadata GC Threshold) (young) (initial-mark), 0.0228356 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Parallel Time: 10.6 ms, GC Workers: 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Start (ms): Min: 3070.7, Avg: 3071.2, Max: 3072.8, Diff: 2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ext Root Scanning (ms): Min: 0.1, Avg: 1.7, Max: 2.5, Diff: 2.4, Sum: 6.9&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Update RS (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 0.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;Processed Buffers: Min: 0, Avg: 0.2, Max: 1, Diff: 1, Sum: 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Scan RS (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Scanning (ms): Min: 0.0, Avg: 1.1, Max: 2.2, Diff: 2.2, Sum: 4.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Object Copy (ms): Min: 5.7, Avg: 6.9, Max: 7.8, Diff: 2.1, Sum: 27.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Total (ms): Min: 8.3, Avg: 9.9, Max: 10.4, Diff: 2.1, Sum: 39.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker End (ms): Min: 3081.1, Avg: 3081.1, Max: 3081.1, Diff: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Fixup: 0.8 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Purge: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Clear CT: 0.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Other: 10.9 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Choose CSet: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Proc: 9.4 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Enq: 0.1 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Redirty Cards: 0.5 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Humongous Reclaim: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Free CSet: 0.4 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Eden: 97.0M(216.0M)-&amp;gt;0.0B(204.0M) Survivors: 4096.0K-&amp;gt;16.0M Heap: 102.0M(368.0M)-&amp;gt;16.5M(368.0M)&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.04 sys=0.01, real=0.03 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.094: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-root-region-scan-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.106: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-root-region-scan-end, 0.0122353 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.106: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-mark-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.107: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-mark-end, 0.0008803 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.107: [GC remark 3.108: &lt;span class=&quot;error&quot;&gt;&amp;#91;Finalize Marking, 0.0010414 secs&amp;#93;&lt;/span&gt; 3.109: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC ref-proc, 0.0001344 secs&amp;#93;&lt;/span&gt; 3.109: &lt;span class=&quot;error&quot;&gt;&amp;#91;Unloading, 0.0099256 secs&amp;#93;&lt;/span&gt;, 0.0116719 secs]&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.02 sys=0.00, real=0.01 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.120: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC cleanup 17M-&amp;gt;15M(368M), 0.0033051 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.00 sys=0.00, real=0.01 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.123: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-cleanup-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
3.123: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-cleanup-end, 0.0000432 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
5.768: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (G1 Evacuation Pause) (young), 0.0419872 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Parallel Time: 32.1 ms, GC Workers: 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Start (ms): Min: 5768.7, Avg: 5774.6, Max: 5776.9, Diff: 8.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ext Root Scanning (ms): Min: 2.2, Avg: 7.9, Max: 17.6, Diff: 15.4, Sum: 31.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Update RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;Processed Buffers: Min: 0, Avg: 0.2, Max: 1, Diff: 1, Sum: 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Scan RS (ms): Min: 0.0, Avg: 0.2, Max: 0.4, Diff: 0.4, Sum: 0.7&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Scanning (ms): Min: 0.0, Avg: 1.3, Max: 2.6, Diff: 2.6, Sum: 5.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Object Copy (ms): Min: 14.2, Avg: 16.6, Max: 18.9, Diff: 4.7, Sum: 66.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Termination (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 0.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.0, Sum: 0.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Total (ms): Min: 23.8, Avg: 26.1, Max: 32.0, Diff: 8.2, Sum: 104.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker End (ms): Min: 5800.7, Avg: 5800.7, Max: 5800.7, Diff: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Fixup: 0.9 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Purge: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Clear CT: 0.2 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Other: 8.8 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Choose CSet: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Proc: 7.8 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Enq: 0.1 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Redirty Cards: 0.2 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Humongous Reclaim: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Free CSet: 0.3 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Eden: 204.0M(204.0M)-&amp;gt;0.0B(200.0M) Survivors: 16.0M-&amp;gt;20.0M Heap: 219.5M(368.0M)-&amp;gt;20.0M(368.0M)&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.11 sys=0.01, real=0.04 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:10 Running Dag: dag_1452091205505_0030_1&lt;br/&gt;
6.426: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (Metadata GC Threshold) (young) (initial-mark), 0.0310678 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Parallel Time: 24.8 ms, GC Workers: 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Start (ms): Min: 6426.8, Avg: 6428.0, Max: 6431.4, Diff: 4.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ext Root Scanning (ms): Min: 0.1, Avg: 3.4, Max: 5.7, Diff: 5.6, Sum: 13.7&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Update RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;Processed Buffers: Min: 0, Avg: 0.0, Max: 0, Diff: 0, Sum: 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Scan RS (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Scanning (ms): Min: 0.0, Avg: 1.1, Max: 2.1, Diff: 2.1, Sum: 4.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Object Copy (ms): Min: 17.9, Avg: 18.8, Max: 19.5, Diff: 1.6, Sum: 75.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.0, Sum: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.0, Sum: 0.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker Total (ms): Min: 20.1, Avg: 23.5, Max: 24.6, Diff: 4.6, Sum: 93.8&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;GC Worker End (ms): Min: 6451.5, Avg: 6451.5, Max: 6451.5, Diff: 0.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Fixup: 1.2 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Code Root Purge: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Clear CT: 0.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Other: 4.5 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Choose CSet: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Proc: 3.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Ref Enq: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Redirty Cards: 0.6 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Humongous Reclaim: 0.0 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;Free CSet: 0.2 ms&amp;#93;&lt;/span&gt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Eden: 46.0M(200.0M)-&amp;gt;0.0B(206.0M) Survivors: 20.0M-&amp;gt;14.0M Heap: 65.9M(368.0M)-&amp;gt;13.5M(368.0M)&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.09 sys=0.01, real=0.03 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.458: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-root-region-scan-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.486: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-root-region-scan-end, 0.0282857 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.486: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-mark-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.487: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-mark-end, 0.0004830 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.488: [GC remark 6.488: &lt;span class=&quot;error&quot;&gt;&amp;#91;Finalize Marking, 0.0004329 secs&amp;#93;&lt;/span&gt; 6.488: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC ref-proc, 0.0002030 secs&amp;#93;&lt;/span&gt; 6.488: &lt;span class=&quot;error&quot;&gt;&amp;#91;Unloading, 0.0107436 secs&amp;#93;&lt;/span&gt;, 0.0122303 secs]&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.04 sys=0.00, real=0.01 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.500: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC cleanup 14M-&amp;gt;14M(368M), 0.0027615 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;Times: user=0.00 sys=0.01, real=0.00 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.503: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-cleanup-start&amp;#93;&lt;/span&gt;&lt;br/&gt;
6.503: &lt;span class=&quot;error&quot;&gt;&amp;#91;GC concurrent-cleanup-end, 0.0000442 secs&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:12 Completed Dag: dag_1452091205505_0030_1&lt;br/&gt;
Heap&lt;br/&gt;
 garbage-first heap   total 376832K, used 140799K [0x00000006f3400000, 0x00000006f3500b80, 0x00000007c0000000)&lt;br/&gt;
  region size 1024K, 139 young (142336K), 14 survivors (14336K)&lt;br/&gt;
 Metaspace       used 42234K, capacity 42538K, committed 43008K, reserved 1087488K&lt;br/&gt;
  class space    used 4993K, capacity 5067K, committed 5120K, reserved 1048576K&lt;br/&gt;
End of LogType:stdout&lt;/p&gt;

&lt;p&gt;LogType:syslog&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:10261&lt;br/&gt;
Log Contents:&lt;br/&gt;
2016-01-08 09:26:07,147 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; app.DAGAppMaster: Created DAGAppMaster for application appattempt_1452091205505_0030_000001, versionInfo=[ component=tez-dag, version=0.7.0.2.3.0.0-2557, revision=ab9a0295b8de3f8711cf2bd4d837cd0b66be7cfa, SCM-URL=scm:git:&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf/tez.git&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://git-wip-us.apache.org/repos/asf/tez.git&lt;/a&gt;, buildTime=20150714-0943 ]&lt;br/&gt;
2016-01-08 09:26:07,181 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; app.DAGAppMaster: Comparing client version with AM version, clientVersion=0.7.0.2.3.0.0-2557, AMVersion=0.7.0.2.3.0.0-2557&lt;br/&gt;
2016-01-08 09:26:08,093 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; app.DAGAppMaster: Adding session token to jobTokenSecretManager for application&lt;br/&gt;
2016-01-08 09:26:08,101 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.rm.container.AMContainerEventType for class org.apache.tez.dag.app.rm.container.AMContainerMap&lt;br/&gt;
2016-01-08 09:26:08,102 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.rm.node.AMNodeEventType for class org.apache.tez.dag.app.rm.node.AMNodeTracker&lt;br/&gt;
2016-01-08 09:26:08,104 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.DAGAppMasterEventType for class org.apache.tez.dag.app.DAGAppMaster$DAGAppMasterEventHandler&lt;br/&gt;
2016-01-08 09:26:08,105 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.DAGEventType for class org.apache.tez.dag.app.DAGAppMaster$DagEventDispatcher&lt;br/&gt;
2016-01-08 09:26:08,105 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.VertexEventType for class org.apache.tez.dag.app.DAGAppMaster$VertexEventDispatcher&lt;br/&gt;
2016-01-08 09:26:08,106 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.TaskEventType for class org.apache.tez.dag.app.DAGAppMaster$TaskEventDispatcher&lt;br/&gt;
2016-01-08 09:26:08,107 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.TaskAttemptEventType for class org.apache.tez.dag.app.DAGAppMaster$TaskAttemptEventDispatcher&lt;br/&gt;
2016-01-08 09:26:08,109 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.SpeculatorEventType for independent dispatch using: class org.apache.tez.dag.app.DAGAppMaster$SpeculatorEventHandler&lt;br/&gt;
2016-01-08 09:26:08,109 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.dag.event.SpeculatorEventType for class org.apache.tez.dag.app.DAGAppMaster$SpeculatorEventHandler&lt;br/&gt;
2016-01-08 09:26:08,184 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.rm.AMSchedulerEventType for class org.apache.tez.dag.app.rm.TaskSchedulerEventHandler&lt;br/&gt;
2016-01-08 09:26:08,187 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.AsyncDispatcher: Registering class org.apache.tez.dag.app.rm.NMCommunicatorEventType for class org.apache.tez.dag.app.launcher.ContainerLauncherImpl&lt;br/&gt;
2016-01-08 09:26:08,344 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; node.AMNodeTracker: blacklistDisablePercent is 33, blacklistingEnabled: true, maxTaskFailuresPerNode: 10&lt;br/&gt;
2016-01-08 09:26:08,347 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; web.WebUIService: Tez UI History URL: &lt;a href=&quot;http://hdp-master1.something.com:8080/#/main/views/TEZ/0.7.0.2.3.0.0-236/TEZ_CLUSTER_INSTANCE?viewPath=%2F%23%2Ftez-app%2Fapplication_1452091205505_0030&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hdp-master1.something.com:8080/#/main/views/TEZ/0.7.0.2.3.0.0-236/TEZ_CLUSTER_INSTANCE?viewPath=%2F%23%2Ftez-app%2Fapplication_1452091205505_0030&lt;/a&gt;&lt;br/&gt;
2016-01-08 09:26:08,349 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; launcher.ContainerLauncherImpl: Upper limit on the thread pool size is 500&lt;br/&gt;
2016-01-08 09:26:08,349 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; history.HistoryEventHandler: Initializing HistoryEventHandler&lt;br/&gt;
2016-01-08 09:26:08,369 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Initializing ATSService&lt;br/&gt;
2016-01-08 09:26:08,932 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; impl.TimelineClientImpl: Timeline service address: &lt;a href=&quot;http://hdp-master1.something.com:8188/ws/v1/timeline/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hdp-master1.something.com:8188/ws/v1/timeline/&lt;/a&gt;&lt;br/&gt;
2016-01-08 09:26:08,932 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Using org.apache.tez.dag.history.ats.acls.ATSHistoryACLPolicyManager to manage Timeline ACLs&lt;br/&gt;
2016-01-08 09:26:09,126 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; impl.TimelineClientImpl: Timeline service address: &lt;a href=&quot;http://hdp-master1.something.com:8188/ws/v1/timeline/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hdp-master1.something.com:8188/ws/v1/timeline/&lt;/a&gt;&lt;br/&gt;
2016-01-08 09:26:09,126 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; recovery.RecoveryService: Initializing RecoveryService&lt;br/&gt;
2016-01-08 09:26:09,130 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:N/A&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:APP_LAUNCHED&amp;#93;&lt;/span&gt;: applicationId=application_1452091205505_0030, appSubmitTime=1452241564250, launchTime=1452241567142&lt;br/&gt;
2016-01-08 09:26:09,131 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:N/A&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:AM_LAUNCHED&amp;#93;&lt;/span&gt;: appAttemptId=appattempt_1452091205505_0030_000001, appSubmitTime=1452241564250, launchTime=1452241567142&lt;br/&gt;
2016-01-08 09:26:09,141 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.history.HistoryEventHandler&amp;#93;&lt;/span&gt; history.HistoryEventHandler: Starting HistoryEventHandler&lt;br/&gt;
2016-01-08 09:26:09,142 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.history.HistoryEventHandler&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Starting ATSService&lt;br/&gt;
2016-01-08 09:26:09,152 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.history.HistoryEventHandler&amp;#93;&lt;/span&gt; recovery.RecoveryService: Starting RecoveryService&lt;br/&gt;
2016-01-08 09:26:09,153 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.launcher.ContainerLauncherImpl&amp;#93;&lt;/span&gt; impl.ContainerManagementProtocolProxy: yarn.client.max-cached-nodemanagers-proxies : 0&lt;br/&gt;
2016-01-08 09:26:09,156 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.TaskAttemptListenerImpTezDag&amp;#93;&lt;/span&gt; ipc.CallQueueManager: Using callQueue class java.util.concurrent.LinkedBlockingQueue&lt;br/&gt;
2016-01-08 09:26:09,156 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:DAGClientRPCServer&amp;#93;&lt;/span&gt; ipc.CallQueueManager: Using callQueue class java.util.concurrent.LinkedBlockingQueue&lt;br/&gt;
2016-01-08 09:26:09,179 INFO &lt;a href=&quot;#1 for port 55777&quot;&gt;Socket Reader #1 for port 55777&lt;/a&gt; ipc.Server: Starting Socket Reader #1 for port 55777&lt;br/&gt;
2016-01-08 09:26:09,186 INFO &lt;a href=&quot;#1 for port 48707&quot;&gt;Socket Reader #1 for port 48707&lt;/a&gt; ipc.Server: Starting Socket Reader #1 for port 48707&lt;br/&gt;
2016-01-08 09:26:09,228 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server Responder&amp;#93;&lt;/span&gt; ipc.Server: IPC Server Responder: starting&lt;br/&gt;
2016-01-08 09:26:09,232 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server listener on 55777&amp;#93;&lt;/span&gt; ipc.Server: IPC Server listener on 55777: starting&lt;br/&gt;
2016-01-08 09:26:09,253 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server Responder&amp;#93;&lt;/span&gt; ipc.Server: IPC Server Responder: starting&lt;br/&gt;
2016-01-08 09:26:09,254 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:DAGClientRPCServer&amp;#93;&lt;/span&gt; client.DAGClientServer: Instantiated DAGClientRPCServer at hdp-node3.something.com/10.4.31.59:48707&lt;br/&gt;
2016-01-08 09:26:09,254 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server listener on 48707&amp;#93;&lt;/span&gt; ipc.Server: IPC Server listener on 48707: starting&lt;br/&gt;
2016-01-08 09:26:09,354 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; mortbay.log: Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog&lt;br/&gt;
2016-01-08 09:26:09,369 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.&lt;br/&gt;
2016-01-08 09:26:09,377 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpRequestLog: Http request log for http.requests. is not defined&lt;br/&gt;
2016-01-08 09:26:09,387 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpServer2: Added global filter &apos;safety&apos; (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)&lt;br/&gt;
2016-01-08 09:26:09,394 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpServer2: Added filter AM_PROXY_FILTER (class=org.apache.hadoop.yarn.server.webproxy.amfilter.AmIpFilter) to context&lt;br/&gt;
2016-01-08 09:26:09,394 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpServer2: Added filter AM_PROXY_FILTER (class=org.apache.hadoop.yarn.server.webproxy.amfilter.AmIpFilter) to context static&lt;br/&gt;
2016-01-08 09:26:09,402 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpServer2: adding path spec: /*&lt;br/&gt;
2016-01-08 09:26:09,418 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; http.HttpServer2: Jetty bound to port 52136&lt;br/&gt;
2016-01-08 09:26:09,418 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; mortbay.log: jetty-6.1.26.hwx&lt;br/&gt;
2016-01-08 09:26:09,489 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; mortbay.log: Extract jar:&lt;a href=&quot;file:/hadoop/hadoop/yarn/local/filecache/11/tez.tar.gz/lib/hadoop-yarn-common-2.7.1.2.3.0.0-2557.jar!/webapps/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/hadoop/hadoop/yarn/local/filecache/11/tez.tar.gz/lib/hadoop-yarn-common-2.7.1.2.3.0.0-2557.jar!/webapps/&lt;/a&gt; to /tmp/Jetty_0_0_0_0_52136_webapps____hhonjy/webapp&lt;br/&gt;
2016-01-08 09:26:09,880 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; mortbay.log: Started HttpServer2$SelectChannelConnectorWithSafeStartup@0.0.0.0:52136&lt;br/&gt;
2016-01-08 09:26:09,881 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; webapp.WebApps: Web app / started at 52136&lt;br/&gt;
2016-01-08 09:26:10,217 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; webapp.WebApps: Registered webapp guice modules&lt;br/&gt;
2016-01-08 09:26:10,219 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.web.WebUIService&amp;#93;&lt;/span&gt; web.WebUIService: Instantiated WebUIService at &lt;a href=&quot;http://hdp-node3.something.com:52136/ui/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hdp-node3.something.com:52136/ui/&lt;/a&gt;&lt;br/&gt;
2016-01-08 09:26:10,261 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.rm.TaskSchedulerEventHandler&amp;#93;&lt;/span&gt; rm.YarnTaskSchedulerService: TaskScheduler initialized with configuration: maxRMHeartbeatInterval: 250, containerReuseEnabled: true, reuseRackLocal: true, reuseNonLocal: false, localitySchedulingDelay: 250, preemptionPercentage: 10, numHeartbeatsBetweenPreemptions: 3, idleContainerMinTimeout: 10000, idleContainerMaxTimeout: 20000, sessionMinHeldContainers: 0&lt;br/&gt;
2016-01-08 09:26:10,317 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;ServiceThread:org.apache.tez.dag.app.rm.TaskSchedulerEventHandler&amp;#93;&lt;/span&gt; client.RMProxy: Connecting to ResourceManager at hdp-master1.something.com/10.4.31.56:8030&lt;br/&gt;
2016-01-08 09:26:10,401 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:N/A&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:AM_STARTED&amp;#93;&lt;/span&gt;: appAttemptId=appattempt_1452091205505_0030_000001, startTime=1452241570399&lt;br/&gt;
2016-01-08 09:26:10,401 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; app.DAGAppMaster: In Session mode. Waiting for DAG over RPC&lt;br/&gt;
2016-01-08 09:26:10,451 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMRM Callback Handler Thread&amp;#93;&lt;/span&gt; rm.YarnTaskSchedulerService: App total resource memory: 65536 cpu: 1 taskAllocations: 0&lt;br/&gt;
2016-01-08 09:26:10,457 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; node.AMNodeTracker: Num cluster nodes = 3&lt;br/&gt;
2016-01-08 09:26:10,696 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; app.DAGAppMaster: Starting DAG submitted via RPC: hive_20160108092603_9b21f8a6-0a4a-45aa-9006-2e88328cd361:32&lt;br/&gt;
2016-01-08 09:26:10,924 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; app.DAGAppMaster: Generating DAG graphviz file, dagId=dag_1452091205505_0030_1, filePath=/hadoop/hadoop/yarn/log/application_1452091205505_0030/container_e09_1452091205505_0030_01_000001/dag_1452091205505_0030_1.dot&lt;br/&gt;
2016-01-08 09:26:10,929 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; common.TezUtilsInternal: Redirecting log file based on addend: dag_1452091205505_0030_1&lt;br/&gt;
End of LogType:syslog&lt;/p&gt;

&lt;p&gt;LogType:syslog_dag_1452091205505_0030_1&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:30256&lt;br/&gt;
Log Contents:&lt;br/&gt;
2016-01-08 09:26:10,930 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; app.DAGAppMaster: Running DAG: hive_20160108092603_9b21f8a6-0a4a-45aa-9006-2e88328cd361:32&lt;br/&gt;
2016-01-08 09:26:11,261 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1452091205505_0030_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:DAG_SUBMITTED&amp;#93;&lt;/span&gt;: dagID=dag_1452091205505_0030_1, submitTime=1452241570697&lt;br/&gt;
2016-01-08 09:26:11,332 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;HistoryEventHandlingThread&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Could not post history event to ATS, atsPutError=6, entityId=dag_1452091205505_0030_1&lt;br/&gt;
2016-01-08 09:26:11,338 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;HistoryEventHandlingThread&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Could not post history event to ATS, atsPutError=6, entityId=dag_1452091205505_0030_1&lt;br/&gt;
2016-01-08 09:26:11,368 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; impl.VertexImpl: setting additional outputs for vertex Map 1&lt;br/&gt;
2016-01-08 09:26:11,370 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; impl.DAGImpl: Using DAG Scheduler: org.apache.tez.dag.app.dag.impl.DAGSchedulerNaturalOrder&lt;br/&gt;
2016-01-08 09:26:11,373 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1452091205505_0030_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:DAG_INITIALIZED&amp;#93;&lt;/span&gt;: dagID=dag_1452091205505_0030_1, initTime=1452241571309&lt;br/&gt;
2016-01-08 09:26:11,374 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 48707&amp;#93;&lt;/span&gt; impl.DAGImpl: dag_1452091205505_0030_1 transitioned from NEW to INITED&lt;br/&gt;
2016-01-08 09:26:11,378 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1452091205505_0030_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:DAG_STARTED&amp;#93;&lt;/span&gt;: dagID=dag_1452091205505_0030_1, startTime=1452241571377&lt;br/&gt;
2016-01-08 09:26:11,379 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: Added additional resources : [[]] to classpath&lt;br/&gt;
2016-01-08 09:26:11,384 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: dag_1452091205505_0030_1 transitioned from INITED to RUNNING&lt;br/&gt;
2016-01-08 09:26:11,385 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Root Inputs exist for Vertex: Map 1 : {tablename=&lt;/p&gt;
{InputName=tablename}
&lt;p&gt;, &lt;/p&gt;
{Descriptor=ClassName=org.apache.tez.mapreduce.input.MRInputLegacy, hasPayload=true}
&lt;p&gt;, {ControllerDescriptor=ClassName=org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator, hasPayload=false}}&lt;br/&gt;
2016-01-08 09:26:11,386 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Starting root input initializer for input: tablename, with class: &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:11,386 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Setting vertexManager to RootInputVertexManager for vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:11,402 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Num tasks is -1. Expecting VertexManager/InputInitializers/1-1 split to set #tasks for the vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:11,402 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Vertex will initialize from input initializer. vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:11,405 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Vertex will initialize via inputInitializers vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;. Starting root input initializers: 1&lt;br/&gt;
2016-01-08 09:26:11,454 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; Configuration.deprecation: mapred.committer.job.setup.cleanup.needed is deprecated. Instead, use mapreduce.job.committer.setup.cleanup.needed&lt;br/&gt;
2016-01-08 09:26:11,456 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; Configuration.deprecation: mapred.input.dir.recursive is deprecated. Instead, use mapreduce.input.fileinputformat.input.dir.recursive&lt;br/&gt;
2016-01-08 09:26:11,674 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; exec.Utilities: PLAN PATH = hdfs://hdp-master1.something.com:8020/tmp/hive/hive/ce1315c6-a203-459a-a5d2-116a46a1c14e/hive_2016-01-08_09-26-03_418_3119952734722954293-34/hive/_tez_scratch_dir/919e0d70-60c0-4f67-9199-99b02a9c67e2/map.xml&lt;br/&gt;
2016-01-08 09:26:11,674 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; exec.Utilities: **************&lt;b&gt;non-local mode&lt;/b&gt;**************&lt;br/&gt;
2016-01-08 09:26:11,675 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; exec.Utilities: local path = hdfs://hdp-master1.something.com:8020/tmp/hive/hive/ce1315c6-a203-459a-a5d2-116a46a1c14e/hive_2016-01-08_09-26-03_418_3119952734722954293-34/hive/_tez_scratch_dir/919e0d70-60c0-4f67-9199-99b02a9c67e2/map.xml&lt;br/&gt;
2016-01-08 09:26:11,691 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; log.PerfLogger: &amp;lt;PERFLOG method=deserializePlan from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2016-01-08 09:26:11,691 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; exec.Utilities: Deserializing MapWork via kryo&lt;br/&gt;
2016-01-08 09:26:12,120 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; log.PerfLogger: &amp;lt;/PERFLOG method=deserializePlan start=1452241571690 end=1452241572120 duration=430 from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2016-01-08 09:26:12,134 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] dag.RootInputInitializerManager: Starting InputInitializer for Input: tablename on vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:12,154 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; transitioned from NEW to INITIALIZING due to event V_INIT&lt;br/&gt;
2016-01-08 09:26:12,167 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: The preferred split size is 16777216&lt;br/&gt;
2016-01-08 09:26:12,168 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=getSplits from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2016-01-08 09:26:12,169 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: PLAN PATH = hdfs://hdp-master1.something.com:8020/tmp/hive/hive/ce1315c6-a203-459a-a5d2-116a46a1c14e/hive_2016-01-08_09-26-03_418_3119952734722954293-34/hive/_tez_scratch_dir/919e0d70-60c0-4f67-9199-99b02a9c67e2/map.xml&lt;br/&gt;
2016-01-08 09:26:12,171 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Processing alias tablename&lt;br/&gt;
2016-01-08 09:26:12,171 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Adding input file hdfs://hdp-master1.something.com:8020/apps/hive/warehouse/archive.db/tablename&lt;br/&gt;
2016-01-08 09:26:12,199 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.ids=1,6&lt;br/&gt;
2016-01-08 09:26:12,199 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.names=messageid,originalxml&lt;br/&gt;
2016-01-08 09:26:12,199 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: Generating splits&lt;br/&gt;
2016-01-08 09:26:12,238 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=OrcGetSplits from=org.apache.hadoop.hive.ql.io.orc.ReaderImpl&amp;gt;&lt;br/&gt;
2016-01-08 09:26:12,241 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] Configuration.deprecation: mapred.input.dir is deprecated. Instead, use mapreduce.input.fileinputformat.inputdir&lt;br/&gt;
2016-01-08 09:26:12,605 WARN &lt;a href=&quot;#0&quot;&gt;ORC_GET_SPLITS #0&lt;/a&gt; ipc.Client: interrupted waiting to send rpc request to server&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:191)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client$Connection.sendRpcRequest(Client.java:1057)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1400)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1358)&lt;br/&gt;
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:229)&lt;br/&gt;
        at com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:771)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:187)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)&lt;br/&gt;
        at com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:2116)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1305)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.extractMetaInfoFromFooter(ReaderImpl.java:358)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.&amp;lt;init&amp;gt;(ReaderImpl.java:314)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcFile.createReader(OrcFile.java:237)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:924)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
2016-01-08 09:26:12,615 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] dag.RootInputInitializerManager: Failed InputInitializer for Input: tablename on vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:12,613 WARN &lt;a href=&quot;#7&quot;&gt;ORC_GET_SPLITS #7&lt;/a&gt; ipc.Client: interrupted waiting to send rpc request to server&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:191)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client$Connection.sendRpcRequest(Client.java:1057)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1400)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1358)&lt;br/&gt;
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:229)&lt;br/&gt;
        at com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:771)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:187)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)&lt;br/&gt;
        at com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:2116)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1305)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.extractMetaInfoFromFooter(ReaderImpl.java:358)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.&amp;lt;init&amp;gt;(ReaderImpl.java:314)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcFile.createReader(OrcFile.java:237)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:924)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
2016-01-08 09:26:12,613 WARN &lt;a href=&quot;#1&quot;&gt;ORC_GET_SPLITS #1&lt;/a&gt; ipc.Client: interrupted waiting to send rpc request to server&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:191)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client$Connection.sendRpcRequest(Client.java:1057)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1400)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1358)&lt;br/&gt;
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:229)&lt;br/&gt;
        at com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:771)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:187)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)&lt;br/&gt;
        at com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:2116)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1305)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.extractMetaInfoFromFooter(ReaderImpl.java:358)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.&amp;lt;init&amp;gt;(ReaderImpl.java:314)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcFile.createReader(OrcFile.java:237)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:924)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
2016-01-08 09:26:12,609 WARN &lt;a href=&quot;#4&quot;&gt;ORC_GET_SPLITS #4&lt;/a&gt; ipc.Client: interrupted waiting to send rpc request to server&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:404)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:191)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client$Connection.sendRpcRequest(Client.java:1057)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1400)&lt;br/&gt;
        at org.apache.hadoop.ipc.Client.call(Client.java:1358)&lt;br/&gt;
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:229)&lt;br/&gt;
        at com.sun.proxy.$Proxy11.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getFileInfo(ClientNamenodeProtocolTranslatorPB.java:771)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:187)&lt;br/&gt;
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)&lt;br/&gt;
        at com.sun.proxy.$Proxy12.getFileInfo(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:2116)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1305)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem$22.doCall(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)&lt;br/&gt;
        at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:1301)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.extractMetaInfoFromFooter(ReaderImpl.java:358)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.&amp;lt;init&amp;gt;(ReaderImpl.java:314)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcFile.createReader(OrcFile.java:237)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:924)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
2016-01-08 09:26:12,627 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.tez.dag.app.dag.impl.AMUserCodeException: java.lang.RuntimeException: serious problem&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallback.onFailure(RootInputInitializerManager.java:291)&lt;br/&gt;
        at com.google.common.util.concurrent.Futures$4.run(Futures.java:1140)&lt;br/&gt;
        at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:293)&lt;br/&gt;
        at com.google.common.util.concurrent.ExecutionList$RunnableExecutorPair.execute(ExecutionList.java:150)&lt;br/&gt;
        at com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:135)&lt;br/&gt;
        at com.google.common.util.concurrent.ListenableFutureTask.done(ListenableFutureTask.java:91)&lt;br/&gt;
        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:384)&lt;br/&gt;
        at java.util.concurrent.FutureTask.setException(FutureTask.java:251)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:271)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.lang.RuntimeException: serious problem&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1021)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1048)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.addSplitsForGroup(HiveInputFormat.java:306)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:408)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator.initialize(HiveSplitGenerator.java:155)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:245)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:239)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:422)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:226)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        ... 3 more&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.concurrent.FutureTask.report(FutureTask.java:122)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:192)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1016)&lt;br/&gt;
        ... 15 more&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.Collections$EmptyList.get(Collections.java:4454)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcProto$Type.getSubtypes(OrcProto.java:12240)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getColumnIndicesFromNames(ReaderImpl.java:649)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getRawDataSizeOfColumns(ReaderImpl.java:632)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:927)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
2016-01-08 09:26:12,643 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Invoking committer abort for vertex, vertexId=vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:12,700 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1452091205505_0030_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:VERTEX_FINISHED&amp;#93;&lt;/span&gt;: vertexName=Map 1, vertexId=vertex_1452091205505_0030_1_00, initRequestedTime=1452241571385, initedTime=0, startRequestedTime=1452241572166, startedTime=0, finishTime=1452241572645, timeTaken=1452241572645, status=FAILED, diagnostics=Vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; killed/failed due to:ROOT_INPUT_INIT_FAILURE&lt;br/&gt;
Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;, java.lang.RuntimeException: serious problem&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1021)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1048)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.addSplitsForGroup(HiveInputFormat.java:306)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:408)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator.initialize(HiveSplitGenerator.java:155)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:245)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:239)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:422)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:226)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.concurrent.FutureTask.report(FutureTask.java:122)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:192)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1016)&lt;br/&gt;
        ... 15 more&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.Collections$EmptyList.get(Collections.java:4454)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcProto$Type.getSubtypes(OrcProto.java:12240)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getColumnIndicesFromNames(ReaderImpl.java:649)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getRawDataSizeOfColumns(ReaderImpl.java:632)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:927)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
, counters=Counters: 0, vertexStats=firstTaskStartTime=-1, firstTasksToStart=[  ], lastTaskFinishTime=-1, lastTasksToFinish=[  ], minTaskDuration=-1, maxTaskDuration=-1, avgTaskDuration=-1.0, numSuccessfulTasks=0, shortestDurationTasks=[  ], longestDurationTasks=[  ], vertexTaskStats=&lt;/p&gt;
{numFailedTaskAttempts=0, numKilledTaskAttempts=0, numCompletedTasks=0, numSucceededTasks=0, numKilledTasks=0, numFailedTasks=0}
&lt;p&gt;2016-01-08 09:26:12,701 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; transitioned from INITIALIZING to FAILED due to event V_ROOT_INPUT_FAILED&lt;br/&gt;
2016-01-08 09:26:12,703 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: Vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; completed., numCompletedVertices=1, numSuccessfulVertices=0, numFailedVertices=1, numKilledVertices=0, numVertices=1&lt;br/&gt;
2016-01-08 09:26:12,703 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: Checking vertices for DAG completion, numCompletedVertices=1, numSuccessfulVertices=0, numFailedVertices=1, numKilledVertices=0, numVertices=1, commitInProgress=0, terminationCause=VERTEX_FAILURE&lt;br/&gt;
2016-01-08 09:26:12,703 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: DAG did not succeed due to VERTEX_FAILURE. failedVertices:1 killedVertices:0&lt;br/&gt;
2016-01-08 09:26:12,720 INFO &lt;a href=&quot;#9&quot;&gt;ORC_GET_SPLITS #9&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,720 INFO &lt;a href=&quot;#2&quot;&gt;ORC_GET_SPLITS #2&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,721 INFO &lt;a href=&quot;#6&quot;&gt;ORC_GET_SPLITS #6&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,722 INFO &lt;a href=&quot;#3&quot;&gt;ORC_GET_SPLITS #3&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,720 INFO &lt;a href=&quot;#5&quot;&gt;ORC_GET_SPLITS #5&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,723 INFO &lt;a href=&quot;#8&quot;&gt;ORC_GET_SPLITS #8&lt;/a&gt; orc.OrcInputFormat: ORC pushdown predicate: leaf-0 = (EQUALS messageid d0b3c872-435d-499b-a65c-619d9e732bbb)&lt;br/&gt;
expr = leaf-0&lt;br/&gt;
2016-01-08 09:26:12,801 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; counters.Limits: Counter limits initialized with parameters:  GROUP_NAME_MAX=256, MAX_GROUPS=1000, COUNTER_NAME_MAX=64, MAX_COUNTERS=2000&lt;br/&gt;
2016-01-08 09:26:12,887 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; recovery.RecoveryService: DAG completed, dagId=dag_1452091205505_0030_1, queueSize=0&lt;br/&gt;
2016-01-08 09:26:12,905 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1452091205505_0030_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:DAG_FINISHED&amp;#93;&lt;/span&gt;: dagId=dag_1452091205505_0030_1, startTime=1452241571377, finishTime=1452241572808, timeTaken=1431, status=FAILED, diagnostics=Vertex failed, vertexName=Map 1, vertexId=vertex_1452091205505_0030_1_00, diagnostics=[Vertex vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; killed/failed due to:ROOT_INPUT_INIT_FAILURE, Vertex Input: tablename initializer failed, vertex=vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;, java.lang.RuntimeException: serious problem&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1021)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getSplits(OrcInputFormat.java:1048)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.addSplitsForGroup(HiveInputFormat.java:306)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:408)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator.initialize(HiveSplitGenerator.java:155)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:245)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:239)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:422)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)&lt;br/&gt;
        at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:226)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.concurrent.FutureTask.report(FutureTask.java:122)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:192)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.generateSplitsInfo(OrcInputFormat.java:1016)&lt;br/&gt;
        ... 15 more&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 0&lt;br/&gt;
        at java.util.Collections$EmptyList.get(Collections.java:4454)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcProto$Type.getSubtypes(OrcProto.java:12240)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getColumnIndicesFromNames(ReaderImpl.java:649)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.getRawDataSizeOfColumns(ReaderImpl.java:632)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.populateAndCacheStripeDetails(OrcInputFormat.java:927)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:836)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.call(OrcInputFormat.java:702)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
]&lt;br/&gt;
DAG did not succeed due to VERTEX_FAILURE. failedVertices:1 killedVertices:0, counters=Counters: 2, org.apache.tez.common.counters.DAGCounter, AM_CPU_MILLISECONDS=4460, AM_GC_TIME_MILLIS=32&lt;br/&gt;
2016-01-08 09:26:12,905 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.VertexImpl: Ignoring multiple aborts for vertex: vertex_1452091205505_0030_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-01-08 09:26:12,906 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: DAG: dag_1452091205505_0030_1 finished with state: FAILED&lt;br/&gt;
2016-01-08 09:26:12,906 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; impl.DAGImpl: dag_1452091205505_0030_1 transitioned from RUNNING to FAILED&lt;br/&gt;
2016-01-08 09:26:12,907 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; app.DAGAppMaster: DAG completed, dagId=dag_1452091205505_0030_1, dagState=FAILED&lt;br/&gt;
2016-01-08 09:26:12,907 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; common.TezUtilsInternal: Redirecting log file based on addend: dag_1452091205505_0030_1_post&lt;br/&gt;
End of LogType:syslog_dag_1452091205505_0030_1&lt;/p&gt;

&lt;p&gt;LogType:syslog_dag_1452091205505_0030_1_post&lt;br/&gt;
Log Upload Time:Fri Jan 08 09:37:16 +0100 2016&lt;br/&gt;
LogLength:4819&lt;br/&gt;
Log Contents:&lt;br/&gt;
2016-01-08 09:26:12,908 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; app.DAGAppMaster: Central Dispatcher queue size after DAG completion, before cleanup: 0&lt;br/&gt;
2016-01-08 09:26:12,908 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; app.DAGAppMaster: Waiting for next DAG to be submitted.&lt;br/&gt;
2016-01-08 09:26:12,911 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; app.DAGAppMaster: Cleaning up DAG: name=hive_20160108092603_9b21f8a6-0a4a-45aa-9006-2e88328cd361:32, with id=dag_1452091205505_0030_1&lt;br/&gt;
2016-01-08 09:26:12,919 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Dispatcher thread: Central&amp;#93;&lt;/span&gt; app.DAGAppMaster: Completed cleanup for DAG: name=hive_20160108092603_9b21f8a6-0a4a-45aa-9006-2e88328cd361:32, with id=dag_1452091205505_0030_1&lt;br/&gt;
2016-01-08 09:37:10,402 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Timer-1&amp;#93;&lt;/span&gt; app.DAGAppMaster: Session timed out, lastDAGCompletionTime=1452241572907 ms, sessionTimeoutInterval=600000 ms&lt;br/&gt;
2016-01-08 09:37:10,404 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Timer-1&amp;#93;&lt;/span&gt; rm.TaskSchedulerEventHandler: TaskScheduler notified that it should unregister from RM&lt;br/&gt;
2016-01-08 09:37:10,405 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Timer-1&amp;#93;&lt;/span&gt; app.DAGAppMaster: No current running DAG, shutting down the AM&lt;br/&gt;
2016-01-08 09:37:10,405 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Timer-1&amp;#93;&lt;/span&gt; app.DAGAppMaster: DAGAppMasterShutdownHandler invoked&lt;br/&gt;
2016-01-08 09:37:10,405 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Timer-1&amp;#93;&lt;/span&gt; app.DAGAppMaster: Handling DAGAppMaster shutdown&lt;br/&gt;
2016-01-08 09:37:10,407 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; app.DAGAppMaster: Sleeping for 5 seconds before shutting down&lt;br/&gt;
2016-01-08 09:37:15,408 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; app.DAGAppMaster: Calling stop for all the services&lt;br/&gt;
2016-01-08 09:37:15,411 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; history.HistoryEventHandler: Stopping HistoryEventHandler&lt;br/&gt;
2016-01-08 09:37:15,411 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; recovery.RecoveryService: Stopping RecoveryService&lt;br/&gt;
2016-01-08 09:37:15,411 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; recovery.RecoveryService: Handle the remaining events in queue, queue size=0&lt;br/&gt;
2016-01-08 09:37:15,412 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;RecoveryEventHandlingThread&amp;#93;&lt;/span&gt; recovery.RecoveryService: EventQueue take interrupted. Returning&lt;br/&gt;
2016-01-08 09:37:15,412 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; recovery.RecoveryService: Closing Summary Stream&lt;br/&gt;
2016-01-08 09:37:15,423 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; ats.ATSHistoryLoggingService: Stopping ATSService, eventQueueBacklog=0&lt;br/&gt;
2016-01-08 09:37:15,425 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;DelayedContainerManager&amp;#93;&lt;/span&gt; rm.YarnTaskSchedulerService: AllocatedContainerManager Thread interrupted&lt;br/&gt;
2016-01-08 09:37:15,431 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; rm.YarnTaskSchedulerService: Unregistering application from RM, exitStatus=SUCCEEDED, exitMessage=Session stats:submittedDAGs=1, successfulDAGs=0, failedDAGs=1, killedDAGs=0&lt;br/&gt;
, trackingURL=&lt;a href=&quot;http://hdp-master1.something.com:8080/#/main/views/TEZ/0.7.0.2.3.0.0-236/TEZ_CLUSTER_INSTANCE?viewPath=%2F%23%2Ftez-app%2Fapplication_1452091205505_0030&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hdp-master1.something.com:8080/#/main/views/TEZ/0.7.0.2.3.0.0-236/TEZ_CLUSTER_INSTANCE?viewPath=%2F%23%2Ftez-app%2Fapplication_1452091205505_0030&lt;/a&gt;&lt;br/&gt;
2016-01-08 09:37:15,443 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; impl.AMRMClientImpl: Waiting for application to be successfully unregistered.&lt;br/&gt;
2016-01-08 09:37:15,545 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; rm.YarnTaskSchedulerService: Successfully unregistered application from RM&lt;br/&gt;
2016-01-08 09:37:15,548 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMRM Callback Handler Thread&amp;#93;&lt;/span&gt; impl.AMRMClientAsyncImpl: Interrupted while waiting for queue&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2048)&lt;br/&gt;
        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)&lt;br/&gt;
        at org.apache.hadoop.yarn.client.api.async.impl.AMRMClientAsyncImpl$CallbackHandlerThread.run(AMRMClientAsyncImpl.java:287)&lt;br/&gt;
2016-01-08 09:37:15,576 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; mortbay.log: Stopped HttpServer2$SelectChannelConnectorWithSafeStartup@0.0.0.0:0&lt;br/&gt;
2016-01-08 09:37:15,580 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; ipc.Server: Stopping server on 55777&lt;br/&gt;
2016-01-08 09:37:15,585 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server listener on 55777&amp;#93;&lt;/span&gt; ipc.Server: Stopping IPC Server listener on 55777&lt;br/&gt;
2016-01-08 09:37:15,585 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; ipc.Server: Stopping server on 48707&lt;br/&gt;
2016-01-08 09:37:15,586 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server Responder&amp;#93;&lt;/span&gt; ipc.Server: Stopping IPC Server Responder&lt;br/&gt;
2016-01-08 09:37:15,586 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server listener on 48707&amp;#93;&lt;/span&gt; ipc.Server: Stopping IPC Server listener on 48707&lt;br/&gt;
2016-01-08 09:37:15,587 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server Responder&amp;#93;&lt;/span&gt; ipc.Server: Stopping IPC Server Responder&lt;br/&gt;
2016-01-08 09:37:15,592 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; app.DAGAppMaster: DAGAppMasterShutdownHook invoked&lt;br/&gt;
2016-01-08 09:37:15,592 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; app.DAGAppMaster: The shutdown handler is still running, waiting for it to complete&lt;br/&gt;
2016-01-08 09:37:15,601 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; app.DAGAppMaster: Completed deletion of tez scratch data dir, path=hdfs://hdp-master1.something.com:8020/tmp/hive/hive/_tez_session_dir/76022374-fe62-4835-a80d-6f20ee57c7ba/.tez/application_1452091205505_0030&lt;br/&gt;
2016-01-08 09:37:15,602 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AMShutdownThread&amp;#93;&lt;/span&gt; app.DAGAppMaster: Exiting DAGAppMaster..GoodBye!&lt;br/&gt;
2016-01-08 09:37:15,602 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; app.DAGAppMaster: The shutdown handler has completed&lt;br/&gt;
End of LogType:syslog_dag_1452091205505_0030_1_post&lt;/p&gt;


</comment>
                            <comment id="15089154" author="gopalv" created="Fri, 8 Jan 2016 12:38:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m concerned about this procedure since we are just in the beginning of loadnig few meilion of entries every day to this table...it should work as expected not with workarounds.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah. This is already fixed, I will probably close this bug as a duplicate.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why do you think, select is working with 16 milion of entries and does not work with 34 milion of entries?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;It is some kind of limitin parameter maybe to be set?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, there are codepaths for data-size &amp;lt; 1Gb and &amp;gt; 1Gb.&lt;/p&gt;</comment>
                            <comment id="15089166" author="maske" created="Fri, 8 Jan 2016 12:56:24 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;can you please be more specific. How can I set the codepath?&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="15091607" author="maske" created="Mon, 11 Jan 2016 08:35:37 +0000"  >&lt;p&gt;Hello again,&lt;/p&gt;

&lt;p&gt;I find out that suggested workaround blows up file system space. When I perform &quot;insert overwrite&quot; dik size will grow for twice amount of table size I work with.&lt;br/&gt;
The other problem with workaround is that I&apos;m able to perform select but output is full of spaces.&lt;/p&gt;

&lt;p&gt;set hive.execution.engine=mr;&lt;/p&gt;

&lt;p&gt;insert overwrite tablename as select * from tablename sort by messageid;&lt;/p&gt;


&lt;p&gt;Is there any parameter to overcome the limitation I mentioned? Everything works fine with 16mio entries, but you are unable to select when there is 36mio entries in the table.&lt;br/&gt;
Is it some java problem maybe?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15091610" author="gopalv" created="Mon, 11 Jan 2016 08:43:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;When I perform &quot;insert overwrite&quot; dik size will grow for twice amount of table size I work with.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yes, HDFS is an immutable filesystem.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is there any parameter to overcome the limitation I mentioned?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, try HDP-2.3.2 which contains the fix.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is it some java problem maybe?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This looks like a SQOOP issue in the data write-path, which is why I recommended doing a reinsert via Hive to fix the data.&lt;/p&gt;</comment>
                            <comment id="15094026" author="maske" created="Tue, 12 Jan 2016 15:10:37 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;too bad, I did an upgrade to 2.3.2, everything went ok, all services are up, but I can not connect to hive now...any idea maybe?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;root@hdp-master ~&amp;#93;&lt;/span&gt;# beeline&lt;br/&gt;
SLF4J: Class path contains multiple SLF4J bindings.&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.3.2.0-2950/spark/lib/spark-assembly-1.4.1.2.3.2.0-2950-hadoop2.7.1.2.3.2.0-2950.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.3.2.0-2950/hadoop/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#multiple_bindings&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/codes.html#multiple_bindings&lt;/a&gt; for an explanation.&lt;br/&gt;
SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.slf4j.impl.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
WARNING: Use &quot;yarn jar&quot; to launch YARN applications.&lt;br/&gt;
SLF4J: Class path contains multiple SLF4J bindings.&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.3.2.0-2950/spark/lib/spark-assembly-1.4.1.2.3.2.0-2950-hadoop2.7.1.2.3.2.0-2950.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.3.2.0-2950/hadoop/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#multiple_bindings&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/codes.html#multiple_bindings&lt;/a&gt; for an explanation.&lt;br/&gt;
SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.slf4j.impl.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
Beeline version 1.2.1.2.3.2.0-2950 by Apache Hive&lt;br/&gt;
beeline&amp;gt; !connect jdbc:hive2://ipaddr:10000/default&lt;br/&gt;
Connecting to jdbc:hive2://ipaddr:10000/default&lt;br/&gt;
Enter username for jdbc:hive2://ipaddr:10000/default: hive&lt;br/&gt;
Enter password for jdbc:hive2://ipaddr:10000/default: *******&lt;br/&gt;
Error: Could not open client transport with JDBC Uri: jdbc:hive2://ipaddr:10000/default: java.net.ConnectException: Connection refused (state=08S01,code=0)&lt;br/&gt;
0: jdbc:hive2://ipaddr:10000/default (closed)&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15095298" author="taksaito" created="Wed, 13 Jan 2016 00:31:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maske&quot; class=&quot;user-hover&quot; rel=&quot;maske&quot;&gt;Matjaz Skerjanec&lt;/a&gt;, Have you checked the hiveserver2 log to see if hiveserver2 has started properly? Do you seen any error there?&lt;/p&gt;</comment>
                            <comment id="15095769" author="maske" created="Wed, 13 Jan 2016 07:35:20 +0000"  >&lt;p&gt;I get the following error in hive-server2.log all the time:&lt;/p&gt;

&lt;p&gt;ivysettings.xml file not found in HIVE_HOME or HIVE_CONF_DIR,&lt;a href=&quot;file:/usr/hdp/2.3.2.0-2950/hadoop/lib/hadoop-lzo-0.6.0.2.3.2.0-2950-sources.jar!/ivysettings.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/usr/hdp/2.3.2.0-2950/hadoop/lib/hadoop-lzo-0.6.0.2.3.2.0-2950-sources.jar!/ivysettings.xml&lt;/a&gt; w&lt;br/&gt;
ill be used&lt;/p&gt;

&lt;p&gt;an the following error in hiveserver2.log, looks like some permissions problem?:&lt;/p&gt;

&lt;p&gt;2016-01-13 00:01:45,186 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Handler-Pool: Thread-41&amp;#93;&lt;/span&gt;: thrift.ThriftCLIService (ThriftCLIService.java:OpenSession(294)) - Client protocol version&lt;br/&gt;
: HIVE_CLI_SERVICE_PROTOCOL_V8&lt;br/&gt;
2016-01-13 00:01:45,188 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Handler-Pool: Thread-41&amp;#93;&lt;/span&gt;: DependencyResolver (SessionState.java:printInfo(951)) - ivysettings.xml file not found in&lt;br/&gt;
HIVE_HOME or HIVE_CONF_DIR,&lt;a href=&quot;file:/usr/hdp/2.3.2.0-2950/hadoop/lib/hadoop-lzo-0.6.0.2.3.2.0-2950-sources.jar!/ivysettings.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/usr/hdp/2.3.2.0-2950/hadoop/lib/hadoop-lzo-0.6.0.2.3.2.0-2950-sources.jar!/ivysettings.xml&lt;/a&gt; will be used&lt;br/&gt;
2016-01-13 00:01:45,200 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Handler-Pool: Thread-41&amp;#93;&lt;/span&gt;: thrift.ThriftCLIService (ThriftCLIService.java:OpenSession(308)) - Error opening session:&lt;br/&gt;
org.apache.hive.service.cli.HiveSQLException: Failed to open new session: java.lang.RuntimeException: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteE&lt;br/&gt;
xception(org.apache.hadoop.security.authorize.AuthorizationException): User: hive is not allowed to impersonate anonymous&lt;br/&gt;
        at org.apache.hive.service.cli.session.SessionManager.openSession(SessionManager.java:266)&lt;br/&gt;
        at org.apache.hive.service.cli.CLIService.openSessionWithImpersonation(CLIService.java:202)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftCLIService.getSessionHandle(ThriftCLIService.java:402)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftCLIService.OpenSession(ThriftCLIService.java:297)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.TCLIService$Processor$OpenSession.getResult(TCLIService.java:1253)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.TCLIService$Processor$OpenSession.getResult(TCLIService.java:1238)&lt;br/&gt;
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)&lt;br/&gt;
        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)&lt;br/&gt;
        at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56)&lt;br/&gt;
        at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:285)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.authorize.AuthorizationExce&lt;br/&gt;
ption): User: hive is not allowed to impersonate anonymous&lt;br/&gt;
        at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:83)&lt;br/&gt;
        at org.apache.hive.service.cli.session.HiveSessionProxy.access$000(HiveSessionProxy.java:36)&lt;br/&gt;
        at org.apache.hive.service.cli.session.HiveSessionProxy$1.run(HiveSessionProxy.java:63)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:422)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)&lt;br/&gt;
        at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:59)&lt;br/&gt;
        at com.sun.proxy.$Proxy22.open(Unknown Source)&lt;br/&gt;
        at org.apache.hive.service.cli.session.SessionManager.openSession(SessionManager.java:258)&lt;br/&gt;
        ... 12 more&lt;/p&gt;</comment>
                            <comment id="15096700" author="taksaito" created="Wed, 13 Jan 2016 18:03:54 +0000"  >&lt;p&gt;If you have hive.server2.enable.doAs=false, you can set it to true, restart hs2 and try again. That may help.&lt;/p&gt;</comment>
                            <comment id="15097909" author="maske" created="Thu, 14 Jan 2016 09:55:19 +0000"  >&lt;p&gt;Hello,&lt;br/&gt;
Thank you.&lt;br/&gt;
yes I tried that and many other possible options yesteraday with no success. &lt;br/&gt;
Since my hdfs is still empty I decided to reinstall everything - I have to get system up and running asap.&lt;/p&gt;

&lt;p&gt;Will go for last update now hdp 2.3.4.0 with a hope that problem with select will be solved.&lt;/p&gt;

&lt;p&gt;Will come back later with results...&lt;/p&gt;
</comment>
                            <comment id="15105210" author="maske" created="Mon, 18 Jan 2016 12:18:03 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I did a complete install from scratch with last available version of hdp 2.3.4.0-3485 and select is working proprer now with more than 34mio of records.&lt;/p&gt;

&lt;p&gt;ref. &lt;a href=&quot;http://docs.hortonworks.com/HDPDocuments/Ambari-2.2.0.0/bk_Installing_HDP_AMB/content/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.hortonworks.com/HDPDocuments/Ambari-2.2.0.0/bk_Installing_HDP_AMB/content/index.html&lt;/a&gt;&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2016 09:43:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r14n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12811] Name yarn application name more meaning than just &quot;Hive on Spark&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12811</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MR uses the query as the application name. Hopefully this can be set via spark.app.name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928657">HIVE-12811</key>
            <summary>Name yarn application name more meaning than just &quot;Hive on Spark&quot;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 14:50:40 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:33 +0000</updated>
                            <resolved>Wed, 13 Jan 2016 02:43:50 +0000</resolved>
                                                    <fixVersion>spark-branch</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15089292" author="xuefuz" created="Fri, 8 Jan 2016 14:51:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, would you like to help on this one? Thanks.&lt;/p&gt;</comment>
                            <comment id="15091322" author="lirui" created="Mon, 11 Jan 2016 01:40:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, one quick question: after we launch a spark app, we may submit multiple queries (spark jobs) to it. So I think we cannot name the app with one query. Do we have any alternatives?&lt;/p&gt;</comment>
                            <comment id="15091961" author="xuefuz" created="Mon, 11 Jan 2016 14:24:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, good point. I guess query string is out of question. I guess one change we can make is to make spark.app.name settable by user session with &quot;Hive on Spark&quot; as the default. Currently, it&apos;s hardcoded.&lt;/p&gt;</comment>
                            <comment id="15093120" author="lirui" created="Tue, 12 Jan 2016 01:50:52 +0000"  >&lt;p&gt;Thanks Xuefu for the suggestions. Do you think we have to restart the spark app, if user updates the app name?&lt;/p&gt;</comment>
                            <comment id="15093183" author="xuefuz" created="Tue, 12 Jan 2016 02:45:21 +0000"  >&lt;p&gt;It might be a valid case, but now let&apos;s not do that for now. That can be implemented in the future when requirement does come.&lt;/p&gt;</comment>
                            <comment id="15093614" author="lirui" created="Tue, 12 Jan 2016 09:39:23 +0000"  >&lt;p&gt;Make the app name settable, and avoid re-creating session if user just updates the app name.&lt;/p&gt;</comment>
                            <comment id="15094134" author="hiveqa" created="Tue, 12 Jan 2016 15:58:40 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781783/HIVE-12811.1-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781783/HIVE-12811.1-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1026/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1026/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1026/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1026/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1026/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1026/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781783 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="15094348" author="xuefuz" created="Tue, 12 Jan 2016 17:29:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15095502" author="lirui" created="Wed, 13 Jan 2016 02:43:50 +0000"  >&lt;p&gt;Committed to spark branch. Thanks Xuefu for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781783" name="HIVE-12811.1-spark.patch" size="1799" author="lirui" created="Tue, 12 Jan 2016 09:39:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jan 2016 01:40:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r1jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12812] Enable mapred.input.dir.recursive by default to support union with aggregate function</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12812</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When union remove optimization is enabled, union query with aggregate function writes its subquery intermediate results to subdirs which needs mapred.input.dir.recursive to be enabled in order to be fetched. This property is not defined by default in Hive and often ignored by user, which causes the query failure and is hard to be debugged.&lt;br/&gt;
So we need set mapred.input.dir.recursive to true whenever union remove optimization is enabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928724">HIVE-12812</key>
            <summary>Enable mapred.input.dir.recursive by default to support union with aggregate function</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="afan">Alice Fan</assignee>
                                    <reporter username="ctang.ma">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 20:00:05 +0000</created>
                <updated>Tue, 30 Oct 2018 18:48:39 +0000</updated>
                            <resolved>Thu, 27 Sep 2018 17:02:18 +0000</resolved>
                                    <version>1.2.1</version>
                    <version>2.1.0</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15471522" author="ctang.ma" created="Wed, 7 Sep 2016 19:05:06 +0000"  >&lt;p&gt;The mapred.input.dir.recursive itself is not a Hive property, and it is often ignored when user runs some queries (e.g. union) which needs it to be enabled to process some intermediate data files. &lt;br/&gt;
This patch is to enable this property by default. The change is only needed for MR since Tez has done similar in its TezComplier and Spark does not need it.&lt;br/&gt;
For example, the following query returns nothing if this property is not enabled:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
select sum(salary) from sample_07 union all select sum(salary) from sample_08; -- returns nothing, wrong

--
set mapred.input.dir.recursive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
select sum(salary) from sample_07 union all select sum(salary) from sample_08; -- returns two rows
39282210
40679820
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15471903" author="hiveqa" created="Wed, 7 Sep 2016 21:53:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827425/HIVE-12812.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827425/HIVE-12812.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 54 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 10462 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestBeeLineWithArgs - did not produce a TEST-*.xml file
TestHiveCli - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization_acid]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[root_dir_external_table]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2]
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1124/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1124/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1124/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1124/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1124/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827425 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15482845" author="ctang.ma" created="Mon, 12 Sep 2016 02:38:25 +0000"  >&lt;p&gt;The failed tests seem not related to this patch. Reattach it to kick off another precommit test.&lt;/p&gt;</comment>
                            <comment id="15483002" author="hiveqa" created="Mon, 12 Sep 2016 04:12:35 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827953/HIVE-12812.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827953/HIVE-12812.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 54 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 10546 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization_acid]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[root_dir_external_table]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2]
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testTaskStatus
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1151/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1151/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1151/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1151/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1151/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1151/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827953 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15486475" author="hiveqa" created="Tue, 13 Sep 2016 06:52:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12828152/HIVE-12812.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12828152/HIVE-12812.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 54 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10546 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization_acid]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[root_dir_external_table]
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2]
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1162/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1162/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1162/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1162/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1162/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1162/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12828152 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15597168" author="hiveqa" created="Sat, 22 Oct 2016 05:01:43 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12834788/HIVE-12812.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12834788/HIVE-12812.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 54 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10564 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=132)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[current_date_timestamp] (batchId=144)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[root_dir_external_table] (batchId=81)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2] (batchId=97)
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore (batchId=216)
org.apache.hive.beeline.TestBeelineArgParsing.testAddLocalJarWithoutAddDriverClazz[0] (batchId=164)
org.apache.hive.beeline.TestBeelineArgParsing.testAddLocalJar[0] (batchId=164)
org.apache.hive.beeline.TestBeelineArgParsing.testAddLocalJar[1] (batchId=164)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1749/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1749/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1749/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1749/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-1749/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-1749/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12834788 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16512005" author="wanghaihua" created="Thu, 14 Jun 2018 05:47:47 +0000"  >&lt;p&gt;seems we have encountered this issue, as mapreduce is suffering loading data generated by tez union all&lt;/p&gt;</comment>
                            <comment id="16512205" author="kgyrtkirk" created="Thu, 14 Jun 2018 09:07:59 +0000"  >&lt;p&gt;the comment have re-queued it for ptest; I&apos;m unassigning the ticket since it&apos;s &amp;gt;1 year since the last change.&lt;/p&gt;

&lt;p&gt;which version of Hive are you using? mapreduce is not really recommended nowadays...and I don&apos;t think there will be another 1.x release...&lt;/p&gt;</comment>
                            <comment id="16512794" author="wanghaihua" created="Thu, 14 Jun 2018 17:30:07 +0000"  >&lt;p&gt;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;Zoltan Haindrich&lt;/a&gt;]&#160; We use hive 1.2.1, just in fact, mapreduce is though old but always be the most stable engine for Hive. We use hive heavily in production( expand to 5K nodes+), which consist 60% tez, 35% mapreduce(for corner case tez cannot handled), and 5% SparkSQL(the future).&#160;&lt;/p&gt;

&lt;p&gt;So the first priority is stable(include data quality and consistency, SLA and so on), we put much patch on our version of Hive.&lt;/p&gt;

&lt;p&gt;As tez and mapreduce is mixed, we&#160;encountered this issue. And i suppose this is a common issue on production , for reason that HiveOnSpark, HiveOnTez is not stable enough.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16513407" author="kgyrtkirk" created="Fri, 15 Jun 2018 06:15:06 +0000"  >&lt;p&gt;That sounds awesome &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wanghaihua&quot; class=&quot;user-hover&quot; rel=&quot;wanghaihua&quot;&gt;Wang Haihua&lt;/a&gt;!&lt;br/&gt;
about this ticket: it seems to me that this setting could be set at the site.xml - am I wrong?&lt;br/&gt;
I&apos;m not sure what&apos;s going sideways with tez/spark in your production workloads; but I think they have improved a lot lately - w.r.t. being more stable in producing results reliably. &lt;br/&gt;
The problem with mr is that it doesn&apos;t got all the new features...because it&apos;s already complicated; I think mainly because mr doesn&apos;t understand dags.&lt;br/&gt;
I would like to suggest to give a try to Hive-3 (or wait for Hive-3.1 - it will get a lot of stability fixes)&lt;br/&gt;
note: with query reexecution you can enable fallback to mr in hive3&lt;/p&gt;</comment>
                            <comment id="16514191" author="wanghaihua" created="Fri, 15 Jun 2018 18:09:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;Zoltan Haindrich&lt;/a&gt; Thanks for your reply.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For compability, we cannot idnetified if we set this parameter in hive-site.xml, which influence of tez execution is, on the condition of tez also use FileInputformat for retriving data.&lt;/p&gt;

&lt;p&gt;So i saw this would be a good solution which seperated and protected tez engine in our production.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For hive version, we are glad to update to 3.0, but for upgrading hive 2.1.1 which i have done before just be a long period work..&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;you can see this work in my blog(Sorry there has only chinese version)&#160; &#160;&lt;a href=&quot;https://ericsahit.github.io/2017/09/10/Hive%E5%8D%87%E7%BA%A7%E5%85%A8%E5%A7%BF%E5%8A%BF/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://ericsahit.github.io/2017/09/10/Hive%E5%8D%87%E7%BA%A7%E5%85%A8%E5%A7%BF%E5%8A%BF/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16622768" author="afan" created="Thu, 20 Sep 2018 21:56:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;Zoltan Haindrich&lt;/a&gt;, &lt;br/&gt;
Do we still want to complete the patch here for the ticket ? &lt;br/&gt;
By default, FileInputFormat of mapreduce project set INPUT_DIR_RECURSIVE = false. It still caused the issue like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20319&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-20319&lt;/a&gt; when user turn on hive.optimize.union.remove. Is there any concerns not to make the change here?&lt;/p&gt;</comment>
                            <comment id="16624059" author="ctang.ma" created="Fri, 21 Sep 2018 19:17:08 +0000"  >&lt;p&gt;I could not remember the exact reason why this patch was not be committed years ago. It might probably be that we were going to decommission the MR soon and there was a regression in one test case. But as a workaround, you can always set the property to true on the command (not necessary in hive-site.xml):&lt;br/&gt;
set mapred.input.dir.recursive=true&lt;/p&gt;</comment>
                            <comment id="16624389" author="afan" created="Sat, 22 Sep 2018 00:56:48 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, Thank you very much for your response &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; If you don&apos;t mind, I would like to assign the ticket to myself and complete the patch. I am thinking maybe I can add an if condition here, at MapReduceCompiler.init(), we only set mapred.input.dir.recursive=true when hive.optimize.union.remove=true. By this way, it will be focused on addressing the issue caused by the remove union optimizer and may help to avoid regression in test case.&lt;/p&gt;</comment>
                            <comment id="16625481" author="hiveqa" created="Mon, 24 Sep 2018 07:42:22 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; @author &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch does not contain any @author tags. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  7m 42s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 59s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 37s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;  3m 44s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; ql in master has 2326 extant Findbugs warnings. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 58s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 20s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;  0m 36s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; ql: The patch generated 1 new + 8 unchanged - 0 fixed = 9 total (was 8) &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; whitespace &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch has no whitespace issues. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 51s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 52s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; asflicense &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch does not generate ASF License warnings. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 22m 28s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  javac  javadoc  findbugs  checkstyle  compile  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /data/hiveptest/working/yetus_PreCommit-HIVE-Build-14012/dev-support/hive-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / 425af0e &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.8.0_111 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; v3.0.0 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; checkstyle &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://104.198.109.242/logs//PreCommit-HIVE-Build-14012/yetus/diff-checkstyle-ql.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs//PreCommit-HIVE-Build-14012/yetus/diff-checkstyle-ql.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: ql U: ql &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://104.198.109.242/logs//PreCommit-HIVE-Build-14012/yetus.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs//PreCommit-HIVE-Build-14012/yetus.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus    &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16625522" author="hiveqa" created="Mon, 24 Sep 2018 08:29:19 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12941007/HIVE-12812.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12941007/HIVE-12812.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 30 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14994 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/14012/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/14012/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/14012/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/14012/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-14012/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-14012/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12941007 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16626189" author="afan" created="Mon, 24 Sep 2018 18:02:21 +0000"  >&lt;p&gt;Upload patch 2 to fix indentation warning.&lt;/p&gt;</comment>
                            <comment id="16626666" author="hiveqa" created="Tue, 25 Sep 2018 01:49:34 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; @author &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch does not contain any @author tags. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  7m 59s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  3s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 42s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;  3m 58s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; ql in master has 2326 extant Findbugs warnings. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 59s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 26s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  3s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  3s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 40s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; whitespace &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch has no whitespace issues. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  4m  8s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 59s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; asflicense &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 14s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch does not generate ASF License warnings. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 23m 42s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  javac  javadoc  findbugs  checkstyle  compile  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /data/hiveptest/working/yetus_PreCommit-HIVE-Build-14028/dev-support/hive-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / e161b01 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.8.0_111 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; v3.0.0 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: ql U: ql &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://104.198.109.242/logs//PreCommit-HIVE-Build-14028/yetus.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs//PreCommit-HIVE-Build-14028/yetus.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus    &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16626681" author="hiveqa" created="Tue, 25 Sep 2018 02:28:56 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12941082/HIVE-12812.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12941082/HIVE-12812.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 30 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14996 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/14028/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/14028/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/14028/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/14028/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-14028/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-14028/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12941082 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16627729" author="afan" created="Tue, 25 Sep 2018 18:04:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;Yongzhi Chen&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt;, Could you please help to review &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12812&quot; title=&quot;Enable mapred.input.dir.recursive by default to support union with aggregate function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12812&quot;&gt;&lt;del&gt;HIVE-12812&lt;/del&gt;&lt;/a&gt;.2.patch? This will be helpful to resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20319&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-20319&lt;/a&gt; too. Thanks!&lt;/p&gt;</comment>
                            <comment id="16629277" author="ychena" created="Wed, 26 Sep 2018 18:56:54 +0000"  >&lt;p&gt;The change LGTM  +1&lt;/p&gt;</comment>
                            <comment id="16629495" author="ngangam" created="Wed, 26 Sep 2018 22:43:29 +0000"  >&lt;p&gt;Looks good to me as well. +1 for me&lt;/p&gt;</comment>
                            <comment id="16630734" author="ychena" created="Thu, 27 Sep 2018 17:02:18 +0000"  >&lt;p&gt;Commit the fix into master&lt;/p&gt;</comment>
                            <comment id="16630808" author="afan" created="Thu, 27 Sep 2018 17:51:01 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;Yongzhi Chen&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16658913" author="wanghaihua" created="Mon, 22 Oct 2018 11:51:29 +0000"  >&lt;p&gt;For those who use tez and mapreduce mixed in Hive, you should use the old patch instead of patch merged.&lt;/p&gt;</comment>
                            <comment id="16659597" author="ychena" created="Mon, 22 Oct 2018 19:51:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wanghaihua&quot; class=&quot;user-hover&quot; rel=&quot;wanghaihua&quot;&gt;Wang Haihua&lt;/a&gt;, are you saying the fix breaks tez ?&lt;/p&gt;</comment>
                            <comment id="16669184" author="wanghaihua" created="Tue, 30 Oct 2018 18:48:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;Yongzhi Chen&lt;/a&gt;&#160;, what i meaned is this solution merged doesnot fix mapreduce application reading data which was generated by tez(with union all semantics)..&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;you could see the scene in my older comment&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;em&gt;We use hive 1.2.1, just in fact, mapreduce is though old but always be the most stable engine for Hive. We use hive heavily in production( expand to 5K nodes+), which consist 60% tez, 35% mapreduce(for corner case tez cannot handled), and 5% SparkSQL(the future).&lt;/em&gt;&#160;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;em&gt;So the first priority is stable(include data quality and consistency, SLA and so on), we put much patch on our version of Hive.&lt;/em&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cccccc&quot;&gt;&lt;em&gt;As tez and mapreduce is mixed, we&#160;encountered this issue. And i suppose this is a common issue on production , for reason that HiveOnSpark, HiveOnTez is not stable enough.&lt;/em&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13177147">HIVE-20319</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12941007" name="HIVE-12812.1.patch" size="19135" author="afan" created="Mon, 24 Sep 2018 05:45:56 +0000"/>
                            <attachment id="12941082" name="HIVE-12812.2.patch" size="19133" author="afan" created="Mon, 24 Sep 2018 18:01:28 +0000"/>
                            <attachment id="12834788" name="HIVE-12812.patch" size="32026" author="ctang.ma" created="Sat, 22 Oct 2016 03:00:36 +0000"/>
                            <attachment id="12828152" name="HIVE-12812.patch" size="32026" author="ctang.ma" created="Tue, 13 Sep 2016 01:17:27 +0000"/>
                            <attachment id="12827425" name="HIVE-12812.patch" size="32026" author="ctang.ma" created="Wed, 7 Sep 2016 18:44:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Sep 2016 21:53:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r1y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12813] LLAP: issues in setup, shutdown</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12813</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1) Due to &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-4562&quot; title=&quot;YARN WebApp ignores the configuration passed to it for keystore settings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-4562&quot;&gt;&lt;del&gt;YARN-4562&lt;/del&gt;&lt;/a&gt;, we should package ssl-server.xml if available; SSL settings are not  read from LLAP configs.&lt;br/&gt;
2) The bean removal can fail during shutdown.&lt;br/&gt;
3) LlapWebServices creates its own config object but uses the one provided by AbstractService instead.&lt;br/&gt;
4) Setting name for ACL is used by Hadoop to generate the setting name for the host list, which happens to collide with the existing LLAP host list setting name, resulting in all hosts being prevented from connecting to daemon protocol.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928729">HIVE-12813</key>
            <summary>LLAP: issues in setup, shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 20:41:41 +0000</created>
                <updated>Sat, 29 Oct 2016 01:16:39 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 18:50:54 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15089906" author="sershe" created="Fri, 8 Jan 2016 20:46:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="15090336" author="hagleitn" created="Sat, 9 Jan 2016 01:57:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15091000" author="hiveqa" created="Sun, 10 Jan 2016 11:59:07 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781350/HIVE-12813.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781350/HIVE-12813.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9985 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6575/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6575/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6575/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6575/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6575/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6575/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781350 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092466" author="sershe" created="Mon, 11 Jan 2016 18:50:54 +0000"  >&lt;p&gt;Committed to master and branch-2.0.&lt;/p&gt;</comment>
                            <comment id="15093751" author="lefty@hortonworks.com" created="Tue, 12 Jan 2016 11:15:10 +0000"  >&lt;p&gt;Doc note:  This changes the names of configuration parameters &lt;b&gt;hive.llap.daemon.service.acl&lt;/b&gt; and &lt;b&gt;hive.llap.management.service.acl&lt;/b&gt; to &lt;b&gt;hive.llap.daemon.acl&lt;/b&gt; and &lt;b&gt;hive.llap.management.acl&lt;/b&gt;, respectively, in releases 2.0.0 and 2.1.0+.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12341&quot; title=&quot;LLAP: add security to daemon protocol endpoint (excluding shuffle)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12341&quot;&gt;&lt;del&gt;HIVE-12341&lt;/del&gt;&lt;/a&gt;, which created them in the same releases.&lt;/p&gt;</comment>
                            <comment id="15617140" author="lefty@hortonworks.com" created="Sat, 29 Oct 2016 01:16:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sladymon&quot; class=&quot;user-hover&quot; rel=&quot;sladymon&quot;&gt;Shannon Ladymon&lt;/a&gt; documented &lt;b&gt;hive.llap.daemon.acl&lt;/b&gt; and &lt;b&gt;hive.llap.management.acl&lt;/b&gt; in the wiki (thanks!) so I&apos;m removing the TODOC2.0 label.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.llap.daemon.acl&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.llap.daemon.acl &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.llap.management.acl&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.llap.management.acl &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12910487">HIVE-12341</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781350" name="HIVE-12813.01.patch" size="7665" author="sershe" created="Sat, 9 Jan 2016 01:37:14 +0000"/>
                            <attachment id="12781294" name="HIVE-12813.patch" size="5661" author="sershe" created="Fri, 8 Jan 2016 20:46:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jan 2016 01:57:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r1z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12814] Make thrift and DB changes for HIVE-11444</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12814</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This JIRA tracks the Thrift and DB schema changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11444&quot; title=&quot;ACID Compactor should generate stats/alerts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11444&quot;&gt;HIVE-11444&lt;/a&gt;.  It depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12807&quot; title=&quot;Thrift and DB Changes for HIVE-12352&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12807&quot;&gt;&lt;del&gt;HIVE-12807&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928738">HIVE-12814</key>
            <summary>Make thrift and DB changes for HIVE-11444</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12851184">HIVE-11444</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 21:20:07 +0000</created>
                <updated>Tue, 12 Jan 2016 19:12:59 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:12:59 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15090034" author="alangates" created="Fri, 8 Jan 2016 22:09:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15090379" author="ekoifman" created="Sat, 9 Jan 2016 03:15:35 +0000"  >&lt;p&gt;I think the order of dependencies here (via bug links) is wrong.  Looks like the order should be&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12708&quot; title=&quot;Hive on Spark doesn&amp;#39;t work with Kerboresed HBase [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12708&quot;&gt;&lt;del&gt;HIVE-12708&lt;/del&gt;&lt;/a&gt;.2.patch-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12814&quot; title=&quot;Make thrift and DB changes for HIVE-11444&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12814&quot;&gt;&lt;del&gt;HIVE-12814&lt;/del&gt;&lt;/a&gt;.patch-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12816&quot; title=&quot;Thrift and schema changes for HIVE-11685&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12816&quot;&gt;&lt;del&gt;HIVE-12816&lt;/del&gt;&lt;/a&gt;.patch-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12818&quot; title=&quot;Schema changes for HIVE-12353&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12818&quot;&gt;&lt;del&gt;HIVE-12818&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;

&lt;p&gt;Also, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12818&quot; title=&quot;Schema changes for HIVE-12353&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12818&quot;&gt;&lt;del&gt;HIVE-12818&lt;/del&gt;&lt;/a&gt; should have COMPACTION_QUEUE changes and Thrift changes...&lt;/p&gt;</comment>
                            <comment id="15090686" author="ekoifman" created="Sat, 9 Jan 2016 16:46:39 +0000"  >&lt;p&gt;Never mind the comment about COMPACTION_QUEUE/Thrift above&lt;/p&gt;</comment>
                            <comment id="15094557" author="alangates" created="Tue, 12 Jan 2016 19:12:59 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928503">HIVE-12807</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928757">HIVE-12816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781313" name="HIVE-12814.patch" size="41972" author="alangates" created="Fri, 8 Jan 2016 22:09:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jan 2016 03:15:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r213:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12815] column stats NPE for a query w/o a table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12815</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I was running something like create table as select 1;&lt;/p&gt;

&lt;p&gt;First it logs why it cannot get stats:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-01-08T21:46:31,876 ERROR [0883a32c-c789-4695-aec2-ed73bb1cc9ce 0883a32c-c789-4695-aec2-ed73bb1cc9ce main]: stats.StatsUtils (StatsUtils.java:getTableColumnStats(756)) - Failed to retrieve table statistics:
org.apache.hadoop.hive.ql.metadata.HiveException: NoSuchObjectException(message:Specified database/table does not exist : _dummy_database._dummy_table)
        at org.apache.hadoop.hive.ql.metadata.Hive.getTableColumnStatistics(Hive.java:3195) ~[hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.stats.StatsUtils.getTableColumnStats(StatsUtils.java:752) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:198) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:144) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:132) [hive-exec-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and returns null, then it fails with NPE:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-01-08T21:46:31,885 ERROR [0883a32c-c789-4695-aec2-ed73bb1cc9ce 0883a32c-c789-4695-aec2-ed73bb1cc9ce main]: ql.Driver (SessionState.java:printError(1010)) - FAILED: NullPointerException null
java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.stats.StatsUtils.getDataSizeFromColumnStats(StatsUtils.java:1450)
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:199)
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:144)
        at org.apache.hadoop.hive.ql.stats.StatsUtils.collectStatistics(StatsUtils.java:132)
        at org.apache.hadoop.hive.ql.optimizer.stats.annotation.StatsRulesProcFactory$TableScanStatsRule.process(StatsRulesProcFactory.java:114)
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89)
        at org.apache.hadoop.hive.ql.lib.LevelOrderWalker.walk(LevelOrderWalker.java:143)
        at org.apache.hadoop.hive.ql.lib.LevelOrderWalker.startWalking(LevelOrderWalker.java:122)
        at org.apache.hadoop.hive.ql.optimizer.stats.annotation.AnnotateWithStatistics.transform(AnnotateWithStatistics.java:78)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only &quot;NullPointerException null&quot; is logged to CLI... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928753">HIVE-12815</key>
            <summary>column stats NPE for a query w/o a table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 21:49:58 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:41 +0000</updated>
                            <resolved>Wed, 13 Jan 2016 21:09:32 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15094950" author="prasanth_j" created="Tue, 12 Jan 2016 21:11:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Could you take a look at the patch?&lt;/p&gt;</comment>
                            <comment id="15094974" author="sershe" created="Tue, 12 Jan 2016 21:21:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15096233" author="hiveqa" created="Wed, 13 Jan 2016 14:10:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781919/HIVE-12815.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781919/HIVE-12815.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10003 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCliDriver-input19.q-union_remove_7.q-keyword_2.q-and-12-more - did not produce a TEST-*.xml file
TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6611/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6611/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6611/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6611/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6611/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6611/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781919 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15096984" author="prasanth_j" created="Wed, 13 Jan 2016 21:09:32 +0000"  >&lt;p&gt;Committed to all branches&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781919" name="HIVE-12815.1.patch" size="5105" author="prasanth_j" created="Tue, 12 Jan 2016 21:11:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jan 2016 21:11:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r24f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12816] Thrift and schema changes for HIVE-11685</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12816</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This JIRA depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12814&quot; title=&quot;Make thrift and DB changes for HIVE-11444&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12814&quot;&gt;&lt;del&gt;HIVE-12814&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928757">HIVE-12816</key>
            <summary>Thrift and schema changes for HIVE-11685</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12860422">HIVE-11685</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 22:12:42 +0000</created>
                <updated>Tue, 12 Jan 2016 19:14:45 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:14:45 +0000</resolved>
                                    <version>1.0.1</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094562" author="alangates" created="Tue, 12 Jan 2016 19:14:45 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928738">HIVE-12814</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928775">HIVE-12818</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781327" name="HIVE-12816.patch" size="37698" author="alangates" created="Fri, 8 Jan 2016 22:56:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r25b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12817] dummy table does not need a codec</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12817</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running &quot;ctas select 1&quot; on Tez&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.tez.TezTask. Vertex failed, vertexName=Map 1, vertexId=vertex_1450721565699_0017_1_00, diagnostics=[Vertex vertex_1450721565699_0017_1_00 [Map 1] killed/failed due to:ROOT_INPUT_INIT_FAILURE, Vertex Input: _dummy_table initializer failed, vertex=vertex_1450721565699_0017_1_00 [Map 1], java.lang.IllegalArgumentException: Compression codec com.hadoop.compression.lzo.LzoCodec not found.
	at org.apache.hadoop.io.compress.CompressionCodecFactory.getCodecClasses(CompressionCodecFactory.java:139)
	at org.apache.hadoop.io.compress.CompressionCodecFactory.&amp;lt;init&amp;gt;(CompressionCodecFactory.java:179)
	at org.apache.hadoop.mapred.lib.CombineFileInputFormat.isSplitable(CombineFileInputFormat.java:159)
	at org.apache.hadoop.mapred.lib.CombineFileInputFormat.isSplitable(CombineFileInputFormat.java:151)
	at org.apache.hadoop.mapreduce.lib.input.CombineFileInputFormat.getMoreSplits(CombineFileInputFormat.java:283)
	at org.apache.hadoop.mapreduce.lib.input.CombineFileInputFormat.getSplits(CombineFileInputFormat.java:239)
	at org.apache.hadoop.mapred.lib.CombineFileInputFormat.getSplits(CombineFileInputFormat.java:75)
	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileInputFormatShim.getSplits(HadoopShimsSecure.java:319)
	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getCombineSplits(CombineHiveInputFormat.java:425)
	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:532)
	at org.apache.tez.mapreduce.hadoop.MRInputHelpers.generateOldSplits(MRInputHelpers.java:448)
	at org.apache.tez.mapreduce.hadoop.MRInputHelpers.generateInputSplitsToMem(MRInputHelpers.java:300)
	at org.apache.tez.mapreduce.common.MRInputAMSplitGenerator.initialize(MRInputAMSplitGenerator.java:121)
	at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:246)
	at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable$1.run(RootInputInitializerManager.java:240)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)
	at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:240)
	at org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:227)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ClassNotFoundException: Class com.hadoop.compression.lzo.LzoCodec not found
	at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2101)
	at org.apache.hadoop.io.compress.CompressionCodecFactory.getCodecClasses(CompressionCodecFactory.java:132)
	... 23 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928765">HIVE-12817</key>
            <summary>dummy table does not need a codec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 22:23:46 +0000</created>
                <updated>Fri, 8 Jan 2016 22:23:46 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r273:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12818] Schema changes for HIVE-12353</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12818</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This JIRA just covers RDBMS schema changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12353&quot; title=&quot;When Compactor fails it calls CompactionTxnHandler.markedCleaned().  it should not.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12353&quot;&gt;&lt;del&gt;HIVE-12353&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928775">HIVE-12818</key>
            <summary>Schema changes for HIVE-12353</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12910849">HIVE-12353</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 23:04:22 +0000</created>
                <updated>Tue, 12 Jan 2016 19:15:47 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:15:47 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15090170" author="alangates" created="Fri, 8 Jan 2016 23:25:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15094563" author="alangates" created="Tue, 12 Jan 2016 19:15:47 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928757">HIVE-12816</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928781">HIVE-12819</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781330" name="HIVE-12818.patch" size="20636" author="alangates" created="Fri, 8 Jan 2016 23:25:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r29b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12819] Thrift and RDBMS schema changes for HIVE-11957</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12819</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928781">HIVE-12819</key>
            <summary>Thrift and RDBMS schema changes for HIVE-11957</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12896282">HIVE-11957</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 23:34:56 +0000</created>
                <updated>Tue, 12 Jan 2016 19:18:32 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:18:32 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15090237" author="alangates" created="Sat, 9 Jan 2016 00:05:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15090724" author="ekoifman" created="Sat, 9 Jan 2016 18:07:45 +0000"  >&lt;p&gt;This is missing a change to OpenTxnRequest.  it needs agentInfo filed to pass in as part of openTxns() call&lt;/p&gt;</comment>
                            <comment id="15090727" author="ekoifman" created="Sat, 9 Jan 2016 18:10:22 +0000"  >&lt;p&gt;optional string agentInfo = &quot;Unknown&quot;&lt;/p&gt;</comment>
                            <comment id="15090742" author="ekoifman" created="Sat, 9 Jan 2016 18:54:20 +0000"  >&lt;p&gt;Never mind, I can&apos;t read the diffs.  This is OK&lt;/p&gt;</comment>
                            <comment id="15094567" author="alangates" created="Tue, 12 Jan 2016 19:18:32 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928775">HIVE-12818</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928790">HIVE-12821</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781336" name="HIVE-12819.patch" size="51723" author="alangates" created="Sat, 9 Jan 2016 00:05:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jan 2016 18:07:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12820] Remove the check if carriage return and new line are used for separator or escape character</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12820</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11785&quot; title=&quot;Support escaping carriage return and new line for LazySimpleSerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11785&quot;&gt;&lt;del&gt;HIVE-11785&lt;/del&gt;&lt;/a&gt; doesn&apos;t allow \r or \n to be used as separator or escape character which may break some existing tables which uses \r as separator or escape character e.g..&lt;br/&gt;
This case actually can be supported regardless of SERIALIZATION_ESCAPE_CRLF set or not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928786">HIVE-12820</key>
            <summary>Remove the check if carriage return and new line are used for separator or escape character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 23:48:10 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:38 +0000</updated>
                            <resolved>Tue, 19 Jan 2016 19:12:56 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15091145" author="hiveqa" created="Sun, 10 Jan 2016 18:32:40 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781354/HIVE-12820.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781354/HIVE-12820.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 30 failed/errored test(s), 9999 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_parallel
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dynpart_hashjoin_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union_group_by
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union_with_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_unionDistinct_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union_fast_stats
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_coalesce
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_div0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_rcfile_columnar
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6578/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6578/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6578/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6578/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6578/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6578/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 30 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781354 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092160" author="aihuaxu" created="Mon, 11 Jan 2016 15:47:21 +0000"  >&lt;p&gt;Test failures are not related.&lt;/p&gt;</comment>
                            <comment id="15092296" author="aihuaxu" created="Mon, 11 Jan 2016 17:13:50 +0000"  >&lt;p&gt;Attach the patch 2. Actually the check for carriage return and new line used for separator or escape character can be removed for both cases. &lt;/p&gt;

&lt;p&gt;When SERIALIZATION_ESCAPE_CRLF is set, we can still support the table SerDe with line delim=\n, escapeCRLF=true, escape=\, field delim=\r, e.g. We can input/output to the tables with such configurations with no issues, as well as the output to the intermediate tables. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, can you help review the change? &lt;/p&gt;</comment>
                            <comment id="15092701" author="hiveqa" created="Mon, 11 Jan 2016 21:22:02 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781597/HIVE-12820.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781597/HIVE-12820.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10006 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6593/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6593/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6593/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6593/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6593/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6593/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781597 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15094275" author="ychena" created="Tue, 12 Jan 2016 16:57:10 +0000"  >&lt;p&gt;\r and \n should not relate to escape the two charactors .&lt;br/&gt;
The change looks good.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="15094643" author="ctang.ma" created="Tue, 12 Jan 2016 19:49:42 +0000"  >&lt;p&gt;Will there be any problem in code of LazyUtil.writeEscaped if the escapeChar itself is &apos;\n&apos; or &apos;\r&apos;?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          out.write(escapeChar);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (bytes[i] == &lt;span class=&quot;code-quote&quot;&gt;&apos;\r&apos;&lt;/span&gt;) {
            out.write(&lt;span class=&quot;code-quote&quot;&gt;&apos;r&apos;&lt;/span&gt;);
            start = i + 1;
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (bytes[i] == &lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;) {
            out.write(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;);
            start = i + 1;
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// the current &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; will be written out later.
&lt;/span&gt;            start = i;
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is going to introduce an additional carriage return or new line in the data, am I right?&lt;/p&gt;</comment>
                            <comment id="15094887" author="aihuaxu" created="Tue, 12 Jan 2016 20:36:02 +0000"  >&lt;p&gt;Yes. Practically escapeChar can&apos;t be \r or \n anyway since when we send the task to MapReduce, it will break the text based on \n incorrectly even without such escaping. We should add the check of escapeChar ideally, but I won&apos;t try to address that in here to cause possible incompatibility and lose functionality. The user can choose not to use that. &lt;/p&gt;</comment>
                            <comment id="15096829" author="aihuaxu" created="Wed, 13 Jan 2016 19:15:56 +0000"  >&lt;p&gt;Seems the patch doesn&apos;t solve incompatibility issue, e.g., for the case of &quot;using \r as one separator&quot;. Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11785&quot; title=&quot;Support escaping carriage return and new line for LazySimpleSerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11785&quot;&gt;&lt;del&gt;HIVE-11785&lt;/del&gt;&lt;/a&gt;, it would escape \r in text into \\\r (\ and carriage return); with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11785&quot; title=&quot;Support escaping carriage return and new line for LazySimpleSerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11785&quot;&gt;&lt;del&gt;HIVE-11785&lt;/del&gt;&lt;/a&gt; it will be &quot;\r&quot; (character \ and r).  If a MR job is involved,  the first scenario would return incorrect result and the second will work. &lt;/p&gt;

&lt;p&gt;I&apos;m wondering if we need to make such case compatible as well. &lt;/p&gt;</comment>
                            <comment id="15101834" author="aihuaxu" created="Fri, 15 Jan 2016 14:29:20 +0000"  >&lt;p&gt;Discussed with Chaoyu. Actually it&apos;s fine for such case.&lt;/p&gt;

&lt;p&gt;When the file is in old format and escape=&lt;br class=&quot;atl-forced-newline&quot; /&gt;, \\\r will be unescaped properly to \r using the old logic.&lt;/p&gt;

&lt;p&gt;The only case which could introduce the issue is when characters &apos;r&apos; or &apos;n&apos; are used as delimiters, the old format will be escape them into &lt;br class=&quot;atl-forced-newline&quot; /&gt;r or &lt;br class=&quot;atl-forced-newline&quot; /&gt;n and they will be incorrectly unescaped into \r or \n. But that seems to be extreme case. I will put that in the release notes.&lt;/p&gt;</comment>
                            <comment id="15107225" author="aihuaxu" created="Tue, 19 Jan 2016 19:12:56 +0000"  >&lt;p&gt;Pushed to branch-2.0 and master. Thanks Yongzhi and Chaoyu for reviewing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12863052">HIVE-11785</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781597" name="HIVE-12820.2.patch" size="985" author="aihuaxu" created="Mon, 11 Jan 2016 17:02:17 +0000"/>
                            <attachment id="12781354" name="HIVE-12820.patch" size="1291" author="aihuaxu" created="Sat, 9 Jan 2016 01:51:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Jan 2016 18:32:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12821] Thrift and RDBMS schema changes for HIVE-11965</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12821</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928790">HIVE-12821</key>
            <summary>Thrift and RDBMS schema changes for HIVE-11965</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12896445">HIVE-11965</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 00:19:59 +0000</created>
                <updated>Tue, 12 Jan 2016 19:19:56 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:19:56 +0000</resolved>
                                    <version>0.14.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15090291" author="alangates" created="Sat, 9 Jan 2016 00:56:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15094570" author="alangates" created="Tue, 12 Jan 2016 19:19:56 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928781">HIVE-12819</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928799">HIVE-12822</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781343" name="HIVE-12821.patch" size="59266" author="alangates" created="Sat, 9 Jan 2016 00:56:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12822] Thrift and RDBMS schema changes for HIVE-11495</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12822</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928799">HIVE-12822</key>
            <summary>Thrift and RDBMS schema changes for HIVE-11495</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12852727">HIVE-11495</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 00:58:20 +0000</created>
                <updated>Tue, 12 Jan 2016 19:20:46 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:20:46 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094574" author="alangates" created="Tue, 12 Jan 2016 19:20:46 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928790">HIVE-12821</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928806">HIVE-12823</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781348" name="HIVE-12822.patch" size="35200" author="alangates" created="Sat, 9 Jan 2016 01:24:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12823] Thrift and RDBMS schema changes for HIVE-11956</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12823</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928806">HIVE-12823</key>
            <summary>Thrift and RDBMS schema changes for HIVE-11956</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12896281">HIVE-11956</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 01:17:18 +0000</created>
                <updated>Tue, 12 Jan 2016 19:22:12 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:22:12 +0000</resolved>
                                    <version>0.14.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094577" author="alangates" created="Tue, 12 Jan 2016 19:22:12 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928799">HIVE-12822</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928873">HIVE-12829</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781398" name="HIVE-12823.patch" size="55271" author="alangates" created="Sat, 9 Jan 2016 15:14:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12824] CBO doesnt get triggered when aggregate function is used within windowing function </title>
                <link>https://issues.apache.org/jira/browse/HIVE-12824</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928813">HIVE-12824</key>
            <summary>CBO doesnt get triggered when aggregate function is used within windowing function </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 01:45:34 +0000</created>
                <updated>Tue, 16 Feb 2016 23:52:19 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 22:09:42 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15091096" author="hiveqa" created="Sun, 10 Jan 2016 15:55:17 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781353/HIVE-12824.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781353/HIVE-12824.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 10000 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_resolution
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_basic
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query51
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query67
org.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query70
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_resolution
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6577/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6577/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6577/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6577/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6577/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6577/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781353 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091121" author="ashutoshc" created="Sun, 10 Jan 2016 17:26:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/42116/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/42116/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; Can you take a look? This is a proper fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12786&quot; title=&quot;CBO may fail for recoverable errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12786&quot;&gt;&lt;del&gt;HIVE-12786&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15091736" author="jcamachorodriguez" created="Mon, 11 Jan 2016 10:25:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15092781" author="ashutoshc" created="Mon, 11 Jan 2016 22:09:42 +0000"  >&lt;p&gt;Pushed to master &amp;amp; branch-2.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12924333">HIVE-12750</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781353" name="HIVE-12824.patch" size="12896" author="ashutoshc" created="Sat, 9 Jan 2016 01:47:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Jan 2016 15:55:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12825] select * may not work with ctas if there are duplicate column names in the &quot;as select&quot; query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12825</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&amp;gt; create table foo3 as select * from foo2 f1 cross join foo2 f2;&lt;br/&gt;
Warning: Map Join MAPJOIN&lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bigTable=f1&amp;#93;&lt;/span&gt; in task &apos;Map 1&apos; is a cross product&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10036&amp;#93;&lt;/span&gt;: Duplicate column name: f&lt;/p&gt;

&lt;p&gt;If the column names are not specified, ctas generates them; for select *, it should also generate them if there are collisions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928825">HIVE-12825</key>
            <summary>select * may not work with ctas if there are duplicate column names in the &quot;as select&quot; query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 02:54:22 +0000</created>
                <updated>Sat, 9 Jan 2016 02:54:49 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12826] Vectorization: fix VectorUDAF* suspect isNull checks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12826</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;for isRepeating=true, checking isNull[selected&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;] might return incorrect results (without a heavy array fill of isNull).&lt;/p&gt;

&lt;p&gt;VectorUDAFSum/Min/Max/Avg and SumDecimal impls need to be reviewed for this pattern.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void iterateHasNullsRepeatingSelectionWithAggregationSelection(
      VectorAggregationBufferRow[] aggregationBufferSets,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; aggregateIndex,
      &amp;lt;ValueType&amp;gt; value,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; batchSize,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] selection,
      &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;[] isNull) {
      
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i &amp;lt; batchSize; ++i) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isNull[selection[i]]) {
          Aggregation myagg = getCurrentAggregationBuffer(
            aggregationBufferSets, 
            aggregateIndex,
            i);
          myagg.sumValue(value);
        }
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928862">HIVE-12826</key>
            <summary>Vectorization: fix VectorUDAF* suspect isNull checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 13:29:59 +0000</created>
                <updated>Fri, 29 Jul 2016 22:11:55 +0000</updated>
                            <resolved>Mon, 18 Jan 2016 23:37:41 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>2.0.0</version>
                    <version>2.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15101120" author="gopalv" created="Fri, 15 Jan 2016 03:04:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt;: this forces isRepeating=true to always check isNull&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; in all UDAFs in the patch. Please review.&lt;/p&gt;</comment>
                            <comment id="15101201" author="mmccline" created="Fri, 15 Jan 2016 05:00:24 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="15102462" author="hiveqa" created="Fri, 15 Jan 2016 20:59:24 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782435/HIVE-12826.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782435/HIVE-12826.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10019 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6639/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6639/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6639/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6639/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6639/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6639/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782435 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15102528" author="gopalv" created="Fri, 15 Jan 2016 21:51:27 +0000"  >&lt;p&gt;No new failures with this test - all failed tests have failed previously without this patch.&lt;/p&gt;</comment>
                            <comment id="15106041" author="lefty@hortonworks.com" created="Tue, 19 Jan 2016 00:50:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;, the commit doesn&apos;t include the JIRA number, although the summary text makes it easy enough to find.&lt;/p&gt;

&lt;p&gt;Please add this to the errata.txt file that was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11704&quot; title=&quot;Create errata.txt file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11704&quot;&gt;&lt;del&gt;HIVE-11704&lt;/del&gt;&lt;/a&gt;.  You could create a single JIRA issue to update errata.txt for this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12827&quot; title=&quot;Vectorization: VectorCopyRow/VectorAssignRow/VectorDeserializeRow assign needs explicit isNull[offset] modification&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12827&quot;&gt;&lt;del&gt;HIVE-12827&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15106061" author="sershe" created="Tue, 19 Jan 2016 01:07:08 +0000"  >&lt;p&gt;Can you please cherry-pick to 2.0?&lt;/p&gt;</comment>
                            <comment id="15400095" author="mmccline" created="Fri, 29 Jul 2016 22:09:08 +0000"  >&lt;p&gt;This fix is present in branch-2.1 before tags/release-2.1.0-rc3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12860840">HIVE-11704</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12924333">HIVE-12750</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782435" name="HIVE-12826.1.patch" size="11866" author="gopalv" created="Fri, 15 Jan 2016 03:03:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Jan 2016 05:00:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>commit 36e855084da833915dfe6c34f74e19352b64fde9&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Vectorization: fix VectorUDAF* suspect isNull checks (Gopal V, reviewed by Matt McCline)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signed-off-by: Gopal V &amp;lt;&lt;a href=&apos;mailto:gopalv@apache.org&apos;&gt;gopalv@apache.org&lt;/a&gt;&amp;gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12827] Vectorization: VectorCopyRow/VectorAssignRow/VectorDeserializeRow assign needs explicit isNull[offset] modification</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12827</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some scenarios do set Double.NaN instead of isNull=true, but all types aren&apos;t consistent.&lt;/p&gt;

&lt;p&gt;Examples of un-set isNull for the valid values are &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FloatReader &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractDoubleReader {

    FloatReader(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; columnIndex) {
      &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(columnIndex);
    }

    @Override
    void apply(VectorizedRowBatch batch, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; batchIndex) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
      DoubleColumnVector colVector = (DoubleColumnVector) batch.cols[columnIndex];

      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (deserializeRead.readCheckNull()) {
        VectorizedBatchUtil.setNullColIsNullValue(colVector, batchIndex);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; value = deserializeRead.readFloat();
        colVector.vector[batchIndex] = (&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;) value;
      }
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DoubleCopyRow &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; CopyRow {

    DoubleCopyRow(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; inColumnIndex, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; outColumnIndex) {
      &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(inColumnIndex, outColumnIndex);
    }

    @Override
    void copy(VectorizedRowBatch inBatch, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; inBatchIndex, VectorizedRowBatch outBatch, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; outBatchIndex) {
      DoubleColumnVector inColVector = (DoubleColumnVector) inBatch.cols[inColumnIndex];
      DoubleColumnVector outColVector = (DoubleColumnVector) outBatch.cols[outColumnIndex];

      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inColVector.isRepeating) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inColVector.noNulls || !inColVector.isNull[0]) {
          outColVector.vector[outBatchIndex] = inColVector.vector[0];
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
          VectorizedBatchUtil.setNullColIsNullValue(outColVector, outBatchIndex);
        }
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inColVector.noNulls || !inColVector.isNull[inBatchIndex]) {
          outColVector.vector[outBatchIndex] = inColVector.vector[inBatchIndex];
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
          VectorizedBatchUtil.setNullColIsNullValue(outColVector, outBatchIndex);
        }
      }
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;VectorDoubleColumnAssign
    &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; VectorColumnAssignVectorBase&amp;lt;DoubleColumnVector&amp;gt; {

    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void assignDouble(&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; value, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; destIndex) {
      outCol.vector[destIndex] = value;
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The pattern to imitate would be the earlier code from VectorBatchUtil&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; DOUBLE: {
      DoubleColumnVector dcv = (DoubleColumnVector) batch.cols[offset + colIndex];
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (writableCol != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        dcv.vector[rowIndex] = ((DoubleWritable) writableCol).get();
        dcv.isNull[rowIndex] = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        dcv.vector[rowIndex] = &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.NaN;
        setNullColIsNullValue(dcv, rowIndex);
      }
    }
      &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12928863">HIVE-12827</key>
            <summary>Vectorization: VectorCopyRow/VectorAssignRow/VectorDeserializeRow assign needs explicit isNull[offset] modification</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 13:41:19 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:21 +0000</updated>
                            <resolved>Tue, 19 Jan 2016 00:04:11 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15101490" author="gopalv" created="Fri, 15 Jan 2016 08:52:53 +0000"  >&lt;p&gt;with test-cases&lt;/p&gt;</comment>
                            <comment id="15102304" author="sershe" created="Fri, 15 Jan 2016 18:59:49 +0000"  >&lt;p&gt;+1. Did the fill() on the main path get committed, and does it need to be removed with this patch?&lt;/p&gt;</comment>
                            <comment id="15102353" author="gopalv" created="Fri, 15 Jan 2016 19:35:11 +0000"  >&lt;p&gt;The fill after every operation is unnecessary, the theory about the other patch was that some UDF in that query wasn&apos;t handling the hasNoNulls flag.&lt;/p&gt;

&lt;p&gt;That is not true, the original issue was that a scratch column feeding the COALESCE() is reused for the Join output columns &amp;amp; setting a column value via FloatReader does not set the isNull&lt;span class=&quot;error&quot;&gt;&amp;#91;batchIndex&amp;#93;&lt;/span&gt; = false (and then the Filter on cr_return_amount removes those rows).&lt;/p&gt;

&lt;p&gt;CBO rewrites the left outer join into an inner join, pushing the filter below the join &amp;amp; there&apos;s no more TS-FIL-MJ-FIL as the FIL migrates to the broadcast side.&lt;/p&gt;

&lt;p&gt;Here&apos;s my simplified example, which I used to narrow down the issue to FloatTreeReader.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.cbo.enable=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.vectorized.execution.reducesink.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;.enabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.vectorized.execution.mapjoin.&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;.enabled=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.vectorized.execution.reduce.enabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.vectorized.execution.reduce.groupby.enabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;

use testing;

create table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not exists cs stored as orc as select IF (cs_item_sk
 IN (
1365 ,
2243 ,
2445 ,
3259 ,
3267 ,
4027 ,
5263 ,
6003 ,
8371 ,
9593 ,
10383,
10763,
11351,
12359,
12887,
13449,
16501,
16547
), cs_item_sk, 0) as cs_item_sk
, cs_order_number, cs_net_paid, cs_quantity from tpcds_bin_partitioned_orc_200.catalog_sales
where
 &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
 and cs_sold_date_sk = 2452245
 and cs_net_profit &amp;gt; 1
 and cs_net_paid &amp;gt; 0
 and cs_quantity &amp;gt; 0
 and cs_item_sk between 1365 and 16547
;

create table &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not exists cr as select cr_return_amount, cr_item_sk, cr_order_number from tpcds_bin_partitioned_orc_200.catalog_returns where cr_returned_date_sk between 2452351 and 2452400
and cr_item_sk
 IN (
1365 ,
2243 ,
2445 ,
3259 ,
3267 ,
4027 ,
5263 ,
6003 ,
8371 ,
9593 ,
10383,
10763,
11351,
12359,
12887,
13449,
16501,
16547
)
order by cr_item_sk
;

select * from
(select cs.cs_item_sk as item,
  coalesce(cr.cr_return_amount,0) as return_amount
 ,coalesce(cs.cs_net_paid,0) as net_paid
-- (&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(sum(coalesce(cr.cr_return_amount,0)) as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)/
--  &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(sum(coalesce(cs.cs_net_paid,0)) as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)) as currency_ratio
 from cs -- catalog_sales cs
 left &lt;span class=&quot;code-keyword&quot;&gt;outer&lt;/span&gt; join cr -- catalog_returns cr
 on cs.cs_order_number = cr.cr_order_number
 and cs.cs_item_sk = cr.cr_item_sk
 where cr.cr_return_amount &amp;gt; 10000
 and cs.cs_quantity &amp;gt; 0
-- group by cs.cs_item_sk 
) x;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15103060" author="hiveqa" created="Sat, 16 Jan 2016 08:01:59 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782483/HIVE-12827.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782483/HIVE-12827.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10004 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6644/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6644/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6644/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6644/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6644/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6644/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782483 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15106030" author="lefty@hortonworks.com" created="Tue, 19 Jan 2016 00:30:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;, the commit doesn&apos;t include the JIRA number, although the summary text makes it easy enough to find.&lt;/p&gt;

&lt;p&gt;Please add this to the errata.txt file that was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11704&quot; title=&quot;Create errata.txt file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11704&quot;&gt;&lt;del&gt;HIVE-11704&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Commit:  9cab4414caf1bba2eb1852536a9d3676ba7eab21.&lt;/p&gt;</comment>
                            <comment id="15106058" author="gopalv" created="Tue, 19 Jan 2016 01:05:06 +0000"  >&lt;p&gt;Thanks lefty, looks like I left out the JIRA id for all commits today.&lt;/p&gt;

&lt;p&gt;Pushed errata.txt &lt;/p&gt;</comment>
                            <comment id="15106063" author="sershe" created="Tue, 19 Jan 2016 01:07:36 +0000"  >&lt;p&gt;Should this be in 2.0? looks like a bad bug&lt;/p&gt;</comment>
                            <comment id="15106070" author="gopalv" created="Tue, 19 Jan 2016 01:11:01 +0000"  >&lt;p&gt;Yeah, it should be - I will cherry-pick this and amend the commit text when doing so.&lt;/p&gt;</comment>
                            <comment id="15106088" author="lefty@hortonworks.com" created="Tue, 19 Jan 2016 01:34:52 +0000"  >&lt;p&gt;Great, thanks Gopal.&lt;/p&gt;</comment>
                            <comment id="15264949" author="mmccline" created="Fri, 29 Apr 2016 23:38:26 +0000"  >&lt;p&gt;Also committed to branch-1&lt;/p&gt;</comment>
                            <comment id="15265020" author="lefty@hortonworks.com" created="Sat, 30 Apr 2016 00:46:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt;, the branch-1 commit doesn&apos;t include the JIRA number.  (D&#233;j&#224; vu:  see comment about previous commit.)&lt;/p&gt;

&lt;p&gt;Please add this to the errata.txt file that was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11704&quot; title=&quot;Create errata.txt file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11704&quot;&gt;&lt;del&gt;HIVE-11704&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Commit:  3734d5b674b4e8de9c0cc751650aee3194bfb93a.&lt;/p&gt;</comment>
                            <comment id="15275167" author="mmccline" created="Sat, 7 May 2016 09:08:01 +0000"  >&lt;p&gt;Added to errata.txt for branch-1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12860840">HIVE-11704</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12924333">HIVE-12750</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782483" name="HIVE-12827.2.patch" size="19484" author="gopalv" created="Fri, 15 Jan 2016 08:52:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Jan 2016 18:59:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>commit 9cab4414caf1bba2eb1852536a9d3676ba7eab21&lt;br/&gt;
Author: Gopal V &amp;lt;&lt;a href=&apos;mailto:gopalv@apache.org&apos;&gt;gopalv@apache.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:   Mon Jan 18 16:03:40 2016 -0800&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Vectorization: VectorCopyRow/VectorAssignRow/VectorDeserializeRow assign needs explicit isNull[offset] modification (Gopal V, reviewed by Sergey Shelukhin)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Signed-off-by: Gopal V &amp;lt;&lt;a href=&apos;mailto:gopalv@apache.org&apos;&gt;gopalv@apache.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12828] Update Spark version to 1.6</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12828</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928869">HIVE-12828</key>
            <summary>Update Spark version to 1.6</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 14:48:09 +0000</created>
                <updated>Tue, 21 Jun 2016 15:53:19 +0000</updated>
                            <resolved>Fri, 15 Jan 2016 13:26:59 +0000</resolved>
                                                    <fixVersion>spark-branch</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15090652" author="xuefuz" created="Sat, 9 Jan 2016 14:48:34 +0000"  >&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15091825" author="lirui" created="Mon, 11 Jan 2016 12:15:45 +0000"  >&lt;p&gt;It just works out of box for simple queries locally.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, please build and upload a spark tar ball so we can trigger the test. Thanks.&lt;/p&gt;</comment>
                            <comment id="15092560" author="xuefuz" created="Mon, 11 Jan 2016 19:45:17 +0000"  >&lt;p&gt;Thanks for working on this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;! The spark tar ball is uploaded. I submitted the patch for a test run.&lt;/p&gt;</comment>
                            <comment id="15092844" author="hiveqa" created="Mon, 11 Jan 2016 22:40:42 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781545/HIVE-12828.1-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781545/HIVE-12828.1-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 57 failed/errored test(s), 9866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketmapjoin7
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_empty_dir_in_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_external_table_with_space_in_location_path
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_file_with_header_footer
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_gen_udf_example_add10
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_import_exported_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_merge
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_input16_cc
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_leftsemijoin_mr
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_load_fs2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge4
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge5
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge6
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge7
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge8
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge9
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_incompat1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_incompat2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_parallel_orderby
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_quotedid_smb
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_remote_script
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_temp_table_external
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_truncate_column_buckets
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_uber_reduce
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_inner_join
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join0
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1023/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1023/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1023/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1023/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1023/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1023/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 57 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781545 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="15092999" author="xuefuz" created="Tue, 12 Jan 2016 00:28:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, I believe that these failures were caused by the new Spark version which demands more memory in its new memory model. We had to increase the executor/driver in order to have all tests pass internally. Attached a patch we used. With increased memory, some golden files might need to update as well. &lt;/p&gt;</comment>
                            <comment id="15093090" author="lirui" created="Tue, 12 Jan 2016 01:34:34 +0000"  >&lt;p&gt;Thanks Xuefu for the patch. I&apos;ll try it out.&lt;/p&gt;</comment>
                            <comment id="15093413" author="lirui" created="Tue, 12 Jan 2016 06:48:52 +0000"  >&lt;p&gt;Integrated Xuefu&apos;s patch. I changed the mem overheads to 0 because resource monitoring is disabled for the mini cluster. This way, we don&apos;t have to update golden files since the cluster can satisfy the new mem request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, I noticed that parquet_join fails. Maybe you forgot to enable the &lt;tt&gt;parquet_provided&lt;/tt&gt; profile when building the tar ball?&lt;/p&gt;</comment>
                            <comment id="15093611" author="hiveqa" created="Tue, 12 Jan 2016 09:38:04 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781757/HIVE-12828.2-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781757/HIVE-12828.2-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 41 failed/errored test(s), 8688 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCliDriver-alter_table_not_sorted.q-cbo_udf_max.q-groupby4_map.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-columnstats_partlvl_dp.q-input31.q-udaf_percentile.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-compute_stats_string.q-skewjoin_union_remove_2.q-avro_nullable_fields.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-groupby4.q-varchar_serde.q-ivyDownload.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-groupby_grouping_id2.q-insert_values_nonascii.q-vectorization_13.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-groupby_map_ppr_multi_distinct.q-vectorization_16.q-union_remove_15.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-groupby_sort_7.q-vector_decimal_10_0.q-partition_vs_table_metadata.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-index_compact_2.q-bucketmapjoin12.q-udf_percentile.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-join13.q-udf_bitwise_shiftleft.q-parquet_decimal.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-join36.q-authorization_index.q-parquet_mixed_partition_formats2.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-metadata_export_drop.q-udf_sin.q-udf_reverse.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-orc_ppd_decimal.q-alter_partition_clusterby_sortby.q-udf_radians.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-ppd_join4.q-union27.q-show_indexes_edge_cases.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-ppd_transform.q-orc_merge9.q-ba_table3.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-schema_evol_text_nonvec_mapwork_table.q-auto_join23.q-auto_join19.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-skewjoinopt15.q-fileformat_text.q-load_dyn_part12.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-udaf_collect_set_2.q-ba_table_union.q-orc_vectorization_ppd.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-update_orig_table.q-order.q-auto_join18_multi_distinct.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-vector_acid3.q-vector_custom_udf_configure.q-udf4.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-vectorization_10.q-orc_merge5.q-union26.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-vectorization_limit.q-union19.q-groupby_grouping_sets6.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-view.q-udf2.q-groupby7.q-and-12-more - did not produce a TEST-*.xml file
TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-schema_evol_text_nonvec_mapwork_table.q-vector_decimal_trailing.q-subquery_in.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_union_group_by.q-vector_auto_smb_mapjoin_14.q-union_fast_stats.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-transform_ppr2.q-hybridgrace_hashjoin_2.q-orc_ppd_basic.q-and-1-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_decimal_2.q-explainuser_1.q-explainuser_3.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_distinct_2.q-tez_joins_explain.q-vector_char_mapjoin1.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_interval_2.q-constprog_dpp.q-dynamic_partition_pruning.q-and-12-more - did not produce a TEST-*.xml file
TestNegativeCliDriver-udf_invalid.q-nopart_insert.q-join_nonexistent_part.q-and-677-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join_reordering_values.q-ptf_seqfile.q-auto_join18.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby3_map.q-skewjoinopt8.q-union_remove_1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join2.q-script_pipe.q-auto_join24.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-skewjoinopt3.q-union27.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-skewjoinopt15.q-join39.q-load_dyn_part12.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-smb_mapjoin_15.q-mapreduce2.q-mapreduce1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-vector_distinct_2.q-join15.q-load_dyn_part3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1024/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1024/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1024/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1024/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1024/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1024/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 41 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781757 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="15093957" author="xuefuz" created="Tue, 12 Jan 2016 14:29:27 +0000"  >&lt;p&gt;Yeah, I didn&apos;t enable that profile as I had never done that in the past when I generated the tarballs. I&apos;m wondering if there is parquet version difference between spark and hive previously. Certainly, I will try the test myself to make sure the parquet test passes. Thanks.&lt;/p&gt;</comment>
                            <comment id="15094077" author="lirui" created="Tue, 12 Jan 2016 15:32:42 +0000"  >&lt;p&gt;We found the profile is needed when we updated to spark 1.5. I have also noted that in our wiki&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15095181" author="xuefuz" created="Tue, 12 Jan 2016 23:14:21 +0000"  >&lt;p&gt;Okay. I forgot about it. The tarball is updated with the profile when building it. Thanks.&lt;/p&gt;</comment>
                            <comment id="15095453" author="lirui" created="Wed, 13 Jan 2016 01:52:38 +0000"  >&lt;p&gt;Thanks Xuefu.&lt;br/&gt;
Run tests again.&lt;/p&gt;</comment>
                            <comment id="15095607" author="hiveqa" created="Wed, 13 Jan 2016 04:50:28 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781969/HIVE-12828.2-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781969/HIVE-12828.2-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1028/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1028/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1028/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1028/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1028/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1028/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781969 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="15096325" author="lirui" created="Wed, 13 Jan 2016 15:21:32 +0000"  >&lt;p&gt;The parquet_join passes on my machine with a locally built tar ball.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; - Is it possible the test isn&apos;t picking the updated tar ball?&lt;/p&gt;</comment>
                            <comment id="15097583" author="xuefuz" created="Thu, 14 Jan 2016 04:46:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, I used this command to generate the tarball. Maybe I have missed anything.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;./make-distribution.sh --name hadoop2-without-hive --tgz -Phadoop-2.4 -Pyarn -Pparquet-provided
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I will try locally to see if that test fails.&lt;/p&gt;</comment>
                            <comment id="15097618" author="xuefuz" created="Thu, 14 Jan 2016 05:21:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, it seems that cloudfront still has the old tarball (judged from file size). Not sure what happened last time, but I will upload a new tarball tomorrow. Thanks.&lt;/p&gt;</comment>
                            <comment id="15097621" author="lirui" created="Thu, 14 Jan 2016 05:24:05 +0000"  >&lt;p&gt;OK. Thanks for taking care of this, Xuefu.&lt;/p&gt;</comment>
                            <comment id="15098442" author="xuefuz" created="Thu, 14 Jan 2016 17:20:17 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, the file is updated and I verified that the test passed. Reattached the patch #2 to give another riun. Thanks.&lt;/p&gt;</comment>
                            <comment id="15098777" author="hiveqa" created="Thu, 14 Jan 2016 20:21:07 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782315/HIVE-12828.2-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782315/HIVE-12828.2-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 45 failed/errored test(s), 9312 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCliDriver-auto_sortmerge_join_7.q-exim_04_evolved_parts.q-query_with_semi.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-bool_literal.q-authorization_cli_createtab.q-explain_ddl.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-bucketsortoptimize_insert_7.q-list_bucket_query_multiskew_1.q-skewjoin_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-cp_mj_rc.q-decimal_2.q-union32.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-groupby_map_ppr_multi_distinct.q-vectorization_16.q-union_remove_15.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-join39.q-exim_07_all_part_over_nonoverlap.q-cbo_windowing.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-join9.q-insert_values_partitioned.q-progress_1.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-join_cond_pushdown_unqual4.q-udf_var_samp.q-load_dyn_part2.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-metadata_export_drop.q-udf_sin.q-udf_reverse.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-orc_split_elimination.q-udf_xpath_string.q-partition_wise_fileformat.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-ptf_general_queries.q-unionDistinct_1.q-groupby1_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-push_or.q-infer_bucket_sort_list_bucket.q-vector_interval_2.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-script_pipe.q-auto_join24.q-cast1.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-show_conf.q-udaf_covar_samp.q-udf_md5.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-skewjoin_mapjoin4.q-groupby6_map.q-cbo_rp_union.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-smb_mapjoin_4.q-udf_asin.q-udf_to_unix_timestamp.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-stats13.q-join_parse.q-sort_merge_join_desc_2.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-timestamp_lazy.q-union29.q-groupby_ppd.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-timestamp_literal.q-inputddl8.q-runtime_skewjoin_mapjoin_spark.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-udf_current_user.q-join44.q-union2.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-udf_nvl.q-alter_char1.q-serde_reported_schema.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-union36.q-acid_join.q-part_inherit_tbl_props_empty.q-and-6-more - did not produce a TEST-*.xml file
TestCliDriver-varchar_nested_types.q-leadlag.q-semicolon.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-vector_distinct_2.q-nullscript.q-vector_char_mapjoin1.q-and-12-more - did not produce a TEST-*.xml file
TestCliDriver-vectorization_limit.q-union19.q-groupby_grouping_sets6.q-and-12-more - did not produce a TEST-*.xml file
TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-auto_join30.q-vector_decimal_10_0.q-schema_evol_orc_acidvec_mapwork_part.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_grouping_sets.q-mapjoin_mapjoin.q-update_all_partitioned.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_interval_2.q-constprog_dpp.q-dynamic_partition_pruning.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_non_string_partition.q-delete_where_non_partitioned.q-auto_sortmerge_join_16.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorization_13.q-tez_bmj_schema_evolution.q-bucket3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join30.q-join9.q-input17.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-avro_joins.q-join36.q-join4.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-bucketmapjoin3.q-enforce_order.q-union11.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby6_map.q-join13.q-join_reorder3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_grouping_id2.q-vectorization_13.q-auto_sortmerge_join_13.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-input1_limit.q-groupby8_map.q-varchar_join1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_cond_pushdown_3.q-groupby7.q-auto_join17.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-vector_distinct_2.q-join15.q-load_dyn_part3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1029/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1029/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1029/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/1029/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1029/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-1029/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 45 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782315 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="15101125" author="lirui" created="Fri, 15 Jan 2016 03:07:57 +0000"  >&lt;p&gt;Looked at the log and error is&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-01-14T14:38:11,889   - 16/01/14 14:38:11 WARN TaskSetManager: Lost task 0.0 in stage 136.0 (TID 238, ip-10-233-128-9.us-west-1.compute.internal): java.io.IOException: java.lang.reflect.InvocationTargetException
2016-01-14T14:38:11,889   - 	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderCreationException(HiveIOExceptionHandlerChain.java:97)
2016-01-14T14:38:11,889   - 	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderCreationException(HiveIOExceptionHandlerUtil.java:57)
2016-01-14T14:38:11,890   - 	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.initNextRecordReader(HadoopShimsSecure.java:269)
2016-01-14T14:38:11,890   - 	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.&amp;lt;init&amp;gt;(HadoopShimsSecure.java:216)
2016-01-14T14:38:11,890   - 	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileInputFormatShim.getRecordReader(HadoopShimsSecure.java:343)
2016-01-14T14:38:11,890   - 	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getRecordReader(CombineHiveInputFormat.java:680)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.HadoopRDD$$anon$1.&amp;lt;init&amp;gt;(HadoopRDD.scala:237)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:208)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:101)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.UnionRDD.compute(UnionRDD.scala:87)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
2016-01-14T14:38:11,890   - 	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
2016-01-14T14:38:11,890   - 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:73)
2016-01-14T14:38:11,890   - 	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)
2016-01-14T14:38:11,890   - 	at org.apache.spark.scheduler.Task.run(Task.scala:89)
2016-01-14T14:38:11,890   - 	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:213)
2016-01-14T14:38:11,890   - 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
2016-01-14T14:38:11,890   - 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
2016-01-14T14:38:11,890   - 	at java.lang.Thread.run(Thread.java:744)
2016-01-14T14:38:11,890   - Caused by: java.lang.reflect.InvocationTargetException
2016-01-14T14:38:11,890   - 	at sun.reflect.GeneratedConstructorAccessor29.newInstance(Unknown Source)
2016-01-14T14:38:11,890   - 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
2016-01-14T14:38:11,890   - 	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
2016-01-14T14:38:11,890   - 	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.initNextRecordReader(HadoopShimsSecure.java:255)
2016-01-14T14:38:11,890   - 	... 21 more
2016-01-14T14:38:11,891   - Caused by: java.lang.NoSuchMethodError: org.apache.parquet.schema.Types$MessageTypeBuilder.addFields([Lorg/apache/parquet/schema/Type;)Lorg/apache/parquet/schema/Types$BaseGroupBuilder;
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.read.DataWritableReadSupport.getSchemaByName(DataWritableReadSupport.java:160)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.read.DataWritableReadSupport.init(DataWritableReadSupport.java:223)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.read.ParquetRecordReaderWrapper.getSplit(ParquetRecordReaderWrapper.java:248)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.read.ParquetRecordReaderWrapper.&amp;lt;init&amp;gt;(ParquetRecordReaderWrapper.java:94)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.read.ParquetRecordReaderWrapper.&amp;lt;init&amp;gt;(ParquetRecordReaderWrapper.java:80)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat.getRecordReader(MapredParquetInputFormat.java:72)
2016-01-14T14:38:11,891   - 	at org.apache.hadoop.hive.ql.io.CombineHiveRecordReader.&amp;lt;init&amp;gt;(CombineHiveRecordReader.java:67)
2016-01-14T14:38:11,891   - 	... 25 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The missing method exists in parquet-1.8.1 (hive) but not in 1.7.0 (spark). So I think it&apos;s still using the old tarball.&lt;/p&gt;</comment>
                            <comment id="15101152" author="xuefuz" created="Fri, 15 Jan 2016 03:37:47 +0000"  >&lt;p&gt;I&apos;m not sure if the test cleanup /thirdparty dir. I tested and worked for me. Could you give a try?&lt;/p&gt;</comment>
                            <comment id="15101178" author="lirui" created="Fri, 15 Jan 2016 04:35:26 +0000"  >&lt;p&gt;It passed on my machine too, with the updated tarball.&lt;/p&gt;</comment>
                            <comment id="15101183" author="xuefuz" created="Fri, 15 Jan 2016 04:40:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15101204" author="lirui" created="Fri, 15 Jan 2016 05:02:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, do we need to make parquet_join pass here?&lt;/p&gt;</comment>
                            <comment id="15101220" author="xuefuz" created="Fri, 15 Jan 2016 05:20:22 +0000"  >&lt;p&gt;I think we are okay. Please feel free to commit the patch. We will address the env issue tomorrow.&lt;/p&gt;</comment>
                            <comment id="15101761" author="lirui" created="Fri, 15 Jan 2016 13:26:59 +0000"  >&lt;p&gt;Committed to spark branch. Thanks Xuefu for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781545" name="HIVE-12828.1-spark.patch" size="477" author="lirui" created="Mon, 11 Jan 2016 12:15:45 +0000"/>
                            <attachment id="12782359" name="HIVE-12828.2-spark.patch" size="2042" author="xuefuz" created="Thu, 14 Jan 2016 20:23:07 +0000"/>
                            <attachment id="12782315" name="HIVE-12828.2-spark.patch" size="2042" author="xuefuz" created="Thu, 14 Jan 2016 17:20:17 +0000"/>
                            <attachment id="12781969" name="HIVE-12828.2-spark.patch" size="2042" author="lirui" created="Wed, 13 Jan 2016 01:52:38 +0000"/>
                            <attachment id="12781757" name="HIVE-12828.2-spark.patch" size="2042" author="lirui" created="Tue, 12 Jan 2016 06:48:52 +0000"/>
                            <attachment id="12781690" name="mem.patch" size="897" author="xuefuz" created="Tue, 12 Jan 2016 00:28:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jan 2016 12:15:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12829] Thrift changes for HIVE-12686</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12829</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928873">HIVE-12829</key>
            <summary>Thrift changes for HIVE-12686</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12922218">HIVE-12686</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 15:19:18 +0000</created>
                <updated>Tue, 12 Jan 2016 19:23:02 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:23:02 +0000</resolved>
                                    <version>1.3.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094579" author="alangates" created="Tue, 12 Jan 2016 19:23:02 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928806">HIVE-12823</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928874">HIVE-12830</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781400" name="HIVE-12829.patch" size="23286" author="alangates" created="Sat, 9 Jan 2016 15:53:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12830] Thrift changes for HIVE-11793</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12830</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928874">HIVE-12830</key>
            <summary>Thrift changes for HIVE-11793</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12863250">HIVE-11793</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 15:56:57 +0000</created>
                <updated>Tue, 12 Jan 2016 19:24:24 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:24:24 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094583" author="alangates" created="Tue, 12 Jan 2016 19:24:24 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928873">HIVE-12829</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928876">HIVE-12831</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781401" name="HIVE-12830.patch" size="34721" author="alangates" created="Sat, 9 Jan 2016 16:24:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12831] Thrift and RDBMS changes for HIVE-10249</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12831</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928876">HIVE-12831</key>
            <summary>Thrift and RDBMS changes for HIVE-10249</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12819136">HIVE-10249</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 16:26:38 +0000</created>
                <updated>Tue, 12 Jan 2016 19:25:06 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:25:06 +0000</resolved>
                                    <version>1.0.0</version>
                                                    <component>Metastore</component>
                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15094586" author="alangates" created="Tue, 12 Jan 2016 19:25:06 +0000"  >&lt;p&gt;Changes in this patch have been rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;&apos;s uber.2 patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928874">HIVE-12830</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12928881">HIVE-12832</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781403" name="HIVE-12831.patch" size="51500" author="alangates" created="Sat, 9 Jan 2016 16:57:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12832] RDBMS schema changes for HIVE-11388</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12832</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12928881">HIVE-12832</key>
            <summary>RDBMS schema changes for HIVE-11388</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12849495">HIVE-11388</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 17:46:05 +0000</created>
                <updated>Fri, 11 Mar 2016 00:54:45 +0000</updated>
                            <resolved>Fri, 15 Jan 2016 01:20:39 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15090747" author="alangates" created="Sat, 9 Jan 2016 19:22:19 +0000"  >&lt;p&gt;This uber patch has all of the recent changes to thrift and RDBMS in one patch.&lt;/p&gt;</comment>
                            <comment id="15092496" author="alangates" created="Mon, 11 Jan 2016 19:08:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="15093128" author="ekoifman" created="Tue, 12 Jan 2016 01:56:50 +0000"  >&lt;p&gt;+1 uber patch&lt;/p&gt;</comment>
                            <comment id="15094528" author="alangates" created="Tue, 12 Jan 2016 19:04:40 +0000"  >&lt;p&gt;Rather than slow through committing 10 separate patches I think I&apos;ll just commit the uber patch and mark all the other JIRAs as duplicates of this one.  Breaking up was good so that everyone could see what changes were associated with what fixes in the rest of the code base.  But it will be much easier to go through the test and commit phase once for all the changes rather than 10 times.&lt;/p&gt;

&lt;p&gt;I have already tested the uber.2 patch against all five databases and confirmed that installation of 1.3, 2.0, and 2.1 succeed and that upgrade from 1.2-&amp;gt;1.3 and 1.2-&amp;gt;2.0 succeed.&lt;/p&gt;</comment>
                            <comment id="15097451" author="ekoifman" created="Thu, 14 Jan 2016 02:03:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;.3.patch is eaxctly the same &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12832&quot; title=&quot;RDBMS schema changes for HIVE-11388&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12832&quot;&gt;&lt;del&gt;HIVE-12832&lt;/del&gt;&lt;/a&gt;.uber.2.patch - somehow the build bot didn&apos;t pick it up&lt;/p&gt;</comment>
                            <comment id="15098197" author="hiveqa" created="Thu, 14 Jan 2016 14:48:24 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782181/HIVE-12832.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782181/HIVE-12832.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10003 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_simple
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6622/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6622/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6622/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6622/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6622/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6622/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782181 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15098727" author="alangates" created="Thu, 14 Jan 2016 19:47:24 +0000"  >&lt;p&gt;Committed uber.2 patch to master.  Will also commit to branch-2.0 and branch-1 shortly.&lt;/p&gt;</comment>
                            <comment id="15099176" author="alangates" created="Fri, 15 Jan 2016 00:13:39 +0000"  >&lt;p&gt;Attaching the patch I used for branch-2.0&lt;/p&gt;</comment>
                            <comment id="15099248" author="alangates" created="Fri, 15 Jan 2016 01:20:06 +0000"  >&lt;p&gt;Attaching patch used for branch-1.  Note that this does update branch-1 to thrift 0.9.3.  It had previously been 0.9.2.  This brings the thrift version up to date with master.  Per &lt;a href=&quot;http://www.mail-archive.com/user%40thrift.apache.org/msg01282.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user%40thrift.apache.org/msg01282.html&lt;/a&gt; this should not cause backward incompatibility issues.&lt;/p&gt;</comment>
                            <comment id="15099252" author="alangates" created="Fri, 15 Jan 2016 01:20:39 +0000"  >&lt;p&gt;Commits made on master, branch-2.0, and branch-1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12910847">HIVE-12352</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12910849">HIVE-12353</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12928503">HIVE-12807</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928738">HIVE-12814</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928757">HIVE-12816</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928775">HIVE-12818</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928781">HIVE-12819</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928790">HIVE-12821</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928799">HIVE-12822</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928806">HIVE-12823</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928873">HIVE-12829</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928876">HIVE-12831</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12928874">HIVE-12830</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12928876">HIVE-12831</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12922218">HIVE-12686</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12851184">HIVE-11444</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12852727">HIVE-11495</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12860422">HIVE-11685</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12896445">HIVE-11965</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12819136">HIVE-10249</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12896281">HIVE-11956</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12896282">HIVE-11957</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12863250">HIVE-11793</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781410" name="HIVE-12382.patch" size="16109" author="alangates" created="Sat, 9 Jan 2016 19:15:36 +0000"/>
                            <attachment id="12782181" name="HIVE-12832.3.patch" size="284816" author="ekoifman" created="Thu, 14 Jan 2016 02:03:51 +0000"/>
                            <attachment id="12782412" name="HIVE-12832.uber.2.branch-1.patch" size="3079900" author="alangates" created="Fri, 15 Jan 2016 01:20:06 +0000"/>
                            <attachment id="12782406" name="HIVE-12832.uber.2.branch-2.0.patch" size="279801" author="alangates" created="Fri, 15 Jan 2016 00:13:39 +0000"/>
                            <attachment id="12781621" name="HIVE-12832.uber.2.patch" size="284816" author="alangates" created="Mon, 11 Jan 2016 19:07:16 +0000"/>
                            <attachment id="12781411" name="HIVE-12832.uber.patch" size="284861" author="alangates" created="Sat, 9 Jan 2016 19:22:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jan 2016 01:56:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r2wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12332154</customfieldvalue>
    <customfieldvalue>12332641</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12833] GROUPING__ID is wrong</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12833</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Grouping__ID function&lt;/p&gt;

&lt;p&gt;This function returns a bitvector corresponding to whether each column is present or not. For each column, a value of &quot;1&quot; is produced for a row in&lt;br/&gt;
the result set if that column has been aggregated in that row, otherwise the value is &quot;0&quot;. This can be used to differentiate when there are nulls&lt;br/&gt;
in the data.&lt;/p&gt;

&lt;p&gt;This does not match the example blow, in the first row, both key and value are aggregated, so GROUPING__ID should be 3 not, 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928896">HIVE-12833</key>
            <summary>GROUPING__ID is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jan 2016 20:48:12 +0000</created>
                <updated>Fri, 1 Sep 2017 18:10:45 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16150107" author="_yann_" created="Fri, 1 Sep 2017 06:23:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davies&quot; class=&quot;user-hover&quot; rel=&quot;davies&quot;&gt;Davies Liu&lt;/a&gt;&lt;br/&gt;
We met this issue;&lt;br/&gt;
Could you please post the Hive code, where &lt;tt&gt;grouping__id&lt;/tt&gt; is generated ?&lt;br/&gt;
We are not very clear for the logic for generating &lt;tt&gt;grouping__id&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Also could you please post the example you mentioned?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13098160">SPARK-21858</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Sep 2017 06:23:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r307:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12834] Fix to accept the arrow keys in BeeLine CLI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12834</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;BeeLine in the master doesn&apos;t accept the arrow keys as follows (e.g. ^[[A is up arrow key).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@hadoop ~]# beeline
which: no hbase in (/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/hadoop/bin:/usr/local/hive/bin:/usr/pgsql-9.4/bin:/root/bin)
Beeline version 2.1.0-SNAPSHOT by Apache Hive
beeline&amp;gt; ^[[A^[[B^[[C^[[D
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because UnsupportedTerminal is set in the same way as background. we can check with the ps command.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@hadoop ~]# ps -ef | grep beeline
root       5799   1433  1 12:05 pts/0    00:00:02 /usr/lib/jvm/java/bin/java -Xmx256m (snip) -Djline.terminal=jline.UnsupportedTerminal (snip) org.apache.hive.beeline.BeeLine
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6758&quot; title=&quot;Beeline doesn&amp;#39;t work with -e option when started in background&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6758&quot;&gt;&lt;del&gt;HIVE-6758&lt;/del&gt;&lt;/a&gt; affected this behavior. I will fix to accept the arrow keys.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 6.7&lt;/p&gt;</environment>
        <key id="12928972">HIVE-12834</key>
            <summary>Fix to accept the arrow keys in BeeLine CLI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sinchii">Shinichi Yamashita</assignee>
                                    <reporter username="sinchii">Shinichi Yamashita</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Jan 2016 03:46:20 +0000</created>
                <updated>Sat, 2 Jul 2016 01:46:55 +0000</updated>
                            <resolved>Tue, 2 Feb 2016 06:47:30 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15090884" author="sinchii" created="Sun, 10 Jan 2016 04:00:28 +0000"  >&lt;p&gt;There is the following statement in &quot;bin/beeline&quot;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ ! $(ps -o stat= -p $$) =~ + ]]; then
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think this should be changed as follows.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ ! $(ps -o stat= -p $$) =~ &lt;span class=&quot;code-quote&quot;&gt;&quot;+&quot;&lt;/span&gt; ]]; then
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15091523" author="hiveqa" created="Mon, 11 Jan 2016 06:58:37 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781436/HIVE-12834.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781436/HIVE-12834.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 9986 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_decimal_10_0.q-vector_acid3.q-vector_decimal_trailing.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_mapjoin1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6584/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6584/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6584/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6584/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6584/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6584/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781436 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15093279" author="sinchii" created="Tue, 12 Jan 2016 04:37:19 +0000"  >&lt;p&gt;I confirmed that the failed tests is unrelated to my patch by my environment. &lt;/p&gt;</comment>
                            <comment id="15125500" author="ashutoshc" created="Sun, 31 Jan 2016 20:56:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15127774" author="ashutoshc" created="Tue, 2 Feb 2016 06:47:30 +0000"  >&lt;p&gt;Pushed to master. Thanks, Shinichi!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12986354">HIVE-14153</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12703841">HIVE-6758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781436" name="HIVE-12834.1.patch" size="413" author="sinchii" created="Sun, 10 Jan 2016 04:00:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jan 2016 06:58:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r3h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12835] BC dates not properly documented / handled</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12835</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Minor issue IMO, but since I saw it I&apos;m filing it to document it.&lt;/p&gt;

&lt;p&gt;There&apos;s something screwy with date types. Documentation says they run from year 0 to year 9999 (&quot;depending on Java support&quot;). Tests I have done are consistent with supporting BC dates, but not identifying the dates as BC dates. Also there is some incorrect boundary handling. This is Hive 1.2.1 and Java 1.7.0_91.&lt;/p&gt;

&lt;p&gt;To reproduce, create some table with 1 record and run these.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;2000&apos;&lt;/span&gt; year from date_test;
OK
0001-01-01
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So far so good&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Time taken: 0.067 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;2100&apos;&lt;/span&gt; year from date_test;
OK
0101-01-01
Time taken: 0.055 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;2200&apos;&lt;/span&gt; year from date_test;
OK
0201-01-01
Time taken: 0.153 seconds, Fetched: 1 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Consistent with BC dates, but not identified as such.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;9999&apos;&lt;/span&gt; year from date_test;
OK
8000-01-01
Time taken: 0.062 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;10000&apos;&lt;/span&gt; year from date_test;
OK
8001-01-01
Time taken: 0.056 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;12000&apos;&lt;/span&gt; year from date_test;
OK
001-01-01
Time taken: 0.054 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;14000&apos;&lt;/span&gt; year from date_test;
OK
001-01-01
Time taken: 0.057 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt; as date) - interval &lt;span class=&quot;code-quote&quot;&gt;&apos;50000&apos;&lt;/span&gt; year from date_test;
OK
001-01-01
Time taken: 0.06 seconds, Fetched: 1 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Everything from here out collapses down to 001-01-01.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12929231">HIVE-12835</key>
            <summary>BC dates not properly documented / handled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cartershanklin">Carter Shanklin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2016 17:08:44 +0000</created>
                <updated>Fri, 18 Mar 2016 22:02:07 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15202242" author="cartershanklin" created="Fri, 18 Mar 2016 22:02:07 +0000"  >&lt;p&gt;Some other oddities:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&apos;2015-02-29&apos;&lt;/span&gt; as date);
OK
2015-03-01
Time taken: 0.19 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&apos;2015-02-30&apos;&lt;/span&gt; as date);
OK
2015-03-02
Time taken: 0.053 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&apos;2015-02-31&apos;&lt;/span&gt; as date);
OK
2015-03-03
Time taken: 0.049 seconds, Fetched: 1 row(s)
hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&apos;2015-02-32&apos;&lt;/span&gt; as date);
OK
NULL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r52n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-12836] Install wget &amp; curl packages on LXC containers for HMS upgrade tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12836</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Install wget &amp;amp; curl packages on LXC containers for HMS upgrade tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12929240">HIVE-12836</key>
            <summary>Install wget &amp; curl packages on LXC containers for HMS upgrade tests</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spena">Sergio Pe&#241;a</assignee>
                                    <reporter username="spena">Sergio Pe&#241;a</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2016 17:41:15 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:46 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 17:43:26 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12823560">HIVE-10468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781605" name="HIVE-12836.1.patch" size="591" author="spena" created="Mon, 11 Jan 2016 17:41:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r54n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12837] Better memory estimation/allocation for hybrid grace hash join during hash table loading</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12837</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is to avoid an edge case when the memory available is very little (less than a single write buffer size), and we start loading the hash table. Since the write buffer is lazily allocated, we will easily run out of memory before even checking if we should spill any hash partition.&lt;/p&gt;

&lt;p&gt;e.g.&lt;br/&gt;
Total memory available: 210 MB&lt;br/&gt;
Size of ref array of BytesBytesMultiHashMap for each hash partition: ~16 MB&lt;br/&gt;
Size of write buffer: 8 MB (lazy allocation)&lt;br/&gt;
Number of hash partitions: 16&lt;br/&gt;
Number of hash partitions created in memory: 13&lt;br/&gt;
Number of hash partitions created on disk: 3&lt;br/&gt;
Available memory left after HybridHashTableContainer initialization: 210-16*13=2MB&lt;/p&gt;

&lt;p&gt;Now let&apos;s say a row is to be loaded into a hash partition in memory, it will try to allocate an 8MB write buffer for it, but we only have 2MB, thus OOM.&lt;/p&gt;

&lt;p&gt;Solution is to perform the check for possible spilling earlier so we can spill partitions if memory is about to be full, to avoid OOM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12929253">HIVE-12837</key>
            <summary>Better memory estimation/allocation for hybrid grace hash join during hash table loading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wzheng">Wei Zheng</assignee>
                                    <reporter username="wzheng">Wei Zheng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2016 18:45:41 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:50 +0000</updated>
                            <resolved>Thu, 5 May 2016 06:11:42 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15092672" author="sershe" created="Mon, 11 Jan 2016 21:01:01 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;// Destination partition being empty indicates a write buffer
// will be allocated, thus need to check if memory is full
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;WB can also be allocated if one has already been allocated, if the previous one is close to full. This seems to handle only the small subset of the edge cases... Would the cases where we have one partition with 0 and one with 2 buffers, or the case where we have enough memory for 2N-1 buffers, be handled elsewhere?&lt;/p&gt;</comment>
                            <comment id="15092757" author="wzheng" created="Mon, 11 Jan 2016 21:55:02 +0000"  >&lt;p&gt;Yes, general cases are also handled, in isMemoryFull check. Every time when I check memory, I want to make sure there are enough space to create one write buffer for each partition, otherwise I will spill. Sounds right?&lt;/p&gt;</comment>
                            <comment id="15093307" author="hiveqa" created="Tue, 12 Jan 2016 05:19:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781616/HIVE-12837.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781616/HIVE-12837.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 40 failed/errored test(s), 9926 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_joins_explain.q-vector_decimal_aggregate.q-vector_groupby_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_outer_join5.q-custom_input_output_format.q-vector_groupby_reduce.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_13
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket_map_join_tez1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_hybridgrace_hashjoin_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_merge1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge7
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_sample1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_nonvec_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_text_fetchwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_bmj_schema_evolution
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_smb_main
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_unionDistinct_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_count_distinct
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_leftsemi_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_mr_diff_schema_alias
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_null_projection
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_nullsafe_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_part_project
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6597/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6597/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6597/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6597/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6597/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6597/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 40 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781616 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15094925" author="wzheng" created="Tue, 12 Jan 2016 20:55:52 +0000"  >&lt;p&gt;patch 2 for testing&lt;/p&gt;</comment>
                            <comment id="15096055" author="hiveqa" created="Wed, 13 Jan 2016 11:49:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781917/HIVE-12837.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781917/HIVE-12837.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 9965 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_joins_explain.q-vector_decimal_aggregate.q-vector_groupby_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6610/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6610/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6610/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6610/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6610/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781917 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15096764" author="wzheng" created="Wed, 13 Jan 2016 18:44:20 +0000"  >&lt;p&gt;Test mismatches are not related.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can you review it? Thanks.&lt;/p&gt;</comment>
                            <comment id="15105683" author="wzheng" created="Mon, 18 Jan 2016 19:08:21 +0000"  >&lt;p&gt;patch 3 for test&lt;/p&gt;</comment>
                            <comment id="15106013" author="hiveqa" created="Tue, 19 Jan 2016 00:17:10 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12782917/HIVE-12837.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12782917/HIVE-12837.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 9970 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_joins_explain.q-vector_decimal_aggregate.q-vector_groupby_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.createTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.insertOverwriteCreate
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.testLockRetryLimit
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.updateSelectUpdate
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6663/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6663/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6663/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6663/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6663/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6663/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12782917 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15107145" author="wzheng" created="Tue, 19 Jan 2016 18:31:50 +0000"  >&lt;p&gt;Both TestDbTxnManager2 and tez_union.q passed locally without any problem.&lt;/p&gt;</comment>
                            <comment id="15254736" author="wzheng" created="Fri, 22 Apr 2016 21:32:35 +0000"  >&lt;p&gt;Rebased patch 4 for test&lt;/p&gt;</comment>
                            <comment id="15254738" author="wzheng" created="Fri, 22 Apr 2016 21:32:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Could you please review?&lt;/p&gt;</comment>
                            <comment id="15255873" author="hiveqa" created="Mon, 25 Apr 2016 04:31:55 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12800311/HIVE-12837.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12800311/HIVE-12837.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 51 failed/errored test(s), 9869 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-groupby2.q-tez_dynpart_hashjoin_1.q-custom_input_output_format.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-join1.q-mapjoin_decimal.q-vectorized_distinct_gby.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-order_null.q-vector_acid3.q-orc_merge10.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls
org.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.hcatalog.api.TestHCatClient.testBasicDDLCommands
org.apache.hive.hcatalog.api.TestHCatClient.testDatabaseLocation
org.apache.hive.hcatalog.api.TestHCatClient.testDropPartitionsWithPartialSpec
org.apache.hive.hcatalog.api.TestHCatClient.testDropTableException
org.apache.hive.hcatalog.api.TestHCatClient.testEmptyTableInstantiation
org.apache.hive.hcatalog.api.TestHCatClient.testGetPartitionsWithPartialSpec
org.apache.hive.hcatalog.api.TestHCatClient.testObjectNotFoundException
org.apache.hive.hcatalog.api.TestHCatClient.testRenameTable
org.apache.hive.hcatalog.api.TestHCatClient.testReplicationTaskIter
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure
org.apache.hive.hcatalog.listener.TestDbNotificationListener.dropTable
org.apache.hive.hcatalog.listener.TestDbNotificationListener.sqlInsertPartition
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/69/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/69/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/69/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/69/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-69/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 51 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12800311 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15257334" author="wzheng" created="Tue, 26 Apr 2016 00:31:24 +0000"  >&lt;p&gt;I don&apos;t think test failures are related. But to make sure, I cloned patch 4 to patch 5, for another round of precommit test.&lt;/p&gt;</comment>
                            <comment id="15259628" author="hiveqa" created="Wed, 27 Apr 2016 06:23:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12800678/HIVE-12837.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12800678/HIVE-12837.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 49 failed/errored test(s), 9911 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestMiniLlapCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-join1.q-mapjoin_decimal.q-vectorized_distinct_gby.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nomore_ambiguous_table_col
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_regexp_extract
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_clustern3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_clustern4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_nonkey_groupby
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_selectDistinctStarNeg_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_subquery_shared_alias
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udtf_not_supported1
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote
org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTable
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.concurrencyFalse
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLExclusive
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDelete
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testLockTimeout
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWriteTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testUpdate
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions
org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.listener.TestDbNotificationListener.cleanupNotifs
org.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase
org.apache.hive.minikdc.TestJdbcWithDBTokenStore.org.apache.hive.minikdc.TestJdbcWithDBTokenStore
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testThreadPoolMetrics
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/93/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/93/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/93/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/93/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-93/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 49 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12800678 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15260479" author="wzheng" created="Wed, 27 Apr 2016 17:00:29 +0000"  >&lt;p&gt;Test failures are not related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can you please review?&lt;/p&gt;</comment>
                            <comment id="15271764" author="vikram.dixit" created="Thu, 5 May 2016 01:27:18 +0000"  >&lt;p&gt;+1 LGTM.&lt;/p&gt;</comment>
                            <comment id="15271944" author="wzheng" created="Thu, 5 May 2016 06:11:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; for the review. Committed to master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12967179">HIVE-13730</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12781616" name="HIVE-12837.1.patch" size="6265" author="wzheng" created="Mon, 11 Jan 2016 18:53:06 +0000"/>
                            <attachment id="12781917" name="HIVE-12837.2.patch" size="6807" author="wzheng" created="Tue, 12 Jan 2016 20:55:52 +0000"/>
                            <attachment id="12782917" name="HIVE-12837.3.patch" size="7681" author="wzheng" created="Mon, 18 Jan 2016 19:08:21 +0000"/>
                            <attachment id="12800311" name="HIVE-12837.4.patch" size="7676" author="wzheng" created="Fri, 22 Apr 2016 21:32:35 +0000"/>
                            <attachment id="12800678" name="HIVE-12837.5.patch" size="7676" author="wzheng" created="Tue, 26 Apr 2016 00:31:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jan 2016 21:01:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r57j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-12838] Add methods for getting and storing serialized ORC file tails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12838</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Provide a pair of routines for getting and restoring from a serialized file footer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12929302">HIVE-12838</key>
            <summary>Add methods for getting and storing serialized ORC file tails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2016 22:14:56 +0000</created>
                <updated>Fri, 13 May 2016 18:16:23 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r5if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
