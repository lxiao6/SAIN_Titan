<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:19:40 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-12-6+AND+created+%3C%3D+2011-12-13+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="24" total="24"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2627] NPE on MAP-JOIN with a UDF in an external JAR</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2627</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a query is converted into a map join, and it depends on some UDF (ADD JAR...; CREATE TEMPORARY FUNCTION...), then an NPE may happen.  Here is an example.&lt;/p&gt;

&lt;p&gt;SELECT&lt;br/&gt;
    some_udf(dummy1) as dummies&lt;br/&gt;
FROM (&lt;br/&gt;
    SELECT        &lt;br/&gt;
        a.dummy as dummy1,&lt;br/&gt;
        b.dummy as dummy2&lt;br/&gt;
    FROM        &lt;br/&gt;
        test a    &lt;br/&gt;
    LEFT OUTER JOIN&lt;br/&gt;
        test b&lt;br/&gt;
    ON&lt;br/&gt;
        a.dummy = b.dummy&lt;br/&gt;
) c;&lt;/p&gt;

&lt;p&gt;My guess is that the JAR classes are not getting propagated to the hashmapjoin operator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533981">HIVE-2627</key>
            <summary>NPE on MAP-JOIN with a UDF in an external JAR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 02:57:53 +0000</created>
                <updated>Sun, 8 Jun 2014 18:05:33 +0000</updated>
                            <resolved>Sun, 8 Jun 2014 18:05:33 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14009503" author="dimamah" created="Tue, 27 May 2014 08:43:28 +0000"  >&lt;p&gt;I can confirm that this still happens in hive 0.12.&lt;br/&gt;
Getting : &lt;/p&gt;

&lt;p&gt;java.lang.ClassNotFoundException: com.some.class.used.by.UDF&lt;br/&gt;
Continuing ...&lt;br/&gt;
java.lang.NullPointerException: target should not be null&lt;br/&gt;
java.lang.NullPointerException: target should not be null&lt;br/&gt;
Continuing ...&lt;/p&gt;

&lt;p&gt;and eventually &lt;/p&gt;

&lt;p&gt;ERROR mr.MapredLocalTask: Hive Runtime Error: Map local work failed&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FunctionRegistry.isStateful(FunctionRegistry.java:1415)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FunctionRegistry.isDeterministic(FunctionRegistry.java:1385)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.isDeterministic(ExprNodeGenericFuncEvaluator.java:132)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FunctionRegistry.isDeterministic(FunctionRegistry.java:1385)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.isDeterministic(ExprNodeGenericFuncEvaluator.java:132)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluatorFactory.iterate(ExprNodeEvaluatorFactory.java:83)    at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluatorFactory.iterate(ExprNodeEvaluatorFactory.java:83)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluatorFactory.toCachedEval(ExprNodeEvaluatorFactory.java:73)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.SelectOperator.initializeOp(SelectOperator.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.SelectOperator.initializeOp(SelectOperator.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:377)        at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:377)&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:453)        at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:453)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:409)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:188)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:188)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:377)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.MapredLocalTask.initializeOperators(MapredLocalTask.java:419)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.MapredLocalTask.executeFromChildJVM(MapredLocalTask.java:305)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.main(ExecDriver.java:722)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:197)&lt;/p&gt;
</comment>
                            <comment id="14021229" author="ashutoshc" created="Sun, 8 Jun 2014 18:05:33 +0000"  >&lt;p&gt;Fixed in 0.13 by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6670&quot; title=&quot;ClassNotFound with Serde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6670&quot;&gt;&lt;del&gt;HIVE-6670&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 May 2014 08:43:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2628] move one line log from MapOperator to HiveContextAwareRecordReader</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2628</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12534071">HIVE-2628</key>
            <summary>move one line log from MapOperator to HiveContextAwareRecordReader</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 19:12:27 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:13 +0000</updated>
                            <resolved>Sat, 10 Dec 2011 06:30:58 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13163757" author="he yongqiang" created="Tue, 6 Dec 2011 19:19:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D615&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D615&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13163759" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 19:19:39 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2628&quot; title=&quot;move one line log from MapOperator to HiveContextAwareRecordReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2628&quot;&gt;&lt;del&gt;HIVE-2628&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; move one line log from MapOperator to HiveContextAwareRecordReader&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  move one line log from MapOperator to HiveContextAwareRecordReader&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D615&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D615&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/HiveContextAwareRecordReader.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1365/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1365/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13166581" author="namit" created="Fri, 9 Dec 2011 21:29:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13166804" author="namit" created="Sat, 10 Dec 2011 06:30:58 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13166839" author="hudson" created="Sat, 10 Dec 2011 11:41:40 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #13 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2628&quot; title=&quot;move one line log from MapOperator to HiveContextAwareRecordReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2628&quot;&gt;&lt;del&gt;HIVE-2628&lt;/del&gt;&lt;/a&gt; move one line log from MapOperator to HiveContextAwareRecordReader&lt;br/&gt;
(He Yongqiang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212739&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212739&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveContextAwareRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13166883" author="hudson" created="Sat, 10 Dec 2011 15:05:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2628&quot; title=&quot;move one line log from MapOperator to HiveContextAwareRecordReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2628&quot;&gt;&lt;del&gt;HIVE-2628&lt;/del&gt;&lt;/a&gt; move one line log from MapOperator to HiveContextAwareRecordReader&lt;br/&gt;
(He Yongqiang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212739&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212739&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveContextAwareRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265225" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:13 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506294" name="ASF.LICENSE.NOT.GRANTED--HIVE-2628.D615.1.patch" size="2217" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 19:19:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Dec 2011 19:19:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2629] Make a single Hive binary work with both 0.20.x and 0.23.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2629</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12534090">HIVE-2629</key>
            <summary>Make a single Hive binary work with both 0.20.x and 0.23.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thw">Thomas Weise</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 22:07:41 +0000</created>
                <updated>Thu, 2 May 2013 02:29:49 +0000</updated>
                            <resolved>Thu, 19 Jan 2012 09:45:07 +0000</resolved>
                                                    <fixVersion>0.8.1</fixVersion>
                    <fixVersion>0.9.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13163900" author="cwsteinbach" created="Tue, 6 Dec 2011 22:09:18 +0000"  >&lt;p&gt;Relevant comment from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2468&quot; title=&quot;Make Hive compile against Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2468&quot;&gt;&lt;del&gt;HIVE-2468&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2468?focusedCommentId=13163313&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13163313&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2468?focusedCommentId=13163313&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13163313&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13164607" author="thw" created="Wed, 7 Dec 2011 18:43:03 +0000"  >&lt;p&gt;Looking at this in the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-179&quot; title=&quot;Make HCatalog compile against Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-179&quot;&gt;&lt;del&gt;HCATALOG-179&lt;/del&gt;&lt;/a&gt;. As of now 0.23 shim is incomplete (does not support security, authentication code is not included). I&apos;m looking into restructuring the secure shim code so that 20S and 23 share common code and only redefine what is unique to 20S vs. 23. Do we want all 3 shims to be compiled as part of the build?&lt;/p&gt;</comment>
                            <comment id="13165046" author="cwsteinbach" created="Thu, 8 Dec 2011 06:52:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do we want all 3 shims to be compiled as part of the build?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, I support doing it this way.&lt;/p&gt;</comment>
                            <comment id="13166439" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 18:52:41 +0000"  >&lt;p&gt;thw requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Changes to compile all shims into single jar against respective hadoop version(s). Shims to be included and hadoop version used to compile common code can be specified on command line, with all shims included by default.&lt;br/&gt;
  Example that only uses 0.23:  ant -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0 -Dshims.include=0.23 clean package test-shims&lt;/p&gt;

&lt;p&gt;  Common code for 0.20 secure and 0.23 has been moved to separate source directory.&lt;/p&gt;

&lt;p&gt;  Currently running tests.&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/src/commonSecure&lt;br/&gt;
  shims/src/commonSecure/java&lt;br/&gt;
  shims/src/commonSecure/java/org&lt;br/&gt;
  shims/src/commonSecure/java/org/apache&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token/delegation&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/shims&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build-common.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1557/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1557/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13166642" author="thw" created="Fri, 9 Dec 2011 22:59:10 +0000"  >&lt;p&gt;Unit test results:&lt;/p&gt;

&lt;p&gt;ant package test&lt;/p&gt;

&lt;p&gt;All tests pass for default hadoop versions.&lt;/p&gt;

&lt;p&gt;ant -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0 -Dshims.include=0.23 clean package test testreport&lt;/p&gt;

&lt;p&gt;86% tests pass. Same result as current trunk, tests run with:&lt;/p&gt;

&lt;p&gt;ant -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0 -Dhadoop.security.version.prefix=0.23 package test testreport&lt;/p&gt;</comment>
                            <comment id="13168793" author="thw" created="Tue, 13 Dec 2011 22:25:29 +0000"  >&lt;p&gt;As indicated, unit tests pass (or status unchanged with respect to 0.23). Review/comments anyone?&lt;/p&gt;</comment>
                            <comment id="13168813" author="ashutoshc" created="Tue, 13 Dec 2011 22:54:57 +0000"  >&lt;p&gt;@Thomas,&lt;br/&gt;
I will take a look at it in couple of days.&lt;/p&gt;</comment>
                            <comment id="13171146" author="thw" created="Fri, 16 Dec 2011 19:16:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13172005" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 02:35:40 +0000"  >&lt;p&gt;Is it possible to support hadoop 0.22 which was released recently ?&lt;/p&gt;</comment>
                            <comment id="13172454" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 17:59:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;HadoopShimsSecure &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; HadoopShims {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Accommodating hadoop 0.22 would be slightly more complex since it doesn&apos;t currently support security.&lt;/p&gt;</comment>
                            <comment id="13176810" author="thw" created="Wed, 28 Dec 2011 20:52:28 +0000"  >&lt;p&gt;bump&lt;/p&gt;</comment>
                            <comment id="13177504" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 01:43:31 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Rebased patch.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/src/commonSecure&lt;br/&gt;
  shims/src/commonSecure/java&lt;br/&gt;
  shims/src/commonSecure/java/org&lt;br/&gt;
  shims/src/commonSecure/java/org/apache&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token/delegation&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/client&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/shims&lt;br/&gt;
  shims/src/commonSecure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java@1225709&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java@1225705&lt;/p&gt;</comment>
                            <comment id="13177753" author="ashutoshc" created="Fri, 30 Dec 2011 20:52:54 +0000"  >&lt;p&gt;How do I apply the latest patch. I tried following:&lt;br/&gt;
a) $ arc patch D711&lt;br/&gt;
ARC: Cannot mix P and A&lt;br/&gt;
UNIX: No such file or directory&lt;/p&gt;

&lt;p&gt;b) curl &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12508908/HIVE-2629.D711.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12508908/HIVE-2629.D711.2.patch&lt;/a&gt; | patch -p0&lt;br/&gt;
that didnt work either. &lt;/p&gt;

&lt;p&gt;Note that I didnt apply any of the previous patches for this issue. Looks like I need to do that to apply latest patch. But I have same issue even there. Also, on phabricator UI I want to see the diff between current trunk and latest patch, but it is showing me the diff between current patch and previous patch&lt;/p&gt;</comment>
                            <comment id="13177774" author="thw" created="Fri, 30 Dec 2011 21:36:49 +0000"  >&lt;p&gt;Uploading patch manually for Ashutosh to get past Phabricator issue.&lt;/p&gt;</comment>
                            <comment id="13177797" author="thw" created="Fri, 30 Dec 2011 22:41:43 +0000"  >&lt;p&gt;Attached patch was generated using svn client 1.7 to represent moved files as adds:&lt;/p&gt;

&lt;p&gt; svn diff --show-copies-as-adds &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;</comment>
                            <comment id="13181185" author="phabricator@reviews.facebook.net" created="Fri, 6 Jan 2012 07:51:52 +0000"  >&lt;p&gt;amareshwarisr has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;/p&gt;

&lt;p&gt;  The directory commonSecure should be changed to common/secure. Why don&apos;t we put those files in the directory common itself? Why create a new directory? Putting them in common would make the code cleaner&lt;/p&gt;


&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:118-123 Why are these changes required? If not required, can you remove them?&lt;br/&gt;
  build.properties:13-17 Are we going to add new version here for all the upcoming versions as well?  I don&apos;t think we should do it this way.&lt;br/&gt;
  shims/build.xml:57 Can we change commonSecure to common.secure in all the places?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13181220" author="phabricator@reviews.facebook.net" created="Fri, 6 Jan 2012 10:09:39 +0000"  >&lt;p&gt;amareshwarisr has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;/p&gt;

&lt;p&gt;  I realize that it is not possible to keep all the files in common itself. The  suggestion is to rename commonSecure to common-secure, as the former name does not fit into the directory name style.&lt;/p&gt;

&lt;p&gt;  Also, I could not run &apos;ant package&apos; after applying the patch, as it was failing with Out of memory issues.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/build.xml:62 Earlier shim builds exclude Proxy*.java files and include them separately in compile. Not sure why it is done so. But this patch removes the functionality. When I dig through svn history, it is done by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1408&quot; title=&quot;add option to let hive automatically run in local mode based on tunable heuristics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1408&quot;&gt;&lt;del&gt;HIVE-1408&lt;/del&gt;&lt;/a&gt; to make hive automatically run in local mode. Not sure if it is still required. anyone aware this?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13181731" author="phabricator@reviews.facebook.net" created="Sat, 7 Jan 2012 00:45:38 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;/p&gt;

&lt;p&gt;  Updated patch will rename directory to common-secure&lt;/p&gt;


&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/build.xml:62 Looks like this was done to support pre 0.20?&lt;br/&gt;
  Since the classes have been moved to common in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2468&quot; title=&quot;Make Hive compile against Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2468&quot;&gt;&lt;del&gt;HIVE-2468&lt;/del&gt;&lt;/a&gt; and they go into the shim jar anyways, there should be no need for this.&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1408?focusedCommentId=12888867&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12888867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1408?focusedCommentId=12888867&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12888867&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  shims/build.xml:57 Done.&lt;br/&gt;
  build.properties:13-17 There will be one default Hadoop version per shim implementation and that is needed to build all shims (the desired default behavior). The user does not have to change these for the default build but has the flexibility to do so via command line override (for example when wanting to experiment with other Hadoop versions for existing shims).&lt;/p&gt;

&lt;p&gt;  In addition, external builds like HCatalog can read the property file to reference the Hadoop location.&lt;br/&gt;
  build-common.xml:118-123 Results of ivy:retrieve are immutable and therefore the identifier has to be unique for the Hadoop version to compile against multiple versions in a single ant run.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13181738" author="phabricator@reviews.facebook.net" created="Sat, 7 Jan 2012 00:53:39 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach, ashutoshc&lt;/p&gt;

&lt;p&gt;  Updated patch per Amareshwari&apos;s review.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;br/&gt;
  shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;br/&gt;
  shims/src/common-secure&lt;br/&gt;
  shims/src/common-secure/java&lt;br/&gt;
  shims/src/common-secure/java/org&lt;br/&gt;
  shims/src/common-secure/java/org/apache&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/security&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/security/token&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java@1228464&lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java@1228464&lt;/p&gt;</comment>
                            <comment id="13181746" author="thw" created="Sat, 7 Jan 2012 01:08:57 +0000"  >&lt;p&gt;svn diff --show-copies-as-adds &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;.3.patch&lt;/p&gt;

&lt;p&gt;(Apply using svn patch (svn 1.7) to preserve svn add/delete)&lt;/p&gt;</comment>
                            <comment id="13181789" author="phabricator@reviews.facebook.net" created="Sat, 7 Jan 2012 02:57:39 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;/p&gt;

&lt;p&gt;  Run&lt;/p&gt;

&lt;p&gt;    ant clean package&lt;/p&gt;

&lt;p&gt;  on 3 different machines with no out of memory issues. This is with ant 1.8.2&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182378" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 05:15:39 +0000"  >&lt;p&gt;amareshwarisr has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make a single Hive binary work with both 0.20.x and 0.23.0&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Changes look good.&lt;br/&gt;
  Could run ant package successfully on a linux box.&lt;/p&gt;

&lt;p&gt;  Will run tests with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;.3.patch. Will commit once they pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D711&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182416" author="amareshwari" created="Mon, 9 Jan 2012 08:41:59 +0000"  >&lt;p&gt;Would like to commit this to 0.8.1 as well. Any objections?&lt;/p&gt;

&lt;p&gt;Thomas, Can you upload a patch for branch 0.8 (branch-0.8-r2) as well?&lt;/p&gt;</comment>
                            <comment id="13182465" author="amareshwari" created="Mon, 9 Jan 2012 11:50:30 +0000"  >&lt;p&gt;The following tests failed in my run (ant package test):&lt;/p&gt;

&lt;p&gt;split_sample.q&lt;br/&gt;
smb_mapjoin_7.q&lt;br/&gt;
smb_mapjoin_6.q&lt;br/&gt;
rcfile_merge2.q&lt;br/&gt;
rcfile_merge1.q&lt;br/&gt;
ppr_pushdown.q&lt;br/&gt;
merge_dynamic_partition3.q&lt;br/&gt;
merge_dynamic_partition.q&lt;br/&gt;
insert2_overwrite_partitions.q&lt;/p&gt;

&lt;p&gt;TestHWIServer&lt;/p&gt;</comment>
                            <comment id="13182972" author="thw" created="Tue, 10 Jan 2012 01:03:54 +0000"  >&lt;p&gt;I had run the tests successfully when I first submitted the patch. I did so again today on two different machines. There was one failure in each run (in different test case) which each passed on the other machine as well as on re-run on the same machine. &lt;/p&gt;</comment>
                            <comment id="13183190" author="amareshwari" created="Tue, 10 Jan 2012 11:15:39 +0000"  >&lt;p&gt;The failing tests passed on a different machine, except insert2_overwrite_partitions.q and ppr_pushdown.q. The tests failed on the trunk as well. &lt;/p&gt;

&lt;p&gt;I just committed the patch to trunk. Will resolve the issue once it is committed to 0.8.1.&lt;br/&gt;
Thanks Thomas!&lt;/p&gt;</comment>
                            <comment id="13183312" author="amareshwari" created="Tue, 10 Jan 2012 15:07:29 +0000"  >&lt;p&gt;Reverted the previous commit, as the patch broke CombineFileInputFormat changes in 23 shims.&lt;/p&gt;

&lt;p&gt;Jobs which use CombineFileInputFormat fail with following exception:&lt;br/&gt;
java.lang.ClassCastException: [Lorg.apache.hadoop.mapred.InputSplit; cannot be cast to [Lorg.apache.hadoop.mapred.lib.CombineFileSplit;&lt;br/&gt;
	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileInputFormatShim.getSplits(HadoopShimsSecure.java:387)&lt;br/&gt;
	at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileInputFormatShim.getSplits(HadoopShimsSecure.java:353)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:387)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.JobSubmitter.writeOldSplits(JobSubmitter.java:472)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:464)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:360)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Job$2.run(Job.java:1159)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Job$2.run(Job.java:1156)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1152)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Job.submit(Job.java:1156)&lt;br/&gt;
	at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:571)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:432)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:690)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:189)&lt;br/&gt;
Job Submission failed with exception &apos;java.lang.ClassCastException([Lorg.apache.hadoop.mapred.InputSplit; cannot be cast&lt;/p&gt;

&lt;p&gt;Looks like we need to have Hadoop20SShims.java and Hadoop23Shims.java files with proper CombineFileInputFormat changes for each version.&lt;/p&gt;</comment>
                            <comment id="13183332" author="amareshwari" created="Tue, 10 Jan 2012 15:26:02 +0000"  >&lt;p&gt;I could reproduce the failure by running&lt;br/&gt;
&quot;ant test -Dtestcase=TestCliDriver -Dqfile=combine2.q -Dtest.silent=false -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0  -Dshims.include=0.23&quot;&lt;/p&gt;</comment>
                            <comment id="13183359" author="thw" created="Tue, 10 Jan 2012 16:25:37 +0000"  >&lt;p&gt;On head revision:&lt;/p&gt;

&lt;p&gt;ant clean package test -Dtestcase=TestCliDriver -Dqfile=combine2.q -Dtest.silent=false -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0  -Dhadoop.security.version.prefix=0.23&lt;/p&gt;

&lt;p&gt;Does not even compile. I remember though that some tests on 0.23 failed, before and after the patch as noted earlier. Fixing all unit tests for 0.23 is not part of this patch.&lt;/p&gt;</comment>
                            <comment id="13183366" author="ashutoshc" created="Tue, 10 Jan 2012 16:38:55 +0000"  >&lt;p&gt;As noted on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2686&quot; title=&quot;Test ppr_pushdown.q is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2686&quot;&gt;&lt;del&gt;HIVE-2686&lt;/del&gt;&lt;/a&gt; atleast some of the test failures on trunk are due to non-determinism resulting from absence of order-by in few queries.&lt;/p&gt;</comment>
                            <comment id="13183379" author="thw" created="Tue, 10 Jan 2012 17:03:53 +0000"  >&lt;p&gt;Another run on one of our boxes completed overnight with no failures - all tests pass for 0.20. &lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 289 minutes 12 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;+  Done                    ant test &amp;gt; test.log 2&amp;gt;&amp;amp;1&lt;/p&gt;

&lt;p&gt;This JIRA&apos;s purpose is not to fix all unit tests for 0.23, but I had checked that not more test fail than there were already. Per previous comment, currently the head revision does not compile for 0.23, but I went back to a prior revision and it shows that the test mentioned above was broken before:&lt;/p&gt;

&lt;p&gt;svn --revision 1220920 up&lt;br/&gt;
ant clean package test -Dtestcase=TestCliDriver -Dqfile=combine2.q -Dtest.silent=false -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0  -Dhadoop.security.version.prefix=0.23&lt;br/&gt;
BUILD FAILED&lt;br/&gt;
/Users/thw/java/hive/trunk2/build.xml:310: Keepgoing execution: 1 of 12 iterations failed.&lt;/p&gt;

&lt;p&gt;Total time: 2 minutes 47 seconds&lt;/p&gt;

&lt;p&gt;Can we please create a new JIRA for making broken tests on 0.23 work and resolve this one?&lt;/p&gt;</comment>
                            <comment id="13183393" author="hudson" created="Tue, 10 Jan 2012 17:26:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1190 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1190/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1190/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari)&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229510&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13183582" author="hudson" created="Tue, 10 Jan 2012 21:26:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1191 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1191/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1191/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Reverting previous commit&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229584&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229584&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMax.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataInputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataOutputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultGraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultRuleDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/Dispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/GraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessorCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/Rule.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/RuleRegExp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinCond.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AggregationDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CollectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CopyWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/Explain.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplosionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeColumnDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeFieldDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeNullDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExtractDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FetchWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FilterDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ForwardDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/GroupByDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinCondDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LateralViewJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LimitDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadFileDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredLocalWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PartitionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ReduceSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SchemaDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ScriptDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SelectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowFunctionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTableStatusDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTablesDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/UDTFDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/UnionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13183884" author="thw" created="Wed, 11 Jan 2012 05:46:58 +0000"  >&lt;p&gt;Attached additional patch resolves the array cast issue Amareshwari identified. The test case did not pass on 0.23 before and after the patch, this is only to address the additional error.&lt;/p&gt;</comment>
                            <comment id="13184724" author="amareshwari" created="Thu, 12 Jan 2012 04:53:57 +0000"  >&lt;p&gt;Fix looks good. Ran the test suite with latest changes. Just committed this trunk. Thanks Thomas.&lt;br/&gt;
Will resolve once get this committed to 0.8&lt;/p&gt;</comment>
                            <comment id="13184884" author="hudson" created="Thu, 12 Jan 2012 11:56:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1196 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1196/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1196/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari)&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13186775" author="hudson" created="Mon, 16 Jan 2012 08:45:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #3 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari)&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13187019" author="hudson" created="Mon, 16 Jan 2012 16:51:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #5 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari)&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13188105" author="cwsteinbach" created="Tue, 17 Jan 2012 22:59:14 +0000"  >&lt;p&gt;@Amareshwari: Are you planning to backport this to 0.8.1?&lt;/p&gt;</comment>
                            <comment id="13188302" author="amareshwari" created="Wed, 18 Jan 2012 06:28:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;@Amareshwari: Are you planning to backport this to 0.8.1?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. Will do. Would like to commit &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2616&quot; title=&quot;Passing user identity from metastore client to server in non-secure mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2616&quot;&gt;&lt;del&gt;HIVE-2616&lt;/del&gt;&lt;/a&gt; before so that there are not many changes in the patch. &lt;/p&gt;</comment>
                            <comment id="13189031" author="amareshwari" created="Thu, 19 Jan 2012 09:45:07 +0000"  >&lt;p&gt;Committed this to branch-0.8-r2.&lt;/p&gt;</comment>
                            <comment id="13189118" author="hudson" created="Thu, 19 Jan 2012 14:05:05 +0000"  >&lt;p&gt;Integrated in Hive-0.8.1-SNAPSHOT-h0.21 #166 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.1-SNAPSHOT-h0.21/166/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.1-SNAPSHOT-h0.21/166/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Merge -r 1230390:1230391 from trunk.&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233262&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233262&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265326" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:43 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548314" author="hudson" created="Wed, 9 Jan 2013 10:25:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari) (Revision 1230391)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Reverting previous commit (Revision 1229584)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari) (Revision 1229510)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230391&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229584&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229584&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMax.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataInputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataOutputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultGraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultRuleDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/Dispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/GraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessorCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/Rule.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lib/RuleRegExp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinCond.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AggregationDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CollectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CopyWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/Explain.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplosionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeColumnDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeFieldDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeNullDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExtractDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FetchWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FilterDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ForwardDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/GroupByDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinCondDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LateralViewJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LimitDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadFileDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredLocalWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PartitionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ReduceSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SchemaDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ScriptDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SelectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowFunctionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTableStatusDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTablesDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/UDTFDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/UnionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229510&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenIdentifier.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenSelector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/client/TUGIAssumingTransport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/security/token/delegation/HiveDelegationTokenSupport.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12534089">HCATALOG-179</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12524588">HIVE-2468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12539576">HIVE-2741</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506772" name="ASF.LICENSE.NOT.GRANTED--HIVE-2629.D711.1.patch" size="203584" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 18:52:42 +0000"/>
                            <attachment id="12508908" name="ASF.LICENSE.NOT.GRANTED--HIVE-2629.D711.2.patch" size="126861" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 01:43:31 +0000"/>
                            <attachment id="12509752" name="ASF.LICENSE.NOT.GRANTED--HIVE-2629.D711.3.patch" size="126919" author="phabricator@reviews.facebook.net" created="Sat, 7 Jan 2012 00:53:39 +0000"/>
                            <attachment id="12510162" name="HIVE-2629-InputSplitShim.patch" size="1544" author="thw" created="Wed, 11 Jan 2012 05:46:58 +0000"/>
                            <attachment id="12509754" name="HIVE-2629.3.patch" size="202817" author="thw" created="Sat, 7 Jan 2012 01:08:57 +0000"/>
                            <attachment id="12508959" name="HIVE-2629.patch" size="202783" author="thw" created="Fri, 30 Dec 2011 22:41:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Dec 2011 18:43:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jxrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2630] TestHiveServer doesn&apos;t produce a JUnit report file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2630</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Run `ant test -&lt;del&gt;Dtestcase=TestHiveServer &amp;amp;&amp;amp; ant testreport`, the test report will be empty because not &apos;TEST&lt;/del&gt;-*.xml&apos; file was produced by JUnit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534091">HIVE-2630</key>
            <summary>TestHiveServer doesn&apos;t produce a JUnit report file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 22:09:02 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:36 +0000</updated>
                            <resolved>Wed, 7 Dec 2011 01:37:56 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13163903" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 22:10:40 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Remove property overrides&lt;/p&gt;

&lt;p&gt;  Run `ant test &amp;lt;del&amp;gt;Dtestcase=TestHiveServer &amp;amp;&amp;amp; ant testreport`, the test report will be empty because not &apos;TEST&amp;lt;/del&amp;gt;*.xml&apos; file was produced by JUnit.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D621&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D621&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  service/build.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1377/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1377/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13163907" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 22:12:39 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D621&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D621&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13163921" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 22:26:39 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&quot;.&lt;/p&gt;

&lt;p&gt;  +1, will commit when tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D621&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D621&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13164043" author="jvs" created="Wed, 7 Dec 2011 01:37:56 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13164045" author="phabricator@reviews.facebook.net" created="Wed, 7 Dec 2011 01:40:40 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D621&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D621&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1211265&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1211265&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13164082" author="hudson" created="Wed, 7 Dec 2011 02:34:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #4 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/4/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Remove property overrides&lt;/p&gt;

&lt;p&gt;Run `ant test &amp;lt;del&amp;gt;Dtestcase=TestHiveServer &amp;amp;&amp;amp; ant testreport`, the test report&lt;br/&gt;
will be empty because not &apos;TEST&amp;lt;/del&amp;gt;*.xml&apos; file was produced by JUnit.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 621&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211265&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211265&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/service/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13164172" author="hudson" created="Wed, 7 Dec 2011 06:09:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1128 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1128/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2630&quot; title=&quot;TestHiveServer doesn&amp;#39;t produce a JUnit report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2630&quot;&gt;&lt;del&gt;HIVE-2630&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestHiveServer doesn&apos;t produce a JUnit report file&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Remove property overrides&lt;/p&gt;

&lt;p&gt;Run `ant test &amp;lt;del&amp;gt;Dtestcase=TestHiveServer &amp;amp;&amp;amp; ant testreport`, the test report&lt;br/&gt;
will be empty because not &apos;TEST&amp;lt;/del&amp;gt;*.xml&apos; file was produced by JUnit.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 621&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211265&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211265&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/service/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13164176" author="mareksapota_fb" created="Wed, 7 Dec 2011 06:16:31 +0000"  >&lt;p&gt;Forgot to do the license grant thing again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506316" name="ASF.LICENSE.NOT.GRANTED--HIVE-2630.D621.1.patch" size="568" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 22:10:40 +0000"/>
                            <attachment id="12506405" name="HIVE-2630.D621.1.patch" size="568" author="mareksapota_fb" created="Wed, 7 Dec 2011 06:16:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Dec 2011 22:10:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2631] Make Hive work with Hadoop 1.0.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2631</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With Hadoop 1.0.0 around the corner ( &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hadoop-general/201111.mbox/%3C9D6B6144-F4E0-4A31-883F-2AC504727A1F%40hortonworks.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hadoop-general/201111.mbox/%3C9D6B6144-F4E0-4A31-883F-2AC504727A1F%40hortonworks.com%3E&lt;/a&gt; ), it will be useful to make Hive work with it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534122">HIVE-2631</key>
            <summary>Make Hive work with Hadoop 1.0.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Dec 2011 01:14:05 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:28 +0000</updated>
                            <resolved>Fri, 16 Dec 2011 21:17:13 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.1</fixVersion>
                    <fixVersion>0.9.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13164032" author="ashutoshc" created="Wed, 7 Dec 2011 01:18:07 +0000"  >&lt;p&gt;Since its merely a name change for hadoop and not a code change, This is a superficial change required only because Hive explicitly checks for Hadoop version number.  &lt;/p&gt;</comment>
                            <comment id="13168639" author="ashutoshc" created="Tue, 13 Dec 2011 19:28:14 +0000"  >&lt;p&gt;Marking ready for review.&lt;/p&gt;</comment>
                            <comment id="13170554" author="ashutoshc" created="Thu, 15 Dec 2011 22:54:20 +0000"  >&lt;p&gt;All the unit tests passed. Since, its a straight forward patch will commit unless some one has an objection.&lt;/p&gt;</comment>
                            <comment id="13170572" author="cwsteinbach" created="Thu, 15 Dec 2011 23:25:08 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Since, its a straight forward patch will commit unless some one has an objection.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hive committers are not allowed to commit their own patches, right?&lt;/p&gt;</comment>
                            <comment id="13170577" author="jvs" created="Thu, 15 Dec 2011 23:28:45 +0000"  >&lt;p&gt;Correct, bylaws say &quot;one +1 from a committer who has not authored the patch followed by a Lazy approval (not counting the vote of the contributor), moving to lazy majority if a -1 is received&quot;.&lt;/p&gt;</comment>
                            <comment id="13170596" author="alangates" created="Thu, 15 Dec 2011 23:55:08 +0000"  >&lt;p&gt;FWIW, other communities with these same rules (Pig and Hadoop) interpret this to mean another committer must review a patch, but not that another committer must commit it.  Once a second committer has reviewed it the original contributor is free to commit it.&lt;/p&gt;</comment>
                            <comment id="13170650" author="jvs" created="Fri, 16 Dec 2011 01:05:12 +0000"  >&lt;p&gt;Right, I meant the +1 vote (not the mechanics of committing).&lt;/p&gt;</comment>
                            <comment id="13171081" author="ashutoshc" created="Fri, 16 Dec 2011 17:16:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Carl, did tests pass ?&lt;/p&gt;</comment>
                            <comment id="13171200" author="cwsteinbach" created="Fri, 16 Dec 2011 21:17:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13171279" author="hudson" created="Fri, 16 Dec 2011 22:35:38 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #32 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/32/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/32/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2631&quot; title=&quot;Make Hive work with Hadoop 1.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2631&quot;&gt;&lt;del&gt;HIVE-2631&lt;/del&gt;&lt;/a&gt;. Make Hive work with Hadoop 1.0.0 (Ashutosh Chauhan via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1215279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1215279&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/bin/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13171446" author="hudson" created="Sat, 17 Dec 2011 04:04:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1154 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1154/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1154/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2631&quot; title=&quot;Make Hive work with Hadoop 1.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2631&quot;&gt;&lt;del&gt;HIVE-2631&lt;/del&gt;&lt;/a&gt;. Make Hive work with Hadoop 1.0.0 (Ashutosh Chauhan via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1215279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1215279&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/bin/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13172550" author="cwsteinbach" created="Mon, 19 Dec 2011 19:50:22 +0000"  >&lt;p&gt;Backported to 0.8.1&lt;/p&gt;</comment>
                            <comment id="13265275" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:28 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506366" name="hive-2631.patch" size="1369" author="ashutoshc" created="Wed, 7 Dec 2011 01:18:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Dec 2011 23:25:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09z8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2632] ignore exception for external jars via reflection</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2632</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12534247">HIVE-2632</key>
            <summary>ignore exception for external jars via reflection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Dec 2011 21:09:42 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:13 +0000</updated>
                            <resolved>Fri, 9 Dec 2011 05:42:14 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13164701" author="phabricator@reviews.facebook.net" created="Wed, 7 Dec 2011 21:12:40 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ignore exception for external jars via reflection&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D639&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D639&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1431/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1431/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13165792" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 02:43:39 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ignore exception for external jars via reflection&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D639&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D639&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165794" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 02:45:40 +0000"  >&lt;p&gt;njain has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ignore exception for external jars via reflection&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D639&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D639&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1212231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1212231&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165845" author="hudson" created="Fri, 9 Dec 2011 04:51:03 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #10 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ignore exception for external jars via reflection&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 639&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212231&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165865" author="namit" created="Fri, 9 Dec 2011 05:42:15 +0000"  >&lt;p&gt;Committed by Yongqiang (via namit)&lt;/p&gt;</comment>
                            <comment id="13166118" author="hudson" created="Fri, 9 Dec 2011 12:01:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1134 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1134/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ignore exception for external jars via reflection&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2632&quot; title=&quot;ignore exception for external jars via reflection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2632&quot;&gt;&lt;del&gt;HIVE-2632&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 639&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212231&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265226" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:13 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506512" name="ASF.LICENSE.NOT.GRANTED--HIVE-2632.D639.1.patch" size="908" author="phabricator@reviews.facebook.net" created="Wed, 7 Dec 2011 21:12:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Dec 2011 21:12:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2633] Implement a Join_Array Functions within Hive. Join Elements of the Array with a delimiter and return a string. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2633</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When working with arrays, there are times where it would be very beneficial to take the results of an array generating functions such as collect_set and convert that to a delimited string for text processing. In Perlish Pseudo code, the function would work as follows:&lt;/p&gt;

&lt;p&gt;sub array_join($delimiter (string), @input_array(array)){&lt;br/&gt;
   my $outputvar = &apos;&apos;; &lt;br/&gt;
   foreach my $array_item(@input_array)&lt;/p&gt;
{
     $outputvar = $outputvar.$array_item.$delimeter;
   }
&lt;p&gt;   $outputvar =~ s/$delimeter$//;&lt;br/&gt;
   return $outputvar;&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;Basically, pass the function a string to delimit items, and the array, and return the results.  Perhaps there can be a limit of sum sort imposted on the return string to alleviate memory concerns, maybe that limit could be defaulted, and then overridden. &lt;/p&gt;</description>
                <environment>&lt;p&gt;New feature for Hive QL&lt;/p&gt;</environment>
        <key id="12534271">HIVE-2633</key>
            <summary>Implement a Join_Array Functions within Hive. Join Elements of the Array with a delimiter and return a string. </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mandoskippy">John Omernik</reporter>
                        <labels>
                            <label>SQL</label>
                    </labels>
                <created>Wed, 7 Dec 2011 23:21:36 +0000</created>
                <updated>Mon, 28 May 2012 18:10:46 +0000</updated>
                            <resolved>Sat, 26 May 2012 01:53:06 +0000</resolved>
                                    <version>0.7.1</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13283873" author="appodictic" created="Sat, 26 May 2012 01:52:26 +0000"  >&lt;p&gt;We have this. It is called concat_wc.&lt;/p&gt;</comment>
                            <comment id="13283876" author="appodictic" created="Sat, 26 May 2012 01:53:52 +0000"  >&lt;p&gt;concat_ws sorry.&lt;/p&gt;</comment>
                            <comment id="13284438" author="taynaud" created="Mon, 28 May 2012 15:34:53 +0000"  >&lt;p&gt;It is not exactly this, the array join would have a different signature.&lt;/p&gt;

&lt;p&gt;An array join function would accept an array and a string separator as input, not several parameters. I do not see a way of simulating this with concat_ws ?&lt;/p&gt;

&lt;p&gt;join(&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;&amp;#93;&lt;/span&gt;, &quot;,&quot;) -&amp;gt; &quot;a,b,c&quot;&lt;/p&gt;

&lt;p&gt;What you propose is concat_ws(&quot;,&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;) -&amp;gt; &quot;a,b,c&quot;&lt;/p&gt;


&lt;p&gt;Another interesting functionality would be to convert all the elements of the array to string.&lt;/p&gt;


</comment>
                            <comment id="13284502" author="appodictic" created="Mon, 28 May 2012 18:10:46 +0000"  >&lt;p&gt;concat_ws takes both strings and string arrays. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2203&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This works. join(&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;&amp;#93;&lt;/span&gt;, &quot;,&quot;) -&amp;gt; &quot;a,b,c&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 May 2012 01:52:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>HiveQL</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2634] revert HIVE-2566</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2634</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is leading to some problems.&lt;/p&gt;

&lt;p&gt;I will upload the offending testcase in a new jira.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534284">HIVE-2634</key>
            <summary>revert HIVE-2566</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 01:55:23 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:30 +0000</updated>
                            <resolved>Thu, 8 Dec 2011 23:25:35 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13164934" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 02:12:40 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  This is leading to some problems.&lt;/p&gt;

&lt;p&gt;  I will upload the offending testcase in a new jira.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D651&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lineage1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join35.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union18.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1455/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1455/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13165015" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 06:01:40 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D651&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lineage1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join35.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union18.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union25.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/p&gt;</comment>
                            <comment id="13165668" author="he yongqiang" created="Thu, 8 Dec 2011 23:25:35 +0000"  >&lt;p&gt;committed, thanks namit!&lt;/p&gt;</comment>
                            <comment id="13165669" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 23:25:40 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D651&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165681" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 23:35:39 +0000"  >&lt;p&gt;njain has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D651&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1212182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1212182&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165796" author="hudson" created="Fri, 9 Dec 2011 02:56:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #9 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/9/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/9/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is leading to some problems.   &lt;/p&gt;

&lt;p&gt;I will upload the offending testcase in a new jira.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 651&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union25.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165884" author="hudson" created="Fri, 9 Dec 2011 06:44:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1133 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is leading to some problems.   &lt;/p&gt;

&lt;p&gt;I will upload the offending testcase in a new jira.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 651&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union25.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12530905">HIVE-2566</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506556" name="ASF.LICENSE.NOT.GRANTED--HIVE-2634.D651.1.patch" size="349194" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 02:12:40 +0000"/>
                            <attachment id="12506574" name="ASF.LICENSE.NOT.GRANTED--HIVE-2634.D651.2.patch" size="363898" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 06:01:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Dec 2011 02:12:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2635] wrong class loader used for external jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2635</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12534311">HIVE-2635</key>
            <summary>wrong class loader used for external jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 07:04:39 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:39 +0000</updated>
                            <resolved>Wed, 1 Feb 2012 18:08:09 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13165866" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 05:45:39 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; wrong class loader used for external jars&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D687&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1509/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1509/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13165878" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 06:13:39 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; wrong class loader used for external jars&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D687&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166429" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 18:46:40 +0000"  >&lt;p&gt;njain has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; wrong class loader used for external jars&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D687&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1212567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1212567&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166471" author="hudson" created="Fri, 9 Dec 2011 19:24:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #12 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; wrong class loader used for external jars&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 687&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212567&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13166879" author="hudson" created="Sat, 10 Dec 2011 15:05:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; wrong class loader used for external jars&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2635&quot; title=&quot;wrong class loader used for external jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2635&quot;&gt;&lt;del&gt;HIVE-2635&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 687&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212567&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265310" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:39 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506706" name="ASF.LICENSE.NOT.GRANTED--HIVE-2635.D687.1.patch" size="8741" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 05:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Dec 2011 05:45:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2636] Allow SerDe&apos;s to report warnings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2636</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be great to have a mechanism whereby Hive SerDe&apos;s can report warnings e.g., anomalies encountered in the data it is parsing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534354">HIVE-2636</key>
            <summary>Allow SerDe&apos;s to report warnings</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 16:07:54 +0000</created>
                <updated>Thu, 8 Dec 2011 16:08:15 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2637] Allow SerDe&apos;s to get configured by data from InputFormat</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2637</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be great to have a mechanism for a SerDe to receive configuration data based on header file information that an InputFormat encountered. E.g.,&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Reading a version number from a file header&lt;/li&gt;
	&lt;li&gt;Reading a list of columns and order from a file header&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I tried setting properties in the input format and the ser de didn&apos;t see the changes to properties.&lt;/p&gt;

&lt;p&gt;Currently it appears that the only work-around is to use global variables to let an input format pass values to a ser de (e.g., static fields). Is there a way I missed?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534356">HIVE-2637</key>
            <summary>Allow SerDe&apos;s to get configured by data from InputFormat</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 16:12:36 +0000</created>
                <updated>Thu, 8 Dec 2011 16:13:10 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2638] Tests fail when Hive is run against Hadoop 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2638</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12534398">HIVE-2638</key>
            <summary>Tests fail when Hive is run against Hadoop 0.23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 20:49:34 +0000</created>
                <updated>Sat, 22 Nov 2014 23:24:42 +0000</updated>
                            <resolved>Sat, 22 Nov 2014 23:24:42 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13165550" author="cwsteinbach" created="Thu, 8 Dec 2011 20:51:57 +0000"  >&lt;p&gt;The 0.23 Jenkins job: &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Failing tests:&lt;br/&gt;
TestCliDriver.auto_join0&lt;br/&gt;
TestNegativeCliDriver&lt;br/&gt;
TestHiveServer&lt;br/&gt;
TestContribCliDriver&lt;br/&gt;
TestHBaseCliDriver&lt;br/&gt;
TestHWISessionManager&lt;br/&gt;
TestJDBCDriver&lt;br/&gt;
TestExecDriver&lt;/p&gt;</comment>
                            <comment id="13208249" author="amareshwari" created="Wed, 15 Feb 2012 06:13:11 +0000"  >&lt;p&gt;Failures with HADOOP 0.23.0 are because of &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3697&quot; title=&quot;Hadoop Counters API limits Oozie&amp;#39;s working across different hadoop versions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3697&quot;&gt;&lt;del&gt;MAPREDUCE-3697&lt;/del&gt;&lt;/a&gt;. With HADOOP 0.23.1, tests are failing because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8054&quot; title=&quot;NPE with FilterFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8054&quot;&gt;&lt;del&gt;HADOOP-8054&lt;/del&gt;&lt;/a&gt;. Once the fix is available, we can change the jenkins run tests against latest 0.23.x release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12524588">HIVE-2468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Feb 2012 06:13:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2639] Allow Configuring Input Formats for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2639</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If you want to use a parameterizable input format in Hive, you currently have to either use set to pass a configuration to everything (on each appropriate query). It would be nice to have a kind of property in hive that&apos;s associated with the input format. &lt;/p&gt;

&lt;p&gt;The best option for this today seems to be the storage handler mechanism, but that seems a bit heavyweight for this purpose (requiring you to also specify an output format and a serde).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534443">HIVE-2639</key>
            <summary>Allow Configuring Input Formats for Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2011 09:25:35 +0000</created>
                <updated>Sun, 27 May 2012 00:29:33 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13166049" author="rbodkin" created="Fri, 9 Dec 2011 10:36:26 +0000"  >&lt;p&gt;I tried to use a storage handler to allow passing configuration data down, but the limitations are too severe (e.g., you can&apos;t have a partitioned table with a custom storage handler).&lt;/p&gt;

&lt;p&gt;Here&apos;s a way I&apos;d like to see Hive&apos;s default storage handler implement this:&lt;/p&gt;

&lt;p&gt;public class DefaultStorageHandler {&lt;/p&gt;

&lt;p&gt;    public static final String INPUTFORMAT = &quot;inputformat.&quot;;&lt;/p&gt;

&lt;p&gt;    @Override&lt;br/&gt;
    public void configureTableJobProperties(TableDesc tableDesc, Map&amp;lt;String, String&amp;gt; jobProperties) {&lt;br/&gt;
        for (Map.Entry entry : tableDesc.getProperties().entrySet()) {&lt;br/&gt;
            String key = entry.getKey().toString();&lt;br/&gt;
            if (key.startsWith(INPUTFORMAT)) &lt;/p&gt;
{
                jobProperties.put(key.substring(INPUTFORMAT.length()), entry.getValue().toString());
            }
&lt;p&gt;        }      &lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="13283878" author="appodictic" created="Sat, 26 May 2012 01:56:01 +0000"  >&lt;p&gt;This makes sense we should do this have some system to turn table properties to job conf properties.&lt;/p&gt;</comment>
                            <comment id="13284094" author="navis" created="Sun, 27 May 2012 00:29:33 +0000"  >&lt;p&gt;Same intent, different methodology.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12548070">HIVE-2906</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 May 2012 01:56:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2640] Add alterPartition to AlterHandler interface</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2640</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Adding alterPartition to the AlterHandler interface would allow for customized functionality to be executed as part of altering a partition, much like it is already allowed for alterTable.&lt;/p&gt;

&lt;p&gt;Based on the name of the interface, and a comment in the AlterHandler code, it looks like alterPartition was meant to be included along with alterTable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534516">HIVE-2640</key>
            <summary>Add alterPartition to AlterHandler interface</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2011 17:52:53 +0000</created>
                <updated>Fri, 9 Nov 2012 23:33:11 +0000</updated>
                            <resolved>Wed, 14 Dec 2011 18:00:20 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13166369" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 17:58:39 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add alterPartition to AlterHandler interface&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Added alterPartition to the AlterHandler interface.  Moved the implementation of the alter_partition_core method in HMSHandler into HiveAlterHandler&apos;s implementation of the method.&lt;/p&gt;

&lt;p&gt;  Adding alterPartition to the AlterHandler interface would allow for customized functionality to be executed as part of altering a partition, much like it is already allowed for alterTable.&lt;/p&gt;

&lt;p&gt;  Based on the name of the interface, and a comment in the AlterHandler code, it looks like alterPartition was meant to be included along with alterTable.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1539/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1539/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13166570" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 21:20:39 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add alterPartition to AlterHandler interface&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D699&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166576" author="namit" created="Fri, 9 Dec 2011 21:23:18 +0000"  >&lt;p&gt;Can you refresh ? Applying the patch fails&lt;/p&gt;</comment>
                            <comment id="13167788" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:45:31 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add alterPartition to AlterHandler interface&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Updated to address report of merge conflicts.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/p&gt;</comment>
                            <comment id="13168990" author="namit" created="Wed, 14 Dec 2011 02:02:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13169536" author="namit" created="Wed, 14 Dec 2011 18:00:20 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13169592" author="hudson" created="Wed, 14 Dec 2011 19:17:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #23 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/23/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/23/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; Add alterPartition to AlterHandler interface&lt;br/&gt;
(Kevin Wilfong via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214380&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13169923" author="hudson" created="Thu, 15 Dec 2011 02:13:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1146 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1146/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1146/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; Add alterPartition to AlterHandler interface&lt;br/&gt;
(Kevin Wilfong via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214380&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265222" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:12 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13494424" author="phabricator@reviews.facebook.net" created="Fri, 9 Nov 2012 23:33:11 +0000"  >&lt;p&gt;kevinwilfong has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2640&quot; title=&quot;Add alterPartition to AlterHandler interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2640&quot;&gt;&lt;del&gt;HIVE-2640&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add alterPartition to AlterHandler interface&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;br/&gt;
Cc: heyongqiang, njain&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506761" name="ASF.LICENSE.NOT.GRANTED--HIVE-2640.D699.1.patch" size="17835" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 17:58:40 +0000"/>
                            <attachment id="12507056" name="ASF.LICENSE.NOT.GRANTED--HIVE-2640.D699.2.patch" size="17835" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:45:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Dec 2011 17:58:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0iy6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>108632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2641] SkewJoin should report progress while writing skew keys to HDFS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2641</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;RowContainer.copyToDFSDirectory is used to write the skew keys to HDFS. But this can take a long time, and while it is happening, the MR framework does not see progress from the reducer. The code should do the copy in smaller unit and report progress to the MR framework&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534537">HIVE-2641</key>
            <summary>SkewJoin should report progress while writing skew keys to HDFS</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2011 20:08:21 +0000</created>
                <updated>Wed, 5 Dec 2012 07:18:37 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2642] fix Hive-2566 and make union optimization more aggressive </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2642</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive-2566 did some optimizations to union, but cause some problems. And then got reverted. This is to get it back and fix the problems we saw, and also make union optimization more aggressive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534543">HIVE-2642</key>
            <summary>fix Hive-2566 and make union optimization more aggressive </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2011 20:35:33 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:40 +0000</updated>
                            <resolved>Wed, 21 Dec 2011 17:17:48 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13166661" author="he yongqiang" created="Fri, 9 Dec 2011 23:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D735&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166663" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 23:28:39 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; fix Hive-2566 and make union optimization more aggressive&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  fix Hive-2566 and make union optimization more aggressive&lt;/p&gt;

&lt;p&gt;  Hive-2566 did some optimizations to union, but cause some problems. And then got reverted. This is to get it back and fix the problems we saw, and also make union optimization more aggressive.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D735&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lineage1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join35.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union18.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union22.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union25.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union26.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRTableScan1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1581/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1581/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13172020" author="phabricator@reviews.facebook.net" created="Mon, 19 Dec 2011 03:46:30 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; fix Hive-2566 and make union optimization more aggressive&quot;.&lt;/p&gt;

&lt;p&gt;  still reviewing&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java:105 can you add some comments here ?&lt;/p&gt;

&lt;p&gt;  This is not really the top operators - this contains the list of intermediate tables also. This code is difficult to debug later on, so more comments would be helpful&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D735&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13172854" author="namit" created="Tue, 20 Dec 2011 02:10:16 +0000"  >&lt;p&gt;Look at union22.q.out.&lt;/p&gt;

&lt;p&gt;map-join followed by union, an extra stage is introduced.&lt;br/&gt;
We dont hsve to optimize this - just wanted to make sure it is intentional.&lt;/p&gt;</comment>
                            <comment id="13174211" author="namit" created="Wed, 21 Dec 2011 16:59:41 +0000"  >&lt;p&gt;1 general comment about the new test union26.q &amp;#8211;&lt;/p&gt;

&lt;p&gt;Reduce the test output, I mean, you dont need to load all 500 rows for this test.&lt;br/&gt;
It makes the test output really difficult to review.&lt;/p&gt;

&lt;p&gt;Again, all the above 3 are not blockers - I am still reviewing, I will file a enhancement for all the follow-ups.&lt;/p&gt;</comment>
                            <comment id="13174227" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 17:13:30 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; fix Hive-2566 and make union optimization more aggressive&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java:245 remove this comment&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D735&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13174232" author="namit" created="Wed, 21 Dec 2011 17:17:48 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13174329" author="hudson" created="Wed, 21 Dec 2011 19:17:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #42 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/42/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/42/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; fix Hive-2566 and make union optimization more aggressive&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1221812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1221812&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRTableScan1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union26.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13174519" author="hudson" created="Thu, 22 Dec 2011 00:19:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1164 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1164/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1164/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; fix Hive-2566 and make union optimization more aggressive&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1221812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1221812&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRTableScan1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union26.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265316" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:40 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506809" name="ASF.LICENSE.NOT.GRANTED--HIVE-2642.D735.1.patch" size="596502" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 23:28:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Dec 2011 23:28:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lky7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2643] Recent patch prevents Hadoop confs from loading in 0.20.204</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2643</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After the application of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700
        at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)
        at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)
        at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)
        at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)
        at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)
        at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.  &lt;/p&gt;

&lt;p&gt;Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534587">HIVE-2643</key>
            <summary>Recent patch prevents Hadoop confs from loading in 0.20.204</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Dec 2011 04:56:21 +0000</created>
                <updated>Mon, 26 Nov 2012 21:32:41 +0000</updated>
                            <resolved>Tue, 13 Dec 2011 00:25:07 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13166848" author="phabricator@reviews.facebook.net" created="Sat, 10 Dec 2011 12:31:39 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  After the application of &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &apos;set&apos; or &apos;set -v&apos;&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):  &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.&lt;/p&gt;

&lt;p&gt;  Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D747&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D747&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;br/&gt;
  common/src/test/resources/core-site.xml&lt;br/&gt;
  common/src/test/resources/hive-site.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1593/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1593/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13166849" author="cwsteinbach" created="Sat, 10 Dec 2011 12:35:18 +0000"  >&lt;p&gt;Running tests now.&lt;/p&gt;</comment>
                            <comment id="13167407" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:30:32 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  lint check&lt;/p&gt;

&lt;p&gt;  After the application of &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &apos;set&apos; or &apos;set -v&apos;&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):  &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.&lt;/p&gt;

&lt;p&gt;  Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D753&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D753&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1599/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1599/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167410" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:34:30 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  After the application of &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &apos;set&apos; or &apos;set -v&apos;&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):  &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.&lt;/p&gt;

&lt;p&gt;  Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D759&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;br/&gt;
  common/src/test/resources/core-site.xml&lt;br/&gt;
  common/src/test/resources/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1605/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1605/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167411" author="cwsteinbach" created="Mon, 12 Dec 2011 08:35:46 +0000"  >&lt;p&gt;Changing the title of this ticket since referencing another JIRA seems to confuse arc.&lt;/p&gt;</comment>
                            <comment id="13167413" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:38:30 +0000"  >&lt;p&gt;cwsteinbach updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D759&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;br/&gt;
  common/src/test/resources/core-site.xml&lt;br/&gt;
  common/src/test/resources/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java&lt;/p&gt;</comment>
                            <comment id="13167415" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:40:30 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Recent patch prevents Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  After the application of &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &apos;set&apos; or &apos;set -v&apos;&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):  &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.&lt;/p&gt;

&lt;p&gt;  Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D765&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D765&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;br/&gt;
  common/src/test/resources/core-site.xml&lt;br/&gt;
  common/src/test/resources/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1617/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1617/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167701" author="jvs" created="Mon, 12 Dec 2011 19:33:50 +0000"  >&lt;p&gt;Marek and I will take a look into the arc confusion with the JIRA reference.&lt;/p&gt;</comment>
                            <comment id="13167717" author="cwsteinbach" created="Mon, 12 Dec 2011 19:50:13 +0000"  >&lt;p&gt;Investigating some test failures.&lt;/p&gt;</comment>
                            <comment id="13167747" author="jghoman" created="Mon, 12 Dec 2011 20:06:33 +0000"  >&lt;p&gt;I&apos;ve applied &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;.1.patch.txt (the only ASF-licensed patch; are the others artifacts of the issue name confusion?) to the RC3 tag in svn, built a new package and run against our 204 cluster and everything is working now.  Didn&apos;t do a code review, but +1 on the result.&lt;/p&gt;</comment>
                            <comment id="13167806" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:07:30 +0000"  >&lt;p&gt;mareksapotafb has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D753&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D753&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167807" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:07:31 +0000"  >&lt;p&gt;mareksapotafb has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D747&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D747&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167811" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:09:30 +0000"  >&lt;p&gt;mareksapotafb has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D759&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167812" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:11:30 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Recent patch prevents Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  cp&lt;/p&gt;

&lt;p&gt;  After the application of &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &apos;set&apos; or &apos;set -v&apos;&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt;, we&apos;re unable to run queries against the Hive cluster (RC2 and 3):  &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&lt;br/&gt;
 &amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It&apos;s also not possible to access the hdfs since no default fs is specified.&lt;/p&gt;

&lt;p&gt;  Reverting 2362 fixes this, but I&apos;ve not yet looked at that patch to see the exact cause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D789&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D789&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1671/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1671/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167813" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:13:30 +0000"  >&lt;p&gt;cwsteinbach updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Recent patch prevents Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed some test diffs.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D765&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D765&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;br/&gt;
  common/src/test/resources/core-site.xml&lt;br/&gt;
  common/src/test/resources/hive-site.xml&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  conf/hive-default.xml&lt;br/&gt;
  conf/hive-site.xml&lt;/p&gt;</comment>
                            <comment id="13167819" author="cwsteinbach" created="Mon, 12 Dec 2011 21:24:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;.D759.2.patch is the latest version of the patch. It is ready for review here: &lt;a href=&quot;https://reviews.facebook.net/D765&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D765&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m running full tests now.&lt;/p&gt;</comment>
                            <comment id="13167820" author="cwsteinbach" created="Mon, 12 Dec 2011 21:25:27 +0000"  >&lt;p&gt;@Jakob: Can you please try testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;.D759.2.patch? This version has some changes that were not included in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;.1.patch.txt. Thanks!&lt;/p&gt;</comment>
                            <comment id="13167873" author="jghoman" created="Mon, 12 Dec 2011 22:23:38 +0000"  >&lt;p&gt;Applied against RC3 and tested again.  Everything works.  Also reviewed the patch. +1, with the minor nit that having the test conf return &quot;core-site.xml&quot; for the default filesystem makes the test a bit wonky to read (&quot;... wait, that&apos;s not right. oh, ok&quot;), but that&apos;s not worth spinning another patch for if nothing else is blocking this version.&lt;/p&gt;</comment>
                            <comment id="13167968" author="jvs" created="Tue, 13 Dec 2011 00:12:02 +0000"  >&lt;p&gt;+1, passed tests, committing to trunk.&lt;/p&gt;</comment>
                            <comment id="13167973" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:13:31 +0000"  >&lt;p&gt;jsichi has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; preventing Hadoop confs from loading in 0.20.204&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D759&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167983" author="jvs" created="Tue, 13 Dec 2011 00:25:07 +0000"  >&lt;p&gt;Committed to trunk and 0.8-r2.  Thanks Carl!&lt;/p&gt;</comment>
                            <comment id="13168107" author="hudson" created="Tue, 13 Dec 2011 03:39:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #19 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;. Recent patch prevents Hadoop confs from loading in 0.20.204&lt;br/&gt;
(Carl Steinbach via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213514&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213514&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/resources/core-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/resources/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168188" author="hudson" created="Tue, 13 Dec 2011 07:21:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;. Recent patch prevents Hadoop confs from loading in 0.20.204&lt;br/&gt;
(Carl Steinbach via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213514&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213514&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/resources/core-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/resources/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12617695">OOZIE-1087</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12518279">HIVE-2362</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506848" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D747.1.patch" size="5827" author="phabricator@reviews.facebook.net" created="Sat, 10 Dec 2011 12:31:41 +0000"/>
                            <attachment id="12506978" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D753.1.patch" size="601" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:30:32 +0000"/>
                            <attachment id="12506980" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.1.patch" size="20234" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:34:31 +0000"/>
                            <attachment id="12506982" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.2.patch" size="20234" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:38:31 +0000"/>
                            <attachment id="12506983" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.1.patch" size="20234" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 08:40:30 +0000"/>
                            <attachment id="12507060" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.2.patch" size="20910" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:13:31 +0000"/>
                            <attachment id="12507059" name="ASF.LICENSE.NOT.GRANTED--HIVE-2643.D789.1.patch" size="1880" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:11:31 +0000"/>
                            <attachment id="12506847" name="HIVE-2643.1.patch.txt" size="6171" author="cwsteinbach" created="Sat, 10 Dec 2011 12:25:13 +0000"/>
                            <attachment id="12507062" name="HIVE-2643.D759.2.patch" size="116415" author="cwsteinbach" created="Mon, 12 Dec 2011 21:22:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 10 Dec 2011 12:31:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2644] Produce better error message when warehouse is not writable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2644</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This error is caused my not having a /user/hive/warehouse in local mode and because it is not writeable. We can possibly check this a precondition and produce a nicer error.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[edward@tablitha hive-0.8.0-bin]$ bin/hive
Logging initialized using configuration in jar:file:/home/edward/hive-0.8.0-bin/lib/hive-common-0.8.0.jar!/hive-log4j.properties
Hive history file=/tmp/edward/hive_job_log_edward_201112101317_904348940.txt
hive&amp;gt; create table abc (a int, b int);
FAILED: Error in metadata: MetaException(message:Got exception: java.io.FileNotFoundException File file:/user/hive/warehouse/abc does not exist.)
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
hive&amp;gt; dfs -ls /user/hive/warehouse
    &amp;gt; ;
hive&amp;gt; create table abcd (a int, b int);
FAILED: Error in metadata: MetaException(message:Got exception: java.io.FileNotFoundException File file:/user/hive/warehouse/abcd does not exist.)
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
hive&amp;gt; exit;
[edward@tablitha hive-0.8.0-bin]$ bin/hive^C
[edward@tablitha hive-0.8.0-bin]$ su -
Password: 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12534608">HIVE-2644</key>
            <summary>Produce better error message when warehouse is not writable</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Dec 2011 17:15:27 +0000</created>
                <updated>Sat, 10 Dec 2011 17:15:52 +0000</updated>
                                            <version>0.8.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2645] Hive Web Server startup messages logs incorrect path it is searching for WAR</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2645</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive loads the war file from one place but prints another.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534611">HIVE-2645</key>
            <summary>Hive Web Server startup messages logs incorrect path it is searching for WAR</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Dec 2011 18:25:42 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:17 +0000</updated>
                            <resolved>Mon, 30 Jan 2012 04:15:28 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13195853" author="ashutoshc" created="Sun, 29 Jan 2012 21:59:30 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13195928" author="ashutoshc" created="Mon, 30 Jan 2012 04:15:28 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Edward!&lt;/p&gt;</comment>
                            <comment id="13265239" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:17 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506854" name="HIVE-2645.patch.txt" size="602" author="appodictic" created="Sat, 10 Dec 2011 18:26:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Jan 2012 21:59:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2646] Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2646</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current Hive Ivy dependency logic for its Hadoop dependencies is problematic - depending on the tarball and extracting the jars from there, rather than depending on the jars directly. It&apos;d be great if this was fixed to actually have the jar dependencies defined directly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534814">HIVE-2646</key>
            <summary>Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abayer">Andrew Bayer</assignee>
                                    <reporter username="abayer">Andrew Bayer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 18:02:05 +0000</created>
                <updated>Tue, 12 May 2015 02:59:50 +0000</updated>
                            <resolved>Tue, 8 May 2012 21:20:11 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.1</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>15</watches>
                                                                <comments>
                            <comment id="13182729" author="abayer" created="Mon, 9 Jan 2012 19:23:11 +0000"  >&lt;p&gt;Seeing more problems as a result of the non-standard tarball dependency when trying to build against Hadoop with the 0.23.1 layout. Until this is fixed and Hive properly uses Ivy to depend on jars directly, issues will keep popping up, which will keep requiring hacks to the Hive build classpaths, the Hadoop tarball, or both, none of which would occur if Hive behaved correctly.&lt;/p&gt;</comment>
                            <comment id="13222776" author="abayer" created="Mon, 5 Mar 2012 23:30:13 +0000"  >&lt;p&gt;This should apply cleanly to trunk, and I think it also encompasses the fixes for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2745&quot; title=&quot;Remove Hive&amp;#39;s runtime dependency on bin/hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2745&quot;&gt;HIVE-2745&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13223318" author="appodictic" created="Tue, 6 Mar 2012 15:17:15 +0000"  >&lt;p&gt;Hive-2745 is really baked in. It is more then just built changes in the hive code we build a bin/hadoop jar command and fork (this is really lame). The non-standard tarball dependency is mostly caused by the fact that upstream changes effect Hive. Hive does heavy work to maintain backwards compatibility all the way to hadoop 0.20.2. Pig takes the other approach but you almost always need to compile pig for your version of hadoop. You are right to say that as long as upstream keeps changing we have to keep hacking. I will look at the patch I am not sure what is the best way to handle supporting versions of hadoop that are not even released yet.    &lt;/p&gt;</comment>
                            <comment id="13223424" author="abayer" created="Tue, 6 Mar 2012 17:04:19 +0000"  >&lt;p&gt;fwiw, Carl actually implemented a reworking of the test execution to work around the bin/hadoop from the tarball issue, and that&apos;s part of this patch.&lt;/p&gt;

&lt;p&gt;This doesn&apos;t change anything about building shims - rather, it changes how the classpath for building the shims is assembled. Instead of blowing up a tarball to get the jars for the various Hadoop versions, it just gets the jars.&lt;/p&gt;</comment>
                            <comment id="13223743" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 22:31:55 +0000"  >&lt;p&gt;abayer requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2745&quot; title=&quot;Remove Hive&amp;#39;s runtime dependency on bin/hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2745&quot;&gt;HIVE-2745&lt;/a&gt;. Rework Hive dependency management to depend on jars directly, rather than via tarballs.&lt;/p&gt;

&lt;p&gt;  The current Hive Ivy dependency logic for its Hadoop dependencies is problematic - depending on the tarball and extracting the jars from there, rather than depending on the jars directly. It&apos;d be great if this was fixed to actually have the jar dependencies defined directly.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4647/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13223747" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 22:39:56 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Was missing testutils/hadoop.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13223769" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 23:05:56 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  It can&apos;t be good to repeat the hadoop ivy dependencies for every module, when before that was all in one location (the shims module). The shims module should continue to deal with the hadoop dependency magic and everything else depend on shims.&lt;/p&gt;

&lt;p&gt;  Within shims, it would be nice to not see if-then-else for shim versions, but instead parameterized includes so that each shim version has a separate file for its hadoop dependencies (one ivy file for 0.20, one for 0.20S and one for 0.23).&lt;/p&gt;



&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13223784" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 23:15:56 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Re: the dependency on Hadoop being repeated - I don&apos;t remember what was happening, but when I made the shims dependency not have transitive=&quot;false&quot;, things went bad, thereby requiring the hadoop dependency get specified everywhere. I&apos;ll play with that.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13223791" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 23:21:56 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  The tarball mechanics would extract the tarball into a version specific subdirectory of build/hadoopcore. The ivy equivalent could ivy-retrieve the hadoop artifacts into a similar folder structure and then reference it from elsewhere as it was.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13224671" author="phabricator@reviews.facebook.net" created="Wed, 7 Mar 2012 20:20:55 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Bumped Hadoop 0.20 and 0.23 versions to ones with properly published&lt;br/&gt;
  jars. Reworked shims dependency logic to not require if/else. Switched&lt;br/&gt;
  to transient dependencies being used to pick up hadoop dependencies&lt;br/&gt;
  downstream of hive-common.&lt;/p&gt;

&lt;p&gt;  Note that &quot;ant very-clean&quot; needs to be run when switching from&lt;br/&gt;
  building against 0.20, 1.0, or 0.23 to another on the same machine.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13225502" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 21:01:55 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:68 Please move this to build.properties&lt;br/&gt;
  build-common.xml:86 Is this specific to 0.23? If so please add a comment.&lt;br/&gt;
  build-common.xml:148 Since Hadoop 1.0.0 is now a reality, I think it would be good to always prefix any occurrences of version numbers with the major number, e.g. &quot;0.20&quot; instead of &quot;20&quot;&lt;br/&gt;
  build-common.xml:154 We should be consistent about the naming scheme in relation to versions, e.g. &quot;ivy-retrieve-hadoop-0.20&quot;, &quot;ivy-resolve-hadoop-0.20&quot;, &quot;hadoop-0.20-shim&quot;, etc.&lt;br/&gt;
  build.properties:20 Please add some comments explaining what this property does.&lt;br/&gt;
  testutils/hadoop:48 We should probably just insist that $HIVE_TEST_CLASSPATH is set and error out if it isn&apos;t.&lt;br/&gt;
  build.xml:700 This target is broken.&lt;br/&gt;
  build.xml:740 This target is broken.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225579" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:01:56 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build.xml:542 This patch breaks the eclipse classpath template. Can you please investigate the feasibility of intregrating IvyDE into the build? &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2739&quot; title=&quot;Manage Eclipse integration with IvyDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2739&quot;&gt;HIVE-2739&lt;/a&gt; covers that task, but it would be great to get this all done in one patch. Note that ZK recently added support for IvyDE in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1178&quot; title=&quot;Add eclipse target for supporting Apache IvyDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1178&quot;&gt;ZOOKEEPER-1178&lt;/a&gt;, so you may be able to look at that patch for hints.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225581" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:03:55 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/ivy.xml:34 Can we make separate ivy files for 0.20 and 0.23 and include dynamically? This would eliminate the need for the hadoopXXX configuration names.&lt;/p&gt;


&lt;p&gt;  build-common.xml:154 Please make a single ivy-retrieve-hadoop target or macro and parameterize the shim name.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225629" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:47:54 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/ivy.xml:34 Aren&apos;t configurations the designated mechanism for handling situations like this in Ivy? I don&apos;t see how breaking this into multiple files will improve the situation. Won&apos;t that mean that we&apos;ll have to update multiple files every time a new dependency is added instead of just one?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225635" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:53:54 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  I&apos;ll rework the ivy-&lt;/p&gt;
{retrieve,resolve}
&lt;p&gt;-hadoopX targets get generalized - that should be easy. And I agree - the configuration switch is the right way to handle this.&lt;/p&gt;

&lt;p&gt;  I&apos;ll take a look at IvyDE.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225646" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 23:03:56 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/ivy.xml:34 My comment refers only to the hadoop dependencies below. You will never have hadoop23 and hadoop20 configuration at the same time. Below is what we did in Pig, but it gets really cluttered because now you have the stuff for 0.20 and 0.23, which is mutually exclusive, in one file.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13225665" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 23:19:57 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/ivy.xml:34 Seems like we can get the same benefits by ordering the dependencies listed in each ivy.xml file based on configuration.&lt;/p&gt;

&lt;p&gt;  @Andrew: Can you look into doing this? Thanks.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13226650" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 00:48:54 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/ivy.xml:34 Sure thing.&lt;/p&gt;

&lt;p&gt;  build-common.xml:86 It is - will do so.&lt;/p&gt;

&lt;p&gt;  EDIT: actually, no, it isn&apos;t. It was originally but is general now. Will remove the misleading comment.&lt;br/&gt;
  build-common.xml:154 ivy-&lt;/p&gt;
{resolve,retrieve}&lt;del&gt;hadoop20 is an obsolete bit of cruft - removing it. I&apos;ve also replaced the ivy&lt;/del&gt;{resolve,retrieve}
&lt;p&gt;-hadoop0.&lt;/p&gt;
{20,20S,23}
&lt;p&gt;&lt;del&gt;shim targets with ivy&lt;/del&gt;&lt;/p&gt;
{resolve,retrieve}
&lt;p&gt;-hadoop-shim, which is called with a parameter that specifies the shim conf to get.&lt;br/&gt;
  build.xml:700 Working for me?&lt;/p&gt;

&lt;p&gt;  build.xml:740 Again - works for me, with &quot;ant clean binary&quot;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13226652" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 00:50:56 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Redid the shim ivy targets, clarified a few things.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13226673" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:12:55 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  arc patch --revision 2133&lt;/p&gt;

&lt;p&gt;  gives me two rejects (applying to trunk head)?&lt;/p&gt;


&lt;p&gt;  patching file build-common.xml&lt;br/&gt;
  patching file build.properties&lt;br/&gt;
  patching file build.xml&lt;br/&gt;
  Hunk #1 FAILED at 684.&lt;br/&gt;
  1 out of 1 hunk FAILED &amp;#8211; saving rejects to file build.xml.rej&lt;br/&gt;
  patching file builtins/build.xml&lt;br/&gt;
  patching file builtins/ivy.xml&lt;br/&gt;
  patching file cli/ivy.xml&lt;br/&gt;
  patching file common/ivy.xml&lt;br/&gt;
  patching file contrib/build.xml&lt;br/&gt;
  patching file contrib/ivy.xml&lt;br/&gt;
  patching file hbase-handler/build.xml&lt;br/&gt;
  patching file hbase-handler/ivy.xml&lt;br/&gt;
  patching file hwi/build.xml&lt;br/&gt;
  patching file hwi/ivy.xml&lt;br/&gt;
  patching file ivy/common-configurations.xml&lt;br/&gt;
  Hunk #1 FAILED at 18.&lt;br/&gt;
  1 out of 1 hunk FAILED &amp;#8211; saving rejects to file ivy/common-configurations.xml.rej&lt;br/&gt;
  patching file ivy/ivysettings.xml&lt;br/&gt;
  patching file ivy/libraries.properties&lt;br/&gt;
  patching file jdbc/build.xml&lt;br/&gt;
  patching file jdbc/ivy.xml&lt;br/&gt;
  patching file metastore/ivy.xml&lt;br/&gt;
  patching file pdk/ivy.xml&lt;br/&gt;
  patching file pdk/scripts/build-plugin.xml&lt;br/&gt;
  patching file ql/build.xml&lt;br/&gt;
  patching file ql/ivy.xml&lt;br/&gt;
  patching file serde/ivy.xml&lt;br/&gt;
  patching file service/build.xml&lt;br/&gt;
  patching file service/ivy.xml&lt;br/&gt;
  patching file shims/build.xml&lt;br/&gt;
  patching file shims/ivy.xml&lt;br/&gt;
  patching file testutils/hadoop&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226674" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:12:57 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  also tried&lt;/p&gt;

&lt;p&gt;  arc export --unified --revision 2133&lt;/p&gt;

&lt;p&gt;  and then patch command, same result&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226678" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:20:56 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Rebased on trunk - got the build.xml conflict when rebasing, but&lt;br/&gt;
  didn&apos;t see any issues with ivy/common-configurations.xml.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13226685" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:26:56 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  build.xml conflict is gone, ivy/common-configurations.xml.rej:&lt;br/&gt;
  ```&lt;br/&gt;
  ***************&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;18,23 ****&lt;br/&gt;
      &amp;lt;!-&lt;del&gt;these match the Maven configurations&lt;/del&gt;-&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;default&quot; extends=&quot;master,compile&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;master&quot; description=&quot;contains the artifact but no dependencies&quot;/&amp;gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;conf name=&quot;compile&quot; description=&quot;contains the artifact but no dependencies&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;runtime&quot; description=&quot;runtime but not the artifact&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/configurations&amp;gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;18,31 ----&lt;br/&gt;
      &amp;lt;!-&lt;del&gt;these match the Maven configurations&lt;/del&gt;-&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;default&quot; extends=&quot;master,compile&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;master&quot; description=&quot;contains the artifact but no dependencies&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;compile&quot; extends=&quot;hadoop${hadoop.mr.rev}&quot; description=&quot;contains the artifact but no dependencies&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;conf name=&quot;runtime&quot; description=&quot;runtime but not the artifact&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;test&quot; extends=&quot;hadoop${hadoop.mr.rev}test,compile&quot; visibility=&quot;private&quot; /&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop20&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop23&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop20test&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop23test&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop0.20.shim&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop0.20S.shim&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
  +   &amp;lt;conf name=&quot;hadoop0.23.shim&quot; visibility=&quot;private&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/configurations&amp;gt;&lt;br/&gt;
  ```&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226688" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:32:55 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/build.xml:28 Is this here still needed?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226691" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:34:57 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Not sure why that doesn&apos;t apply cleanly.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226940" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 20:52:54 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/build.xml:28 Nope - will remove.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226941" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 20:54:55 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Removing obsolete notclasspath from shims/build.xml. Also removed&lt;br/&gt;
  shims/build.xml&apos;s own classpath definition, as it was redundant.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13226943" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 20:56:56 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build.xml:542 This may take a bit for me to figure out, as I&apos;m not at all familiar with the eclipse stuff.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13227044" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 13:23:57 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  compile-test fails when running&lt;/p&gt;

&lt;p&gt;  ant clean package test&lt;/p&gt;


&lt;p&gt;  ```&lt;br/&gt;
  compile-test:&lt;br/&gt;
       &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: contrib&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 2 source files to /Users/thw/java/hive/trunk/build/contrib/test/classes&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /Users/thw/java/hive/trunk/contrib/src/test/org/apache/hadoop/hive/contrib/mr/TestGenericMR.java:117: cannot find symbol&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : class Mapper&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hive.contrib.mr.TestGenericMR&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;   private Mapper identityMapper() {&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;           ^&lt;/p&gt;

&lt;p&gt;  ...&lt;/p&gt;

&lt;p&gt;      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                            ^&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 15 errors&lt;/p&gt;

&lt;p&gt;  BUILD FAILED&lt;br/&gt;
  /Users/thw/java/hive/trunk/build.xml:306: The following error occurred while executing this line:&lt;br/&gt;
  /Users/thw/java/hive/trunk/build.xml:117: The following error occurred while executing this line:&lt;br/&gt;
  /Users/thw/java/hive/trunk/build-common.xml:269: Compile failed; see the compiler error output for details.&lt;br/&gt;
  ```&lt;/p&gt;





&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13227046" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 13:39:57 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  There are several changes to build/dist/lib that may not be intended. In particular there should be no hadoop bundled and other versions not downgrade. Should review to ensure we don&apos;t bundle things that are already part of hadoop (such as slf4j etc.)&lt;/p&gt;

&lt;p&gt;  ```&lt;br/&gt;
  readfactline-lm:hive thw$ ls trunk-before/build/dist/lib/ | sort &amp;gt; oldlib.txt&lt;br/&gt;
  readfactline-lm:hive thw$ ls trunk/build/dist/lib/ | sort &amp;gt; newlib.txt&lt;br/&gt;
  readfactline-lm:hive thw$ diff oldlib.txt newlib.txt&lt;br/&gt;
  8,9d7&lt;br/&gt;
  &amp;lt; commons-beanutils-1.7.0.jar&lt;br/&gt;
  &amp;lt; commons-beanutils-core-1.8.0.jar&lt;br/&gt;
  12d9&lt;br/&gt;
  &amp;lt; commons-codec-1.4.jar&lt;br/&gt;
  14d10&lt;br/&gt;
  &amp;lt; commons-configuration-1.6.jar&lt;br/&gt;
  16d11&lt;br/&gt;
  &amp;lt; commons-digester-1.8.jar&lt;br/&gt;
  19a15&lt;br/&gt;
  &amp;gt; commons-lang-2.5.jar&lt;br/&gt;
  23d18&lt;br/&gt;
  &amp;lt; commons-math-2.1.jar&lt;br/&gt;
  31a27,29&lt;br/&gt;
  &amp;gt; ftplet-api-1.0.0.jar&lt;br/&gt;
  &amp;gt; ftpserver-core-1.0.0.jar&lt;br/&gt;
  &amp;gt; ftpserver-deprecated-1.0.0-M2.jar&lt;br/&gt;
  32a31,33&lt;br/&gt;
  &amp;gt; hadoop-core-0.20.2.jar&lt;br/&gt;
  &amp;gt; hadoop-test-0.20.2.jar&lt;br/&gt;
  &amp;gt; hadoop-tools-0.20.2.jar&lt;br/&gt;
  52,53c53,54&lt;br/&gt;
  &amp;lt; jackson-core-asl-1.0.1.jar&lt;br/&gt;
  &amp;lt; jackson-mapper-asl-1.0.1.jar&lt;br/&gt;
  &amp;#8212;&lt;br/&gt;
  &amp;gt; httpclient-4.0.1.jar&lt;br/&gt;
  &amp;gt; httpcore-4.0.1.jar&lt;br/&gt;
  58,59c59,60&lt;br/&gt;
  &amp;lt; jetty-6.1.26.jar&lt;br/&gt;
  &amp;lt; jetty-util-6.1.26.jar&lt;br/&gt;
  &amp;#8212;&lt;br/&gt;
  &amp;gt; jetty-6.1.14.jar&lt;br/&gt;
  &amp;gt; jetty-util-6.1.14.jar&lt;br/&gt;
  64d64&lt;br/&gt;
  &amp;lt; junit-3.8.1.jar&lt;br/&gt;
  65a66&lt;br/&gt;
  &amp;gt; junit-4.5.jar&lt;br/&gt;
  71a73&lt;br/&gt;
  &amp;gt; mina-core-2.0.0-M5.jar&lt;br/&gt;
  76d77&lt;br/&gt;
  &amp;lt; servlet-api-2.5-20081211.jar&lt;br/&gt;
  77a79,80&lt;br/&gt;
  &amp;gt; servlet-api-2.5.jar&lt;br/&gt;
  &amp;gt; slf4j-api-1.5.2.jar&lt;br/&gt;
  ```&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13227051" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 14:03:58 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  As for the reject for ivy/common-configurations.xml (which is still an issue in the latest patch), after applying the patch with arc I downloaded the raw file from here (view options). Then created new diff and applied it to a clean working copy - works w/o rejects. Perhaps you could try the same locally and see whether that would produce a different patch?&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13227111" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 17:48:55 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Changes to test classpaths to get compilation working properly for&lt;br/&gt;
  shims and contrib tests.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13227210" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 19:18:36 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  A number of test compilation/execution tweaks, modifying the&lt;br/&gt;
  build/ivy/lib/default contents (and therefore the build/dist/lib&lt;br/&gt;
  contents) to not include transitive dependencies of Hadoop, and&lt;br/&gt;
  excluding hadoop-*.jar from build/dist/lib.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13227273" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 23:48:39 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Working on test failures - still seeing a good number, but making progress.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13227294" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 02:26:37 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Got a bunch more tests passing, especially in TestCLIDriver.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13227746" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 18:30:35 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  testutils/hadoop:50 If $HIVE_TEST_CLASSPATH is not set we should throw an error and exit instead of using a hardcoded default classpath.&lt;br/&gt;
  testutils/hadoop:47 I think we should change the name of this env var to something like HIVE_HADOOP_TEST_CLASSPATH in order to make it clear that we&apos;re using it with bin/hadoop.&lt;br/&gt;
  build-common.xml:409 Let&apos;s make it possible to override this value by adding test.hadoop.bin.path=${hive.root}/testutils/hadoop to build.properties, and then reference ${test.hadoop.bin.path} here.&lt;br/&gt;
  build-common.xml:384 This is probably causing some test failures since some tests expect hive-contrib-&lt;b&gt;.jar to *not&lt;/b&gt; be on the classpath. I think we should create a classpath specifically for passing to the bin/hadoop consisting of the hive jars, the hadoop jars, and relevant dependencies, and not include hive-contrib-*.jar.&lt;br/&gt;
  build-common.xml:79 alphabetical order?&lt;br/&gt;
  ivy/common-configurations.xml:24 Are &apos;hadoop20&apos; and &apos;hadoop23&apos; compile configurations? If so can we change the name to &apos;hadoop20.compile&apos; and &apos;hadoop23.compile&apos;, and change the names of the test configurations to &quot;hadoop20.test&quot; and &quot;hadoop23.test&quot;, or something that&apos;s consistent?&lt;br/&gt;
  pdk/scripts/build-plugin.xml:36 Please define ivy.lib.default.dir and reference that instead.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13227771" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 18:50:38 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:384 Adding a new hadoop.test.classpath path + hadoop.testcp property that&apos;ll use the shims Ivy configuration for the version of Hadoop we&apos;re testing against (so that we actually get all the jars properly) and the Hive jars. We can add to that if needed.&lt;br/&gt;
  build-common.xml:79 Done.&lt;br/&gt;
  build-common.xml:409 Done.&lt;br/&gt;
  ivy/common-configurations.xml:24 Done.&lt;br/&gt;
  pdk/scripts/build-plugin.xml:36 Done.&lt;br/&gt;
  testutils/hadoop:47 Done.&lt;br/&gt;
  testutils/hadoop:50 Done.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13227830" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 19:54:35 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:384 Ok, still working on getting this bit right. It&apos;s worth mentioning that the above as it is in this patch here does NOT include hive-contrib*.jar in the classpath, so that&apos;s not an issue.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13228010" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 22:38:38 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  A bunch of test failures fixed, a few issues addressed. Still passing&lt;br/&gt;
  the whole test.classpath to testutils/hadoop - things went weird if I didn&apos;t.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13228416" author="phabricator@reviews.facebook.net" created="Tue, 13 Mar 2012 14:56:37 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Latest patch had four test failures, only one of which I&apos;ve seen more than once so far. That one is org.apache.hadoop.hive.serde2.lazy.TestLazySimpleSerDe.testLazySimpleSerDe. The others are org.apache.hadoop.hive.metastore.TestMarkPartition.testMarkingPartitionSet, org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample6, and org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udfnull.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13234900" author="abayer" created="Wed, 21 Mar 2012 19:19:16 +0000"  >&lt;p&gt;With the latest patch (I&apos;ll have a rebase on top of trunk posted later today, but there were no differences in build results), we&apos;ve still got just two consistent test failures (org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udfnull and org.apache.hadoop.hive.serde2.lazy.TestLazySimpleSerDe.testLazySimpleSerDe). What more do we need to do to go live with this?&lt;/p&gt;</comment>
                            <comment id="13234918" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 19:31:39 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Rebased onto latest trunk.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13246727" author="phabricator@reviews.facebook.net" created="Wed, 4 Apr 2012 20:59:26 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Rebasing on trunk again.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13251140" author="phabricator@reviews.facebook.net" created="Tue, 10 Apr 2012 22:45:15 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Executing the following ant command results in a failure:&lt;/p&gt;

&lt;p&gt;  % ant clean package test -Dtestcase=TestNegativeCliDriver -Dqfile=autolocal1.q&lt;/p&gt;

&lt;p&gt;  WARNINGS&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; 		module not found: org.apache.hive#hive-builtins;0.10.0-SNAPSHOT&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ivy/common-configurations.xml:28 Is it possible to make these names consistent, e.g. change &quot;hadoop0.20.shim&quot; to &quot;hadoop20.shim&quot;?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13251161" author="phabricator@reviews.facebook.net" created="Tue, 10 Apr 2012 23:07:15 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  &apos;k, think I found the problem with hive-builtins - since its jar is built outside of the build-common.xml jar target, it wasn&apos;t getting published to the local repo. re: the shims configuration names - they&apos;ve got to be consistent with the other strings in shims/build.xml, so unless those can change too (and I&apos;m not sure if they can), they need to stay as they are.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;-dev-branch&lt;/p&gt;</comment>
                            <comment id="13251165" author="phabricator@reviews.facebook.net" created="Tue, 10 Apr 2012 23:11:13 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Added ivy:publish for builtins, rebased on trunk.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13252905" author="cwsteinbach" created="Thu, 12 Apr 2012 22:06:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udfnull&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;TestNegativeCliDriver.udfnull fails consistently for me. The cause of the failure is that the hive-contrib and hive_contrib JARs are getting included on the HIVE_HADOOP_TEST_CLASSPATH.&lt;/p&gt;

&lt;p&gt;@Andrew: Can you please modify the patch so that the hive-contrib and hive_contrib JARs are not included in HIVE_HADOOP_TEST_CLASSPATH? Thanks.&lt;/p&gt;</comment>
                            <comment id="13252929" author="cwsteinbach" created="Thu, 12 Apr 2012 22:27:40 +0000"  >&lt;p&gt;Here&apos;s the exception stack from the TestLazySimpleSerDe test failure:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Running org.apache.hadoop.hive.serde2.lazy.TestLazySimpleSerDe
    [junit] java.lang.ArrayIndexOutOfBoundsException: -65
    [junit] 	at org.apache.commons.codec.binary.Base64.isBase64(Base64.java:137)
    [junit] 	at org.apache.commons.codec.binary.Base64.isArrayByteBase64(Base64.java:163)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.LazyBinary.init(LazyBinary.java:52)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.LazyStruct.uncheckedGetField(LazyStruct.java:219)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.LazyStruct.getField(LazyStruct.java:192)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.objectinspector.LazySimpleStructObjectInspector.getStructFieldData(LazySimpleStructObjectInspector.java:188)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.TestLazySimpleSerDe.deserializeAndSerialize(TestLazySimpleSerDe.java:92)
    [junit] 	at org.apache.hadoop.hive.serde2.lazy.TestLazySimpleSerDe.testLazySimpleSerDe(TestLazySimpleSerDe.java:73)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The ArrayIndexOutOfBoundsException thrown by Base64.isBase64() is due to a bug in commons-codec 1.3. This was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/CODEC-22&quot; title=&quot;[codec] Base64.isArrayByteBase64() throws an ArrayIndexOutOfBoundsException for negative octets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CODEC-22&quot;&gt;&lt;del&gt;CODEC-22&lt;/del&gt;&lt;/a&gt; in commons-codec 1.4. Right now the test classpath contains copies of versions 1.3 and 1.4 of commons-codec, and the version 1.3 JAR precedes version 1.4. Ideally we can prevent the 1.3 JAR from getting pulled down entirely, but at the least we need to make sure it appears on the classpath after the v1.4 JAR.&lt;/p&gt;

&lt;p&gt;@Andrew: can you please look into this? Thanks.&lt;/p&gt;</comment>
                            <comment id="13253641" author="phabricator@reviews.facebook.net" created="Fri, 13 Apr 2012 18:50:16 +0000"  >&lt;p&gt;abayer updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Exclude hive contrib from test classpaths, bump up commons-codec&lt;br/&gt;
  version to 1.4 in ivy/libraries.properties.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  testutils/hadoop&lt;/p&gt;</comment>
                            <comment id="13253642" author="abayer" created="Fri, 13 Apr 2012 18:50:32 +0000"  >&lt;p&gt;With the latest patch, those two tests pass.&lt;/p&gt;</comment>
                            <comment id="13253643" author="abayer" created="Fri, 13 Apr 2012 18:51:29 +0000"  >&lt;p&gt;...but make sure to nuke your ~/.ivy2/cache/org.apache.hive before rebuilding, or you&apos;ll end up with stale Ivy artifacts pointing to commons-codec 1.3.&lt;/p&gt;</comment>
                            <comment id="13254252" author="phabricator@reviews.facebook.net" created="Sun, 15 Apr 2012 02:27:14 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ivy/common-configurations.xml:32 Applying the patch (still) fails for this file and after download from here I still need to remove that last line &quot; No newline ...&quot; - Can you eliminate this from the patch?&lt;/p&gt;



&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13254255" author="phabricator@reviews.facebook.net" created="Sun, 15 Apr 2012 03:03:32 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  testutils/hadoop:1 had to make this file executable after the patch&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13254347" author="phabricator@reviews.facebook.net" created="Sun, 15 Apr 2012 15:27:18 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  The following 3 tests fail:&lt;/p&gt;

&lt;p&gt;  testNegativeCliDriver_alter_table_wrong_regex&lt;br/&gt;
  testNegativeCliDriver_create_table_wrong_regex&lt;br/&gt;
  testNegativeCliDriver_udfnull&lt;/p&gt;

&lt;p&gt;  Looks like SerDe/UDFs are not found:&lt;/p&gt;

&lt;p&gt;  ```Caused by: org.apache.hadoop.hive.serde2.SerDeException: SerDe org.apache.hadoop.hive.contrib.serde2.RegexSerDe does not exist&lt;br/&gt;
          at org.apache.hadoop.hive.serde2.SerDeUtils.lookupDeserializer(SerDeUtils.java:85)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.DDLTask.validateSerDe(DDLTask.java:3085)```&lt;/p&gt;

&lt;p&gt;  ...&lt;/p&gt;

&lt;p&gt;  ```2012-04-15 00:59:58,643 INFO  exec.FunctionTask (FunctionTask.java:createFunction(87)) - create function: java.lang.ClassNotFoundException: org.apache.hadoop.hive.contrib.udf.example.UDFExampleArraySum&lt;br/&gt;
          at java.net.URLClassLoader$1.run(URLClassLoader.java:202)&lt;br/&gt;
  ```&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13254417" author="phabricator@reviews.facebook.net" created="Sun, 15 Apr 2012 19:37:17 +0000"  >&lt;p&gt;abayer has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Looks like the ql tests &lt;b&gt;do&lt;/b&gt; need hive contrib in the classpath, at least for those tests. Hrm. Carl, any thoughts?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13254493" author="phabricator@reviews.facebook.net" created="Mon, 16 Apr 2012 02:59:14 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Only udfnull fails after adding back contrib into the test class path (resolves other 2 failures).&lt;/p&gt;

&lt;p&gt;  ```&lt;br/&gt;
  ant test -Dtestcase=TestNegativeCliDriver -Dqfile=udfnull.q -Dtest.silent=false&lt;br/&gt;
  ```&lt;/p&gt;

&lt;p&gt;  It looks from the hive history though as if the udfnull queries complete. Could not find out what is wrong with it yet.&lt;/p&gt;



&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13255173" author="phabricator@reviews.facebook.net" created="Mon, 16 Apr 2012 23:10:15 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  alter_table_wrong_regex and create_table_wrong_regex both belong in contrib/src/test/queries/clientnegative/. It was a mistake in the first place for them to get committed to the ql directory since nothing else in Hive is supposed to have a dependency on contrib (which is pretty much the whole point of contrib).&lt;/p&gt;

&lt;p&gt;  The same thing goes for udfnull.q. The point of this test (which you would never be able to tell by looking at it since the original author failed to include any documentation) is that query execution will fail (despite query compilation succeeding) if the query references a UDF which is on the local classpath but not on the cluster classpath, which usually happens when the user forgets to include an &apos;ADD JAR ...&apos; statement. In order to get this test to pass we need to ensure that hive-contrib*.jar is not on bin/hadoop&apos;s classpath.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13255175" author="phabricator@reviews.facebook.net" created="Mon, 16 Apr 2012 23:22:13 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:367 Indentation.&lt;br/&gt;
  build-common.xml:379 ${testcp} is not defined.&lt;br/&gt;
  build-common.xml:385 $HIVE_HADOOP_TEST_CLASSPATH is supposed to be the classpath that bin/hadoop would construct for itself without any outside input, e.g. hadoop-* JAR files and any dependencies. It should not include any Hive JARs or dependencies.&lt;br/&gt;
  testutils/hadoop:53 If $HADOOP_CLASSPATH is defined, we should tack it onto the end of the CLASSPATH at this point.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13256722" author="phabricator@reviews.facebook.net" created="Wed, 18 Apr 2012 17:26:40 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;/p&gt;

&lt;p&gt;  Carl, thanks for the clarification. I have the 3 tests working now after including contrib into the test classpath and excluding it from the MR classpath.&lt;/p&gt;

&lt;p&gt;  Looks like there is one more test failing (but not showing up as failure in the test report?):&lt;/p&gt;

&lt;p&gt;  test:&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hive.pdk.PluginTest&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 9.877 sec&lt;/p&gt;

&lt;p&gt;  That&apos;s because it does not get the ${test.hadoop.bin.path} setting. I&apos;m trying to fix that. Will see to put up a new patch once that is done.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13256910" author="phabricator@reviews.facebook.net" created="Wed, 18 Apr 2012 20:18:37 +0000"  >&lt;p&gt;thw requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2646&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Update to fix test failures.&lt;/p&gt;

&lt;p&gt;  The current Hive Ivy dependency logic for its Hadoop dependencies is problematic - depending on the tarball and extracting the jars from there, rather than depending on the jars directly. It&apos;d be great if this was fixed to actually have the jar dependencies defined directly.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  build.xml&lt;br/&gt;
  testutils/hadoop&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/6567/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/6567/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13256923" author="thw" created="Wed, 18 Apr 2012 20:35:05 +0000"  >&lt;p&gt;Patch to address unit test failures. This should apply cleanly to trunk (arc patch doesn&apos;t).&lt;/p&gt;</comment>
                            <comment id="13257474" author="thw" created="Thu, 19 Apr 2012 13:23:30 +0000"  >&lt;p&gt;The patch needs to be applied through arc:&lt;/p&gt;

&lt;p&gt;arc patch D2883&lt;br/&gt;
chmod u+x testutils/hadoop&lt;br/&gt;
svn propset svn:executable yes testutils/hadoop&lt;/p&gt;

&lt;p&gt;Al least for me, arc patch will choke on ivy/common-configurations.xml - download the file from phabricator directly. I had the problem with Andrew&apos;s patch also, so I&apos;m not sure whether this is just me or an arc issue.&lt;/p&gt;</comment>
                            <comment id="13257478" author="thw" created="Thu, 19 Apr 2012 13:45:44 +0000"  >&lt;p&gt;Patch file produced using &lt;/p&gt;

&lt;p&gt;arc export --unified --revision 2883 &lt;/p&gt;

&lt;p&gt;then replaced ivy/common-configurations section with output from&lt;/p&gt;

&lt;p&gt;svn diff ivy/common-configurations.xml&lt;/p&gt;</comment>
                            <comment id="13257833" author="thw" created="Thu, 19 Apr 2012 21:31:32 +0000"  >&lt;p&gt;All test pass in latest run:&lt;/p&gt;

&lt;p&gt;Tests	Failures	Errors	Success rate	Time&lt;br/&gt;
1678	0	0	100.00%	19245.326&lt;/p&gt;</comment>
                            <comment id="13258452" author="cwsteinbach" created="Fri, 20 Apr 2012 18:29:22 +0000"  >&lt;p&gt;@Thomas: I tried running the tests on Jenkins and noticed that the build is failing despite all tests passing. It looks like this is because compilation of the pdk subproject is failing:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;BUILD FAILED
/var/lib/hudson/production/workspace/carl-HIVE-patch-test1/build.xml:316: The following error occurred while executing this line:
/var/lib/hudson/production/workspace/carl-HIVE-patch-test1/build.xml:321: The following error occurred while executing this line:
/var/lib/hudson/production/workspace/carl-HIVE-patch-test1/pdk/build.xml:52: The following error occurred while executing this line:
/var/lib/hudson/production/workspace/carl-HIVE-patch-test1/build/dist/scripts/pdk/build-plugin.xml:58: /var/lib/hudson/production/workspace/carl-HIVE-patch-test1/build/pdk/test-plugin/${build.ivy.lib.dir}/default does not exist.
	at org.apache.tools.ant.types.AbstractFileSet.getDirectoryScanner(AbstractFileSet.java:474)
	at org.apache.tools.ant.types.FileSet.iterator(FileSet.java:69)
	at org.apache.tools.ant.types.resources.Union.getCollection(Union.java:123)
	at org.apache.tools.ant.types.resources.Union.getCollection(Union.java:107)
	at org.apache.tools.ant.types.resources.BaseResourceCollectionContainer.cacheCollection(BaseResourceCollectionContainer.java:265)
	at org.apache.tools.ant.types.resources.BaseResourceCollectionContainer.iterator(BaseResourceCollectionContainer.java:142)
	at org.apache.tools.ant.types.Path.iterator(Path.java:704)
	at org.apache.tools.ant.types.Path.iterator(Path.java:698)
	at org.apache.tools.ant.types.resources.Union.getCollection(Union.java:123)
	at org.apache.tools.ant.types.resources.Union.list(Union.java:86)
	at org.apache.tools.ant.types.Path.list(Path.java:372)
	at org.apache.tools.ant.types.Path.addExisting(Path.java:331)
	at org.apache.tools.ant.types.Path.addExisting(Path.java:319)
	at org.apache.tools.ant.types.Path.concatSpecialPath(Path.java:566)
	at org.apache.tools.ant.types.Path.concatSystemClasspath(Path.java:526)
	at org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.getCompileClasspath(DefaultCompilerAdapter.java:155)
	at org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.setupJavacCommandlineSwitches(DefaultCompilerAdapter.java:183)
	at org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.setupModernJavacCommandlineSwitches(DefaultCompilerAdapter.java:321)
	at org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.setupModernJavacCommand(DefaultCompilerAdapter.java:368)
	at org.apache.tools.ant.taskdefs.compilers.Javac13.execute(Javac13.java:48)
	at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1097)
	at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:906)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:398)
	at net.sf.antcontrib.logic.ForTask.doSequentialIteration(ForTask.java:259)
	at net.sf.antcontrib.logic.ForTask.doToken(ForTask.java:268)
	at net.sf.antcontrib.logic.ForTask.doTheTasks(ForTask.java:324)
	at net.sf.antcontrib.logic.ForTask.execute(ForTask.java:244)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1366)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.Main.runBuild(Main.java:801)
	at org.apache.tools.ant.Main.startAnt(Main.java:218)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13258454" author="cwsteinbach" created="Fri, 20 Apr 2012 18:30:24 +0000"  >&lt;p&gt;@Thomas: I&apos;m going to try to fix the pdk problem later today. In the meantime I was wondering if you could look at the eclipse templates and make sure that they&apos;re up to date? Thanks.&lt;/p&gt;</comment>
                            <comment id="13258638" author="phabricator@reviews.facebook.net" created="Fri, 20 Apr 2012 22:37:30 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fix for pdk test target.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  build.xml&lt;br/&gt;
  testutils/hadoop&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  pdk/build.xml&lt;/p&gt;</comment>
                            <comment id="13258646" author="thw" created="Fri, 20 Apr 2012 22:46:35 +0000"  >&lt;p&gt;Patch with fix for pdk test.&lt;/p&gt;</comment>
                            <comment id="13258695" author="thw" created="Sat, 21 Apr 2012 00:36:29 +0000"  >&lt;p&gt;With latest patch, the build failure is gone. However, what I see now is that the same test runs twice, it passes at the beginning and then later it fails (different ant target chain).&lt;/p&gt;</comment>
                            <comment id="13258705" author="thw" created="Sat, 21 Apr 2012 00:52:16 +0000"  >&lt;p&gt;Here is the test execution failure (for the second execution of org.apache.hive.pdk.PluginTest)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Failed to load Hive builtin functions
java.lang.RuntimeException: Failed to load Hive builtin functions
        at org.apache.hadoop.hive.ql.session.SessionState.&amp;lt;init&amp;gt;(SessionState.java:205)
        at org.apache.hadoop.hive.cli.CliSessionState.&amp;lt;init&amp;gt;(CliSessionState.java:81)
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:579)
        at org.apache.hive.pdk.PluginTest.runHive(PluginTest.java:70)
        at org.apache.hive.pdk.PluginTest$PluginGlobalSetup.setUp(PluginTest.java:177)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:22)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
Caused by: java.lang.ClassNotFoundException: org.apache.hive.builtins.BuiltinUtils
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13258706" author="thw" created="Sat, 21 Apr 2012 00:53:15 +0000"  >&lt;p&gt;To note, all of that under the radar of testreport?&lt;/p&gt;</comment>
                            <comment id="13258745" author="phabricator@reviews.facebook.net" created="Sat, 21 Apr 2012 02:21:29 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fix pdk/PluginTest&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/ivy.xml&lt;br/&gt;
  shims/build.xml&lt;br/&gt;
  builtins/ivy.xml&lt;br/&gt;
  builtins/build.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  hbase-handler/ivy.xml&lt;br/&gt;
  hbase-handler/build.xml&lt;br/&gt;
  build.xml&lt;br/&gt;
  testutils/hadoop&lt;br/&gt;
  jdbc/ivy.xml&lt;br/&gt;
  jdbc/build.xml&lt;br/&gt;
  metastore/ivy.xml&lt;br/&gt;
  ivy/common-configurations.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  hwi/ivy.xml&lt;br/&gt;
  hwi/build.xml&lt;br/&gt;
  common/ivy.xml&lt;br/&gt;
  service/ivy.xml&lt;br/&gt;
  service/build.xml&lt;br/&gt;
  contrib/ivy.xml&lt;br/&gt;
  contrib/build.xml&lt;br/&gt;
  serde/ivy.xml&lt;br/&gt;
  cli/ivy.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  pdk/ivy.xml&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  pdk/build.xml&lt;/p&gt;</comment>
                            <comment id="13258867" author="thw" created="Sat, 21 Apr 2012 15:02:23 +0000"  >&lt;p&gt;ant clean package package test&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 315 minutes 27 seconds&lt;/p&gt;</comment>
                            <comment id="13259842" author="cwsteinbach" created="Mon, 23 Apr 2012 19:07:36 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="13259845" author="abayer" created="Mon, 23 Apr 2012 19:09:01 +0000"  >&lt;p&gt;+1 indeed. =)&lt;/p&gt;</comment>
                            <comment id="13259858" author="abayer" created="Mon, 23 Apr 2012 19:22:28 +0000"  >&lt;p&gt;Reuploading patch with ASF license checked.&lt;/p&gt;</comment>
                            <comment id="13259864" author="cwsteinbach" created="Mon, 23 Apr 2012 19:33:04 +0000"  >&lt;p&gt;Committed to trunk. Thanks Andrew and Thomas!&lt;/p&gt;</comment>
                            <comment id="13260018" author="thw" created="Mon, 23 Apr 2012 22:19:15 +0000"  >&lt;p&gt;Reopening for backport to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13260134" author="hudson" created="Tue, 24 Apr 2012 01:20:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1391 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1391/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1391/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;. Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs (Andrew Bayer and Thomas Weise) (Revision 1329381)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329381&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/builtins/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/builtins/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/common-configurations.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/scripts/build-plugin.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/hadoop&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13266669" author="ashutoshc" created="Wed, 2 May 2012 16:16:32 +0000"  >&lt;p&gt;Merged in 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13266729" author="hudson" created="Wed, 2 May 2012 17:21:15 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #3 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/3/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs. Merged in from trunk. (Andrew Bayer and Thomas Weise) (Revision 1333094)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333094&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333094&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/builtins/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/builtins/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/common/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/contrib/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/contrib/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hbase-handler/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hwi/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hwi/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/common-configurations.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/jdbc/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/scripts/build-plugin.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/service/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/service/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/testutils/hadoop&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13267201" author="hudson" created="Thu, 3 May 2012 05:30:07 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #3 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/3/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs. Merged in from trunk. (Andrew Bayer and Thomas Weise) (Revision 1333094)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333094&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333094&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/builtins/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/builtins/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/common/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/contrib/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/contrib/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hbase-handler/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hwi/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/hwi/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/common-configurations.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/jdbc/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/pdk/scripts/build-plugin.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/service/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/service/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/testutils/hadoop&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13270138" author="thw" created="Tue, 8 May 2012 02:22:15 +0000"  >&lt;p&gt;Reopening to fix test failure on 0.9 branch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/7/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/7/testReport/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Earlier changes erased the LANG setting, while trunk build masks this by exporting it, 0.9.1 build does not. Thanks to Ashutosh for diagnosing the issue.&lt;/p&gt;</comment>
                            <comment id="13270140" author="thw" created="Tue, 8 May 2012 02:25:01 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt;. Test: ant test -Dtestcase=TestCliDriver -Dqfile=inputddl5.q -Dtest.silent=false&lt;/p&gt;</comment>
                            <comment id="13270839" author="ashutoshc" created="Tue, 8 May 2012 21:20:11 +0000"  >&lt;p&gt;Committed to trunk and 0.9 branch. Thanks, Thomas!&lt;/p&gt;</comment>
                            <comment id="13270922" author="hudson" created="Tue, 8 May 2012 23:23:56 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #10 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; : merged in from trunk. Fix for LANG setting for test environment. (Thomas Weise via Ashutosh Chauhan) (Revision 1335774)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335774&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335774&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13271041" author="hudson" created="Wed, 9 May 2012 03:22:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1419 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1419/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1419/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; : Fix for LANG setting while running tests. (Thomas Weise via Ashutosh Chauhan) (Revision 1335771)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335771&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13271149" author="hudson" created="Wed, 9 May 2012 06:32:05 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #10 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; : merged in from trunk. Fix for LANG setting for test environment. (Thomas Weise via Ashutosh Chauhan) (Revision 1335774)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335774&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335774&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13291928" author="kannakar@microsoft.com" created="Fri, 8 Jun 2012 19:34:48 +0000"  >&lt;p&gt;I downloaded the Hadoop &amp;amp; Hive source from apache and made some changes in Hadoop internally. Now I am trying to run hive unit tests against my changes (internal Hadoop). Are there any configuration settings in hive (unit tests) to configure and run against local Hadoop jars.&lt;/p&gt;</comment>
                            <comment id="13547907" author="hudson" created="Wed, 9 Jan 2013 10:23:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; : Fix for LANG setting while running tests. (Thomas Weise via Ashutosh Chauhan) (Revision 1335771)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;. Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs (Andrew Bayer and Thomas Weise) (Revision 1329381)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1335771&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329381&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/builtins/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/builtins/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/common-configurations.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/pdk/scripts/build-plugin.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/hadoop&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550274" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:03 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12560267">HIVE-3117</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12552233">HIVE-2976</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12553429">HIVE-2990</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12555931">HIVE-3028</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12539676">HIVE-2745</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12554977">HIVE-3017</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12559511">HIVE-3092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12517324" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.1.patch" size="64148" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 22:31:56 +0000"/>
                            <attachment id="12517982" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.10.patch" size="61939" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 02:26:39 +0000"/>
                            <attachment id="12518107" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.11.patch" size="62799" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 22:38:40 +0000"/>
                            <attachment id="12519291" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.12.patch" size="62478" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 19:31:41 +0000"/>
                            <attachment id="12521389" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.13.patch" size="62575" author="phabricator@reviews.facebook.net" created="Wed, 4 Apr 2012 20:59:26 +0000"/>
                            <attachment id="12522177" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.14.patch" size="62956" author="phabricator@reviews.facebook.net" created="Tue, 10 Apr 2012 23:11:14 +0000"/>
                            <attachment id="12522602" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.15.patch" size="63088" author="phabricator@reviews.facebook.net" created="Fri, 13 Apr 2012 18:50:18 +0000"/>
                            <attachment id="12517325" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.2.patch" size="68472" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 22:39:58 +0000"/>
                            <attachment id="12517446" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.3.patch" size="56825" author="phabricator@reviews.facebook.net" created="Wed, 7 Mar 2012 20:20:55 +0000"/>
                            <attachment id="12517809" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.4.patch" size="55085" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 00:50:57 +0000"/>
                            <attachment id="12517821" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.5.patch" size="55236" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 01:20:56 +0000"/>
                            <attachment id="12517864" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.6.patch" size="56094" author="phabricator@reviews.facebook.net" created="Sat, 10 Mar 2012 20:54:55 +0000"/>
                            <attachment id="12517906" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.7.patch" size="56740" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 17:48:56 +0000"/>
                            <attachment id="12517962" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.8.patch" size="57677" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 19:18:37 +0000"/>
                            <attachment id="12517973" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2133.9.patch" size="61195" author="phabricator@reviews.facebook.net" created="Sun, 11 Mar 2012 23:48:40 +0000"/>
                            <attachment id="12523245" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2883.1.patch" size="64575" author="phabricator@reviews.facebook.net" created="Wed, 18 Apr 2012 20:18:38 +0000"/>
                            <attachment id="12523577" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2883.2.patch" size="65361" author="phabricator@reviews.facebook.net" created="Fri, 20 Apr 2012 22:37:31 +0000"/>
                            <attachment id="12523609" name="ASF.LICENSE.NOT.GRANTED--HIVE-2646.D2883.3.patch" size="65539" author="phabricator@reviews.facebook.net" created="Sat, 21 Apr 2012 02:21:30 +0000"/>
                            <attachment id="12523610" name="HIVE-2646-fixtests.patch" size="65548" author="thw" created="Sat, 21 Apr 2012 02:27:44 +0000"/>
                            <attachment id="12523847" name="HIVE-2646-fixtests.txt" size="65548" author="abayer" created="Mon, 23 Apr 2012 19:22:28 +0000"/>
                            <attachment id="12517158" name="HIVE-2646.diff.txt" size="63907" author="abayer" created="Mon, 5 Mar 2012 23:30:12 +0000"/>
                            <attachment id="12525941" name="HIVE-2646_LANG.patch" size="863" author="thw" created="Tue, 8 May 2012 02:23:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Mar 2012 15:17:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02upz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2647] Force Bash shell on parallel test slave nodes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2647</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Force use of Bash shell, so user default shell choice doesn&apos;t impact the test script.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534828">HIVE-2647</key>
            <summary>Force Bash shell on parallel test slave nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 20:03:06 +0000</created>
                <updated>Mon, 30 Apr 2012 21:12:02 +0000</updated>
                            <resolved>Mon, 12 Dec 2011 22:00:59 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13167749" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:07:30 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&quot;.&lt;br/&gt;
Added Reviewers: njain&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D771&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167750" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:07:30 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Forcing Bash on each remote command call.&lt;/p&gt;

&lt;p&gt;  Force use of Bash shell, so user default shell choice doesn&apos;t impact the test script.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D771&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Report.py&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1647/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167751" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:07:32 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D771&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167843" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:59:30 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&quot;.&lt;/p&gt;

&lt;p&gt;  +1, committing to trunk.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D771&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167845" author="jvs" created="Mon, 12 Dec 2011 22:00:59 +0000"  >&lt;p&gt;Committed to trunk, thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13167848" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 22:03:30 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D771&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1213460&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1213460&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167929" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:07:30 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167950" author="hudson" created="Mon, 12 Dec 2011 23:48:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #18 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/18/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/18/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Forcing Bash on each remote command call.&lt;/p&gt;

&lt;p&gt;Force use of Bash shell, so user default shell choice doesn&apos;t impact the test&lt;br/&gt;
script.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi, njain&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 771&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213460&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168190" author="hudson" created="Tue, 13 Dec 2011 07:21:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2647&quot; title=&quot;Force Bash shell on parallel test slave nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2647&quot;&gt;&lt;del&gt;HIVE-2647&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Force Bash shell on parallel test slave nodes&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Forcing Bash on each remote command call.&lt;/p&gt;

&lt;p&gt;Force use of Bash shell, so user default shell choice doesn&apos;t impact the test&lt;br/&gt;
script.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi, njain&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 771&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213460&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213460&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265362" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:02 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507050" name="ASF.LICENSE.NOT.GRANTED--HIVE-2647.D771.1.patch" size="806" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:07:31 +0000"/>
                            <attachment id="12507090" name="HIVE-2647.D771.1.patch" size="806" author="mareksapota_fb" created="Mon, 12 Dec 2011 23:07:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Dec 2011 20:07:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2648] Parallel tests fail if master directory is not present</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2648</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Parallel tests should create directories as needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534830">HIVE-2648</key>
            <summary>Parallel tests fail if master directory is not present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 20:25:49 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:43 +0000</updated>
                            <resolved>Mon, 12 Dec 2011 21:44:09 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13167765" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:29:30 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D777&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167766" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:29:31 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fix the task downloading Ant.&lt;/p&gt;

&lt;p&gt;  Parallel tests should create directories as needed.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D777&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1653/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167829" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:39:31 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;/p&gt;

&lt;p&gt;  +1, committing to trunk.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D777&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167832" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:43:30 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D777&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1213447&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1213447&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167833" author="jvs" created="Mon, 12 Dec 2011 21:44:09 +0000"  >&lt;p&gt;Committed to trunk, thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13167926" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:05:30 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Add quotes around bash -c to fix commands using cd.&lt;/p&gt;

&lt;p&gt;  Parallel tests should create directories as needed.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1695/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1695/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167949" author="hudson" created="Mon, 12 Dec 2011 23:48:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #18 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/18/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/18/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Fix the task downloading Ant.&lt;/p&gt;

&lt;p&gt;Parallel tests should create directories as needed.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 777&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213447&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213447&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168060" author="hudson" created="Tue, 13 Dec 2011 02:02:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1141 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1141/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2648&quot; title=&quot;Parallel tests fail if master directory is not present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2648&quot;&gt;&lt;del&gt;HIVE-2648&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Fix the task downloading Ant.&lt;/p&gt;

&lt;p&gt;Parallel tests should create directories as needed.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 777&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213447&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213447&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265327" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:43 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507051" name="ASF.LICENSE.NOT.GRANTED--HIVE-2648.D777.1.patch" size="519" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:29:31 +0000"/>
                            <attachment id="12507087" name="ASF.LICENSE.NOT.GRANTED--HIVE-2648.D801.1.patch" size="490" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:05:31 +0000"/>
                            <attachment id="12507089" name="HIVE-2648.D777.1.patch" size="519" author="mareksapota_fb" created="Mon, 12 Dec 2011 23:06:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Dec 2011 20:29:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2649] Allow multiple ptest runs by the same person</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2649</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Allow running ptest simultaneously, multiple times by one person on the same machines.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534831">HIVE-2649</key>
            <summary>Allow multiple ptest runs by the same person</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 20:32:24 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:39 +0000</updated>
                            <resolved>Tue, 13 Dec 2011 00:53:09 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13167779" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:39:30 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167780" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:39:31 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Allow multiple ptest runs.&lt;/p&gt;

&lt;p&gt;  Allow running ptest simultaneously, multiple times by one person on the same machines.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1659/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1659/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13167828" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:39:30 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;/p&gt;

&lt;p&gt;  Should probably mention this in host_base_path section of README.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167975" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:15:30 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  Update the readme.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/README&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;/p&gt;</comment>
                            <comment id="13167979" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:17:30 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  testutils/ptest/README:54 I added the example because the path descriptions are now quite complicated.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168005" author="jvs" created="Tue, 13 Dec 2011 00:53:09 +0000"  >&lt;p&gt;+1, committed to trunk.  Thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13168006" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:53:30 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168015" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 01:03:30 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D783&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1213525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1213525&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168108" author="hudson" created="Tue, 13 Dec 2011 03:39:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #19 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Allow multiple ptest runs.&lt;/p&gt;

&lt;p&gt;Allow running ptest simultaneously, multiple times by one person on the same&lt;br/&gt;
machines.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 783&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213525&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168189" author="hudson" created="Tue, 13 Dec 2011 07:21:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2649&quot; title=&quot;Allow multiple ptest runs by the same person&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2649&quot;&gt;&lt;del&gt;HIVE-2649&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow multiple ptest runs by the same person&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Allow multiple ptest runs.&lt;/p&gt;

&lt;p&gt;Allow running ptest simultaneously, multiple times by one person on the same&lt;br/&gt;
machines.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 783&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213525&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265308" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:39 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507053" name="ASF.LICENSE.NOT.GRANTED--HIVE-2649.D783.1.patch" size="719" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 20:39:31 +0000"/>
                            <attachment id="12507100" name="ASF.LICENSE.NOT.GRANTED--HIVE-2649.D783.2.patch" size="2332" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:15:31 +0000"/>
                            <attachment id="12507130" name="HIVE-2649.D783.2.patch" size="2332" author="mareksapota_fb" created="Tue, 13 Dec 2011 03:54:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Dec 2011 20:39:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2650] Parallel test commands that include cd fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2650</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Parallel test commands that include cd fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534851">HIVE-2650</key>
            <summary>Parallel test commands that include cd fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 23:21:32 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:22 +0000</updated>
                            <resolved>Tue, 13 Dec 2011 00:30:53 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13167939" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:25:30 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel tests fail if master directory is not present&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  Sent patch to the right JIRA issue.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;/p&gt;</comment>
                            <comment id="13167986" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:29:30 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel test commands that include cd fail&quot;.&lt;/p&gt;

&lt;p&gt;  +1, tested for realz this time.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167988" author="jvs" created="Tue, 13 Dec 2011 00:30:53 +0000"  >&lt;p&gt;Committed to trunk, thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13167990" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:31:30 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel test commands that include cd fail&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167992" author="phabricator@reviews.facebook.net" created="Tue, 13 Dec 2011 00:33:30 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel test commands that include cd fail&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1213519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1213519&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168106" author="hudson" created="Tue, 13 Dec 2011 03:39:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #19 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/19/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel test commands that include cd fail&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: Add quotes around bash -c to fix commands using cd.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 801&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213519&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168187" author="hudson" created="Tue, 13 Dec 2011 07:21:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1142/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2650&quot; title=&quot;Parallel test commands that include cd fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2650&quot;&gt;&lt;del&gt;HIVE-2650&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Parallel test commands that include cd fail&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: Add quotes around bash -c to fix commands using cd.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 801&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213519&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265258" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:22 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507093" name="ASF.LICENSE.NOT.GRANTED--HIVE-2650.D801.2.patch" size="490" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:25:31 +0000"/>
                            <attachment id="12507101" name="HIVE-2650.D801.2.patch" size="490" author="mareksapota_fb" created="Tue, 13 Dec 2011 00:40:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Dec 2011 23:25:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
