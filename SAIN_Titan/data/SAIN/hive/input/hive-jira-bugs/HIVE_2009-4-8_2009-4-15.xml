<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:13:13 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-4-8+AND+created+%3C%3D+2009-4-15+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="20" total="20"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-395] Compile error with Hadoop 0.19.1 + Eclipse</title>
                <link>https://issues.apache.org/jira/browse/HIVE-395</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Compile error with Hadoop 0.19.1:&lt;/p&gt;

&lt;p&gt;The method validateInput(JobConf) is undefined for the type InputFormat&lt;br/&gt;
HiveInputFormat.java	hive-trunk/ql/src/java/org/apache/hadoop/hive/ql/io&lt;br/&gt;
line 241&lt;/p&gt;

&lt;p&gt;The ant build apparently hacks around this with the &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exclude_0_19&amp;#93;&lt;/span&gt;&quot; comment. Easy to just comment this line out for now, but a proper fix would be nice eventually.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.19.1, Eclipse, Java 6&lt;/p&gt;</environment>
        <key id="12422320">HIVE-395</key>
            <summary>Compile error with Hadoop 0.19.1 + Eclipse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="neilconway">Neil Conway</assignee>
                                    <reporter username="neilconway">Neil Conway</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 01:40:02 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:34 +0000</updated>
                            <resolved>Mon, 27 Apr 2009 08:07:31 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12696876" author="rsm" created="Wed, 8 Apr 2009 04:13:17 +0000"  >&lt;p&gt;Did you follow the steps at: &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GettingStarted/EclipseSetup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/GettingStarted/EclipseSetup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12697085" author="prasadc" created="Wed, 8 Apr 2009 16:30:38 +0000"  >&lt;p&gt;I don&apos;t think I have ever tested the Hive Eclipse environment with Hadoop-0.19. I don&apos;t think there is an easy way to compile Hive in Eclipse for both hadoop 17 and 19.&lt;/p&gt;</comment>
                            <comment id="12697191" author="neilconway" created="Wed, 8 Apr 2009 20:49:51 +0000"  >&lt;p&gt;Raghu: Yeah, I did. The problem is specified to 0.19...&lt;/p&gt;

&lt;p&gt;Prasad: Yeah, I didn&apos;t find an easy way to do conditional compilation in Eclipse. Perhaps we could use reflection instead?&lt;/p&gt;</comment>
                            <comment id="12698067" author="zshao" created="Sat, 11 Apr 2009 09:19:28 +0000"  >&lt;p&gt;Hi Neil, that&apos;s a nice idea. Actually we do use reflection in some cases like this (Look at FileSinkOperator.java). Will you have time to take a try on this?&lt;/p&gt;</comment>
                            <comment id="12698576" author="neilconway" created="Mon, 13 Apr 2009 22:22:49 +0000"  >&lt;p&gt;Candidate patch&lt;/p&gt;</comment>
                            <comment id="12698577" author="neilconway" created="Mon, 13 Apr 2009 22:27:13 +0000"  >&lt;p&gt;Candidate patch.&lt;/p&gt;</comment>
                            <comment id="12698628" author="athusoo" created="Tue, 14 Apr 2009 02:31:20 +0000"  >&lt;p&gt;Definitely is much better than the previous approach. So +1. I suppose this will not have a significant performance impact as well as validateInput is not going to get called in the data path any way. nice!!&lt;/p&gt;</comment>
                            <comment id="12698747" author="athusoo" created="Tue, 14 Apr 2009 12:07:07 +0000"  >&lt;p&gt;You will also have to fix the javadoc target for ql in build.xml so that it creates the javadocs from the sources and not from ql/build. After that, this one should be good to checkin.&lt;/p&gt;</comment>
                            <comment id="12699006" author="neilconway" created="Wed, 15 Apr 2009 00:45:10 +0000"  >&lt;p&gt;Candidate patch, v2.&lt;/p&gt;</comment>
                            <comment id="12699007" author="neilconway" created="Wed, 15 Apr 2009 00:46:08 +0000"  >&lt;p&gt;Ashish: Thanks for the feedback. My revised patch makes the fix you suggested, I believe &amp;#8211; &quot;ant tar binary&quot; suggests without any unexpected warnings.&lt;/p&gt;</comment>
                            <comment id="12699081" author="zshao" created="Wed, 15 Apr 2009 06:16:18 +0000"  >&lt;p&gt;Neil, you might want to completely remove &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;configure&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;deploy-ant-tasks&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;!-- If not set already make sure that they are defined but empty --&amp;gt;
    &amp;lt;taskdef name=&lt;span class=&quot;code-quote&quot;&gt;&quot;getversionpref&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.ant.GetVersionPref&quot;&lt;/span&gt;
             classpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.dir.hive}/hive_anttasks.jar&quot;&lt;/span&gt;/&amp;gt;

    &amp;lt;getversionpref property=&lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop.version.prefix&quot;&lt;/span&gt; input=&lt;span class=&quot;code-quote&quot;&gt;&quot;${hadoop.version}&quot;&lt;/span&gt;/&amp;gt;

    &amp;lt;copy todir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.dir}/java&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;fileset dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${src.dir}&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;include name=&lt;span class=&quot;code-quote&quot;&gt;&quot;**/*.java&quot;&lt;/span&gt;/&amp;gt;
      &amp;lt;/fileset&amp;gt;
    &amp;lt;/copy&amp;gt;
  &amp;lt;/target&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from ql/build.xml, and let ql/build.xml to build from src/java instead of build/java.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="12700904" author="neilconway" created="Mon, 20 Apr 2009 19:40:31 +0000"  >&lt;p&gt;Zheng: Thanks, that&apos;s a good idea. I&apos;ve uploaded a revised version of the patch that incorporates your suggestion. Sorry this took so long for me to get around to...&lt;/p&gt;</comment>
                            <comment id="12701008" author="athusoo" created="Tue, 21 Apr 2009 00:59:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me. Will be running tests on this and will then check it in.&lt;/p&gt;</comment>
                            <comment id="12702635" author="neilconway" created="Sat, 25 Apr 2009 00:49:15 +0000"  >&lt;p&gt;Ping? AFAIK this is ready to commit.&lt;/p&gt;</comment>
                            <comment id="12702642" author="athusoo" created="Sat, 25 Apr 2009 01:56:28 +0000"  >&lt;p&gt;yes it is. I ran into some local issues due to which some of the tests were failing in my environment. And then when I reran the tests some others started failing which are mainly due to data ordering not enforced in the test programs. I am changing that test and will check that in here. Will get this done over the weekend if not tonight.&lt;/p&gt;</comment>
                            <comment id="12703022" author="athusoo" created="Mon, 27 Apr 2009 08:07:31 +0000"  >&lt;p&gt;committed. Thanks Neil!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405362" name="JIRA_hive-395.patch.1" size="2768" author="neilconway" created="Mon, 13 Apr 2009 22:27:13 +0000"/>
                            <attachment id="12405480" name="JIRA_hive-395.patch.2" size="3269" author="neilconway" created="Wed, 15 Apr 2009 00:45:10 +0000"/>
                            <attachment id="12405954" name="JIRA_hive-395.patch.3" size="4074" author="neilconway" created="Mon, 20 Apr 2009 19:40:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Apr 2009 04:13:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Eclipse compatibility for Hadoop 0.19</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-396] Hive performance benchmarks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-396</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need some performance benchmark to measure and track the performance improvements of Hive.&lt;/p&gt;

&lt;p&gt;Some references:&lt;br/&gt;
PIG performance benchmarks &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-200&quot; title=&quot;Pig Performance Benchmarks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-200&quot;&gt;&lt;del&gt;PIG-200&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
PigMix: &lt;a href=&quot;http://wiki.apache.org/pig/PigMix&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/PigMix&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422332">HIVE-396</key>
            <summary>Hive performance benchmarks</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yuntao">Yuntao Jia</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 06:03:24 +0000</created>
                <updated>Wed, 24 Feb 2016 10:38:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>36</watches>
                                                                <comments>
                            <comment id="12721644" author="zshao" created="Fri, 19 Jun 2009 04:22:08 +0000"  >&lt;p&gt;@hive_benchmark_2009-06-18.pdf and hive_benchmark_2009-06-18.tar.gz&lt;br/&gt;
Note: Both the dataset and the queries are adapted from &lt;a href=&quot;http://database.cs.brown.edu/projects/mapreduce-vs-dbms/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://database.cs.brown.edu/projects/mapreduce-vs-dbms/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12721942" author="zshao" created="Fri, 19 Jun 2009 19:15:38 +0000"  >&lt;p&gt;Q: Why for the first query Hive program is faster than Hadoop app?&lt;br/&gt;
A: This is definitely possible in a lot of situations.&lt;br/&gt;
This particular case is mainly because Hive&apos;s implementation of LIKE is using Text, while the hadoop app&apos;s implementation was using String.find(). We used the hadoop code from the SIGMOD 2009 paper to allow us to have a consistent comparison.&lt;br/&gt;
While it&apos;s possible to improve the hadoop code in this particular case, there are cases that it&apos;s very hard to do the same optimization for each and every hadoop application. For example, the map-side join (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-195&quot; title=&quot;map-side joins are not supported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-195&quot;&gt;&lt;del&gt;HIVE-195&lt;/del&gt;&lt;/a&gt;) provides much better efficiency for joining a very small table with any other table, without using reducer. Another case is the object model in Hive is different from Hadoop - we reuse the same object across different rows. Details of this is in the org.apache.hadoop.hive.serde package.&lt;/p&gt;</comment>
                            <comment id="12723199" author="alangates" created="Tue, 23 Jun 2009 17:34:17 +0000"  >&lt;p&gt;Comments on how to speed up the Pig Latin scripts used in this benchmark.&lt;/p&gt;

&lt;p&gt;grep_select.pig:&lt;/p&gt;

&lt;p&gt;Adding types in the LOAD statement will force Pig to cast the key field, even though it doesn&apos;t need to (it only reads and writes the key field).  So I&apos;d change the query to be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;rmf output/PIG_bench/grep_select;
a = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/data/grep/*&apos;&lt;/span&gt; using PigStorage as (key,field);
b = filter a by field matches &lt;span class=&quot;code-quote&quot;&gt;&apos;.*XYZ.*&apos;&lt;/span&gt;;
store b into &lt;span class=&quot;code-quote&quot;&gt;&apos;output/PIG_bench/grep_select&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;field will still be cast to a chararray for the matches, but we won&apos;t waste time casting key and then turning it back into bytes for the store.&lt;/p&gt;

&lt;p&gt;rankings_select.pig:&lt;/p&gt;

&lt;p&gt;Same comment, remove the casts.  pagerank will be properly cast to an integer.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;rmf output/PIG_bench/rankings_select;
a = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/data/rankings/*&apos;&lt;/span&gt; using PigStorage(&lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt;) as (pagerank,pageurl,aveduration);
b = filter a by pagerank &amp;gt; 10;
store b into &lt;span class=&quot;code-quote&quot;&gt;&apos;output/PIG_bench/rankings_select&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;rankings_uservisits_join.pig:&lt;/p&gt;

&lt;p&gt;Here you want to keep the cast of pagerank so that it is handled as the right type, since AVG can take either double or int and would default to double.  adRevenue will default to double in SUM when you don&apos;t specify a type.&lt;/p&gt;

&lt;p&gt;You want to project out all unneeded columns as soon as possible.&lt;/p&gt;

&lt;p&gt;You should set PARALLEL on the join to use the number of reducers appropriate for your cluster.  Given that you have 10 machines and 5 reduce slots per machine, and speculative execution is off you probably want 50 reducers.  (I&apos;m assuming here when you say you have a 10 node cluster you mean 10 data nodes, not counting your name node and task tracker.  The reduce formula should be 5 * number of data nodes.)&lt;/p&gt;

&lt;p&gt;I notice you set parallel to 60 on the group by.  That will give you 10 trailing reducers.  Unless you have a need for the result to be split 60 ways you should reduce that to 50 as well.    &lt;/p&gt;

&lt;p&gt;A last question is how large are the uservisits and rankings data sets?  If either is &amp;lt; 80M or so you can use the fragment/replicate join, which is much faster than the general join.  The following script assumes that isn&apos;t the case; but if it is let me know and I can show you the syntax for it.&lt;/p&gt;

&lt;p&gt;So the end query looks like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;rmf output/PIG_bench/html_join;
a = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/data/uservisits/*&apos;&lt;/span&gt; using PigStorage(&lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt;) as
	(sourceIP,destURL,visitDate,adRevenue,userAgent,countryCode,languageCode:,searchWord,duration);
b = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/data/rankings/*&apos;&lt;/span&gt; using PigStorage(&lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt;) as (pagerank:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,pageurl,aveduration);
c = filter a by visitDate &amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1999-01-01&apos;&lt;/span&gt; AND visitDate &amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;2000-01-01&apos;&lt;/span&gt;;
c1 = fjjkkoreach c generate sourceIP, destURL, addRevenue;
b1 = foreach b generate pagerank, pageurl; 
d = JOIN c1 by destURL, b1 by pageurl parallel 50;
d1 = foreach d generate sourceIP, pagerank, adRevenue;
e = group d1 by sourceIP parallel 50;
f = FOREACH e GENERATE group, AVG(d1.pagerank), SUM(d1.adRevenue);
store f into &lt;span class=&quot;code-quote&quot;&gt;&apos;output/PIG_bench/html_join&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;uservisists_agrre.pig:&lt;/p&gt;

&lt;p&gt;Same comments as above on projecting out as early as possible and on setting parallel appropriately for your cluster.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;rmf output/PIG_bench/uservisits_aggre;
a = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/data/uservisits/*&apos;&lt;/span&gt; using PigStorage(&lt;span class=&quot;code-quote&quot;&gt;&apos;|&apos;&lt;/span&gt;) as 
	(sourceIP,destURL,visitDate,adRevenue,userAgent,countryCode,languageCode,searchWord,duration);
a1 = foreach a generate sourceIP, adRevenue;
b = group a by sourceIP parallel 50;
c = FOREACH b GENERATE group, SUM(a. adRevenue);
store c into &lt;span class=&quot;code-quote&quot;&gt;&apos;output/PIG_bench/uservisits_aggre&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12726516" author="alangates" created="Thu, 2 Jul 2009 15:29:40 +0000"  >&lt;p&gt;Any updates on this?  We&apos;re anxious to see the numbers after the Pig scripts have been optimized.&lt;/p&gt;</comment>
                            <comment id="12726634" author="yuntao" created="Thu, 2 Jul 2009 19:01:07 +0000"  >&lt;p&gt;I will post the new numbers with two changes. First, I will update the PIG queries based on you comments. Second,  I will use Lzo codec for intermediate data compression. &lt;/p&gt;</comment>
                            <comment id="12726952" author="yuntao" created="Fri, 3 Jul 2009 13:17:36 +0000"  >&lt;p&gt;The new benchmark report which incorporates comments from Alan Gates on the PIG queries. We also used Lzo to compress the intermediate map output data.&lt;/p&gt;</comment>
                            <comment id="12726954" author="yuntao" created="Fri, 3 Jul 2009 13:21:36 +0000"  >&lt;p&gt;The new PIG benchmark queries which incorporate the comments from Alan Gates.&lt;/p&gt;</comment>
                            <comment id="12727376" author="zshao" created="Mon, 6 Jul 2009 01:11:12 +0000"  >&lt;p&gt;Thanks Yuntao. Can you add some more details to the report?&lt;br/&gt;
1. The exact machine hardware and software configurations: cpu, memory, disk, network, linux version, lzo library version.&lt;br/&gt;
2. The speed-up percentages of changing mapred.map.output.compression.codec from gzip to lzo.&lt;/p&gt;</comment>
                            <comment id="12730473" author="yuntao" created="Mon, 13 Jul 2009 19:25:06 +0000"  >&lt;p&gt;The latest Hive benchmark that covers a few things:&lt;/p&gt;

&lt;p&gt;1. Includes timing results that use Lzo compression to compress the intermediate map output data.&lt;br/&gt;
2. Includes timing results without compression of the intermediate map output data.&lt;br/&gt;
3. Includes the cluster hardware and software information.&lt;br/&gt;
4. Includes updated Hive benchmark queries&lt;br/&gt;
5. Includes updated PIG benchmark queries&lt;br/&gt;
6. Includes updated hadoop job source code. &lt;br/&gt;
7. A few other minor changes, such as README etc. &lt;/p&gt;</comment>
                            <comment id="12732158" author="yuntao" created="Thu, 16 Jul 2009 21:02:17 +0000"  >&lt;p&gt;Revising the benchmark report. Thanks Raghu Murthy for his help.&lt;/p&gt;</comment>
                            <comment id="12733883" author="yuntao" created="Tue, 21 Jul 2009 23:12:04 +0000"  >&lt;p&gt;Updated the benchmark script to make it more automatic. Now it outputs all the timings to a csv file which looks like:&lt;/p&gt;

&lt;p&gt;Timings, grep select, rankings select, uservisits aggregation, uservisits-rankings join&lt;br/&gt;
Trial 1&lt;br/&gt;
Hive,126.3,25.0,546.1,447.9,&lt;br/&gt;
PIG,240.5,31.0,672.3,658.3,&lt;br/&gt;
Hadoop,135.4,21.6,394.9,486.1&lt;br/&gt;
Trial 2&lt;br/&gt;
Hive,126.3,25.0,546.1,447.9,&lt;br/&gt;
PIG,240.5,31.0,672.3,658.3,&lt;br/&gt;
Hadoop,135.4,21.6,394.9,486.1&lt;br/&gt;
Trial 3&lt;br/&gt;
Hive,126.3,25.0,546.1,447.9,&lt;br/&gt;
PIG,240.5,31.0,672.3,658.3,&lt;br/&gt;
Hadoop,135.4,21.6,394.9,486.1&lt;/p&gt;

&lt;p&gt;The first line shows the queries, followed by query timings from different trials. Within each trial, there are three lines showing the query timings on Hive, PIG and Hadoop, respectively. The numbers here are for illustration purpose only.&lt;br/&gt;
The file can be directly opened in excel. User can then easily generate a performance graph on top of it&lt;/p&gt;</comment>
                            <comment id="12739834" author="alangates" created="Thu, 6 Aug 2009 00:18:51 +0000"  >&lt;p&gt;I ran the uservisits_aggre query on one of our clusters and got the following results:&lt;/p&gt;

&lt;p&gt;MR Time:  108&lt;br/&gt;
Hive:          206&lt;br/&gt;
Pig Time:  182&lt;/p&gt;

&lt;p&gt;These are wall clock times from beginning to end of the job.  The MR job I used is code I wrote, not the code included in the benchmark since it was obviously sub-optimal.  &lt;/p&gt;

&lt;p&gt;The cluster I used was fairly beefy:  10 boxes (1 as NN and JT, 9 as slaves), 4 disk (each 800G), 16G memory, 2 proc quad core 2.5GHz Xeon processors.  I set io.sort.mb to 1024M, dfs.block.size to 536870912 (512M), and java heap size to 2G.&lt;/p&gt;

&lt;p&gt;I did not make any configuration changes to hive to take advantage of the larger boxes.  Any thoughts on how I ought to tune hive for this cluster?&lt;/p&gt;</comment>
                            <comment id="12739860" author="zshao" created="Thu, 6 Aug 2009 01:33:40 +0000"  >&lt;p&gt;Yuntao is on vacation right now - he will come back next week when he can answer questions on these better (hive configuration, etc).&lt;/p&gt;

&lt;p&gt;How many mapper slots and reducer slots are there in the cluster? How many mappers and reducers did hadoop, hive and pig take?&lt;br/&gt;
Are you using hive trunk? What is the hive svn revision number?&lt;br/&gt;
I am also interested in learning how you write the efficient hadoop code for the aggregation query. Can you attach your hadoop code?&lt;/p&gt;</comment>
                            <comment id="12740431" author="yuntao" created="Fri, 7 Aug 2009 07:04:07 +0000"  >&lt;p&gt;Can you check how many jobs are there in the Hive query? If there are two, it means the output from Hive are merged to a single file by running an additional map-reduce job. If that is the case, you can turn it off by change the following property in Hive-default.xml to FALSE (it is true by default).&lt;/p&gt;

&lt;p&gt;hive.merge.mapfiles true &lt;br/&gt;
&quot;Merge small files at the end of a map-only job&quot;&lt;/p&gt;

&lt;p&gt;Other than that, I have no idea why Hive is so slow. &lt;/p&gt;</comment>
                            <comment id="12741465" author="alangates" created="Mon, 10 Aug 2009 18:21:13 +0000"  >&lt;p&gt;&amp;gt; How many mapper slots and reducer slots are there in the cluster?&lt;br/&gt;
There are 36 mapper and 36 reducer slots on the cluster.&lt;/p&gt;

&lt;p&gt;&amp;gt; How many mappers and reducers did hadoop, hive and pig take?&lt;br/&gt;
Hadoop and Hive took 35 maps, pig took 36.  I set all to use 4 reducers.&lt;/p&gt;

&lt;p&gt;&amp;gt; Are you using hive trunk? What is the hive svn revision number?&lt;br/&gt;
SVN revision 796069&lt;/p&gt;

&lt;p&gt;&amp;gt; I am also interested in learning how you write the efficient hadoop code for the aggregation query. Can you attach your hadoop code?&lt;br/&gt;
Attached as AlansMRCode.tgz&lt;/p&gt;

&lt;p&gt;I looked in hive-default.xml and didn&apos;t see any hive.merge.mapfiles.  Should I add it to hive-defult.xml and set it to false?  Out of curiosity, why do you default to merging map files first?&lt;/p&gt;</comment>
                            <comment id="12741583" author="namit" created="Mon, 10 Aug 2009 22:01:18 +0000"  >&lt;p&gt;&amp;gt; I looked in hive-default.xml and didn&apos;t see any hive.merge.mapfiles. Should I add it to hive-defult.xml and set it to false?&lt;/p&gt;

&lt;p&gt;YES&lt;/p&gt;

&lt;p&gt;&amp;gt; Out of curiosity, why do you default to merging map files first?&lt;/p&gt;

&lt;p&gt;There are production map-only jobs which lead to a lot of small files for many partitions, which increases the load on the name node, and too many mappers for processing the data across many partitions.&lt;/p&gt;</comment>
                            <comment id="12745665" author="zshao" created="Thu, 20 Aug 2009 21:19:44 +0000"  >&lt;p&gt;Alan, did you run your benchmark with the new option we suggested? Also you might want to update hive to trunk to take advantage of new hive performance improvements introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-732&quot; title=&quot;Store intermediate data in binary using LazyBinarySerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-732&quot;&gt;&lt;del&gt;HIVE-732&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12805574" author="vliaskov" created="Wed, 27 Jan 2010 17:10:24 +0000"  >&lt;p&gt;I am trying to run the hive benchmarks on a small 8-node hadoop cluster, starting from the 2009-07-21 tarball. Iam using hadoop-0.20.1 and hive-0.4.1. I have a few questions, any help is welcome&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;datasize: the report states 60GB of data used for the uservisitis table. The default datagen/htmlgen/config.txt uses ~15GB of Uservisits tables per node. I believe the way the generatedata.py script runs, we get one rankings/ uservisits table per node i.e. on an 10 data nodes we &apos;d get 10tablesx15GB=150GB of data. Do the benchmarks in the report use all of the generated data i.e. UserVistis_0, UserVists_1,..., UserVistis_10 across the 10 data nodes? Or a subset of these? Same question for the rankings table.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I assume that the hadoop-site.xml and hive-site.xml files under confs/ (from the 2009-07-21 tarball) accurately reflect the hadoop/hive configuration used to produce the results in the report. Let me know if that&apos;s not the case, I ve been using these configs to run the benchmarks.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Regarding query4 (join) specifically ,  the reduce phase of the first job (main job with ) shows a strange behaviour. Looking at the jobtracker GUI, out of 60 reducers, 59 reducers finish relatively fast (~1 min), but one reducer  task takes much longer (~19min). Does that point to a specific hadoop/ hive misconfiguration? No other hadoop job that I &apos;ve run exhibits this. Is this intuitive behaviour given a join operation?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13182196" author="ardorem" created="Sun, 8 Jan 2012 05:20:45 +0000"  >&lt;p&gt;Hi &lt;/p&gt;

&lt;p&gt;I&#8217;m trying to use hive performance benchmark.&lt;br/&gt;
I read README file and followed step by step, and finally I reached to the &lt;br/&gt;
data generation part. Teragen has no problem, but I face a problem with htmlgen.&lt;/p&gt;

&lt;p&gt;I configured something to my own cluster (40 VMs), and launched generateData.py, &lt;br/&gt;
but it never finished! I launched it about 10 hours ago.. &lt;br/&gt;
So, I modified UserVisits and Rankings in config.txt to be smaller, but it was also failed.&lt;br/&gt;
Even it consumed very little resources when I saw &apos;top&apos; information in the ubuntu.&lt;/p&gt;

&lt;p&gt;Have you guys ever met this kinds of problems? &lt;br/&gt;
And if you have, how did you solve this problem? &lt;br/&gt;
Thank you so much &lt;/p&gt;</comment>
                            <comment id="13640573" author="ddib" created="Wed, 24 Apr 2013 16:01:49 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I&apos;m tying to run the mapreduce version of the ranking_select job of the hive-benchmarks, and I&apos;m getting a java error (see below). &lt;br/&gt;
I thought that the error comes from the ranking data but the rankings_uservisits_join job runs without any problem.&lt;/p&gt;

&lt;p&gt;Any help would be appreciated.&lt;/p&gt;

&lt;p&gt;java.lang.NumberFormatException: For input string: &quot;&quot;&lt;br/&gt;
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
at java.lang.Integer.parseInt(Integer.java:470)&lt;br/&gt;
at java.lang.Integer.valueOf(Integer.java:554)&lt;br/&gt;
at edu.brown.cs.mapreduce.benchmarks.Benchmark1$TextMap.map(Benchmark1.java:76)&lt;br/&gt;
at edu.brown.cs.mapreduce.benchmarks.Benchmark1$TextMap.map(Benchmark1.java:70)&lt;br/&gt;
at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)&lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;br/&gt;
at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;/p&gt;</comment>
                            <comment id="15075790" author="ramgopalnaali" created="Thu, 31 Dec 2015 06:59:19 +0000"  >&lt;p&gt;Is this kit available for Hive server-2 with latest version of Hadoop?&lt;/p&gt;</comment>
                            <comment id="15162795" author="dhruvkapatel" created="Wed, 24 Feb 2016 10:38:03 +0000"  >&lt;p&gt;Here they have considered real time for benchmark. I think real time you get from time command may affected by other processes also. Does it fair comparison by considering real time?&lt;/p&gt;

&lt;p&gt;in time command user+sys represents total cpu time right. Then it should be same as total cpu time spent in job counter. But i am getting different results. &lt;br/&gt;
I&apos;ve mentioned more details in this question.&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/35500987/which-one-should-i-use-for-benchmark-tasks-in-hadoop-usersys-time-or-total-cpu&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/35500987/which-one-should-i-use-for-benchmark-tasks-in-hadoop-usersys-time-or-total-cpu&lt;/a&gt;   &lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12429327">HIVE-600</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12416097" name="AlansMRcode.tgz" size="1968" author="alangates" created="Mon, 10 Aug 2009 18:21:47 +0000"/>
                            <attachment id="12411185" name="hive_benchmark_2009-06-18.pdf" size="62561" author="zshao" created="Fri, 19 Jun 2009 04:02:17 +0000"/>
                            <attachment id="12411184" name="hive_benchmark_2009-06-18.tar.gz" size="440308" author="zshao" created="Fri, 19 Jun 2009 04:00:29 +0000"/>
                            <attachment id="12413737" name="hive_benchmark_2009-07-12.pdf" size="305103" author="yuntao" created="Thu, 16 Jul 2009 21:02:16 +0000"/>
                            <attachment id="12414156" name="hive_benchmark_2009-07-21.tar.gz" size="263697" author="yuntao" created="Tue, 21 Jul 2009 23:12:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Jun 2009 17:34:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-397] Union tests fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-397</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;These two union tests fail in both the 0.3 branch and in trunk.&lt;br/&gt;
testCliDriver_union10&lt;br/&gt;
testCliDriver_union12&lt;br/&gt;
&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.19/lastBuild/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.19/lastBuild/testReport/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422369">HIVE-397</key>
            <summary>Union tests fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 14:31:18 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:49 +0000</updated>
                            <resolved>Wed, 8 Apr 2009 23:12:11 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.4.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12697073" author="johanoskarsson" created="Wed, 8 Apr 2009 15:58:32 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-384&quot; title=&quot;problem in union if the first subquery is a map-only job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-384&quot;&gt;&lt;del&gt;HIVE-384&lt;/del&gt;&lt;/a&gt; for more details.&lt;/p&gt;</comment>
                            <comment id="12697118" author="namit" created="Wed, 8 Apr 2009 17:42:30 +0000"  >&lt;p&gt;The output order is not guaranteed, which is showing up as a dif.&lt;br/&gt;
I will add a sort at the end to make it deterministic&lt;/p&gt;</comment>
                            <comment id="12697151" author="athusoo" created="Wed, 8 Apr 2009 19:00:33 +0000"  >&lt;p&gt;I think as a policy we should always diff on ordered outputs. Maybe we should all look out for that in the code reviews when new tests are added.&lt;/p&gt;</comment>
                            <comment id="12697154" author="athusoo" created="Wed, 8 Apr 2009 19:05:31 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Looks good. I am running test on this and will check it in once the tests succeed.&lt;/p&gt;</comment>
                            <comment id="12697296" author="athusoo" created="Wed, 8 Apr 2009 23:12:11 +0000"  >&lt;p&gt;committed. Thanks Namit!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12404988" name="hive.397.1.patch" size="28194" author="namit" created="Wed, 8 Apr 2009 18:14:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Apr 2009 17:42:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-398] column comments not supported in ADD COLUMNS and REPLACE COLUMNS statements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-398</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The error message is also broken.&lt;/p&gt;

&lt;p&gt;hive&amp;gt; create table tmp_rs(a int);&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.057 seconds&lt;br/&gt;
hive&amp;gt; &lt;b&gt;alter table tmp_rs add columns (b int);&lt;/b&gt; &amp;lt;----- succeeds                                   &lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.126 seconds&lt;br/&gt;
hive&amp;gt; &lt;b&gt;alter table tmp_rs add columns (c int &apos;test&apos;);&lt;/b&gt; &amp;lt;------ fails&lt;br/&gt;
FAILED: Parse Error: line 2:19 mismatched input &apos;add&apos; expecting SET in alter serdes statement&lt;/p&gt;

&lt;p&gt;Time taken: 0.0090 seconds&lt;br/&gt;
hive&amp;gt; &lt;b&gt;alter table tmp_rs replace columns (c int);&lt;/b&gt; &amp;lt;----- succeeds&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.096 seconds&lt;br/&gt;
hive&amp;gt; &lt;b&gt;alter table tmp_rs replace columns (c int &apos;test&apos;);&lt;/b&gt; &amp;lt;----- fails&lt;br/&gt;
FAILED: Parse Error: line 2:19 mismatched input &apos;replace&apos; expecting SET in alter serdes statement&lt;/p&gt;

&lt;p&gt;Time taken: 0.01 seconds&lt;br/&gt;
hive&amp;gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12422388">HIVE-398</key>
            <summary>column comments not supported in ADD COLUMNS and REPLACE COLUMNS statements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 17:56:27 +0000</created>
                <updated>Fri, 29 Oct 2010 22:59:48 +0000</updated>
                                            <version>0.3.0</version>
                    <version>0.4.0</version>
                    <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-399] timeout while running testclidriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-399</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;there are ~200 tests right now, and it sometimes takes more than 30 min (which is the current timeout).&lt;/p&gt;

&lt;p&gt;The potential fixes are:&lt;br/&gt;
1. Increase the timeout to 45 min.&lt;br/&gt;
2. Reduce the time for some big tests (like groupby_bigdata.q).&lt;/p&gt;

&lt;p&gt;We should do both of them. In order to test groupby_bigdata.q, we need to run the mapper/reducer with less memory. Since it is not&lt;br/&gt;
a supported feature for hadoop right now in local mode, a new variable can be added for the same. The new configurable parameter will&lt;br/&gt;
only work in local mode&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422404">HIVE-399</key>
            <summary>timeout while running testclidriver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 20:56:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:40 +0000</updated>
                            <resolved>Wed, 8 Apr 2009 21:53:18 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12697228" author="athusoo" created="Wed, 8 Apr 2009 21:46:19 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Looks good to me though we need to also find a long term solution of running junit in parallel in order to get out of the habit of bumping the timeout value. Will file a separate JIRA for that.&lt;/p&gt;

&lt;p&gt;Will checkin.&lt;/p&gt;</comment>
                            <comment id="12697235" author="athusoo" created="Wed, 8 Apr 2009 21:53:18 +0000"  >&lt;p&gt;committed. Thanks Namit!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405003" name="hive.1.399.patch" size="4771" author="namit" created="Wed, 8 Apr 2009 20:59:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Apr 2009 21:46:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-400] bug in multi-join </title>
                <link>https://issues.apache.org/jira/browse/HIVE-400</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;explain&lt;br/&gt;
SELECT src5.src1_value&lt;br/&gt;
FROM&lt;br/&gt;
  (SELECT src3.*,&lt;br/&gt;
          src4.value as src4_value,&lt;br/&gt;
          src4.key as src4_key&lt;br/&gt;
  FROM src src4&lt;br/&gt;
  JOIN&lt;br/&gt;
    (SELECT src2.*,&lt;br/&gt;
            src1.key as src1_key,&lt;br/&gt;
            src1.value as src1_value&lt;br/&gt;
    FROM src src1&lt;br/&gt;
    JOIN src src2&lt;br/&gt;
    ON src1.key = src2.key) src3&lt;br/&gt;
  ON src3.src1_key = src4.key) src5;&lt;/p&gt;



&lt;p&gt;The above query fails: &lt;/p&gt;

&lt;p&gt;2009-04-08 15:50:30,087 ERROR ql.Driver (SessionState.java:printError(279)) - FAILED: Error in semantic analysis: line 2:12 Invalid Column Reference src1_value&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: line 2:12 Invalid Column Reference src1_value&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:3616)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:1228)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:2963)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:3334)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:3533)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:80)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:43)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:80)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:199)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:174)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:207)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:410)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422422">HIVE-400</key>
            <summary>bug in multi-join </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2009 22:53:18 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:26 +0000</updated>
                            <resolved>Thu, 9 Apr 2009 05:37:15 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12697349" author="namit" created="Thu, 9 Apr 2009 00:40:52 +0000"  >&lt;p&gt;There was a minor bug in genSelectPlan/genColList&lt;/p&gt;</comment>
                            <comment id="12697359" author="zshao" created="Thu, 9 Apr 2009 01:40:45 +0000"  >&lt;p&gt;Testing. Will commit to both branch-0.3 and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405027" name="hive.400.1.patch" size="7592" author="namit" created="Thu, 9 Apr 2009 00:40:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Apr 2009 01:40:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-400&quot; title=&quot;bug in multi-join &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-400&quot;&gt;&lt;strike&gt;HIVE-400&lt;/strike&gt;&lt;/a&gt;. Fix bug in genColList. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-401] Reduce the ant test time to under 15 minutes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-401</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;ant test&quot; is taking too long. This is a big overhead for development since we need to do context switching all the time.&lt;/p&gt;

&lt;p&gt;We should bring the time back to under 15 minutes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422439">HIVE-401</key>
            <summary>Reduce the ant test time to under 15 minutes</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2009 05:40:52 +0000</created>
                <updated>Fri, 28 Dec 2012 05:07:57 +0000</updated>
                            <resolved>Fri, 28 Dec 2012 05:07:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12699386" author="zshao" created="Wed, 15 Apr 2009 21:08:41 +0000"  >&lt;p&gt;Run the following command in the same directory that you runs &quot;ant test&quot;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive_parallel_test.sh -v 17 ptest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It takes ~15 minutes to run the tests in a dual 4-core machine.&lt;/p&gt;

&lt;p&gt;Please change the &quot;owner&quot; variable inside the script if you want to get an email when the test finishes.&lt;/p&gt;</comment>
                            <comment id="12699388" author="zshao" created="Wed, 15 Apr 2009 21:10:38 +0000"  >&lt;p&gt;If somebody has ideas to fix this more elegantly, please have a try and let us know how it goes.&lt;/p&gt;</comment>
                            <comment id="13071437" author="cwsteinbach" created="Tue, 26 Jul 2011 23:33:26 +0000"  >&lt;p&gt;Yesterday it took me 4 hours to run the tests on trunk.&lt;/p&gt;</comment>
                            <comment id="13540309" author="ashutoshc" created="Fri, 28 Dec 2012 05:07:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Unit+Test+Parallel+Execution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Unit+Test+Parallel+Execution&lt;/a&gt; documents how to run tests parallely.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405578" name="hive_parallel_test.sh" size="3020" author="zshao" created="Wed, 15 Apr 2009 21:08:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jul 2011 23:33:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-402] Create regexp_extract udf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-402</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This will allow users to extract substrings from a string based on a regular expression.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422533">HIVE-402</key>
            <summary>Create regexp_extract udf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2009 23:23:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:31 +0000</updated>
                            <resolved>Tue, 21 Apr 2009 16:53:04 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12700002" author="namit" created="Fri, 17 Apr 2009 04:57:21 +0000"  >&lt;p&gt;1. Can you remove   LOG.warn(&quot;here please&quot;); from evaluate &lt;br/&gt;
2. Do you want to make the last parameter extractIndex optional ?&lt;/p&gt;

&lt;p&gt;Otherwise, it looks good. &lt;br/&gt;
Do we need to backport it in branch 3 also ?&lt;/p&gt;</comment>
                            <comment id="12700412" author="rsm" created="Sat, 18 Apr 2009 02:18:18 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removed warn message&lt;/li&gt;
	&lt;li&gt;made third argument optional&lt;/li&gt;
	&lt;li&gt;it would be good to backport to 0.3 since i need to use this method, but its not critical&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12701184" author="namit" created="Tue, 21 Apr 2009 16:00:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will run tests and commit if tests pass&lt;/p&gt;</comment>
                            <comment id="12701199" author="namit" created="Tue, 21 Apr 2009 16:53:04 +0000"  >&lt;p&gt;Committed. Thanks Raghu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405122" name="hive-402.1.patch" size="9104" author="rsm" created="Thu, 9 Apr 2009 23:28:26 +0000"/>
                            <attachment id="12405834" name="hive-402.2.patch" size="14524" author="rsm" created="Sat, 18 Apr 2009 02:18:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Apr 2009 04:57:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122206</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-403] remove password password params from job config that is submitted to job tracker</title>
                <link>https://issues.apache.org/jira/browse/HIVE-403</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Do not show metastore db password when it is sent to job tracker and do not print this option in logs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422541">HIVE-403</key>
            <summary>remove password password params from job config that is submitted to job tracker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2009 03:24:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:28 +0000</updated>
                            <resolved>Mon, 27 Apr 2009 23:40:50 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.4.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12697721" author="prasadc" created="Fri, 10 Apr 2009 03:25:52 +0000"  >&lt;p&gt;replaced pwd with *** since there is no method to remove stuff from jobconf&lt;/p&gt;</comment>
                            <comment id="12698454" author="prasadc" created="Mon, 13 Apr 2009 17:42:32 +0000"  >&lt;p&gt;removed a stray line. &lt;/p&gt;</comment>
                            <comment id="12698456" author="athusoo" created="Mon, 13 Apr 2009 17:46:37 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;</comment>
                            <comment id="12698492" author="prasadc" created="Mon, 13 Apr 2009 18:48:43 +0000"  >&lt;p&gt;checked only into trunk&lt;/p&gt;</comment>
                            <comment id="12698858" author="prasadc" created="Tue, 14 Apr 2009 18:00:35 +0000"  >&lt;p&gt;per athusoo, committed this into branch 0.3 as well.&lt;/p&gt;</comment>
                            <comment id="12700495" author="prasadc" created="Sat, 18 Apr 2009 15:42:46 +0000"  >&lt;p&gt;throwing NPE on some installations..&lt;/p&gt;</comment>
                            <comment id="12703438" author="athusoo" created="Mon, 27 Apr 2009 23:35:45 +0000"  >&lt;p&gt;Prasad, can we close this out? I support this has already been fixed?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405332" name="hive-403.2.patch" size="3032" author="prasadc" created="Mon, 13 Apr 2009 17:42:32 +0000"/>
                            <attachment id="12405135" name="hive-403.patch" size="3340" author="prasadc" created="Fri, 10 Apr 2009 03:25:52 +0000"/>
                            <attachment id="12405820" name="tmp1.patch" size="1065" author="prasadc" created="Fri, 17 Apr 2009 22:28:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2009 17:46:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Password for the metastore db account will not appear in job traker or logs.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-404] Problems in &quot;SELECT * FROM t SORT BY col1 LIMIT 100&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-404</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Unless the user specify &quot;set mapred.reduce.tasks=1;&quot;, he will see unexpected results with the query of  &quot;SELECT * FROM t SORT BY col1 LIMIT 100&quot;&lt;/p&gt;

&lt;p&gt;Basically, in the first map-reduce job, each reducer will get sorted data and only keep the first 100. In the second map-reduce job, we will distribute and sort the data randomly, before feeding into a single reducer that outputs the first 100.&lt;/p&gt;

&lt;p&gt;In short, the query will output 100 random records in N * 100 top records from each of the reducer in the first map-reduce job.&lt;/p&gt;

&lt;p&gt;This is contradicting to what people expects.&lt;/p&gt;


&lt;p&gt;We should propagate the SORT BY columns to the second map-reduce job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422544">HIVE-404</key>
            <summary>Problems in &quot;SELECT * FROM t SORT BY col1 LIMIT 100&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2009 07:51:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:33 +0000</updated>
                            <resolved>Sat, 18 Apr 2009 01:25:26 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12699473" author="zshao" created="Thu, 16 Apr 2009 01:26:26 +0000"  >&lt;p&gt;1. I think the condition on &quot;distributedBy&quot; is not needed. clusterBy = distributeBy and sortBy. distributeBy does not enforce the order.&lt;/p&gt;

&lt;p&gt;2. We need to upgrade the FetchTask to be able to merge multiple sorted stream. This may not be good because there might be thousands of files needed to be opened by a single client. This also does NOT solve the problem when the result is inserted into a table.&lt;/p&gt;

&lt;p&gt;An alternative to 2 is to propagate the sort order to the second map-reduce job. I think that will solve the problem.&lt;/p&gt;
</comment>
                            <comment id="12699737" author="namit" created="Thu, 16 Apr 2009 16:07:41 +0000"  >&lt;p&gt;1. Will do - distributeBy check is not needed&lt;br/&gt;
2. It creates a second map-reduce if it is not a query, so inserts is not a problem. Sort order is propagated to the second map-reduce job.&lt;br/&gt;
    I dont think FetchTask needs any change - the current change performs a second map-reduce job which should fix the problem.&lt;/p&gt;

&lt;p&gt;Will do the changes and reload the patch.&lt;/p&gt;
</comment>
                            <comment id="12699746" author="namit" created="Thu, 16 Apr 2009 16:16:48 +0000"  >&lt;p&gt;incorporated Zheng&apos;s comments&lt;/p&gt;</comment>
                            <comment id="12699858" author="namit" created="Thu, 16 Apr 2009 20:58:13 +0000"  >&lt;p&gt;Forgot to clarify the FetchTask issue. FetchTask does not perform any merge - it opens files one-by-one until limit is reached (if limit is specified).&lt;br/&gt;
It is the responsibility of the server to have the data appropriately sorted.&lt;/p&gt;</comment>
                            <comment id="12699863" author="zshao" created="Thu, 16 Apr 2009 21:06:00 +0000"  >&lt;p&gt;I think the users would expect the results of LIMIT to be sorted in total order - if user says &quot;SORT BY key LIMIT 10&quot;, he probably wants the global top 10, no matter how many reducers we have.&lt;/p&gt;

&lt;p&gt;I think it&apos;s necessary to have the second map-reduce job in case of &quot;SORT BY/CLUSTER BY&quot;, but we also want the second map-reduce job to have the right sort cols between the map-reduce boundary so we can get the global top ones.&lt;/p&gt;
</comment>
                            <comment id="12699867" author="namit" created="Thu, 16 Apr 2009 21:12:32 +0000"  >&lt;p&gt;Thats right - that&apos;s what genReduceSinkPlan does.&lt;/p&gt;

&lt;p&gt;After the change, if a sorting/clustering column is present, a second map-reduce job will sort/cluster by those columns, so that we can get the global order&lt;/p&gt;</comment>
                            <comment id="12699868" author="namit" created="Thu, 16 Apr 2009 21:13:44 +0000"  >&lt;p&gt;The second map-reduce job will have only 1 reducer with the sorting columns preserved - so that will do exactly what you are saying&lt;/p&gt;</comment>
                            <comment id="12700400" author="zshao" created="Sat, 18 Apr 2009 00:59:44 +0000"  >&lt;p&gt;Talked with Namit offline. Apparently I was not aware that the second map-reduce job was already doing the sorting.&lt;br/&gt;
Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12700407" author="zshao" created="Sat, 18 Apr 2009 01:25:26 +0000"  >&lt;p&gt;Trunk only: Committed revision 766196. Thanks Namit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405603" name="hive.404.1.patch" size="4457" author="namit" created="Thu, 16 Apr 2009 01:18:25 +0000"/>
                            <attachment id="12405661" name="hive.404.2.patch" size="4578" author="namit" created="Thu, 16 Apr 2009 16:16:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Apr 2009 16:07:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-404&quot; title=&quot;Problems in &amp;quot;SELECT * FROM t SORT BY col1 LIMIT 100&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-404&quot;&gt;&lt;strike&gt;HIVE-404&lt;/strike&gt;&lt;/a&gt;. Fix ordering in &amp;quot;SELECT * FROM t SORT BY col1 LIMIT 100&amp;quot; when query is a outer-most query.  (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-405] Cleanup operator initialization</title>
                <link>https://issues.apache.org/jira/browse/HIVE-405</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We are always passing the same ObjectInspector, so there is no need to pass it again and again in forward.&lt;/p&gt;

&lt;p&gt;Also there is a problem that can ONLY be fixed by passing ObjectInspector in init: Outer Joins - Outer Joins may not be able to get ObjectInspectors for all inputs, as a result, there is no way to construct an output ObjectInspector based on the inputs. Currently we have hard-coded code that assumes joins are always outputting Strings, which did break but was hidden by the old framework (because we do toString() when serializing the output, and toString() is defined for all Java Classes).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422546">HIVE-405</key>
            <summary>Cleanup operator initialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2009 08:07:18 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:47 +0000</updated>
                            <resolved>Fri, 17 Jul 2009 03:42:38 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12698338" author="zshao" created="Mon, 13 Apr 2009 07:52:09 +0000"  >&lt;p&gt;This will also fix another bug: Currently UNION operator will merge the 2 streams of row objects, even if their ObjectInspectors are different. This will definitely create problems since a lot of code in Hive assumes the ObjectInspector will never change.&lt;/p&gt;</comment>
                            <comment id="12699099" author="zshao" created="Wed, 15 Apr 2009 07:34:15 +0000"  >&lt;p&gt;As part of the fix, ExprNodeEvaluator will have the following signature:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ExprNodeEvaluator {

  /**
   * Initialize should be called once and only once.
   * Return the ObjectInspector &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value, given the rowInspector.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; ObjectInspector initialize(ObjectInspector rowInspector) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException;

  /**
   * Evaluate the expression given the row.
   * This method should use the rowInspector passed in from initialize to 
   * inspect the row object.
   * The &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value will be inspected by the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of initialize. 
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; evaluate(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; row) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12699338" author="scorona" created="Wed, 15 Apr 2009 19:49:43 +0000"  >&lt;p&gt;It is my understanding that this will also fix the problem of joining on map-type columns.&lt;/p&gt;

&lt;p&gt;Ex.&lt;/p&gt;

&lt;p&gt;SELECT foobar.foo,&lt;br/&gt;
foobar.mapcolumn&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;bar&amp;#39;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;FROM foobar&lt;br/&gt;
JOIN barfoo ON ( foobar.mapcolumn&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;bar&amp;#39;&amp;#93;&lt;/span&gt; = barfoo.bleh )&lt;/p&gt;

&lt;p&gt;Will result the following exception thrown in the reduce phase:&lt;/p&gt;

&lt;p&gt;java.io.IOException: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: Hive 2 Internal error: cannot evaluate index expression on string&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExecReducer.reduce(ExecReducer.java:169)&lt;br/&gt;
       at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:430)&lt;br/&gt;
       at org.apache.hadoop.mapred.Child.main(Child.java:155)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: Hive 2 Internal error: cannot evaluate index expression on string&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.GroupByOperator.process(GroupByOperator.java:451)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:315)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.createForwardJoinObject(JoinOperator.java:259)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.genObject(JoinOperator.java:502)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.genObject(JoinOperator.java:491)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.genObject(JoinOperator.java:491)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.genObject(JoinOperator.java:491)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.checkAndGenObject(JoinOperator.java:532)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.JoinOperator.endGroup(JoinOperator.java:514)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExecReducer.reduce(ExecReducer.java:140)&lt;br/&gt;
       ... 2 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Hive 2 Internal error: cannot evaluate index expression on string&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExprNodeIndexEvaluator.evaluate(ExprNodeIndexEvaluator.java:64)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExprNodeFuncEvaluator.evaluate(ExprNodeFuncEvaluator.java:72)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExprNodeFuncEvaluator.evaluate(ExprNodeFuncEvaluator.java:72)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.ExprNodeFuncEvaluator.evaluate(ExprNodeFuncEvaluator.java:72)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.GroupByOperator.updateAggregations(GroupByOperator.java:370)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.GroupByOperator.processHashAggr(GroupByOperator.java:470)&lt;br/&gt;
       at org.apache.hadoop.hive.ql.exec.GroupByOperator.process(GroupByOperator.java:445)&lt;br/&gt;
       ... 11 more&lt;/p&gt;</comment>
                            <comment id="12699343" author="zshao" created="Wed, 15 Apr 2009 19:57:29 +0000"  >&lt;p&gt;@Steve: Yes&lt;/p&gt;</comment>
                            <comment id="12730665" author="zshao" created="Tue, 14 Jul 2009 03:13:34 +0000"  >&lt;p&gt;@hive-405.patch:&lt;/p&gt;

&lt;p&gt;Please use &quot;parentsObjectInspector&quot; instead of adding &quot;inputObjectInspectors&quot; to Operator.java.&lt;/p&gt;
</comment>
                            <comment id="12730670" author="prasadc" created="Tue, 14 Jul 2009 03:46:57 +0000"  >&lt;p&gt;why? the name of the argument to initialize() uses input. isn&apos;t input same as parents?&lt;/p&gt;</comment>
                            <comment id="12730673" author="zshao" created="Tue, 14 Jul 2009 03:54:15 +0000"  >&lt;p&gt;I think Operator.inputObjectInspectors and Operator.parentsObjectInspector contain the same information.&lt;br/&gt;
So we don&apos;t need to add inputObjectInspectors to Operator.&lt;/p&gt;</comment>
                            <comment id="12730685" author="prasadc" created="Tue, 14 Jul 2009 04:29:40 +0000"  >&lt;p&gt;are you sure about it? that doesn&apos;t seem to be correct. parentsObjectInspector doesn&apos;t seem to have been set in some cases, especially for TableScan (or topOps)&lt;/p&gt;</comment>
                            <comment id="12731563" author="prasadc" created="Wed, 15 Jul 2009 17:13:32 +0000"  >&lt;p&gt;currently the operator graph is walked multiple times setting one field each time (output collector, mapredwork, alias, joinalias). actually joinalias doesn&apos;t seem to be called from anywhere. i will try to refactor few other things as well.&lt;/p&gt;</comment>
                            <comment id="12731826" author="prasadc" created="Thu, 16 Jul 2009 06:20:08 +0000"  >&lt;p&gt;this refactors operator initialization&lt;/p&gt;

&lt;p&gt;1) removes ObjectInspector arg from Operator.process()&lt;br/&gt;
2) eliminates one of the 4 operator initialization functions&lt;br/&gt;
3) simplified and moved most of MapOperator.initiaizeOp() to a specific function since it modifies operator graph while initializing it. this move eliminates some of the work arounds put in initialization code.&lt;br/&gt;
4) moved initialization of operators to ExecMapper/ExceReducer.configure() from map() and reducer().&lt;/p&gt;

</comment>
                            <comment id="12731954" author="namit" created="Thu, 16 Jul 2009 14:15:03 +0000"  >&lt;p&gt;I will take a look and get back to you.&lt;/p&gt;</comment>
                            <comment id="12731970" author="namit" created="Thu, 16 Jul 2009 14:49:59 +0000"  >&lt;p&gt;Can you regenerate the patch - there are some conflicts&lt;/p&gt;</comment>
                            <comment id="12731996" author="prasadc" created="Thu, 16 Jul 2009 15:41:58 +0000"  >&lt;p&gt;resolved conflicts with GroupByOperator.java and UnionOperator.java. I am testing the later conflict but uploaded latest patch.&lt;/p&gt;</comment>
                            <comment id="12732016" author="namit" created="Thu, 16 Jul 2009 16:54:44 +0000"  >&lt;p&gt;Does initializeOp() even need to call initializeChildren() ?&lt;/p&gt;

&lt;p&gt;This can be removed from all implementations of initializeOp() and can be added to Operator.initialize() after initializeOp()&lt;/p&gt;</comment>
                            <comment id="12732019" author="namit" created="Thu, 16 Jul 2009 16:57:45 +0000"  >&lt;p&gt;Thinking about it more, you should add a outputObjectInspector to Operator, which can be defaulted to inputObjectInspector&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, but can be overridden by&lt;br/&gt;
specific initializeOp() - for example, groupBy.&lt;/p&gt;

&lt;p&gt;This way, initializeChildren() in Operator need not be called with inputObjectInspector&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, but it can be called with outputObjectInspector&lt;/p&gt;</comment>
                            <comment id="12732025" author="namit" created="Thu, 16 Jul 2009 17:07:28 +0000"  >&lt;p&gt;Other than that, it looks good, you dont need to set &lt;br/&gt;
state = State.INIT in initializeChildren()&lt;/p&gt;


&lt;p&gt;the operator.initialize() will look like:&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;initializeOp()&lt;br/&gt;
state = INIT&lt;br/&gt;
initializeChildren()&lt;br/&gt;
..&lt;/p&gt;


&lt;p&gt;initializechildren() can be a private method which no one else should call&lt;/p&gt;

</comment>
                            <comment id="12732029" author="prasadc" created="Thu, 16 Jul 2009 17:19:10 +0000"  >&lt;p&gt;i thought about it but didn&apos;t do it for two reasons&lt;/p&gt;

&lt;p&gt;1) any operator can choose not to call initializeChildren. eg. MapOperator does not call initializeChildren() directly but calls initialize() on children directly with different ObjectInspector object for each child.&lt;/p&gt;

&lt;p&gt;2) ScriptOperator.initializeOp() seems to do some more stuff after calling initializeChildren() which is different from calling initiaizeChildren() after calling initializeOp()&lt;/p&gt;

&lt;p&gt;Even if 2) doesn&apos;t matter, I don&apos;t see how we can get around 1) in the scheme you suggested&lt;/p&gt;

&lt;p&gt;If you agree then I am going to upload a new patch which fixes TestOperators (which was failing after merging with trunk).&lt;/p&gt;</comment>
                            <comment id="12732040" author="namit" created="Thu, 16 Jul 2009 17:32:36 +0000"  >&lt;p&gt;As you said 2. does not matter - I dont think if we move initializeChildren() to the end, anything will change&lt;/p&gt;

&lt;p&gt;1. is needed - MapOperator is an exception, and it needs a different walker - it can override initializeChildren() to do nothing.&lt;br/&gt;
In some sense, it has more than one outputObjectInspectors, which is not true for any other operator - ExecMapper and ExecReducer are&lt;br/&gt;
different.&lt;/p&gt;

&lt;p&gt;I still think we should do 1. - and treat MapOperator as a exception&lt;/p&gt;</comment>
                            <comment id="12732053" author="prasadc" created="Thu, 16 Jul 2009 17:55:37 +0000"  >&lt;p&gt;Are you suggesting that we keep initializeChildren() method and override in MapOperator()? I think the current initialization methods has distinct functionalities&lt;/p&gt;

&lt;p&gt;1) Operator.initialize() &amp;#8211; makes sure that all parents are initialized before the operator is initialized. this also initializes common structures needed for all operators. this the only public initialization method.&lt;br/&gt;
2) Operator.initializeOp() &amp;#8211; does operator specific initialization including initialization of children. It is up to the operator in what order child operators need to be initialized. the base implementation will just call initializeChildren() with the output ObjectInspector. this is a protected method.&lt;br/&gt;
3) Operator.initializeChildren() &amp;#8211; calls initialize() on all children. this is a protected method.&lt;/p&gt;

&lt;p&gt;I think what we have here and you are proposing are pretty similar except that MapOperator() become more customized.&lt;/p&gt;

&lt;p&gt;But I agree that there should be an OutputObjectInspector field in Operator.java and that should be used while calling initialize() on children in Operator.java. I will make that change.&lt;/p&gt;</comment>
                            <comment id="12732057" author="namit" created="Thu, 16 Jul 2009 18:03:16 +0000"  >&lt;p&gt;&amp;gt;&amp;gt; Are you suggesting that we keep initializeChildren() method and override in MapOperator()?&lt;br/&gt;
yes&lt;/p&gt;


&lt;p&gt;Yes, MapOperator() becomes more customized, but all other operators become simplified&lt;br/&gt;
initializeOp() just calls operator specific initialization, if any.&lt;br/&gt;
By default, all children are initialized after that, with the outputObjectInspector (assuming there is only one).&lt;/p&gt;

&lt;p&gt;MapOperator overrides this behavior &amp;#8211; &lt;/p&gt;

&lt;p&gt;If we want to make it more general, we can have an array of outputObjectInspectors, one for each child - they will be the same except for MapOperator,&lt;br/&gt;
but then mapOperator can also fit in this framework - I dont think it is worth it to generalize at that level.&lt;/p&gt;


</comment>
                            <comment id="12732234" author="zshao" created="Thu, 16 Jul 2009 23:05:52 +0000"  >&lt;p&gt;Talked with Prasad on this offline.&lt;/p&gt;

&lt;p&gt;Since we already have an example of initializing children before we can finish all the initializations (ScriptOperator kicking off the thread that gets data from the script), I think it makes sense to keep the &quot;initializeChildren&quot; call inside the customized initializeOp().&lt;/p&gt;

&lt;p&gt;Another way to do this is to add a post-order intialize recursive call to the Operator. That is probably the cleanest approach - we will first do pre-order initialization, and then post-order initialization.&lt;/p&gt;</comment>
                            <comment id="12732268" author="prasadc" created="Fri, 17 Jul 2009 00:41:16 +0000"  >&lt;p&gt;for now i will leave the initializeChildren() inside initializeOp(). what do you guys say?&lt;/p&gt;</comment>
                            <comment id="12732276" author="namit" created="Fri, 17 Jul 2009 00:52:06 +0000"  >&lt;p&gt;i dont like it - but it is a minor issue and can be done later&lt;br/&gt;
so fine&lt;/p&gt;</comment>
                            <comment id="12732326" author="zshao" created="Fri, 17 Jul 2009 03:42:38 +0000"  >&lt;p&gt;Committed. Thanks Prasad.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12419434">HIVE-369</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12425375">HIVE-485</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12410450">HIVE-164</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413649" name="hive-405.6.patch" size="78742" author="prasadc" created="Thu, 16 Jul 2009 06:20:08 +0000"/>
                            <attachment id="12413701" name="hive-405.7.patch" size="80315" author="prasadc" created="Thu, 16 Jul 2009 15:41:58 +0000"/>
                            <attachment id="12413771" name="hive-405.9.patch" size="90929" author="prasadc" created="Fri, 17 Jul 2009 03:03:04 +0000"/>
                            <attachment id="12413372" name="hive-405.patch" size="38463" author="prasadc" created="Tue, 14 Jul 2009 01:58:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Apr 2009 19:49:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-405&quot; title=&quot;Cleanup operator initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-405&quot;&gt;&lt;strike&gt;HIVE-405&lt;/strike&gt;&lt;/a&gt;. Cleanup operator initialization. (Prasad Chakka via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-406] build file improvements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-406</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;while working on hive-333 - i ended up simplifying the build files:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;should have a &apos;jar&apos; target instead of &apos;deploy&apos;&lt;/li&gt;
	&lt;li&gt;deploy copies some jar files around unnecessarily&lt;/li&gt;
	&lt;li&gt;the long sequences of subants inside build.xml can be simplified to one-liners.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;i would like to get these changes in separately (not sure whether we would actually commit hive-333 and when)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422656">HIVE-406</key>
            <summary>build file improvements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Apr 2009 07:06:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:29 +0000</updated>
                            <resolved>Wed, 15 Apr 2009 06:33:38 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12699082" author="zshao" created="Wed, 15 Apr 2009 06:33:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12699083" author="zshao" created="Wed, 15 Apr 2009 06:33:38 +0000"  >&lt;p&gt;Committed revision 765065. Thanks Joydeep!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405272" name="hive-406.patch.1" size="9110" author="jsensarma" created="Sun, 12 Apr 2009 13:21:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Apr 2009 06:33:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-406&quot; title=&quot;build file improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-406&quot;&gt;&lt;strike&gt;HIVE-406&lt;/strike&gt;&lt;/a&gt;. Build file improvements. (Joydeep Sen Sarma via zshao).&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-407] The dev tar ball does not have right permissions for test scripts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-407</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The dev tar ball does not give execute permissions to the test scripts causing test failures on the tar ball source.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422718">HIVE-407</key>
            <summary>The dev tar ball does not have right permissions for test scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2009 19:08:35 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:31 +0000</updated>
                            <resolved>Tue, 14 Apr 2009 00:14:00 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12698512" author="athusoo" created="Mon, 13 Apr 2009 19:35:13 +0000"  >&lt;p&gt;Fix for permission issues in the tar ball.&lt;/p&gt;</comment>
                            <comment id="12698513" author="athusoo" created="Mon, 13 Apr 2009 19:35:31 +0000"  >&lt;p&gt;submitting..&lt;/p&gt;</comment>
                            <comment id="12698568" author="namit" created="Mon, 13 Apr 2009 22:04:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;will run tests and commit&lt;/p&gt;</comment>
                            <comment id="12698596" author="namit" created="Tue, 14 Apr 2009 00:14:00 +0000"  >&lt;p&gt;committed. Thanks Ashish&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405343" name="patch-407.txt" size="913" author="athusoo" created="Mon, 13 Apr 2009 19:35:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2009 22:04:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-408] UDAFCount should count empty strings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-408</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UDAFCount is not counting empty strings right now. We should count that according to SQL standard. (Null is not counted.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422719">HIVE-408</key>
            <summary>UDAFCount should count empty strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2009 19:13:37 +0000</created>
                <updated>Mon, 7 Mar 2011 19:37:30 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:37:30 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12747639" author="appodictic" created="Tue, 25 Aug 2009 21:06:15 +0000"  >&lt;p&gt;Updated UDAFcount to count everything but null.&lt;/p&gt;</comment>
                            <comment id="12747654" author="appodictic" created="Tue, 25 Aug 2009 21:21:56 +0000"  >&lt;p&gt;Zheng, &lt;br/&gt;
I submitted a patch. Today I am targeting low hanging-fruit. I hope this is not anything you were looking forward to doing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Null_(SQL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Null_(SQL&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;If one is not interested in reading the reference it works like:&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; use test;&lt;br/&gt;
mysql&amp;gt; create table the_null( a int);&lt;br/&gt;
mysql&amp;gt; insert into the_null (a) values (NULL);&lt;br/&gt;
Query OK, 1 row affected (0.04 sec)&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; select * from the_null;&lt;br/&gt;
&lt;ins&gt;------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a    &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;------&lt;/ins&gt;&lt;br/&gt;
1 row in set (0.04 sec)&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; select count(a) from the_null;&lt;br/&gt;
&lt;ins&gt;----------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; count(a) &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;        0 &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------&lt;/ins&gt;&lt;br/&gt;
1 row in set (0.08 sec)&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from the_null;&lt;br/&gt;
&lt;ins&gt;----------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;        1 &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------&lt;/ins&gt;&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;</comment>
                            <comment id="12747777" author="zshao" created="Wed, 26 Aug 2009 04:57:18 +0000"  >&lt;p&gt;Edward, hive trunk/branch 0.4 is using GenericUDAFCount which already has the fix.&lt;br/&gt;
We should remove UDAFCount.java from the code base.&lt;/p&gt;

&lt;p&gt;I guess you want this for an early version?&lt;/p&gt;

</comment>
                            <comment id="12747923" author="appodictic" created="Wed, 26 Aug 2009 12:56:17 +0000"  >&lt;p&gt;Haha. No, I was just going through some open issues to see if I could lower the count of open issues. I did not realize this was obsoleted. I should have noticed when looking at the function registry. Ow well good practice. Could we comment / remove obsolete jira. Otherwise I will have to ask before starting on something.&lt;/p&gt;</comment>
                            <comment id="12748088" author="zshao" created="Wed, 26 Aug 2009 19:02:30 +0000"  >&lt;p&gt;Already fixed when we move to GenericUDAFCount.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417659" name="hive-408.diff" size="3464" author="appodictic" created="Tue, 25 Aug 2009 21:06:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 21:06:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-409] Join Operator should directly emit when it sees a row from the last join operand</title>
                <link>https://issues.apache.org/jira/browse/HIVE-409</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we are caching rows till joinEmitInterval. This is not necessary - and if we remove it, we can reduce the number of Object copies a lot (especially in the case we are joining a dimension table with a fact table)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422723">HIVE-409</key>
            <summary>Join Operator should directly emit when it sees a row from the last join operand</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2009 20:18:00 +0000</created>
                <updated>Mon, 13 Apr 2009 20:18:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08or3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-410] Heartbeating for streaming jobs should not depend on stdout</title>
                <link>https://issues.apache.org/jira/browse/HIVE-410</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;jobs that require iterative processing may take longer than 10 mins to produce rows. This shouldn&apos;t be cause to kill the job. Producing keepalive dummy rows to stdout is bad if the data has to go into a Hive table or other Hive steps.&lt;/p&gt;

&lt;p&gt;If we adopt the solution of using stderr to indicate heartbeats, can that be combined with streaming counters (&lt;a href=&quot;http://hadoop.apache.org/core/docs/current/streaming.html#How+do+I+update+counters+in+streaming+applications%3F&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/core/docs/current/streaming.html#How+do+I+update+counters+in+streaming+applications%3F&lt;/a&gt; )? Also, will limitations on size of stderr break this?&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12422745">HIVE-410</key>
            <summary>Heartbeating for streaming jobs should not depend on stdout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2009 01:16:15 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:49 +0000</updated>
                            <resolved>Wed, 20 May 2009 22:27:48 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12700985" author="indigoviolet" created="Mon, 20 Apr 2009 23:28:23 +0000"  >&lt;p&gt;ping?&lt;/p&gt;</comment>
                            <comment id="12702862" author="athusoo" created="Sun, 26 Apr 2009 08:17:30 +0000"  >&lt;p&gt;Still investigating this. Will update this week.&lt;/p&gt;</comment>
                            <comment id="12711180" author="athusoo" created="Wed, 20 May 2009 15:06:15 +0000"  >&lt;p&gt;The fix is quite simple. I have not been able to add a test case yet as I need miniMR for that. If this goes in before miniMR stuff, I will add a test case in a separate JIRA.&lt;/p&gt;</comment>
                            <comment id="12711270" author="namit" created="Wed, 20 May 2009 18:19:43 +0000"  >&lt;p&gt;1. Why did you increase the max memory from 256 to 512 m ?&lt;br/&gt;
2. Instead of hard coding 5 minutes, can you make it a function of map reduce timeout (10 minutes in the above note)&lt;/p&gt;</comment>
                            <comment id="12711366" author="athusoo" created="Wed, 20 May 2009 21:41:09 +0000"  >&lt;p&gt;Added code to parameterize this based on the expiry interval in map reduce.&lt;/p&gt;

&lt;p&gt;I had to bump the memory for junit as our tests intermittently fail with out of memory exception otherwise. Looks like we are operating near the 256m limit.&lt;/p&gt;</comment>
                            <comment id="12711367" author="namit" created="Wed, 20 May 2009 21:43:23 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
looks good - will commit once the tests pass&lt;/p&gt;</comment>
                            <comment id="12711397" author="namit" created="Wed, 20 May 2009 22:27:48 +0000"  >&lt;p&gt;Committed. Thanks Ashish&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12431399">HIVE-690</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408627" name="patch-410-2.txt" size="3058" author="athusoo" created="Wed, 20 May 2009 21:41:09 +0000"/>
                            <attachment id="12408590" name="patch-410.txt" size="2629" author="athusoo" created="Wed, 20 May 2009 15:06:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Apr 2009 08:17:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-411] Interaction of AS clause (from a TRANSFORM-USING-AS) with non-column formatted output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-411</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If I&apos;m producing output from a streaming reducer that isn&apos;t intended to be columnar, what&apos;s the appropriate AS clause ? &lt;/p&gt;

&lt;p&gt;Leaving out the AS clause causes the addition of a tab plus NULL to each output line;  if there are any rows with tabs in them, the stuff after the &amp;lt;tab&amp;gt; replaces the NULL. If I say &apos;AS dummy&apos;, then any part of an output line that follows a &amp;lt;tab&amp;gt; is thrown away. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12422746">HIVE-411</key>
            <summary>Interaction of AS clause (from a TRANSFORM-USING-AS) with non-column formatted output</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2009 01:47:55 +0000</created>
                <updated>Thu, 17 Dec 2009 23:40:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12733850" author="zshao" created="Tue, 21 Jul 2009 22:10:58 +0000"  >&lt;p&gt;Once we have &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-637&quot; title=&quot;Add a simple way to create a blob table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-637&quot;&gt;HIVE-637&lt;/a&gt;: blob table, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-669&quot; title=&quot;SELECT TRANSFORM / MAP / REDUCE to support optional ROW FORMAT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-669&quot;&gt;&lt;del&gt;HIVE-669&lt;/del&gt;&lt;/a&gt;: row format for transform, we will be able to do this easily.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12430440">HIVE-637</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12431074">HIVE-669</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2009 22:10:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-412] Hive should throw out an error if ORDER BY is specified</title>
                <link>https://issues.apache.org/jira/browse/HIVE-412</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive does not support ORDER BY. We should throw out an error instead of implicitly ignoring it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422755">HIVE-412</key>
            <summary>Hive should throw out an error if ORDER BY is specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2009 06:00:11 +0000</created>
                <updated>Fri, 24 Dec 2010 21:43:45 +0000</updated>
                            <resolved>Fri, 24 Dec 2010 21:43:45 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12974974" author="appodictic" created="Fri, 24 Dec 2010 21:43:45 +0000"  >&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/SortBy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/SortBy&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Order by is supported, we have an issue open to enhance order by possibly using TotalOrderPartitioner.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Dec 2010 21:43:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-413] multi-table insert</title>
                <link>https://issues.apache.org/jira/browse/HIVE-413</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;some problem in multi-table insert if both of them contain grouping keys which are different.&lt;/p&gt;

&lt;p&gt;have not marked it a blocker, since a workaround exists (issue both inserts separately) - but this if the release is not yet done, we should fix this also.&lt;/p&gt;

&lt;p&gt;FROM SRC&lt;br/&gt;
INSERT OVERWRITE TABLE DEST1 SELECT SRC.key, src.value, COUNT(DISTINCT SUBSTR(SRC.value,5)) GROUP BY SRC.key\&lt;br/&gt;
, src.value&lt;br/&gt;
INSERT OVERWRITE TABLE DEST2 SELECT SRC.key, COUNT(DISTINCT SUBSTR(SRC.value,5)) GROUP BY SRC.key;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422806">HIVE-413</key>
            <summary>multi-table insert</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2009 16:38:35 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:42 +0000</updated>
                            <resolved>Wed, 15 Apr 2009 21:19:02 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12699092" author="zshao" created="Wed, 15 Apr 2009 06:57:57 +0000"  >&lt;p&gt;GenMRRedSink1.process calls GenMapRedUtils.initPlan calls GenMapRedUtils.setTaskPlan calls GenMapRedUtils.setKeyAndValueDesc.&lt;br/&gt;
GenMRRedSink1.process calls GenMapRedUtils.splitPlan calls GenMapRedUtils.splitTasks calls GenMapRedUtils.setKeyAndValueDesc.&lt;/p&gt;

&lt;p&gt;In setKeyAndValueDesc (shown below, from GenMapRedUtils.java:236) we are walking down the operator tree to get all reachable reduceSinkOperators, even reduceSinkOperators of another MapRedTask (since the Operator Graph is not split yet).&lt;/p&gt;

&lt;p&gt;Instead of doing GenMapRedUtils.setKeyAndValueDesc inline in GenMapRedUtils.setTaskPlan and GenMapRedUtils.splitTasks, we should first break up all MapRedTasks, then for each task, for all topOps, call GenMapRedUtils.setKeyAndValueDesc.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setKeyAndValueDesc(mapredWork plan, Operator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Serializable&amp;gt; topOp) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (topOp &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ReduceSinkOperator) {
      ReduceSinkOperator rs = (ReduceSinkOperator)topOp;
      plan.setKeyDesc(rs.getConf().getKeySerializeInfo());
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; tag = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(0, rs.getConf().getTag());
      List&amp;lt;tableDesc&amp;gt; tagToSchema = plan.getTagToValueDesc();
      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (tag + 1 &amp;gt; tagToSchema.size()) {
        tagToSchema.add(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
      }
      tagToSchema.set(tag, rs.getConf().getValueSerializeInfo());
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      List&amp;lt;Operator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Serializable&amp;gt;&amp;gt; children = topOp.getChildOperators(); 
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (children != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(Operator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Serializable&amp;gt; op: children) {
          setKeyAndValueDesc(plan, op);
        }
      }
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12699234" author="namit" created="Wed, 15 Apr 2009 15:09:56 +0000"  >&lt;p&gt;The above approach will not work, as in case of sub-queries there are no topOps to start with.&lt;br/&gt;
A simpler solution is to pass the reduce sink operator and use that to perform setKeyAndValueDesc()&lt;/p&gt;</comment>
                            <comment id="12699392" author="zshao" created="Wed, 15 Apr 2009 21:19:02 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405536" name="hive.413.1.patch" size="18016" author="namit" created="Wed, 15 Apr 2009 15:10:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Apr 2009 06:57:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-413&quot; title=&quot;multi-table insert&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-413&quot;&gt;&lt;strike&gt;HIVE-413&lt;/strike&gt;&lt;/a&gt;. Fix multi-table insert. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-414] Add Hive web interface to Eclipse config files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-414</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hwi/src and hwi/test directories do not appear in Eclipse.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422821">HIVE-414</key>
            <summary>Add Hive web interface to Eclipse config files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2009 19:32:16 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:39 +0000</updated>
                            <resolved>Tue, 14 Apr 2009 21:29:47 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12698892" author="prasadc" created="Tue, 14 Apr 2009 19:38:36 +0000"  >&lt;p&gt;add hwi/test and hwi/src along with supporting libs from hadoopcore/version/lib&lt;/p&gt;</comment>
                            <comment id="12698895" author="rsm" created="Tue, 14 Apr 2009 19:42:51 +0000"  >&lt;p&gt;+1&lt;br/&gt;
looks good.&lt;/p&gt;

&lt;p&gt;nit: fix indentation of &apos;output&apos; classpathentry&lt;/p&gt;</comment>
                            <comment id="12698896" author="prasadc" created="Tue, 14 Apr 2009 19:47:55 +0000"  >&lt;p&gt;fixed indentation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405451" name="hive-414.2.patch" size="1305" author="prasadc" created="Tue, 14 Apr 2009 19:47:55 +0000"/>
                            <attachment id="12405449" name="hive-414.patch" size="1406" author="prasadc" created="Tue, 14 Apr 2009 19:38:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Apr 2009 19:42:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
