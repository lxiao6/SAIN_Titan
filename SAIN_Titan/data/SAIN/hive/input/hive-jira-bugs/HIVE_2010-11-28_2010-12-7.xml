<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:12 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-11-28+AND+created+%3C%3D+2010-12-7+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="24" total="24"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1812] spurious rmr failure messages when inserting with dynamic partitioning</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1812</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running a test such as load_dyn_part1.q, there is a lot of noise like this:&lt;/p&gt;

&lt;p&gt;test:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Copying data from &lt;a href=&quot;file:/Users/jsichi/open/hive-trunk/data/files/kv1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/jsichi/open/hive-trunk/data/files/kv1.txt&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcpart partition (ds=2008-04-08, hr=11)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; rmr: cannot remove pfile:/Users/jsichi/open/hive-trunk/build/ql/test/data/warehouse/srcpart/ds=2008-04-08/hr=11: No such file or directory.&lt;/p&gt;

&lt;p&gt;This shows up in production logs as well, which confuses users, making them thinking that the job is encountering problems when it isn&apos;t.  Is there a way we can squelch these?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491578">HIVE-1812</key>
            <summary>spurious rmr failure messages when inserting with dynamic partitioning</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Nov 2010 20:35:11 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:37 +0000</updated>
                            <resolved>Tue, 4 Jan 2011 20:28:56 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12977449" author="nzhang" created="Tue, 4 Jan 2011 20:28:56 +0000"  >&lt;p&gt;This has been fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1852&quot; title=&quot;Reduce unnecessary DFSClient.rename() calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1852&quot;&gt;&lt;del&gt;HIVE-1852&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Jan 2011 20:28:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1813] Hive should be able to run on multiple data centers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1813</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, hive assumes a single metastore and the HADOOP_HOME is passed as a environment variable. &lt;/p&gt;

&lt;p&gt;It would be desirable to support hive on top of multiple data centers (dfs + mr).&lt;/p&gt;

&lt;p&gt;For eg. there could be 2 metastores: primary and secondary. They would have different dfs&apos;s , and there will be a&lt;br/&gt;
dfs-&amp;gt;mr mapping maintained by the metastore.&lt;/p&gt;

&lt;p&gt;Hive would be enhanced to support multiple metastores and all operations (ddl + query) would span multiple metastores.&lt;/p&gt;

&lt;p&gt;Different consistency pluggable policies can be employed - for eg. if a table/partition can be present in both the metastores with different&lt;br/&gt;
last modification times, either the last one can be used or an error can be thrown.&lt;/p&gt;

&lt;p&gt;It will be upto the application (outside hive) to copy the data from one metastore to another, and to maintain consistency inside.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12491612">HIVE-1813</key>
            <summary>Hive should be able to run on multiple data centers</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 06:57:19 +0000</created>
                <updated>Mon, 14 Feb 2011 21:02:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="12965126" author="namit" created="Tue, 30 Nov 2010 06:58:48 +0000"  >&lt;p&gt;The data can be copied from one dfs to another using distcp - later on a wrapper can be developed in hive for the same.&lt;br/&gt;
Something like:&lt;/p&gt;

&lt;p&gt;alter table &amp;lt;T&amp;gt; partition &amp;lt;P&amp;gt; copy &amp;lt;src&amp;gt; to &amp;lt;dst&amp;gt;;&lt;br/&gt;
alter table &amp;lt;T&amp;gt; partition &amp;lt;P&amp;gt; move &amp;lt;src&amp;gt; to &amp;lt;dst&amp;gt;;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12475475">HDFS-1432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1814] Mapjoin fails on multiple partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1814</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This query works:&lt;/p&gt;

&lt;p&gt;set hive.optimize.bucketmapjoin = true;&lt;br/&gt;
set hive.optimize.bucketmapjoin.sortedmerge = true;&lt;br/&gt;
set hive.input.format = org.apache.hadoop.hive.ql.io.BucketizedHiveInputFormat;&lt;br/&gt;
SELECT /*+ MAPJOIN(b) */ a.field_a, b.field_b&lt;br/&gt;
FROM table_a a&lt;br/&gt;
JOIN table_b b&lt;br/&gt;
ON a.ds = &apos;2010-08-30&apos; AND b.ds = &apos;2010-08-30&apos; AND a.user = b.user;&lt;/p&gt;


&lt;p&gt;This query fails with a Null Pointer Exception:&lt;/p&gt;

&lt;p&gt;set hive.optimize.bucketmapjoin = true;&lt;br/&gt;
set hive.optimize.bucketmapjoin.sortedmerge = true;&lt;br/&gt;
set hive.input.format = org.apache.hadoop.hive.ql.io.BucketizedHiveInputFormat;&lt;br/&gt;
SELECT /*+ MAPJOIN(b) */ a.field_a, b.field_b&lt;br/&gt;
FROM table_a a&lt;br/&gt;
JOIN table_b b&lt;br/&gt;
ON a.ds &amp;gt;= &apos;2010-08-30&apos; AND b.ds &amp;lt;= &apos;2010-09-30&apos; AND b.ds &amp;gt;= &apos;2010-08-30&apos; AND b.ds &amp;lt;= &apos;2010-09-30&apos; AND a.ds = b.ds AND a.user = b.user;&lt;/p&gt;


&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:622)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:121)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:118)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:55)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.run(TaskRunner.java:47)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12491617">HIVE-1814</key>
            <summary>Mapjoin fails on multiple partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rthibaux">Romain Thibaux</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 08:15:01 +0000</created>
                <updated>Tue, 30 Nov 2010 08:15:01 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1815] The class HiveResultSet should implement batch fetching.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1815</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When using the Hive JDBC driver, you can execute a Hive query and obtain a HiveResultSet instance that contains the results of the query.&lt;br/&gt;
Unfortunately, HiveResultSet can then only fetch a single row of these results from the Hive server at a time. As a consequence, it&apos;s extremely slow to fetch a resultset of anything other than a trivial size.&lt;/p&gt;

&lt;p&gt;It would be nice for the HiveResultSet to be able to fetch N rows from the server at a time, so that performance is suitable to support applications that provide human interaction. &lt;br/&gt;
(From memory, I think it took me around 20 minutes to fetch 4000 rows.)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Custom Java application using the Hive JDBC driver to connect to a Hive server, execute a Hive query and process the results.&lt;/p&gt;</environment>
        <key id="12491699">HIVE-1815</key>
            <summary>The class HiveResultSet should implement batch fetching.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="guylemar">Guy le Mar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 21:46:28 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:36 +0000</updated>
                            <resolved>Fri, 18 Mar 2011 04:16:49 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12974985" author="appodictic" created="Fri, 24 Dec 2010 23:00:43 +0000"  >&lt;p&gt;This is implemented&lt;/p&gt;

&lt;p&gt; vi service/if/hive_service.thrift &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Fetch a given number of rows or remaining number of&lt;/li&gt;
	&lt;li&gt;rows whichever is smaller.&lt;br/&gt;
  list&amp;lt;string&amp;gt; fetchN(1:i32 numRows) throws(1:HiveServerException ex)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Please be sure when filing jira issues to be using trunk or the most recent release. Also I am fairly sure fetchn was a part of the hive server since the get go.&lt;/p&gt;</comment>
                            <comment id="12978321" author="bennies" created="Thu, 6 Jan 2011 13:58:03 +0000"  >&lt;p&gt;Thanks for the comment Edward, fetchN is part of the hive server yes. But the jdbc driver doesn&apos;t use this. The HiveQueryResultSet call&apos;s a client.fetchOne();&lt;br/&gt;
It would be nice if the jdbc driver uses the fetchN you suggested in the comment and perhaps keeps a little queue of records and when dropping below a threshold do another fetchN.&lt;br/&gt;
I&apos;ve also noticed the same slowness and it makes sence this was probably cause by using fetchOne().&lt;/p&gt;</comment>
                            <comment id="12978476" author="slider" created="Thu, 6 Jan 2011 19:51:17 +0000"  >&lt;p&gt;Using fetchN will be nice. The Hive driver should use fetchN in accordance with the fetch size setting in the Statement or ResultSet object as set by setFetchSize, which will need to be implemented along with using fetchN. (The Hive driver currently does not support setFetchSize and getFetchSize.)&lt;/p&gt;</comment>
                            <comment id="13007377" author="bennies" created="Wed, 16 Mar 2011 08:09:42 +0000"  >&lt;p&gt;This is the simplest implementation I could do. Just changed the fetchOne to fetchN and return the result on each next() call until the list is empty and then do another fetchN. We&apos;ve used this for a week and the performance increase on large resultsets is significant. You could also do the fetchN on a different thread to keep the queue full but that&apos;s a bit more work for just a little more gain.&lt;/p&gt;

&lt;p&gt;I&apos;ve added 1 small test to call the setFetchSize and getFetchSize&lt;br/&gt;
but the jdbc tests should all work like they worked before this test since the functionality doesn&apos;t change.&lt;/p&gt;</comment>
                            <comment id="13007386" author="bennies" created="Wed, 16 Mar 2011 08:45:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/514/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/514/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13007844" author="bennies" created="Thu, 17 Mar 2011 08:07:15 +0000"  >&lt;p&gt;Updated to use an iterator instead of deleting items.&lt;/p&gt;</comment>
                            <comment id="13008205" author="nzhang" created="Thu, 17 Mar 2011 22:59:10 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13008320" author="nzhang" created="Fri, 18 Mar 2011 04:16:49 +0000"  >&lt;p&gt;Committed. Thanks Bennie!&lt;/p&gt;</comment>
                            <comment id="13058011" author="cwsteinbach" created="Thu, 30 Jun 2011 19:22:11 +0000"  >&lt;p&gt;Committed as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1851&quot; title=&quot;wrong number of rows inserted reported by Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1851&quot;&gt;&lt;del&gt;HIVE-1851&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473769" name="HIVE-1815.1.patch.txt" size="5598" author="bennies" created="Wed, 16 Mar 2011 08:09:42 +0000"/>
                            <attachment id="12473886" name="HIVE-1815.2.patch.txt" size="5860" author="bennies" created="Thu, 17 Mar 2011 08:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Dec 2010 23:00:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05inr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Use batch fetching on the hive jdbc driver to increase performance.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1816] Reporting of (seemingly inconsequential) transport exception has major impact on performance</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1816</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;During the process of executing a hive query and then fetching the results, the following stack track is continually output to seterr.&lt;br/&gt;
For the query I executed, 47Mb of this text was generated. As a consequence, the performance of the application itself suffered.&lt;br/&gt;
(Redirecting stderr to file halved the time it took my application to fetch the results - from 2 minutes down to 70 sec.)&lt;/p&gt;

&lt;p&gt;Note, this also occurs if you use an application such as SQuirrel SQL (&lt;a href=&quot;http://www.squirrelsql.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.squirrelsql.org&lt;/a&gt;) to execute a Hive query using the Hive JDBC driver.&lt;/p&gt;

&lt;p&gt;The stack trace that is repeatedly reported is...&lt;/p&gt;

&lt;p&gt;org.apache.thrift.transport.TTransportException&lt;br/&gt;
	at org.apache.thrift.transport.TIOStreamTransport.read(TIOStreamTransport.java:132)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.thrift.TCTLSeparatedProtocol$SimpleTransportTokenizer.fillTokenizer(TCTLSeparatedProtocol.java:215)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.thrift.TCTLSeparatedProtocol$SimpleTransportTokenizer.&amp;lt;init&amp;gt;(TCTLSeparatedProtocol.java:210)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.thrift.TCTLSeparatedProtocol.internalInitialize(TCTLSeparatedProtocol.java:336)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.thrift.TCTLSeparatedProtocol.initialize(TCTLSeparatedProtocol.java:417)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.dynamic_type.DynamicSerDe.initialize(DynamicSerDe.java:94)&lt;br/&gt;
	at org.apache.hadoop.hive.jdbc.HiveResultSet.initDynamicSerde(HiveResultSet.java:117)&lt;br/&gt;
	at org.apache.hadoop.hive.jdbc.HiveResultSet.&amp;lt;init&amp;gt;(HiveResultSet.java:74)&lt;br/&gt;
	at org.apache.hadoop.hive.jdbc.HiveStatement.executeQuery(HiveStatement.java:178)&lt;br/&gt;
	at com.quest.orahive.HiveJdbcClient.main(HiveJdbcClient.java:117)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Custom Java application using the Hive JDBC driver to connect to a Hive server, execute a Hive query and process the results. &lt;/p&gt;</environment>
        <key id="12491700">HIVE-1816</key>
            <summary>Reporting of (seemingly inconsequential) transport exception has major impact on performance</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="guylemar">Guy le Mar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 21:58:27 +0000</created>
                <updated>Tue, 4 Jan 2011 21:00:12 +0000</updated>
                            <resolved>Fri, 24 Dec 2010 23:06:56 +0000</resolved>
                                    <version>0.5.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12965457" author="slider" created="Tue, 30 Nov 2010 22:18:35 +0000"  >&lt;p&gt;HiveResultSet stops using DynamicSerDe in 0.7, so this stack trace should not be possible starting in 0.7.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Nov 2010 22:18:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1817] Remove Hive dependency on unreleased commons-cli 2.0 Snapshot</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1817</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive CLI depends on commons-cli-2.0-SNAPSHOT. This branch of of the commons-cli project is dead.&lt;br/&gt;
Hive needs to use commons-cli-1.2 instead. See &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-767&quot; title=&quot;to remove mapreduce dependency on commons-cli2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-767&quot;&gt;&lt;del&gt;MAPREDUCE-767&lt;/del&gt;&lt;/a&gt; for more information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491702">HIVE-1817</key>
            <summary>Remove Hive dependency on unreleased commons-cli 2.0 Snapshot</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 22:11:42 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:43 +0000</updated>
                            <resolved>Wed, 16 Feb 2011 18:15:22 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Build Infrastructure</component>
                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12981721" author="cwsteinbach" created="Fri, 14 Jan 2011 11:21:43 +0000"  >&lt;p&gt;The attached patch modifies OptionProcessor to use commons-cli-1.2 instead&lt;br/&gt;
of commons-cli-2.0-SNAPSHOT. The version of HiveCli that results works as &lt;br/&gt;
long as the underlying Hadoop version does not also have a dependency on&lt;br/&gt;
commons-cli-2.0-SNAPSHOT (i.e. it will work on 0.20.3, but not on 0.20.0),&lt;br/&gt;
in which case HiveCli ends up picking up commons-cli-2.0-SNAPSHOT instead&lt;br/&gt;
of 1.2 since Hadoop&apos;s CLASSPATH is given preference over Hive&apos;s.&lt;/p&gt;

&lt;p&gt;I think the solution to this problem involves modifying the bin/hive script to&lt;br/&gt;
call Java directly instead of delegating this responsibility to bin/hadoop.&lt;/p&gt;</comment>
                            <comment id="12983478" author="cwsteinbach" created="Wed, 19 Jan 2011 01:17:58 +0000"  >&lt;p&gt;Hadoop from version 0.20.1 onwards depends on commons-cli version 1.2 instead&lt;br/&gt;
of 2.0-SNAPSHOT. So we have two options for how to fix this problem:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Stipulate that Hive requires Hadoop 0.20.1 or later, and enforce this programmatically in the various bin/hive scripts. We currently support 0.20.0, so with this change we would be dropping support for Hadoop 0.20.0.&lt;/li&gt;
	&lt;li&gt;Retain support for 0.20.0 at the expense of rewriting the scripts in bin/hive so that Hive&apos;s classpath is given preference over Hadoop&apos;s classpath.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;d like to pursue option (1) since it&apos;s safer. Does anyone have strong opinions against removing support for Hadoop 0.20.0 in Hive 0.7.0?&lt;/p&gt;
</comment>
                            <comment id="12983486" author="cwsteinbach" created="Wed, 19 Jan 2011 01:25:27 +0000"  >&lt;p&gt;According to a comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-3676&quot; title=&quot;Remove Hadoop&amp;#39;s dependance on the cli 2 snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-3676&quot;&gt;&lt;del&gt;HADOOP-3676&lt;/del&gt;&lt;/a&gt; ASF rules state &quot;Don&apos;t release with unreleased versions of other bits of apache code.&quot;&lt;/p&gt;

&lt;p&gt;Marking this as a blocker for 0.7.0&lt;/p&gt;</comment>
                            <comment id="12984400" author="appodictic" created="Thu, 20 Jan 2011 21:04:57 +0000"  >&lt;p&gt;Arge. This is a major buzzkill, our shims, build, eclipse generation processes can not deal easily with lib changes for minor versions. &lt;/p&gt;


&lt;p&gt;Option 1. This angers me. Pushed into an update by a CLI jar, but it seems like the right think to do.&lt;/p&gt;

&lt;p&gt;Option 2.  More bash scripting is only going to make the problem worse&lt;/p&gt;

&lt;p&gt;As an option 3 we do have a ticket for a hive JobShell. Which would be some perfect new shell that is not so married to bash and hadoop, I imagine this new job shell would do explicit class loading and would reference nothing except HIVE_HOME from the environment.&lt;/p&gt;

&lt;p&gt;Option 4. We use some other CLI library. &lt;/p&gt;

&lt;p&gt;+1 option 1. Push forward at all costs including forcing someone with 0.20.0 to upgrade just for hive.&lt;/p&gt;</comment>
                            <comment id="12994216" author="cwsteinbach" created="Mon, 14 Feb 2011 06:56:50 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/421&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/421&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Summary of changes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Modified OptionsProcessor to use commons-cli 1.2 instead of 2.0-SNAPSHOT&lt;/li&gt;
	&lt;li&gt;Changed default hadoop.version from 0.20.0 to 0.20.1 (Note that 0.20.2 is not available on the FB CDN)&lt;/li&gt;
	&lt;li&gt;Updated bin/hive scripts to enforce dependency on Hadoop 0.20.x (x &amp;gt;= 1).&lt;/li&gt;
	&lt;li&gt;Updated ivy configuration to pull down commons-cli 1.2&lt;/li&gt;
	&lt;li&gt;Added a bunch of missing ASF headers.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note to committer: Please run &apos;svn rm lib/commons-cli-2.0-SNAPSHOT.jar before committing.&lt;/p&gt;</comment>
                            <comment id="12994484" author="jvs" created="Mon, 14 Feb 2011 20:48:30 +0000"  >&lt;p&gt;+1.  Will commit if tests pass.  (I&apos;ll do some ad hoc testing on command line options as well.)&lt;/p&gt;</comment>
                            <comment id="12994491" author="jvs" created="Mon, 14 Feb 2011 21:00:04 +0000"  >&lt;p&gt;I&apos;m getting the build failure below.  I think it&apos;s because you added ivy-retrieve to the compile target in build-common.xml.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ivy-resolve:
[ivy:resolve] :: Ivy 2.1.0 - 20090925235825 :: http://ant.apache.org/ivy/ ::
[ivy:resolve] :: loading settings :: file = /data/users/jsichi/open/test-trunk/ivy/ivysettings.xml
[ivy:resolve] /data/users/jsichi/open/test-trunk/odbc/ivy.xml (No such file or directory) in file:/data/users/jsichi/open/test-trunk/odbc/ivy.xml

BUILD FAILED
/data/users/jsichi/open/test-trunk/build.xml:200: The following error occurred while executing this line:
/data/users/jsichi/open/test-trunk/build.xml:96: The following error occurred while executing this line:
/data/users/jsichi/open/test-trunk/build-common.xml:163: syntax errors in ivy file: java.text.ParseException: /data/users/jsichi/open/test-trunk/odbc/ivy.xml (No such file or directory) in file:/data/users/jsichi/open/test-trunk/odbc/ivy.xml
	at org.apache.ivy.plugins.parser.xml.XmlModuleDescriptorParser$Parser.parse(XmlModuleDescriptorParser.java:263)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12994538" author="cwsteinbach" created="Mon, 14 Feb 2011 22:41:01 +0000"  >&lt;p&gt;Resolved the odbc/ issues by adding a dummy &apos;compile&apos; target to odbc/build.xml. Also added mostly empty ivy.xml files to the jdbc and service subdirs.&lt;/p&gt;</comment>
                            <comment id="12994560" author="jvs" created="Mon, 14 Feb 2011 23:33:17 +0000"  >&lt;p&gt;Now I&apos;m getting a new build failure in a clean checkout plus the latest patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;compile-test:

BUILD FAILED
/data/users/jsichi/open/test-trunk/build.xml:200: The following error occurred while executing this line:
/data/users/jsichi/open/test-trunk/build.xml:96: The following error occurred while executing this line:
/data/users/jsichi/open/test-trunk/build-common.xml:317: destination directory &quot;/data/users/jsichi/open/test-trunk/build/odbc/test/classes&quot; does not exist or is not a directory
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12994733" author="ashutoshc" created="Tue, 15 Feb 2011 09:53:15 +0000"  >&lt;p&gt;There is atleast one corner case which should be tested. Can&apos;t recall whether its in 2.0 or in 1.2. If value of option starts with a &apos;-&apos; that is not handled properly by the library.  &lt;/p&gt;</comment>
                            <comment id="12994968" author="cwsteinbach" created="Tue, 15 Feb 2011 20:01:30 +0000"  >&lt;p&gt;@Ashutosh: I believe that bug is in 2.0, which is pretty broken in general.&lt;/p&gt;</comment>
                            <comment id="12994973" author="cwsteinbach" created="Tue, 15 Feb 2011 20:14:30 +0000"  >&lt;p&gt;@John: I started running into the PermGen OOM error too, and ended up removing the ivy-retrieve dependency on build-common&apos;s compile target, and instead took the path of least resistance and copied the compile target to cli/build.xml.&lt;/p&gt;

&lt;p&gt;This revision of the patch also incorporates a one-line fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1981&quot; title=&quot;TestHadoop20SAuthBridge failed on current trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1981&quot;&gt;&lt;del&gt;HIVE-1981&lt;/del&gt;&lt;/a&gt;. I will defer the more ambitious build refactoring for another time.&lt;/p&gt;

&lt;p&gt;I verified that all of the targets listed via &apos;ant -p&apos; pass with this patch in place.&lt;/p&gt;</comment>
                            <comment id="12994976" author="cwsteinbach" created="Tue, 15 Feb 2011 20:15:07 +0000"  >&lt;p&gt;Updated review request: &lt;a href=&quot;https://reviews.apache.org/r/421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/421/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12995136" author="jvs" created="Wed, 16 Feb 2011 03:20:09 +0000"  >&lt;p&gt;Tests pass now, but when I try to run CLI interactively, I get the failure below.  hadoop -version is no longer returning information in the expected format.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[jsichi@dev1066 ~/open/test-trunk] build/dist/bin/hive
Hive requires Hadoop 0.20.x (x &amp;gt;= 1).
&apos;hadoop version&apos; returned:
Hadoop 0.20.0 Subversion https://svn.apache.org/repos/asf/hadoop/core/branches/branch-0.20 -r 763504 Compiled by ndaley on Thu Apr 9 05:18:40 UTC 2009
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12995139" author="cwsteinbach" created="Wed, 16 Feb 2011 03:24:08 +0000"  >&lt;p&gt;@John: That&apos;s the correct behavior. You&apos;re trying to run against 0.20.0, and this patch makes it a requirement to run against 0.20.1 or later.&lt;/p&gt;</comment>
                            <comment id="12995148" author="jvs" created="Wed, 16 Feb 2011 03:59:11 +0000"  >&lt;p&gt;Carl, I ran that in my fresh checkout after the build, so I should have been getting the default Hadoop version for a Hive development environment, which needs to be something that works.&lt;/p&gt;</comment>
                            <comment id="12995158" author="cwsteinbach" created="Wed, 16 Feb 2011 04:34:52 +0000"  >&lt;p&gt;Here&apos;s the result I get after applying the patch to a fresh checkout:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% build/dist/bin/hive
Cannot find hadoop installation: $HADOOP_HOME must be set or hadoop must be in the path
% ls build/hadoopcore/
hadoop-0.20.1		 hadoop-0.20.3-CDH3-SNAPSHOT
hadoop-0.20.1.installed  hadoop-0.20.3-CDH3-SNAPSHOT.installed
hadoop-0.20.1.tar.gz	 hadoop-0.20.3-CDH3-SNAPSHOT.tar.gz
% export HADOOP_HOME=~/Work/repos/hive-rev/build/hadoopcore/hadoop-0.20.1
% build/dist/bin/hive
Hive history file=/tmp/carl/hive_job_log_carl_201102152028_838041018.txt
hive&amp;gt; quit;
quit;
% 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like you already have bin/hadoop on your PATH or HADOOP_HOME is defined in your environment.&lt;/p&gt;</comment>
                            <comment id="12995379" author="jvs" created="Wed, 16 Feb 2011 16:41:07 +0000"  >&lt;p&gt;Oops, you&apos;re right, my environment was messed up.  I&apos;ll do some more testing and then commit.&lt;/p&gt;</comment>
                            <comment id="12995432" author="jvs" created="Wed, 16 Feb 2011 18:15:22 +0000"  >&lt;p&gt;Committed to branch and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446510">HIVE-1095</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12399377">HADOOP-3676</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12470981" name="HIVE-1817.2.patch.txt" size="32201" author="cwsteinbach" created="Mon, 14 Feb 2011 06:32:19 +0000"/>
                            <attachment id="12471028" name="HIVE-1817.3.patch.txt" size="34878" author="cwsteinbach" created="Mon, 14 Feb 2011 22:38:50 +0000"/>
                            <attachment id="12471106" name="HIVE-1817.4.patch.txt" size="32977" author="cwsteinbach" created="Tue, 15 Feb 2011 20:06:34 +0000"/>
                            <attachment id="12468361" name="HIVE-1817.wip.1.patch.txt" size="16535" author="cwsteinbach" created="Fri, 14 Jan 2011 11:21:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Jan 2011 21:04:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1818] Call frequency and duration metrics for HiveMetaStore via jmx</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1818</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As recently brought up in the hive-dev mailing list, it&apos;d be useful if the HiveMetaStore had some sort of instrumentation capability so as to measure frequency of calls to various calls on the HiveMetaStore and the duration of time spent in these calls. &lt;/p&gt;

&lt;p&gt;There are already incrementCounter() and logStartFunction() / logStartTableFunction() ,etc calls in HiveMetaStore, and they could be refactored/repurposed to make calls that expose JMX MBeans as well. Or, a Metrics subsystem could be introduced which made calls to incrementCounter()/etc as a refactor.&lt;/p&gt;

&lt;p&gt;It might also be possible to specify a -D parameter that the Metrics subsystem could use to determine whether or not to be enabled, and if so, on to what port. And once we have the capability to instrument and expose MBeans, it might also be possible for other subsystems to also adopt and use this system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491709">HIVE-1818</key>
            <summary>Call frequency and duration metrics for HiveMetaStore via jmx</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 23:24:30 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:55 +0000</updated>
                            <resolved>Wed, 9 Feb 2011 04:19:05 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12966222" author="sushanth" created="Thu, 2 Dec 2010 18:32:03 +0000"  >&lt;p&gt;Simple patch implementing a jmx metrics subsystem&lt;/p&gt;
</comment>
                            <comment id="12974785" author="pauly" created="Thu, 23 Dec 2010 23:05:07 +0000"  >&lt;p&gt;Taking a look&lt;/p&gt;</comment>
                            <comment id="12974786" author="pauly" created="Thu, 23 Dec 2010 23:23:48 +0000"  >&lt;p&gt;Sushanth, can you regenerate this patch against the current trunk?&lt;/p&gt;</comment>
                            <comment id="12977074" author="sushanth" created="Tue, 4 Jan 2011 02:13:10 +0000"  >&lt;p&gt;+Updated patch to work against current trunk.&lt;br/&gt;
+Also, made scopes ThreadLocal inside Metrics, which was necessary&lt;br/&gt;
+Renamed/removed some of the logStart* functions in HiveMetaStore so as to make sure new contributions use the start* functions instead which also do the required logging in addition to jmx tracking.&lt;/p&gt;</comment>
                            <comment id="12981991" author="pauly" created="Sat, 15 Jan 2011 00:57:39 +0000"  >&lt;p&gt;Looks pretty good, though I&apos;m not too familiar with MBeans &lt;/p&gt;

&lt;p&gt;A few changes: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Can you print the exception stack if Metrics.init() fails in HiveMetaStore.init()? See MetastoreUtils for some helper methods&lt;/li&gt;
	&lt;li&gt;Metrics.incrementCounter(String, int) - with a new name, it should set the value to the value of increment, not 1&lt;/li&gt;
	&lt;li&gt;doesn&apos;t MetricsMBeanImpl.metricsMap need to be synchronized since it could be hit by multiple threads simultaneously?&lt;/li&gt;
	&lt;li&gt;Can you run checkstyle on the new files? I saw issues like&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!initialized){ &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12986164" author="sushanth" created="Tue, 25 Jan 2011 01:20:14 +0000"  >
&lt;p&gt;&amp;gt; Can you print the exception stack if Metrics.init() fails in HiveMetaStore.init()? See MetastoreUtils for some helper methods&lt;br/&gt;
&amp;gt; Metrics.incrementCounter(String, int) - with a new name, it should set the value to the value of increment, not 1&lt;br/&gt;
&amp;gt; doesn&apos;t MetricsMBeanImpl.metricsMap need to be synchronized since it could be hit by multiple threads simultaneously?&lt;/p&gt;

&lt;p&gt;Done. Good spots.&lt;/p&gt;

&lt;p&gt;&amp;gt; Can you run checkstyle on the new files? I saw issues like : if (!initialized)&lt;/p&gt;
{ return null; }

&lt;p&gt;Fixed instances of single line ifs, but checkstyle did not raise that as an issue for me. Weird.&lt;/p&gt;</comment>
                            <comment id="12986171" author="sushanth" created="Tue, 25 Jan 2011 01:44:16 +0000"  >&lt;p&gt;Review board link : &lt;a href=&quot;https://reviews.apache.org/r/352/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/352/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12987311" author="sushanth" created="Thu, 27 Jan 2011 00:29:54 +0000"  >&lt;p&gt;Paul, could you please take a look at it? Since this touches on a lot of functions(and changes the logStartFunction semantics) on HiveMetaStore (even if trivially), it is vulnerable to other changes in HiveMetaStore.&lt;/p&gt;</comment>
                            <comment id="12987322" author="pauly" created="Thu, 27 Jan 2011 00:59:17 +0000"  >&lt;p&gt;Taking a look..&lt;/p&gt;</comment>
                            <comment id="12988177" author="pauly" created="Fri, 28 Jan 2011 18:39:13 +0000"  >&lt;p&gt;Not sure how reviewboard does notifications, but I posted some comments yesterday.&lt;/p&gt;</comment>
                            <comment id="12989812" author="sushanth" created="Wed, 2 Feb 2011 21:40:38 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for the review, I updated the diff on reviewboard (again, not sure whether you got a notification from reviewboard, or whether I should update that diff here too) to reflect your comments/feedback.&lt;/p&gt;
</comment>
                            <comment id="12990749" author="pauly" created="Fri, 4 Feb 2011 21:19:06 +0000"  >&lt;p&gt;In case it was missed - posted 1 additional suggestion on reviewboard.&lt;/p&gt;</comment>
                            <comment id="12991757" author="sushanth" created="Tue, 8 Feb 2011 01:05:36 +0000"  >&lt;p&gt;Patch updated to reflect latest suggestion.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12992247" author="pauly" created="Wed, 9 Feb 2011 00:17:14 +0000"  >&lt;p&gt;+1 tests passed&lt;/p&gt;</comment>
                            <comment id="12992249" author="pauly" created="Wed, 9 Feb 2011 00:22:18 +0000"  >&lt;p&gt;Committed. Thanks Sushanth!&lt;/p&gt;</comment>
                            <comment id="12992322" author="sushanth" created="Wed, 9 Feb 2011 04:18:25 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467391" name="HIVE-1818-vs-1054860.patch" size="49973" author="sushanth" created="Tue, 4 Jan 2011 02:13:10 +0000"/>
                            <attachment id="12469227" name="HIVE-1818-vs-1063088.patch" size="57216" author="sushanth" created="Tue, 25 Jan 2011 01:20:14 +0000"/>
                            <attachment id="12465155" name="HIVE-1818.patch" size="50746" author="sushanth" created="Thu, 2 Dec 2010 18:32:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Dec 2010 23:05:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jmx instrumentation for HiveMetaStore call frequency and duration</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1819] maintain lastAccessTime in the metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1819</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12491741">HIVE-1819</key>
            <summary>maintain lastAccessTime in the metastore</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 06:48:52 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:11 +0000</updated>
                            <resolved>Fri, 3 Dec 2010 07:37:25 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12965586" author="pauly" created="Wed, 1 Dec 2010 07:10:56 +0000"  >&lt;p&gt;Since lastAccessTime is already a field in MPartition/MTable, can we use those instead of adding a field to parameters?&lt;/p&gt;</comment>
                            <comment id="12965736" author="namit" created="Wed, 1 Dec 2010 16:26:00 +0000"  >&lt;p&gt;The reason I did not use it is because it an int.&lt;/p&gt;</comment>
                            <comment id="12965926" author="namit" created="Wed, 1 Dec 2010 23:33:54 +0000"  >&lt;p&gt;incorporated comments&lt;/p&gt;</comment>
                            <comment id="12965929" author="pauly" created="Wed, 1 Dec 2010 23:51:28 +0000"  >&lt;p&gt;Looks good, but could you remove modifyParams() and setParameters() since it is no longer needed? Also, a getLastAccessTime() function should be added to keep the setters/getters symmetric.&lt;/p&gt;</comment>
                            <comment id="12965950" author="namit" created="Thu, 2 Dec 2010 01:22:13 +0000"  >&lt;p&gt;added comments&lt;/p&gt;</comment>
                            <comment id="12965957" author="pauly" created="Thu, 2 Dec 2010 01:44:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12966361" author="he yongqiang" created="Fri, 3 Dec 2010 00:28:26 +0000"  >&lt;p&gt;will commit after tests pass. (Paul has some problems running test.)&lt;/p&gt;</comment>
                            <comment id="12966442" author="he yongqiang" created="Fri, 3 Dec 2010 07:37:25 +0000"  >&lt;p&gt;Committed! Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465030" name="hive.1819.1.patch" size="7524" author="namit" created="Wed, 1 Dec 2010 06:50:30 +0000"/>
                            <attachment id="12465090" name="hive.1819.2.patch" size="29149" author="namit" created="Wed, 1 Dec 2010 23:33:38 +0000"/>
                            <attachment id="12465096" name="hive.1819.3.patch" size="28670" author="namit" created="Thu, 2 Dec 2010 01:22:01 +0000"/>
                            <attachment id="12465184" name="hive.1819.4.patch" size="29642" author="namit" created="Thu, 2 Dec 2010 23:58:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Dec 2010 07:10:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1820] Make Hive database data center aware</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1820</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to support multiple data centers (different DFS, MR clusters) for hive, it is desirable to extend Hive database to be data center aware. &lt;/p&gt;

&lt;p&gt;Currently Hive database is a logical concept and has no DFS or MR cluster info associated with it. Database has the location property indicating the default warehouse directory, but user cannot specify and change it. In order to make it data center aware, the following info need to be maintained:&lt;/p&gt;

&lt;p&gt;1) data warehouse root location which is the default HDFS location for newly created tables (default=hive.metadata.warehouse.dir).&lt;br/&gt;
2) scratch dir which is the HDFS location where MR intermediate files are created (default=hive.exec.scratch.dir)&lt;br/&gt;
3) MR job tracker URI that jobs should be submitted to (default=mapred.job.tracker)&lt;br/&gt;
4) hadoop (bin) dir ($HADOOP_HOME/bin/hadoop)&lt;/p&gt;

&lt;p&gt;These parameters should be saved in database.parameters (key, value) pair and they overwrite the jobconf parameters (so if the default database has no parameter it will get it from the hive-default.xml or hive-site.xml as it is now). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12491822">HIVE-1820</key>
            <summary>Make Hive database data center aware</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 22:11:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:49 +0000</updated>
                            <resolved>Wed, 26 Jan 2011 06:01:39 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                            <comments>
                            <comment id="12965918" author="namit" created="Wed, 1 Dec 2010 23:12:13 +0000"  >&lt;p&gt;Going forward, none of the other hive configuration parameters should access the dfs directly &lt;/p&gt;</comment>
                            <comment id="12969215" author="nzhang" created="Wed, 8 Dec 2010 06:54:22 +0000"  >&lt;p&gt;attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1820&quot; title=&quot;Make Hive database data center aware&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1820&quot;&gt;&lt;del&gt;HIVE-1820&lt;/del&gt;&lt;/a&gt;.patch for review. &lt;/p&gt;</comment>
                            <comment id="12986785" author="namit" created="Wed, 26 Jan 2011 00:11:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12986856" author="namit" created="Wed, 26 Jan 2011 06:01:39 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465777" name="HIVE-1820.patch" size="2194" author="nzhang" created="Wed, 8 Dec 2010 06:54:22 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12491826">HIVE-1821</subtask>
                            <subtask id="12491829">HIVE-1822</subtask>
                            <subtask id="12491838">HIVE-1823</subtask>
                            <subtask id="12492573">HIVE-1836</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Dec 2010 23:12:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1821] describe database command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1821</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;a describe (extended) database command would be helpful if we introduces parameters associated with databases. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12491826">HIVE-1821</key>
            <summary>describe database command</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12491822">HIVE-1820</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 22:29:06 +0000</created>
                <updated>Tue, 7 Dec 2010 20:20:49 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 20:20:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12968915" author="nzhang" created="Tue, 7 Dec 2010 19:43:06 +0000"  >&lt;p&gt;a patch is uploaded to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1836&quot; title=&quot;Extend the CREATE DATABASE command with DBPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1836&quot;&gt;&lt;del&gt;HIVE-1836&lt;/del&gt;&lt;/a&gt; that address this patch.&lt;/p&gt;</comment>
                            <comment id="12968939" author="namit" created="Tue, 7 Dec 2010 20:20:13 +0000"  >&lt;p&gt;If you are doing this, do you want to add a &apos;alter database&apos; also ?&lt;/p&gt;</comment>
                            <comment id="12968940" author="namit" created="Tue, 7 Dec 2010 20:20:49 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1836&quot; title=&quot;Extend the CREATE DATABASE command with DBPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1836&quot;&gt;&lt;del&gt;HIVE-1836&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Dec 2010 20:20:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1822] Hive Conf variables should be relative to the dfs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1822</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the following parameter:&lt;br/&gt;
hive.metastore.warehouse.dir&lt;/p&gt;

&lt;p&gt;refers the path completely.&lt;/p&gt;

&lt;p&gt;It becomes difficult to maintain if a mapping from Hive Database -&amp;gt; DFS is added.&lt;/p&gt;

&lt;p&gt;This is needed for multi data-center support from Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491829">HIVE-1822</key>
            <summary>Hive Conf variables should be relative to the dfs</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12491822">HIVE-1820</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 22:46:53 +0000</created>
                <updated>Wed, 8 Dec 2010 01:13:43 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12966702" author="nzhang" created="Fri, 3 Dec 2010 22:31:24 +0000"  >&lt;p&gt;In build-common.xml:401, why ${test.warehouse.scheme} is removed? Isn&apos;t it used by pfile?&lt;/p&gt;


</comment>
                            <comment id="12969111" author="nzhang" created="Wed, 8 Dec 2010 01:04:45 +0000"  >&lt;p&gt;Hi Namit,  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1820&quot; title=&quot;Make Hive database data center aware&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1820&quot;&gt;&lt;del&gt;HIVE-1820&lt;/del&gt;&lt;/a&gt; is dependent on this JIRA, are you able to work on this? Also hive.exec.scratch.dir also needs to be made dependent on the new HADOOPFS parameter. &lt;/p&gt;</comment>
                            <comment id="12969115" author="namit" created="Wed, 8 Dec 2010 01:13:43 +0000"  >&lt;p&gt;I will refresh&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465272" name="hive.1822.1.patch" size="13949" author="namit" created="Fri, 3 Dec 2010 20:26:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Dec 2010 22:31:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1823] upgrade the database thrift interface to allow parameters key-value pairs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1823</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to store data center specify parameters to Hive database, it is desirable to extend Hive database thrift interface with a parameters map similar to Table and Partitions. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12491838">HIVE-1823</key>
            <summary>upgrade the database thrift interface to allow parameters key-value pairs</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12491822">HIVE-1820</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Dec 2010 01:56:03 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:12 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 17:19:55 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12966773" author="nzhang" created="Sat, 4 Dec 2010 01:30:32 +0000"  >&lt;p&gt;Uploading a patch for adding a parameter map field for database. &lt;/p&gt;</comment>
                            <comment id="12968463" author="namit" created="Mon, 6 Dec 2010 22:46:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="12968533" author="nzhang" created="Tue, 7 Dec 2010 01:40:30 +0000"  >&lt;p&gt;Fixed a simple bug in the previous patch: the new DATABSE_PARAMS table should use both DB_ID and KEY_COLUMN as the primary key. Since the index key max length is 767 in mysql, the key column&apos;s length is reduced to 180 from 256 in case of the db character set is utf-8. &lt;/p&gt;</comment>
                            <comment id="12968828" author="namit" created="Tue, 7 Dec 2010 17:19:55 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12495103">HIVE-1905</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12465648" name="HIVE-1823.2.patch" size="231166" author="nzhang" created="Tue, 7 Dec 2010 01:40:29 +0000"/>
                            <attachment id="12465299" name="HIVE-1823.patch" size="231269" author="nzhang" created="Sat, 4 Dec 2010 01:30:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Dec 2010 22:46:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1824] create a new ZooKeeper instance when retrying lock, and more info for debug</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1824</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12491938">HIVE-1824</key>
            <summary>create a new ZooKeeper instance when retrying lock, and more info for debug</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Dec 2010 23:24:50 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:48 +0000</updated>
                            <resolved>Fri, 3 Dec 2010 18:47:13 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12966366" author="he yongqiang" created="Fri, 3 Dec 2010 00:55:05 +0000"  >&lt;p&gt;added some check in getLocks to ignore some non-related locks.&lt;/p&gt;</comment>
                            <comment id="12966396" author="namit" created="Fri, 3 Dec 2010 02:35:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12966621" author="namit" created="Fri, 3 Dec 2010 18:47:13 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465181" name="hive-1824.1.patch" size="9178" author="he yongqiang" created="Thu, 2 Dec 2010 23:48:07 +0000"/>
                            <attachment id="12465190" name="hive-1824.2.patch" size="10081" author="he yongqiang" created="Fri, 3 Dec 2010 00:55:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Dec 2010 02:35:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1825] Different defaults for hive.metastore.local</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1825</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive-default.xml sets &lt;tt&gt;hive.metastore.local&lt;/tt&gt; to &lt;tt&gt;true&lt;/tt&gt;. In the code however there is this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;HiveMetaStoreClient.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; localMetaStore = conf.getBoolean(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.metastore.local&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This leads to different behaviour depending on whether hbase-default.xml is on the classpath or not.....which can lead to some confusion &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I can supply a patch - should be pretty similar. I just don&apos;t  know what the &quot;real&quot; default should be. My guess would be &lt;tt&gt;true&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491939">HIVE-1825</key>
            <summary>Different defaults for hive.metastore.local</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lars_francke">Lars Francke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Dec 2010 23:29:00 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:42 +0000</updated>
                            <resolved>Wed, 2 Nov 2011 08:15:41 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13141995" author="ashutoshc" created="Wed, 2 Nov 2011 08:15:41 +0000"  >&lt;p&gt;This got resolved as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1461&quot; title=&quot;Clean up references to &amp;#39;hive.metastore.local&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1461&quot;&gt;&lt;del&gt;HIVE-1461&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Nov 2011 08:15:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1826] StatsTask updates the table/partition object leaving a inconsistent version in hooks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1826</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12491942">HIVE-1826</key>
            <summary>StatsTask updates the table/partition object leaving a inconsistent version in hooks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Dec 2010 23:55:12 +0000</created>
                <updated>Thu, 2 Dec 2010 23:57:05 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12966357" author="namit" created="Thu, 2 Dec 2010 23:57:05 +0000"  >&lt;p&gt;The inputs and outputs from the ReadEntity and WriteEntity are passed to the hooks.&lt;br/&gt;
However, the StatsTask may have updated these objects. &lt;br/&gt;
Isn&apos;t it possible that the hooks (post execution) will see a stale version of this data ?&lt;br/&gt;
And, if these hooks update these objects and write them back to the metastore, &lt;br/&gt;
the Stats changes will be lost.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1827] Add a new local mode flag in Task.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1827</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive can run query in local mode. It would be nice to track and audit how many queries will be run in the local mode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492014">HIVE-1827</key>
            <summary>Add a new local mode flag in Task.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Dec 2010 18:37:17 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:52 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 07:43:52 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                            <comments>
                            <comment id="12968355" author="liyin" created="Mon, 6 Dec 2010 18:45:37 +0000"  >&lt;p&gt;Add a new attribute isLocalMode in Task.&lt;/p&gt;</comment>
                            <comment id="12968359" author="he yongqiang" created="Mon, 6 Dec 2010 18:52:41 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="12968617" author="he yongqiang" created="Tue, 7 Dec 2010 07:43:52 +0000"  >&lt;p&gt;Committed! Thanks Liyin!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465603" name="hive-1827-1.patch" size="1530" author="liyin" created="Mon, 6 Dec 2010 18:45:37 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12492763">HIVE-1842</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Dec 2010 18:52:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1828] show locks should not use getTable()/getPartition </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1828</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12492019">HIVE-1828</key>
            <summary>show locks should not use getTable()/getPartition </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Dec 2010 19:17:43 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:00 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 06:49:08 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12966847" author="namit" created="Sat, 4 Dec 2010 19:19:03 +0000"  >&lt;p&gt;One minor comment:&lt;/p&gt;

&lt;p&gt;In case of &lt;/p&gt;

&lt;p&gt;show locks &amp;lt;T&amp;gt; extended;&lt;/p&gt;

&lt;p&gt;Does anyone check that the table exists ?&lt;/p&gt;

&lt;p&gt;The DDLTask can do that before calling zookeeper &lt;/p&gt;</comment>
                            <comment id="12966872" author="he yongqiang" created="Sun, 5 Dec 2010 00:06:53 +0000"  >&lt;p&gt;For &quot;show locks &amp;lt;T&amp;gt; extended;&quot;, DDLTask is now validating the table and partition information in getHiveLockObject(). &lt;/p&gt;</comment>
                            <comment id="12966981" author="namit" created="Sun, 5 Dec 2010 16:54:17 +0000"  >&lt;p&gt;can you add the new patch ?&lt;/p&gt;

&lt;p&gt;also, can you add a negative test (if you have not done so already) ?&lt;/p&gt;</comment>
                            <comment id="12968459" author="namit" created="Mon, 6 Dec 2010 22:36:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="12968595" author="namit" created="Tue, 7 Dec 2010 06:49:08 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465615" name="HIVE-1828.2.patch" size="17257" author="he yongqiang" created="Mon, 6 Dec 2010 20:53:39 +0000"/>
                            <attachment id="12465302" name="HIVE-1828.patch" size="14464" author="he yongqiang" created="Sat, 4 Dec 2010 03:07:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 5 Dec 2010 00:06:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1829] Fix intermittent failures in TestRemoteMetaStore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1829</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Notice how Running metastore! appears twice.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;test:
    [junit] Running org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore
    [junit] BR.recoverFromMismatchedToken
    [junit] Tests run: 11, Failures: 0, Errors: 0, Time elapsed: 36.697 sec
    [junit] Running org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore
    [junit] Running metastore!
    [junit] Running metastore!
    [junit] org.apache.thrift.transport.TTransportException: Could not create ServerSocket on address 0.0.0.0/0.0.0.0:29083.
    [junit] 	at org.apache.thrift.transport.TServerSocket.&amp;lt;init&amp;gt;(TServerSocket.java:98)
    [junit] 	at org.apache.thrift.transport.TServerSocket.&amp;lt;init&amp;gt;(TServerSocket.java:79)
    [junit] 	at org.apache.hadoop.hive.metastore.TServerSocketKeepAlive.&amp;lt;init&amp;gt;(TServerSocketKeepAlive.java:34)
    [junit] 	at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:2189)
    [junit] 	at org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore$RunMS.run(TestRemoteHiveMetaStore.java:35)
    [junit] 	at java.lang.Thread.run(Thread.java:619)
    [junit] Running org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
    [junit] Test org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore FAILED (crashed)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12492031">HIVE-1829</key>
            <summary>Fix intermittent failures in TestRemoteMetaStore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Dec 2010 21:12:44 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:38 +0000</updated>
                            <resolved>Tue, 11 Jan 2011 17:28:46 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12969891" author="ashutoshc" created="Thu, 9 Dec 2010 19:36:32 +0000"  >&lt;p&gt;I see similar errors randomly. But, whenever I see doing following always get me past it:&lt;/p&gt;

&lt;p&gt;TestRemoteHiveMetaStore.java line number 51:&lt;br/&gt;
 -Thread.sleep(5000);&lt;br/&gt;
 +Thread.sleep(20000); &lt;/p&gt;

&lt;p&gt;So, not sure if it has to do anything with machine having multiple IPs. I also see &quot;Running metastore!&quot; occurring  2-7 times when there is a random failure.&lt;/p&gt;</comment>
                            <comment id="12977042" author="ashutoshc" created="Tue, 4 Jan 2011 00:34:57 +0000"  >&lt;p&gt;This issue can now be seen on latest builds on apache machines as well &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/465/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/465/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12977143" author="appodictic" created="Tue, 4 Jan 2011 06:41:05 +0000"  >&lt;p&gt;Thank you for confirming. It is good to know that I am not going crazy. I have two separate machines running into this issue. I noticed this test &quot;disipeared&quot; from trunk so I assume someone else is having problems with it not testing as well.&lt;/p&gt;</comment>
                            <comment id="12977703" author="cwsteinbach" created="Wed, 5 Jan 2011 09:55:47 +0000"  >&lt;p&gt;Ashutosh&apos;s hunch is right &amp;#8211; this doesn&apos;t have anything to do with multiple IPs.&lt;/p&gt;

&lt;p&gt;The problem is caused by the setUp method in TestRemoteHiveMetaStore:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.setUp();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(isServerRunning) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
    &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; t = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RunMS());
    t.start();

    &lt;span class=&quot;code-comment&quot;&gt;// Wait a little bit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the metastore to start. Should probably have
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// a better way of detecting &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the metastore has started?
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(5000);

    &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;
    client = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HiveMetaStoreClient(hiveConf);
    isThriftClient = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

    &lt;span class=&quot;code-comment&quot;&gt;// Now you have the client - run necessary tests.
&lt;/span&gt;    isServerRunning = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JUnit calls this method once before running each testcase, and if setUp() throws an&lt;br/&gt;
exception it will fail the current test before continuing onto the next one.&lt;/p&gt;

&lt;p&gt;On slow machines it can take longer than 5 seconds for the MetaStore server process&lt;br/&gt;
to initialize and open a listening socket (RunMS()). When this happens the&lt;br/&gt;
HiveMetaStoreClient constructor fails with an exception that causes setUp to exit before&lt;br/&gt;
setting isServerRunning to true. JUnit then fails the current testcase and immediately begins initializing&lt;br/&gt;
the next testcase, which results in another call to setUp(). Since isServerRunning is still false&lt;br/&gt;
we end up starting another MetaStore server thread which will attempt to open a listening&lt;br/&gt;
socket on the same port as the first thread, which is what causes the TTransportException&lt;br/&gt;
that you see in the log above.&lt;/p&gt;</comment>
                            <comment id="12977770" author="appodictic" created="Wed, 5 Jan 2011 14:10:47 +0000"  >&lt;p&gt;Right I noticed that isServerRunning check is failing. I do not think it is limited to &apos;slow machines&apos; this fails on server class hardware as well as my laptop with 4GB ram and a quad core. &lt;/p&gt;</comment>
                            <comment id="12979065" author="cwsteinbach" created="Sat, 8 Jan 2011 02:05:40 +0000"  >&lt;p&gt;This patch attempts to fix the intermittent failures in TestRemoteHiveMetaStore by instituting a 60 second&lt;br/&gt;
wait between consecutive connection attempts in HiveMetaStoreClient. This wait period is configurable&lt;br/&gt;
via the new configuration property hive.metastore.client.connect.retry.delay. The patch also defines the&lt;br/&gt;
new configuration property hive.metastore.client.socket.timeout that is used to set the timeout value on&lt;br/&gt;
Thrift socket wrapped by HiveMetaStoreClient.&lt;/p&gt;</comment>
                            <comment id="12979068" author="cwsteinbach" created="Sat, 8 Jan 2011 02:08:22 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/260/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/260/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12979773" author="jvs" created="Mon, 10 Jan 2011 21:26:09 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12980196" author="jvs" created="Tue, 11 Jan 2011 17:28:46 +0000"  >&lt;p&gt;Committed.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467785" name="HIVE-1829.1.patch.txt" size="10902" author="cwsteinbach" created="Sat, 8 Jan 2011 02:05:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Dec 2010 19:36:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1830] mappers in group followed by joins may die OOM</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1830</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12492130">HIVE-1830</key>
            <summary>mappers in group followed by joins may die OOM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 07:01:53 +0000</created>
                <updated>Sun, 25 Jan 2015 00:23:24 +0000</updated>
                            <resolved>Thu, 9 Dec 2010 06:10:07 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12967105" author="namit" created="Mon, 6 Dec 2010 07:08:59 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1642&quot; title=&quot;Convert join queries to map-join based on size of table/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1642&quot;&gt;&lt;del&gt;HIVE-1642&lt;/del&gt;&lt;/a&gt;, joins are automatically converted into map-joins at physical optimization time.&lt;/p&gt;

&lt;p&gt;However, this may lead to problems.&lt;/p&gt;


&lt;p&gt;For eg:  consider the query:&lt;/p&gt;

&lt;p&gt;select T1.val, count(1) from T1 join T2 on T1.key=T2.key group by T1.val&lt;/p&gt;


&lt;p&gt;This will have 2 map-reduce jobs, one for the join and the other for group by.&lt;/p&gt;

&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1642&quot; title=&quot;Convert join queries to map-join based on size of table/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1642&quot;&gt;&lt;del&gt;HIVE-1642&lt;/del&gt;&lt;/a&gt;, the partial group for aggregation will be performed in the reducer where the join is performed.&lt;br/&gt;
However, after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1642&quot; title=&quot;Convert join queries to map-join based on size of table/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1642&quot;&gt;&lt;del&gt;HIVE-1642&lt;/del&gt;&lt;/a&gt;, the same will be performed in the mapper. The local task will confirm that there is  just&lt;br/&gt;
enough memory to hold the map-join data. Hoever, it does not take into account the memory needed for partial group&lt;br/&gt;
by.&lt;/p&gt;

&lt;p&gt;So, in case there is group by followed by join, it is a good idea to reduce the memory given to the local task to validate&lt;br/&gt;
if there is enough memory to fit small table - it can be controlled by a new configuration paramter, but it can be some&lt;br/&gt;
default: say 70% of total memory (instead of 90%).&lt;/p&gt;

&lt;p&gt;Also, the group by may still run out of memory, so it might be a good idea to check in group by for free memory and&lt;br/&gt;
periodically flush memory&lt;/p&gt;</comment>
                            <comment id="12968529" author="liyin" created="Tue, 7 Dec 2010 01:18:51 +0000"  >&lt;p&gt;Add a new test: auto_join26.q &lt;/p&gt;</comment>
                            <comment id="12968538" author="liyin" created="Tue, 7 Dec 2010 01:51:29 +0000"  >&lt;p&gt;Carefully measure the memory usage of map side group by.&lt;br/&gt;
Flush frequently, if the left memory is less than a threshold.&lt;/p&gt;</comment>
                            <comment id="12969061" author="namit" created="Tue, 7 Dec 2010 22:56:25 +0000"  >&lt;p&gt;I will take a look &lt;/p&gt;</comment>
                            <comment id="12969070" author="namit" created="Tue, 7 Dec 2010 23:06:36 +0000"  >&lt;p&gt;Add the new parameters description in hive-default.xml.&lt;br/&gt;
Move the memory threshold in the descriptors (for eg. all the needed confs should be copied in groupbydesc.&lt;br/&gt;
and accessed from there, instead of being accessed from HiveConf at runtime) - you already did it from&lt;br/&gt;
HashTableSinkOperator&lt;/p&gt;</comment>
                            <comment id="12969124" author="liyin" created="Wed, 8 Dec 2010 01:22:08 +0000"  >&lt;p&gt;1) Add more descriptions in the config file&lt;br/&gt;
2) Set the memory usage of hashtable sink op and group by op into their desc. &lt;br/&gt;
The memory usage is deterministic after compiling stage.&lt;/p&gt;</comment>
                            <comment id="12969203" author="namit" created="Wed, 8 Dec 2010 06:29:11 +0000"  >&lt;p&gt;      if (groupByOp.getConf() == null) &lt;/p&gt;
{
91	        System.out.println(&quot;Group by desc is null&quot;);
92	        return null;
93	      }




&lt;p&gt;This should never happen&lt;/p&gt;


&lt;p&gt;GroupByOperator:&lt;br/&gt;
    memoryThreshold = HiveConf.getFloatVar(hconf, HiveConf.ConfVars.HIVEMAPAGGRM&#11013;&lt;br/&gt;
EMORYTHRESHOLD);&lt;/p&gt;


&lt;p&gt;This should also be in groupByDesc&lt;/p&gt;
</comment>
                            <comment id="12969433" author="liyin" created="Wed, 8 Dec 2010 19:19:26 +0000"  >&lt;p&gt;1) Remove the debug statements&lt;br/&gt;
2) Add the memory threshold to group by desc.&lt;/p&gt;</comment>
                            <comment id="12969549" author="namit" created="Wed, 8 Dec 2010 23:12:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12969634" author="namit" created="Thu, 9 Dec 2010 06:10:06 +0000"  >&lt;p&gt;Committed. Thanks Liyin&lt;/p&gt;</comment>
                            <comment id="14290901" author="lefty@hortonworks.com" created="Sun, 25 Jan 2015 00:23:24 +0000"  >&lt;p&gt;Doc note:  This added three configuration parameters to HiveConf.java, with descriptions in the template file.  They are documented in the wiki.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.followby.map.aggr.hash.percentmemory&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.mapjoin.followby.map.aggr.hash.percentmemory &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.map.aggr.hash.force.flush.memory.threshold&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.map.aggr.hash.force.flush.memory.threshold &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.followby.gby.localtask.max.memory.usage&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.mapjoin.followby.gby.localtask.max.memory.usage &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465645" name="hive-1830-1.patch" size="35642" author="liyin" created="Tue, 7 Dec 2010 01:16:42 +0000"/>
                            <attachment id="12465646" name="hive-1830-2.patch" size="47158" author="liyin" created="Tue, 7 Dec 2010 01:18:51 +0000"/>
                            <attachment id="12465651" name="hive-1830-3.patch" size="49559" author="liyin" created="Tue, 7 Dec 2010 01:51:29 +0000"/>
                            <attachment id="12465767" name="hive-1830-4.patch" size="58024" author="liyin" created="Wed, 8 Dec 2010 01:22:08 +0000"/>
                            <attachment id="12465822" name="hive-1830-5.patch" size="58817" author="liyin" created="Wed, 8 Dec 2010 19:19:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Dec 2010 01:18:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1831] Add a option to run task to check map-join possibility in non-local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1831</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1642&quot; title=&quot;Convert join queries to map-join based on size of table/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1642&quot;&gt;&lt;del&gt;HIVE-1642&lt;/del&gt;&lt;/a&gt;, we run a local task to figure out if the small table can be held in memory, and then convert the join into a map-join.&lt;br/&gt;
However, this can be a good idea for thin clients (which may not have enough memory).&lt;/p&gt;

&lt;p&gt;This should be made configurable - where the default can still be to run the task locally on the client machine, but an option&lt;br/&gt;
should be added for thin clients, where the task would be run as a map-only task&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492131">HIVE-1831</key>
            <summary>Add a option to run task to check map-join possibility in non-local mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 07:12:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:56 +0000</updated>
                            <resolved>Thu, 9 Dec 2010 06:14:53 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12969636" author="namit" created="Thu, 9 Dec 2010 06:14:53 +0000"  >&lt;p&gt;Committed. Thanks Liyin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1832] Dynamically allocate and measure memory usage when a map join op followed by a group by op</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1832</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now, if a map join operator followed by a map-side group by, this map reduce task will be memory intensive task.&lt;br/&gt;
Memory usage should be carefully measured and bounded in order not to run out of memory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492175">HIVE-1832</key>
            <summary>Dynamically allocate and measure memory usage when a map join op followed by a group by op</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 17:05:48 +0000</created>
                <updated>Mon, 6 Dec 2010 17:33:44 +0000</updated>
                            <resolved>Mon, 6 Dec 2010 17:33:45 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12967268" author="liyin" created="Mon, 6 Dec 2010 17:32:00 +0000"  >&lt;p&gt;Duplicate of Hive-1830&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Duplicate of Hive-1830</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1833] Task-cleanup task should be disabled</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1833</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently when task fails, a cleanup attempt will be scheduled right after that.&lt;br/&gt;
This is unnecessary and increase the latency. MapReduce will allow disabling this (see &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-2206&quot; title=&quot;The task-cleanup tasks should be optional&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-2206&quot;&gt;&lt;del&gt;MAPREDUCE-2206&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
After that patch is committed, we should set the JobConf in HIVE to disable cleanup task.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492530">HIVE-1833</key>
            <summary>Task-cleanup task should be disabled</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schen">Scott Chen</assignee>
                                    <reporter username="schen">Scott Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 19:05:42 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:08 +0000</updated>
                            <resolved>Thu, 3 Mar 2011 19:47:26 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13000587" author="schen" created="Mon, 28 Feb 2011 22:53:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-2206&quot; title=&quot;The task-cleanup tasks should be optional&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-2206&quot;&gt;&lt;del&gt;MAPREDUCE-2206&lt;/del&gt;&lt;/a&gt; just got committed. Add the corresponding configuration change here to disable task-cleanup task.&lt;/p&gt;</comment>
                            <comment id="13000609" author="jsensarma" created="Mon, 28 Feb 2011 23:46:03 +0000"  >&lt;p&gt;can you also make this change in:&lt;/p&gt;

&lt;p&gt;shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/p&gt;

&lt;p&gt;looks like we have two shims for hadoop-0.20 (one for hadoop-20 with security)&lt;/p&gt;</comment>
                            <comment id="13000624" author="schen" created="Tue, 1 Mar 2011 00:23:15 +0000"  >&lt;p&gt;Update the patch to address Joydeep&apos;s comment. Thanks.&lt;/p&gt;</comment>
                            <comment id="13002165" author="jsensarma" created="Thu, 3 Mar 2011 19:42:28 +0000"  >&lt;p&gt;committed - thanks Scott!&lt;/p&gt;</comment>
                            <comment id="13002293" author="schen" created="Thu, 3 Mar 2011 22:50:30 +0000"  >&lt;p&gt;Thanks for the help, Joy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12491611">MAPREDUCE-2206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12472258" name="HIVE-1833.1.txt" size="1831" author="schen" created="Tue, 1 Mar 2011 00:23:38 +0000"/>
                            <attachment id="12472245" name="HIVE-1833.txt" size="911" author="schen" created="Mon, 28 Feb 2011 22:51:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Feb 2011 23:46:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1834] more debugging for locking</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1834</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Along with the time and the queryid, it might be a good idea to log if the lock was acquired explicitly (by a lock command)&lt;br/&gt;
or implicitly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492552">HIVE-1834</key>
            <summary>more debugging for locking</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 22:38:09 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:29 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 18:17:17 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12968614" author="he yongqiang" created="Tue, 7 Dec 2010 07:39:04 +0000"  >&lt;p&gt;+1, running tests&lt;/p&gt;</comment>
                            <comment id="12968858" author="he yongqiang" created="Tue, 7 Dec 2010 18:17:17 +0000"  >&lt;p&gt;Committed! Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465669" name="hive.1834.1.patch" size="19160" author="namit" created="Tue, 7 Dec 2010 07:20:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Dec 2010 07:39:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1835] Better auto-complete for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1835</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add functions and keywords to auto-complete list&lt;/li&gt;
	&lt;li&gt;Make Hive auto-complete aware of Hive delimiters (eg. whitespace, parentheses)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12492559">HIVE-1835</key>
            <summary>Better auto-complete for Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulbutler">Paul Butler</assignee>
                                    <reporter username="paulbutler">Paul Butler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 23:23:12 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:17 +0000</updated>
                            <resolved>Mon, 20 Dec 2010 23:13:44 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12968870" author="paulbutler" created="Tue, 7 Dec 2010 18:39:28 +0000"  >&lt;p&gt;Fixed missing file&lt;/p&gt;</comment>
                            <comment id="12973279" author="nzhang" created="Mon, 20 Dec 2010 17:59:33 +0000"  >&lt;p&gt;Will take a look.&lt;/p&gt;</comment>
                            <comment id="12973339" author="nzhang" created="Mon, 20 Dec 2010 20:12:16 +0000"  >&lt;p&gt;+1. Running tests. &lt;/p&gt;

&lt;p&gt;As a follow-up I think it would be nice to add table names to the completor as well. &lt;/p&gt;</comment>
                            <comment id="12973368" author="appodictic" created="Mon, 20 Dec 2010 21:22:54 +0000"  >&lt;p&gt;Nice job. We are going to have quite and awesome CLI for version 0.7.0 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12973405" author="nzhang" created="Mon, 20 Dec 2010 23:13:44 +0000"  >&lt;p&gt;Committed. Thanks Paul!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465720" name="HIVE-1835.2.patch" size="5652" author="paulbutler" created="Tue, 7 Dec 2010 18:39:28 +0000"/>
                            <attachment id="12466651" name="HIVE-1835.3.patch" size="5653" author="paulbutler" created="Mon, 20 Dec 2010 18:23:18 +0000"/>
                            <attachment id="12465633" name="HIVE-1835.patch" size="4833" author="paulbutler" created="Mon, 6 Dec 2010 23:24:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Dec 2010 17:59:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
