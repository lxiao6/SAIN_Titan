<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:20:13 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-2-14+AND+created+%3C%3D+2012-2-21+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="9" total="9"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2805] Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2805</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Move contents of upgrade-0.9.0-to-0.10.0.mysql.sql, upgrade-0.9.0-to-0.10.0.derby.sql into upgrade-0.8.0-to-0.9.0.mysql.sql, upgrade-0.8.0-to-0.9.0.derby.sql&lt;/p&gt;

&lt;p&gt;Rename hive-schema-0.10.0.derby.sql, hive-schema-0.10.0.mysql.sql to hive-schema-0.9.0.derby.sql, hive-schema-0.9.0.mysql.sql&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542795">HIVE-2805</key>
            <summary>Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2012 23:48:51 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:50 +0000</updated>
                            <resolved>Mon, 2 Apr 2012 15:45:50 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13208980" author="kevinwilfong" created="Wed, 15 Feb 2012 23:49:08 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2612&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13209095" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 03:06:58 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2805&quot; title=&quot;Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2805&quot;&gt;&lt;del&gt;HIVE-2805&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Changed all metastore upgrade script names from 010 to 009 replaced 0.9.0 schema scripts with the contents of the 0.10.0 schema scripts and deleted the 0.10.0 schema scripts, modified the 0.8.0-to-0.9.0 updgrade scripts to call the new scripts and delted the 0.9.0-to-0.10.0 scripts.&lt;/p&gt;

&lt;p&gt;  Move contents of upgrade-0.9.0-to-0.10.0.mysql.sql, upgrade-0.9.0-to-0.10.0.derby.sql into upgrade-0.8.0-to-0.9.0.mysql.sql, upgrade-0.8.0-to-0.9.0.derby.sql&lt;/p&gt;

&lt;p&gt;  Rename hive-schema-0.10.0.derby.sql, hive-schema-0.10.0.mysql.sql to hive-schema-0.9.0.derby.sql, hive-schema-0.9.0.mysql.sql&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1743&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/scripts/upgrade/derby/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/derby/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/derby/hive-schema-0.9.0.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/derby/upgrade-0.8.0-to-0.9.0.derby.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/hive-schema-0.9.0.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/mysql/upgrade-0.8.0-to-0.9.0.mysql.sql&lt;br/&gt;
  metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;br/&gt;
  metastore/scripts/upgrade/postgres/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3711/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13244270" author="namit" created="Mon, 2 Apr 2012 15:45:50 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13244633" author="hudson" created="Mon, 2 Apr 2012 21:06:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1347 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1347/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2805&quot; title=&quot;Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2805&quot;&gt;&lt;del&gt;HIVE-2805&lt;/del&gt;&lt;/a&gt; Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1308392)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1308392&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1308392&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.9.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.8.0-to-0.9.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.9.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.8.0-to-0.9.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265321" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:42 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548213" author="hudson" created="Wed, 9 Jan 2013 10:24:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2805&quot; title=&quot;Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2805&quot;&gt;&lt;del&gt;HIVE-2805&lt;/del&gt;&lt;/a&gt; Move metastore upgrade scripts labeled 0.10.0 into scripts labeled 0.9.0&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1308392)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1308392&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1308392&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.9.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.8.0-to-0.9.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.9.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.8.0-to-0.9.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2612&quot; title=&quot;support hive table/partitions exists in more than one region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2612&quot;&gt;&lt;del&gt;HIVE-2612&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12514751" name="ASF.LICENSE.NOT.GRANTED--HIVE-2805.D1743.1.patch" size="102384" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 03:06:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Feb 2012 03:06:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2806] &apos;The database has reported an Exception: Query returned non-zero code: 9; cause: FAILED&apos; - Queries that have &apos;JOIN&apos; on tables that have huge data result in this exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2806</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Below are the two queries that result in exception when executed on hive 0.8.0:&lt;br/&gt;
1.   SELECT T5.C47 AS C56, ((T5.C48 + T5.C49) - T5.C50) AS C57 FROM (SELECT count(T1.b2) AS C47, sum(T2.b2) AS C48, max(T3.e2) AS C49, max(T4.e3) AS C50 FROM default.qutest2 T1 JOIN default.qutest2 T2 JOIN default.qutest2 T3 JOIN default.qutest3 T4 WHERE (((T4.a3 = T3.a2) AND (T3.a2 = T2.a2)) AND (T2.a2 = T1.a2))) T5 ORDER BY C56 ASC, C57 DESC;&lt;/p&gt;

&lt;p&gt;2.   SELECT  (T5.C43 - T5.C44) AS C58, T5.C45 AS C59, T5.C46 AS C60, T5.C47 AS C61 FROM (SELECT sum(T1.a2) AS C43, count(T4.b2) AS C44, count(T1.b2) AS C45, sum(T3.b1) AS C46, max(T3.b1) AS C47 FROM default.qutest2 T1 JOIN default.qutest2 T2 JOIN default.qutest1 T3 JOIN default.qutest2 T4 WHERE (((T4.a2 = T3.a1) AND (T4.a2 = T2.a2)) AND (T4.a2 = T1.a2))) T5 ORDER BY C58 ASC, C59 ASC, C60 DESC, C61 ASC;&lt;/p&gt;


&lt;p&gt;The queries keep on running for a long time ( more than an hour) and finally result in exception&lt;/p&gt;

&lt;p&gt;The exception is as follows:&lt;br/&gt;
Database has reported an Exception: Query returned non-zero code: 9; cause: FAILED: Execution Error; return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask (SQLState: 08S01; Vendor code: 9)&lt;/p&gt;

&lt;p&gt;Schema of all the tables used is same. All have four columns &lt;span class=&quot;error&quot;&gt;&amp;#91;(INT),(INT),(STRING),(INT)&amp;#93;&lt;/span&gt;&lt;br/&gt;
For qutest1, columns are a1, b1, d1, e1&lt;br/&gt;
For qutest2, columns are a2, b2, d2, e2 &lt;span class=&quot;error&quot;&gt;&amp;#91;This tables has 1000 rows and has been used thrice in JOIN condition in both queries&amp;#93;&lt;/span&gt;&lt;br/&gt;
For qutest3, columns are a3, b3, d3, e3&lt;br/&gt;
For qutest4, columns are a4, b4, d4, e4&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542835">HIVE-2806</key>
            <summary>&apos;The database has reported an Exception: Query returned non-zero code: 9; cause: FAILED&apos; - Queries that have &apos;JOIN&apos; on tables that have huge data result in this exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="archit15">Archit Garg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 07:43:43 +0000</created>
                <updated>Thu, 16 Feb 2012 07:43:43 +0000</updated>
                                            <version>0.8.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2807] Add compression tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2807</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12542917">HIVE-2807</key>
            <summary>Add compression tests</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 20:18:56 +0000</created>
                <updated>Thu, 16 Feb 2012 20:22:49 +0000</updated>
                                                                            <component>Compression</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13209698" author="cwsteinbach" created="Thu, 16 Feb 2012 20:22:49 +0000"  >&lt;p&gt;We need to add some test coverage for compression, e.g. using compression&lt;br/&gt;
with RCFile, SequenceFile, and Text tables, with the DefaultCodec and GZip&lt;br/&gt;
codec, and with BLOCK and RECORD compression.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kpaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2808] Add inputs/outputs for create table if not exists</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2808</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table if not exists T(..)&lt;/p&gt;

&lt;p&gt;should have the following semantics:&lt;/p&gt;

&lt;p&gt;1. If the table does not exist, T should be a output&lt;br/&gt;
2. If T already exists, T should be a input and output.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12542925">HIVE-2808</key>
            <summary>Add inputs/outputs for create table if not exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 20:49:12 +0000</created>
                <updated>Thu, 16 Feb 2012 20:49:12 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lln3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2809] StorageHandler authorization providers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2809</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In this issue, we would like to discuss the possibility of supplementing the Hive authorization model with authorization at the storage level. As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1943&quot; title=&quot;Metastore operations (like drop_partition) could be improved in terms of maintaining consistency of metadata and data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1943&quot;&gt;&lt;del&gt;HIVE-1943&lt;/del&gt;&lt;/a&gt;, Hive should also check for operation permissions in hdfs and hbase, since otherwise, data and metadata can be in an inconsistent state or be orphaned. Going a step further, some of the setups might not need the full featured auth model by Hive, but want to rely on managing the permissions at the data layer. In this model, the metadata operations are checked first from hdfs/hbase and it is allowed only if they are allowed at the data layer. The semantics are documented at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/HCATALOG/Hcat+Security+Design&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/HCATALOG/Hcat+Security+Design&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;So, the goals of this issue are: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Port storage handler specific authorization providers, and the StorageDelegationAuthorizationProvider from &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-260&quot; title=&quot;HBase storage authorization provider &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-260&quot;&gt;HCATALOG-260&lt;/a&gt; to Hive.&lt;/li&gt;
	&lt;li&gt;Keep current Hive&apos;s default authorization provider, and enable user to use this and/or the storage one. auth providers are already configurable.&lt;/li&gt;
	&lt;li&gt;Move the manual checks that had to be performed about authorization in Hcat to Hive, specifically:
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;CREATE DATABASE/TABLE, ADD PARTITION statements does not call&lt;br/&gt;
   HiveAuthorizationProvider.authorize() with the candidate objects, which means that&lt;br/&gt;
   we cannot do checks against defined LOCATION.&lt;/li&gt;
		&lt;li&gt;HiveOperation does not define sufficient Privileges for most of the operations,&lt;br/&gt;
    especially database operations. &lt;/li&gt;
		&lt;li&gt;For some of the operations, Hive SemanticAnalyzer does not add the changed&lt;br/&gt;
    object as a WriteEntity or ReadEntity.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12542958">HIVE-2809</key>
            <summary>StorageHandler authorization providers</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 22:32:10 +0000</created>
                <updated>Wed, 21 Mar 2012 20:40:04 +0000</updated>
                                            <version>0.9.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13216150" author="phabricator@reviews.facebook.net" created="Sat, 25 Feb 2012 00:09:47 +0000"  >&lt;p&gt;enis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt;. StorageHandler authorization providers.&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt;. StorageHandler authorization providers.&lt;/p&gt;

&lt;p&gt;  In this issue, we would like to discuss the possibility of supplementing the Hive authorization model with authorization at the storage level. As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1943&quot; title=&quot;Metastore operations (like drop_partition) could be improved in terms of maintaining consistency of metadata and data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1943&quot;&gt;&lt;del&gt;HIVE-1943&lt;/del&gt;&lt;/a&gt;, Hive should also check for operation permissions in hdfs and hbase, since otherwise, data and metadata can be in an inconsistent state or be orphaned. Going a step further, some of the setups might not need the full featured auth model by Hive, but want to rely on managing the permissions at the data layer. In this model, the metadata operations are checked first from hdfs/hbase and it is allowed only if they are allowed at the data layer. The semantics are documented at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/HCATALOG/Hcat+Security+Design&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/HCATALOG/Hcat+Security+Design&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;  So, the goals of this issue are:&lt;/p&gt;

&lt;p&gt;  	Port storage handler specific authorization providers, and the StorageDelegationAuthorizationProvider from &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-260&quot; title=&quot;HBase storage authorization provider &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-260&quot;&gt;HCATALOG-260&lt;/a&gt; to Hive.&lt;br/&gt;
  	Keep current Hive&apos;s default authorization provider, and enable user to use this and/or the storage one. auth providers are already configurable.&lt;br/&gt;
  	Move the manual checks that had to be performed about authorization in Hcat to Hive, specifically:&lt;/p&gt;

&lt;p&gt;  		CREATE DATABASE/TABLE, ADD PARTITION statements does not call&lt;br/&gt;
     HiveAuthorizationProvider.authorize() with the candidate objects, which means that&lt;br/&gt;
     we cannot do checks against defined LOCATION.&lt;br/&gt;
  		HiveOperation does not define sufficient Privileges for most of the operations,&lt;br/&gt;
      especially database operations.&lt;br/&gt;
  		For some of the operations, Hive SemanticAnalyzer does not add the changed&lt;br/&gt;
      object as a WriteEntity or ReadEntity.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/common/security/authorization/HdfsAuthorizationProvider.java&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/common/security/authorization/StorageDelegationAuthorizationProvider.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/common/security/authorization/AuthTestUtils.java&lt;br/&gt;
  common/src/test/org/apache/hadoop/hive/common/security/authorization/TestHdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_rename_partition_authorization.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q&lt;br/&gt;
  ql/src/test/results/clientpositive/add_part_exist.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_index.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_udfs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_default_prop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_escape.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_nested_type.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_properties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ddltime.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/default_partition_name.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/drop_multi_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_16_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_17_part_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4131/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4131/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13217669" author="ashutoshc" created="Mon, 27 Feb 2012 23:03:42 +0000"  >&lt;p&gt;Patch applies, but fails to compile.&lt;/p&gt;</comment>
                            <comment id="13217686" author="phabricator@reviews.facebook.net" created="Mon, 27 Feb 2012 23:27:46 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;



&lt;p&gt;  Second shot at the patch with more test fixes related to adding db input outputs. Couple of things to note:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This patch adds DB as a Read/WriteEntity type, and adds DBs to inputs/outputs in SemanticAnalyzer. (This patch captures some of the changes at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2093&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2093&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;When PARTITION_LEVEL_PRIVILEGE = TRUE in TBLPROPERTIES, Hive&apos;s default auth provider does check for user, db, and partition level privs, but not for table level. This seems inconsistent with the javadoc, and counter intuitive. This patch fixes default auth provider to check for user/db/table/partition privs in order.&lt;/li&gt;
	&lt;li&gt;Still a few tests might fail. Will fix that in the next iteration.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageDelegationAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/AuthTestUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/TestHdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_fail_5.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_part.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_rename_partition_authorization.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q&lt;br/&gt;
  ql/src/test/results/clientnegative/addpart1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_fail_5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty_restrict.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_partition_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_01_nonpart_over_loaded.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_02_all_part_over_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_03_nonpart_noncompat_colschema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_04_nonpart_noncompat_colnumber.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_05_nonpart_noncompat_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_06_nonpart_noncompat_storage.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_07_nonpart_noncompat_ifof.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_08_nonpart_noncompat_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_09_nonpart_noncompat_serdeparam.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_10_nonpart_noncompat_bucketing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_11_nonpart_noncompat_sorting.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_13_nonnative_import.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_14_nonpart_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_15_part_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_16_part_noncompat_schema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_17_part_spec_underspec.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_18_part_spec_missing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_19_external_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_20_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_21_part_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_23_import_exist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_24_import_part_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_25_import_nonexist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/add_part_exist.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_index.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition_authorization.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/archive_corrupt.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_udfs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_default_prop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_escape.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_nested_type.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_properties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ddltime.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/default_partition_name.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/drop_multi_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_16_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_17_part_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_24_import_nonexist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_sequencefile.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_text.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_creation.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inoutdriver.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input46.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/insert_into6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_thrift.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mi.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_sahooks.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_schema1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_special_char.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_bigdata.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_default_format.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rename_column.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tables.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/showparts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/split_sample.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats0.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/tablename_with_select.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_keys.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_values.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_printf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/updateAccessTime.q.out&lt;/p&gt;</comment>
                            <comment id="13217744" author="ashutoshc" created="Tue, 28 Feb 2012 00:40:33 +0000"  >&lt;p&gt;New patch fails to apply too.&lt;/p&gt;</comment>
                            <comment id="13218591" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 20:34:47 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;


&lt;p&gt;  First candidate patch for inclusion.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fixed remaining unit tests, all tests are passing now.&lt;/li&gt;
	&lt;li&gt;Rebased to trunk&lt;/li&gt;
	&lt;li&gt;Reimplemented tests for JDOConnectionURLHook. The CLI test was assuming that the operation will call MS only once, which is not the case after the patch.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  contrib/src/java/org/apache/hadoop/hive/contrib/metastore/hooks/TestURLHook.java&lt;br/&gt;
  contrib/src/test/queries/clientnegative/url_hook.q&lt;br/&gt;
  contrib/src/test/results/clientnegative/url_hook.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/fileformat_base64.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/serde_s3.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_queries.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats2.q.out&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestEmbeddedHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageDelegationAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/AuthTestUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/TestHdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_fail_5.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_part.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_rename_partition_authorization.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q&lt;br/&gt;
  ql/src/test/results/clientnegative/addpart1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_fail_5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty_restrict.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_partition_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_01_nonpart_over_loaded.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_02_all_part_over_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_03_nonpart_noncompat_colschema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_04_nonpart_noncompat_colnumber.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_05_nonpart_noncompat_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_06_nonpart_noncompat_storage.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_07_nonpart_noncompat_ifof.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_08_nonpart_noncompat_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_09_nonpart_noncompat_serdeparam.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_10_nonpart_noncompat_bucketing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_11_nonpart_noncompat_sorting.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_13_nonnative_import.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_14_nonpart_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_15_part_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_16_part_noncompat_schema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_17_part_spec_underspec.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_18_part_spec_missing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_19_external_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_20_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_21_part_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_23_import_exist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_24_import_part_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_25_import_nonexist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/add_part_exist.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_index.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition_authorization.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/archive_corrupt.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_udfs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_default_prop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_escape.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_nested_type.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_properties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ddltime.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/default_partition_name.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/drop_multi_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_16_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_17_part_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_24_import_nonexist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_sequencefile.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_text.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_creation.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inoutdriver.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input46.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/insert_into6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_thrift.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mi.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_sahooks.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_schema1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_special_char.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_bigdata.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_default_format.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rename_column.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tables.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/showparts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/split_sample.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats0.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/tablename_with_select.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_keys.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_values.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_printf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/updateAccessTime.q.out&lt;/p&gt;</comment>
                            <comment id="13218739" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 00:13:56 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;/p&gt;

&lt;p&gt;  TestURLHook and clientnegative/url_hook.q were both deleted in the most recent version of the patch. Was this test coverage moved somewhere else?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13218745" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 00:17:57 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;/p&gt;

&lt;p&gt;  Yes, clientnegative/url_hook.q, and TestURLHook have been moved to TestEmbeddedHiveMetaStore.&lt;br/&gt;
  The reason is that, url_hook.q assumes that the SHOW TABLES operation will cause only only metastore call, however, it shouldn&apos;t make this assumption, since this patch for example, changes that. So I replaced the test with a more direct test against metastore. Moreover, the test belongs to metastore not contrib.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13219463" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 19:51:56 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;



&lt;p&gt;  Updated the patch to incorporate HiveStorageHandler.getAuthorizationProvider() call introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2768&quot; title=&quot;Add a getAuthorizationProvider to HiveStorageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2768&quot;&gt;&lt;del&gt;HIVE-2768&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  contrib/src/java/org/apache/hadoop/hive/contrib/metastore/hooks/TestURLHook.java&lt;br/&gt;
  contrib/src/test/queries/clientnegative/url_hook.q&lt;br/&gt;
  contrib/src/test/results/clientnegative/url_hook.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/fileformat_base64.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/serde_s3.q.out&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseAuthorizationProvider.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/test/results/hbase_queries.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats2.q.out&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestEmbeddedHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageDelegationAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/AuthTestUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/TestHdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_fail_5.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_part.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_rename_partition_authorization.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q&lt;br/&gt;
  ql/src/test/results/clientnegative/addpart1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_fail_5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty_restrict.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_partition_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_01_nonpart_over_loaded.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_02_all_part_over_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_03_nonpart_noncompat_colschema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_04_nonpart_noncompat_colnumber.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_05_nonpart_noncompat_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_06_nonpart_noncompat_storage.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_07_nonpart_noncompat_ifof.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_08_nonpart_noncompat_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_09_nonpart_noncompat_serdeparam.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_10_nonpart_noncompat_bucketing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_11_nonpart_noncompat_sorting.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_13_nonnative_import.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_14_nonpart_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_15_part_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_16_part_noncompat_schema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_17_part_spec_underspec.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_18_part_spec_missing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_19_external_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_20_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_21_part_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_23_import_exist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_24_import_part_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_25_import_nonexist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/add_part_exist.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_index.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition_authorization.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/archive_corrupt.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_udfs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_default_prop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_escape.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_nested_type.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_properties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ddltime.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/default_partition_name.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/drop_multi_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_16_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_17_part_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_24_import_nonexist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_sequencefile.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_text.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_creation.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inoutdriver.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input46.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/insert_into6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_thrift.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mi.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_sahooks.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_schema1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_special_char.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_bigdata.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_default_format.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rename_column.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tables.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/showparts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/split_sample.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats0.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/tablename_with_select.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_keys.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_values.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_printf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/updateAccessTime.q.out&lt;/p&gt;</comment>
                            <comment id="13230557" author="phabricator@reviews.facebook.net" created="Thu, 15 Mar 2012 21:14:35 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2809&quot; title=&quot;StorageHandler authorization providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2809&quot;&gt;HIVE-2809&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StorageHandler authorization providers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;


&lt;p&gt;  Updated the patch for trunk, and fixed a possible NPE in HdfsAP.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  contrib/src/java/org/apache/hadoop/hive/contrib/metastore/hooks/TestURLHook.java&lt;br/&gt;
  contrib/src/test/queries/clientnegative/url_hook.q&lt;br/&gt;
  contrib/src/test/results/clientnegative/url_hook.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/fileformat_base64.q.out&lt;br/&gt;
  contrib/src/test/results/clientpositive/serde_s3.q.out&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseAuthorizationProvider.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/test/results/hbase_binary_storage_queries.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_queries.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_stats2.q.out&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestEmbeddedHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageDelegationAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/AuthTestUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/authorization/TestHdfsAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_fail_5.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/authorization_part.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_rename_partition_authorization.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q&lt;br/&gt;
  ql/src/test/results/clientnegative/addpart1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_fail_5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/authorization_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/database_drop_not_empty_restrict.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_partition_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_01_nonpart_over_loaded.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_02_all_part_over_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_03_nonpart_noncompat_colschema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_04_nonpart_noncompat_colnumber.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_05_nonpart_noncompat_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_06_nonpart_noncompat_storage.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_07_nonpart_noncompat_ifof.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_08_nonpart_noncompat_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_09_nonpart_noncompat_serdeparam.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_10_nonpart_noncompat_bucketing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_11_nonpart_noncompat_sorting.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_13_nonnative_import.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_14_nonpart_part.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_15_part_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_16_part_noncompat_schema.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_17_part_spec_underspec.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_18_part_spec_missing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_19_external_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_20_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_21_part_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_23_import_exist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_24_import_part_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/exim_25_import_nonexist_authfail.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/protectmode_tbl_no_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/add_part_exist.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_index.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_rename_partition_authorization.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/archive_corrupt.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_udfs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ba_table_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_default_prop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_escape.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_nested_type.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_properties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ddltime.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/default_partition_name.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/drop_multi_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_02_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_16_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_17_part_managed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_24_import_nonexist_authsuccess.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_sequencefile.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/fileformat_text.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_creation.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inoutdriver.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input46.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/insert_into6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_thrift.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mi.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_sahooks.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_schema1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_special_char.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/protectmode2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_bigdata.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_default_format.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rename_column.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tables.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/showparts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/split_sample.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats0.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/tablename_with_select.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_keys.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_map_values.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_printf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/updateAccessTime.q.out&lt;/p&gt;</comment>
                            <comment id="13235003" author="ashutoshc" created="Wed, 21 Mar 2012 20:40:04 +0000"  >&lt;p&gt;@Enis,&lt;br/&gt;
The patch is huge and it has three different issues smashed together. If broken apart into following three issues it will be easier for reviewing and better tracking:&lt;br/&gt;
a) Adding DB as read and write entity for auth checks.&lt;br/&gt;
b) Improving semantics for adding checks for add partition and others.&lt;br/&gt;
c) Adding HDFSAuthProvider as an alternative. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12503448">HIVE-2093</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12540635">HIVE-2768</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516002" name="ASF.LICENSE.NOT.GRANTED--HIVE-2809.D1953.1.patch" size="239979" author="phabricator@reviews.facebook.net" created="Sat, 25 Feb 2012 00:09:47 +0000"/>
                            <attachment id="12516228" name="ASF.LICENSE.NOT.GRANTED--HIVE-2809.D1953.2.patch" size="424144" author="phabricator@reviews.facebook.net" created="Mon, 27 Feb 2012 23:27:47 +0000"/>
                            <attachment id="12516393" name="ASF.LICENSE.NOT.GRANTED--HIVE-2809.D1953.3.patch" size="440884" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 20:34:48 +0000"/>
                            <attachment id="12516597" name="ASF.LICENSE.NOT.GRANTED--HIVE-2809.D1953.4.patch" size="444287" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 19:51:57 +0000"/>
                            <attachment id="12518540" name="ASF.LICENSE.NOT.GRANTED--HIVE-2809.D1953.5.patch" size="445393" author="phabricator@reviews.facebook.net" created="Thu, 15 Mar 2012 21:14:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Feb 2012 00:09:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228244</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d3rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2810] Implement NULL-safe equality operator &lt;=&gt;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2810</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Ref: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542970">HIVE-2810</key>
            <summary>Implement NULL-safe equality operator &lt;=&gt;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 23:42:19 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:44 +0000</updated>
                            <resolved>Tue, 6 Mar 2012 20:19:44 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13211676" author="phabricator@reviews.facebook.net" created="Mon, 20 Feb 2012 05:27:32 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-843 Implement NULL-safe equality operator &amp;lt;=&amp;gt;&lt;/p&gt;

&lt;p&gt;  Ref: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualNS.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_equal.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3825/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3825/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13213224" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 03:04:50 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  Looks good. However, I have a hunch that this doesn&apos;t work with JOINs (e.g. see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-741&quot; title=&quot;NULL is not handled correctly in join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-741&quot;&gt;&lt;del&gt;HIVE-741&lt;/del&gt;&lt;/a&gt;). Can you please add a testcase that uses the NULL-safe comparison operator in a JOIN condition? Thanks.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13213306" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 05:00:48 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  You mean something like &apos;SELECT * FROM a JOIN b ON a.key &amp;lt;=&amp;gt; b.key&apos; ?&lt;br/&gt;
  That seemed to be a huge work. (for me)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13213412" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 07:10:46 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  Yup, exactly. I tried running the query from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-741&quot; title=&quot;NULL is not handled correctly in join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-741&quot;&gt;&lt;del&gt;HIVE-741&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-741?focusedCommentId=12896789&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12896789&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-741?focusedCommentId=12896789&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12896789&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;  This works:&lt;br/&gt;
  select * from input1 a join input1 b on a.key=b.value;&lt;/p&gt;

&lt;p&gt;  But I get the following error when I try to run this:&lt;/p&gt;

&lt;p&gt;  select * from input1 a join input1 b on a.key &amp;lt;=&amp;gt; b.value;&lt;br/&gt;
  FAILED: Error in semantic analysis: Line 1:40 Both left and right aliases encountered in JOIN &apos;value&apos;&lt;/p&gt;

&lt;p&gt;  Looks like this may be a parsing issue?&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-741&quot; title=&quot;NULL is not handled correctly in join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-741&quot;&gt;&lt;del&gt;HIVE-741&lt;/del&gt;&lt;/a&gt; added a join_nulls.q test to clientpositive. I think it would be a good idea to augment this testcase with null-safe equality queries.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13214286" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 04:21:46 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  Null-safe equi-join in not relevant with null-safe eq operator. Join is hard-coded in JoinOperator under the assumption that equal operator is used, so it should modified separately.&lt;/p&gt;

&lt;p&gt;  I&apos;m trying but it&apos;s so hard.. &lt;del&gt;_&lt;/del&gt;;;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13214381" author="cwsteinbach" created="Thu, 23 Feb 2012 06:39:40 +0000"  >&lt;p&gt;Have you looked at the code changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-741&quot; title=&quot;NULL is not handled correctly in join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-741&quot;&gt;&lt;del&gt;HIVE-741&lt;/del&gt;&lt;/a&gt;? My understanding is that before that patch was committed Hive actually treated equi-joins as null-safe-equijoins, so it seems like the patch should give you a pretty good idea of what needs to be modified.&lt;/p&gt;</comment>
                            <comment id="13214403" author="navis" created="Thu, 23 Feb 2012 07:10:25 +0000"  >&lt;p&gt;Thanks for your advice, I&apos;ll check that.&lt;/p&gt;</comment>
                            <comment id="13217049" author="navis" created="Mon, 27 Feb 2012 05:39:01 +0000"  >&lt;p&gt;@Carl: Would it be better to separate this issue for briefness?&lt;/p&gt;</comment>
                            <comment id="13217081" author="cwsteinbach" created="Mon, 27 Feb 2012 06:59:15 +0000"  >&lt;p&gt;I think it&apos;s fine to separate if there&apos;s a way to disable &amp;lt;=&amp;gt; from appearing in JOIN conditions. Otherwise, think it needs to be fixed here.&lt;/p&gt;</comment>
                            <comment id="13217110" author="navis" created="Mon, 27 Feb 2012 08:37:19 +0000"  >&lt;p&gt;Separated nullsafe equi-join part to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2827&quot; title=&quot;Implement nullsafe equi-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2827&quot;&gt;&lt;del&gt;HIVE-2827&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13217714" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 00:07:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Fix test failure (show_functions.q)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualNS.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_equal.q.out&lt;/p&gt;</comment>
                            <comment id="13218879" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 03:46:01 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  registered to ParseDriver.xlateMap&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualNS.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_equal.q.out&lt;/p&gt;</comment>
                            <comment id="13218958" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 07:23:57 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  Please update the testcase. Otherwise looks good, so I&apos;ll test and commit once this is done. Thanks.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q:12 Please also check the comparisons true&amp;lt;=&amp;gt;true and false&amp;lt;=&amp;gt;false.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13220502" author="cwsteinbach" created="Thu, 1 Mar 2012 23:55:19 +0000"  >&lt;p&gt;@Navis: Please update the patch with the request test changes. I will test and commit once this done. Thanks!&lt;/p&gt;</comment>
                            <comment id="13220504" author="phabricator@reviews.facebook.net" created="Thu, 1 Mar 2012 23:56:54 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q:7 Please add NULL comparisons for &apos;=&apos;:&lt;/p&gt;

&lt;p&gt;  NULL=NULL&lt;br/&gt;
  true=NULL&lt;br/&gt;
  NULL=true&lt;br/&gt;
  false=NULL&lt;br/&gt;
  NULL=false&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q:12 Please add the missing comparisons from above that were used to test &apos;=&apos;. I realize that &apos;&amp;lt;=&amp;gt;&apos; is implemented in terms of &apos;=&apos;, but the tests should treat both implementations like black boxes. Thanks.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13222084" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 00:08:56 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Updated testcase.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualNS.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_equal.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_equal.q.out&lt;/p&gt;</comment>
                            <comment id="13222500" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 18:53:55 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  +1. Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-843&lt;/p&gt;</comment>
                            <comment id="13223617" author="cwsteinbach" created="Tue, 6 Mar 2012 20:19:44 +0000"  >&lt;p&gt;Committed to trunk. Thanks Navis!&lt;/p&gt;</comment>
                            <comment id="13223624" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 20:25:55 +0000"  >&lt;p&gt;navis has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by cws.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1297677&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1297677&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13224440" author="hudson" created="Wed, 7 Mar 2012 15:51:38 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1295 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1295/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1295/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2827&quot; title=&quot;Implement nullsafe equi-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2827&quot;&gt;&lt;del&gt;HIVE-2827&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement nullsafe equi-join&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
DPAL-873 Implement nullsafe equi-join&lt;/p&gt;

&lt;p&gt;was part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt;, but separated because it affected more classes than&lt;br/&gt;
expected.&lt;/p&gt;

&lt;p&gt;SELECT * FROM a JOIN b ON a.key &amp;lt;=&amp;gt; b.key&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1971&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1971&lt;/a&gt; (Revision 1297919)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297919&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297919&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/in8.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/in9.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/AbstractMapJoinKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinDoubleKeys.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinObjectKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinSingleKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/GenMRSkewJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBJoinTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nullsafe.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265249" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:19 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548186" author="hudson" created="Wed, 9 Jan 2013 10:24:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2827&quot; title=&quot;Implement nullsafe equi-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2827&quot;&gt;&lt;del&gt;HIVE-2827&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement nullsafe equi-join&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
DPAL-873 Implement nullsafe equi-join&lt;/p&gt;

&lt;p&gt;was part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt;, but separated because it affected more classes than&lt;br/&gt;
expected.&lt;/p&gt;

&lt;p&gt;SELECT * FROM a JOIN b ON a.key &amp;lt;=&amp;gt; b.key&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1971&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1971&lt;/a&gt; (Revision 1297919)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement NULL-safe equality operator &amp;lt;=&amp;gt;&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
DPAL-843 Implement NULL-safe equality operator &amp;lt;=&amp;gt;&lt;/p&gt;

&lt;p&gt;Ref:&lt;br/&gt;
&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_equal-to&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1791&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1791&lt;/a&gt; (Revision 1297677)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297919&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297919&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/in8.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/in9.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/AbstractMapJoinKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinDoubleKeys.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinObjectKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinSingleKey.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/GenMRSkewJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBJoinTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nullsafe.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297677&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1297677&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualNS.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_equal.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_equal.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12544228">HIVE-2827</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12432589">HIVE-741</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12515215" name="ASF.LICENSE.NOT.GRANTED--HIVE-2810.D1791.1.patch" size="5745" author="phabricator@reviews.facebook.net" created="Mon, 20 Feb 2012 05:27:32 +0000"/>
                            <attachment id="12516237" name="ASF.LICENSE.NOT.GRANTED--HIVE-2810.D1791.2.patch" size="6040" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 00:07:48 +0000"/>
                            <attachment id="12516510" name="ASF.LICENSE.NOT.GRANTED--HIVE-2810.D1791.3.patch" size="6567" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 03:46:02 +0000"/>
                            <attachment id="12517036" name="ASF.LICENSE.NOT.GRANTED--HIVE-2810.D1791.4.patch" size="7734" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 00:08:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Feb 2012 05:27:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2811] Export LANG=en_US.UTF-8 to environment while running tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2811</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Most OS has this value by default, but in some cases (on apache build machines) it has a different value making inputddl5.q test to fail. This variable should be exported while running the tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542982">HIVE-2811</key>
            <summary>Export LANG=en_US.UTF-8 to environment while running tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Feb 2012 01:59:21 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:43 +0000</updated>
                            <resolved>Mon, 27 Feb 2012 07:42:29 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13214980" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 19:40:48 +0000"  >&lt;p&gt;edwardcapriolo requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Export LANG=en_US.UTF-8 to environment while running tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  UTF8 here&lt;/p&gt;

&lt;p&gt;  Most OS has this value by default, but in some cases (on apache build machines) it has a different value making inputddl5.q test to fail. This variable should be exported while running the tests.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1905&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4053/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4053/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13215004" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 20:10:48 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Export LANG=en_US.UTF-8 to environment while running tests&quot;.&lt;/p&gt;

&lt;p&gt;  Looks good. Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1905&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13215020" author="cwsteinbach" created="Thu, 23 Feb 2012 20:26:59 +0000"  >&lt;p&gt;@Ed: Can you please attach a copy of the patch and grant license rights to the ASF? Thanks!&lt;/p&gt;</comment>
                            <comment id="13215027" author="appodictic" created="Thu, 23 Feb 2012 20:36:18 +0000"  >&lt;p&gt;Done. Are we going through all those fabricator steps just to have to put up the patch again by hand? Is there some fabricator setting I can check for this?&lt;/p&gt;</comment>
                            <comment id="13215053" author="cwsteinbach" created="Thu, 23 Feb 2012 21:06:38 +0000"  >&lt;p&gt;Unfortunately, yes. I think John is looking into making arc do this automatically. In the meantime, sorry for the inconvenience.&lt;/p&gt;</comment>
                            <comment id="13215065" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 21:23:48 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Export LANG=en_US.UTF-8 to environment while running tests&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build-common.xml:67 Is it en_US.UTF8 or en_US.UTF-8? I think latter.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1905&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13215093" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 21:51:48 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Export LANG=en_US.UTF-8 to environment while running tests&quot;.&lt;/p&gt;

&lt;p&gt;  Good catch. Ed, can you please make this change? Thanks.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1905&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13215223" author="appodictic" created="Thu, 23 Feb 2012 23:59:27 +0000"  >&lt;p&gt;Third try is a charm&lt;/p&gt;</comment>
                            <comment id="13217090" author="ashutoshc" created="Mon, 27 Feb 2012 07:42:30 +0000"  >&lt;p&gt;Patch committed. Thanks, Ed!&lt;/p&gt;</comment>
                            <comment id="13217167" author="hudson" created="Mon, 27 Feb 2012 12:33:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1279 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1279/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1279/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt;: Export LANG=en_US.UTF-8 to environment while running tests (ecapriolo via hashutosh) (Revision 1294049)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294049&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265297" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:35 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548184" author="hudson" created="Wed, 9 Jan 2013 10:24:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt;: Export LANG=en_US.UTF-8 to environment while running tests (ecapriolo via hashutosh) (Revision 1294049)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294049&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515792" name="ASF.LICENSE.NOT.GRANTED--HIVE-2811.D1905.1.patch" size="1151" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 19:40:48 +0000"/>
                            <attachment id="12515852" name="HIVE-2811.3.patch" size="1186" author="appodictic" created="Fri, 24 Feb 2012 00:01:26 +0000"/>
                            <attachment id="12515850" name="HIVE-2811.3.patch" size="1186" author="appodictic" created="Thu, 23 Feb 2012 23:59:26 +0000"/>
                            <attachment id="12515807" name="HIVE-2811.D1905.2.patch" size="1151" author="appodictic" created="Thu, 23 Feb 2012 20:35:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Feb 2012 19:40:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2812] Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2812</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In multi insert queries where one subquery involves an aggregation with no distinct or group by keys and is followed by a query without any aggregations, like the following, Hive will attempt to add a group by operator for the query without aggregations, causing semantic analysis to fail.&lt;/p&gt;

&lt;p&gt;FROM src&lt;br/&gt;
INSERT OVERWRITE TABLE table1 SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
INSERT OVERWRITE TABLE table2 SELECT key;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12543123">HIVE-2812</key>
            <summary>Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Feb 2012 01:07:28 +0000</created>
                <updated>Tue, 18 Dec 2012 06:08:52 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13212971" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 21:30:47 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2812&quot; title=&quot;Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2812&quot;&gt;HIVE-2812&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2812&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  In multi insert queries, subqueries with aggregations but no group by keys were being grouped with subqueries without any aggregations.  This meant if a subquery without aggregations came first, the subqueries without group by keys were not benefitting from the optimization.  More imporantly, if a subquery without group by keys came first, the Semantic Analyzer tried to add group by operators for queries without group by clauses resulting in an error during semantic analysis.  This patch fixes this by ensuring the two types of subqueries are grouped separately.&lt;/p&gt;

&lt;p&gt;  In multi insert queries where one subquery involves an aggregation with no distinct or group by keys and is followed by a query without any aggregations, like the following, Hive will attempt to add a group by operator for the query without aggregations, causing semantic analysis to fail.&lt;/p&gt;

&lt;p&gt;  FROM src&lt;br/&gt;
  INSERT OVERWRITE TABLE table1 SELECT count&lt;br/&gt;
  INSERT OVERWRITE TABLE table2 SELECT key;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1821&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1821&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3879/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3879/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13526338" author="namit" created="Fri, 7 Dec 2012 11:57:28 +0000"  >&lt;p&gt;Can you refresh this ? It has been very long since it was visited.&lt;/p&gt;</comment>
                            <comment id="13534450" author="phabricator@reviews.facebook.net" created="Tue, 18 Dec 2012 00:18:11 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2812&quot; title=&quot;Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2812&quot;&gt;HIVE-2812&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive multi group by single reducer optimization fails when aggregation with no keys followed by query with no aggregations&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Updated.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1821&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1821&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13534452" author="kevinwilfong" created="Tue, 18 Dec 2012 00:18:32 +0000"  >&lt;p&gt;Refreshed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515489" name="ASF.LICENSE.NOT.GRANTED--HIVE-2812.D1821.1.patch" size="109692" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 21:30:48 +0000"/>
                            <attachment id="12561377" name="HIVE-2812.2.patch.txt" size="106558" author="kevinwilfong" created="Tue, 18 Dec 2012 00:18:24 +0000"/>
                            <attachment id="12561376" name="HIVE-2812.D1821.2.patch" size="106348" author="phabricator@reviews.facebook.net" created="Tue, 18 Dec 2012 00:18:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Feb 2012 21:30:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2813] Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2813</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Oftentimes people try to write queries like&lt;br/&gt;
SELECT *&lt;br/&gt;
FROM table&lt;br/&gt;
WHERE ds = 2011-08-03&lt;/p&gt;

&lt;p&gt;This won&apos;t work because quotes are missing, and it&apos;ll actually try to filter on ds = &quot;2000&quot;.&lt;/p&gt;

&lt;p&gt;People run into this pretty regularly; a simple check on whether the types match exactly in partition predicates would make this a lot less likely to happen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12543128">HIVE-2813</key>
            <summary>Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmitrysoshnikov">Dmitry Soshnikov</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>patch</label>
                    </labels>
                <created>Sat, 18 Feb 2012 02:07:19 +0000</created>
                <updated>Wed, 9 Jan 2019 10:29:09 +0000</updated>
                                            <version>0.8.1</version>
                    <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13212288" author="dmitrysoshnikov" created="Tue, 21 Feb 2012 01:45:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13212289" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 01:45:34 +0000"  >&lt;p&gt;dmitrys updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;br/&gt;
Reviewers: kevinwilfong, JIRA&lt;/p&gt;

&lt;p&gt;  missed with a task number&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out&lt;/p&gt;</comment>
                            <comment id="13212780" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 18:32:06 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java:58 This should mention the variable that needs to be set to strict/nonstrict to turn this error on/off, and should mention it only applies to comparisons where one side is  a partition column.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java:223-230 If the child is a column you should make sure that child is a partition column.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java:234 It might be better to add a new variable to the HiveConf.ConfVars, something like PARTITION_COMPARISON_MODE, which only controls whether or not an error is thrown here or not.&lt;/p&gt;

&lt;p&gt;  We have too many things which are controlled by HIVEMAPREDMODE, setting it to nonstrict for this could turn on other things the user doesn&apos;t want.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13212847" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 19:46:48 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java:235-239 It would be good to mention here as well that this only applies to partition columns.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13212952" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 21:06:48 +0000"  >&lt;p&gt;dmitrys updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;br/&gt;
Reviewers: kevinwilfong, JIRA, njain&lt;/p&gt;

&lt;p&gt;  Yes, good points; fixed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out&lt;/p&gt;</comment>
                            <comment id="13213010" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 22:10:46 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:342 Please add this to conf/hive-default.xml.template along with a description of what it does, and the allowed values.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java:59 spelling: &quot;nonstric&quot;&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java:215 spelling&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q:1 Please add a positive testcase that explicitly sets hive.partition.comparison.mode=nonstrict so that we can test the WARNING message.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  trunk&lt;/p&gt;</comment>
                            <comment id="13213011" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 22:12:46 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out:1 Looks like there&apos;s actually another bug here. Shouldn&apos;t the argument be 2012-2-17 = 1993?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  trunk&lt;/p&gt;</comment>
                            <comment id="13213052" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 22:42:48 +0000"  >&lt;p&gt;dmitrys updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;br/&gt;
Reviewers: kevinwilfong, JIRA, njain, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Yep, thanks; fixed&lt;/p&gt;

&lt;p&gt;  And yes, perhaps it&apos;s another bug with reducing the &apos;date&apos; to int; not sure since don&apos;t know the full specific (I thought &apos;17&apos; is error code of&lt;br/&gt;
  argument, not the reduced value).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/select_partcol_diff_types.q.out&lt;/p&gt;</comment>
                            <comment id="13218708" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 23:43:57 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out:1 Looks like this is a bug in the getText method of ErrorMsg, when it uses the rightmost node in the AST to construct the error message String which in this case is 17.&lt;/p&gt;

&lt;p&gt;  I filed a JIRA for this here &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2830&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2830&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  In the mean time, Dmitry, using ds = 2012, for example, should still produce the results you&apos;re looking for and avoid the bug.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13218873" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 03:26:07 +0000"  >&lt;p&gt;dmitrys updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;br/&gt;
Reviewers: kevinwilfong, JIRA, njain, cwsteinbach&lt;/p&gt;

&lt;p&gt;  OK, used 2012 as an example&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/select_partcol_diff_types.q.out&lt;/p&gt;</comment>
                            <comment id="13225609" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:27:55 +0000"  >&lt;p&gt;kevinwilfong has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Looks good to me now.&lt;/p&gt;

&lt;p&gt;  @Carl&lt;br/&gt;
  It looks like he&apos;s addressed all of your concerns.  I&apos;ll commit on Monday unless you see any other issues.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  trunk&lt;/p&gt;</comment>
                            <comment id="13234874" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 19:05:35 +0000"  >&lt;p&gt;kevinwilfong has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;  The patch is out of date, could you run svn up.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  trunk&lt;/p&gt;</comment>
                            <comment id="13234996" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 20:34:36 +0000"  >&lt;p&gt;dmitrys updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;br/&gt;
Reviewers: kevinwilfong, JIRA, njain, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Updated&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientpositive/select_partcol_diff_types.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/select_partcol_diff_types.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/select_partcol_diff_types.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;/p&gt;</comment>
                            <comment id="13235017" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 20:56:36 +0000"  >&lt;p&gt;kevinwilfong has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2813&quot; title=&quot;Throw a Hive error if we&amp;#39;re in strict mode and a the types of a partition comparison do not match.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2813&quot;&gt;HIVE-2813&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Throw a Hive error if we&apos;re in strict mode and a the types of a partition comparison do not match.&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks, running tests.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13258884" author="ashutoshc" created="Sat, 21 Apr 2012 16:37:35 +0000"  >&lt;p&gt;Unlinking from 0.9 &lt;/p&gt;</comment>
                            <comment id="16738076" author="rmsmani@gmail.com" created="Wed, 9 Jan 2019 10:29:09 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Still this fix is required.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515306" name="ASF.LICENSE.NOT.GRANTED--HIVE-2813.D1803.2.patch" size="4267" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 01:45:34 +0000"/>
                            <attachment id="12515486" name="ASF.LICENSE.NOT.GRANTED--HIVE-2813.D1803.3.patch" size="6172" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 21:06:49 +0000"/>
                            <attachment id="12515501" name="ASF.LICENSE.NOT.GRANTED--HIVE-2813.D1803.4.patch" size="9028" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 22:42:49 +0000"/>
                            <attachment id="12516508" name="ASF.LICENSE.NOT.GRANTED--HIVE-2813.D1803.5.patch" size="9012" author="phabricator@reviews.facebook.net" created="Wed, 29 Feb 2012 03:26:08 +0000"/>
                            <attachment id="12519309" name="ASF.LICENSE.NOT.GRANTED--HIVE-2813.D1803.6.patch" size="8181" author="phabricator@reviews.facebook.net" created="Wed, 21 Mar 2012 20:34:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Feb 2012 01:45:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hive, sematic analyzer</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>
