<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:13:49 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-7-15+AND+created+%3C%3D+2009-7-22+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="32" total="32"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-638] fix sampling in subquery for real</title>
                <link>https://issues.apache.org/jira/browse/HIVE-638</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-160&quot; title=&quot;sampling in a subquery is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-160&quot;&gt;&lt;del&gt;HIVE-160&lt;/del&gt;&lt;/a&gt; will put in a hack which gives correct answers but does not do input pruning correctly. Change sample pruning to work on the operator tree.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430448">HIVE-638</key>
            <summary>fix sampling in subquery for real</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jul 2009 00:05:08 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:01 +0000</updated>
                            <resolved>Sat, 5 Dec 2009 06:58:18 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12786354" author="he yongqiang" created="Sat, 5 Dec 2009 06:58:18 +0000"  >&lt;p&gt;I just committed. Thanks, Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12426983" name="hive.638.1.patch" size="71563" author="namit" created="Fri, 4 Dec 2009 22:08:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Dec 2009 06:58:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0laxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-639] Create a contrib directory for people to contribute file formats, serdes, and UDFs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-639</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We want to add a contrib directory so people can contribute their own file formats, serdes, and UDFs easily.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430463">HIVE-639</key>
            <summary>Create a contrib directory for people to contribute file formats, serdes, and UDFs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jul 2009 06:22:50 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:37 +0000</updated>
                            <resolved>Wed, 22 Jul 2009 23:24:05 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12731329" author="zshao" created="Wed, 15 Jul 2009 07:48:32 +0000"  >&lt;p&gt;There are 6 sub categories:&lt;br/&gt;
fileformat, serde, udf, genericudf, udaf, genericudaf&lt;/p&gt;

&lt;p&gt;The contrib directory will build into a single jar. The contrib directory will have similar tests like TestCliDriver.&lt;/p&gt;</comment>
                            <comment id="12733233" author="appodictic" created="Mon, 20 Jul 2009 14:42:18 +0000"  >&lt;p&gt;+1 here. I can see a need for this. There could be many UDF and or GenericUDFs that would make the QL package large we probably would not want that. Also a Jira is in play to make python scriptlets, that might go well here, so possibly a less rigid structure or a catch all sub category, possibly another level of sub-ant.&lt;/p&gt;</comment>
                            <comment id="12733482" author="zshao" created="Tue, 21 Jul 2009 05:19:24 +0000"  >&lt;p&gt;This one adds the directory structure as well as an example file format.&lt;/p&gt;

&lt;p&gt;The contrib directory will use the same test infrastructure as ql.&lt;/p&gt;</comment>
                            <comment id="12733488" author="zshao" created="Tue, 21 Jul 2009 05:36:55 +0000"  >&lt;p&gt;Edward, can you give a little detail on your idea of sub-ant?&lt;/p&gt;</comment>
                            <comment id="12733639" author="namit" created="Tue, 21 Jul 2009 14:32:01 +0000"  >&lt;p&gt;Don&apos;t you need a target to build the jar file: hive_contrib.jar ?&lt;/p&gt;

&lt;p&gt;The overall directory structure looks good.&lt;/p&gt;

</comment>
                            <comment id="12733643" author="appodictic" created="Tue, 21 Jul 2009 14:38:08 +0000"  >&lt;p&gt;Ignore my comment.&lt;br/&gt;
When I thought of contrib, I thought it would be like the Hadoop contrib directory, where sub-projects get their own folder and ant file. From your description and patch, I see what you are getting at. &lt;/p&gt;</comment>
                            <comment id="12734254" author="namit" created="Wed, 22 Jul 2009 19:10:08 +0000"  >&lt;p&gt;I was also thinking of not compiling contrib while doing &apos;ant package&apos; in hive - but that can wait till more stuff gets added to contrib&lt;br/&gt;
Otherwise, it looks good&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12734257" author="namit" created="Wed, 22 Jul 2009 19:12:57 +0000"  >&lt;p&gt;The apache header is missing from some files&lt;/p&gt;</comment>
                            <comment id="12734258" author="zshao" created="Wed, 22 Jul 2009 19:15:07 +0000"  >&lt;p&gt;Added missing Apache license headers.&lt;/p&gt;</comment>
                            <comment id="12734305" author="zshao" created="Wed, 22 Jul 2009 20:38:34 +0000"  >&lt;p&gt;commons-codec-1.3.jar should be in ./lib directory. This is in addition to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-639&quot; title=&quot;Create a contrib directory for people to contribute file formats, serdes, and UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-639&quot;&gt;&lt;del&gt;HIVE-639&lt;/del&gt;&lt;/a&gt;.2.patch.&lt;/p&gt;</comment>
                            <comment id="12734341" author="zshao" created="Wed, 22 Jul 2009 21:41:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-639&quot; title=&quot;Create a contrib directory for people to contribute file formats, serdes, and UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-639&quot;&gt;&lt;del&gt;HIVE-639&lt;/del&gt;&lt;/a&gt;.3.patch needs to go together with commons-codec-1.3.jar (in ./lib)&lt;/p&gt;

&lt;p&gt;This one fixes the validateInput compilation error on hadoop 0.19.&lt;/p&gt;</comment>
                            <comment id="12734345" author="zshao" created="Wed, 22 Jul 2009 21:45:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-639&quot; title=&quot;Create a contrib directory for people to contribute file formats, serdes, and UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-639&quot;&gt;&lt;del&gt;HIVE-639&lt;/del&gt;&lt;/a&gt;.4.patch: Removed the &quot;@Override&quot; for that function. Needs to go with commons-codec-1.3.jar.&lt;/p&gt;</comment>
                            <comment id="12734382" author="namit" created="Wed, 22 Jul 2009 23:24:05 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414071" name="HIVE-639.1.patch" size="34694" author="zshao" created="Tue, 21 Jul 2009 05:19:24 +0000"/>
                            <attachment id="12414237" name="HIVE-639.2.patch" size="36346" author="zshao" created="Wed, 22 Jul 2009 19:15:07 +0000"/>
                            <attachment id="12414267" name="HIVE-639.3.patch" size="37363" author="zshao" created="Wed, 22 Jul 2009 21:41:47 +0000"/>
                            <attachment id="12414268" name="HIVE-639.4.patch" size="37424" author="zshao" created="Wed, 22 Jul 2009 21:45:51 +0000"/>
                            <attachment id="12414255" name="commons-codec-1.3.jar" size="46725" author="zshao" created="Wed, 22 Jul 2009 20:38:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jul 2009 14:42:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lay7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-640] Add LazyBinarySerDe to Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-640</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;LazyBinarySerDe will serialize the data in binary format while supporting LazyDeserialization.&lt;br/&gt;
This will be used as the SerDe for value between map and reduce, and also between different map-reduce jobs.&lt;/p&gt;

&lt;p&gt;This will help improve the performance of Hive a lot.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430534">HIVE-640</key>
            <summary>Add LazyBinarySerDe to Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuntao">Yuntao Jia</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jul 2009 18:32:50 +0000</created>
                <updated>Thu, 2 May 2013 02:29:21 +0000</updated>
                            <resolved>Thu, 6 Aug 2009 02:19:11 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12732621" author="yuntao" created="Fri, 17 Jul 2009 17:30:07 +0000"  >&lt;p&gt;Here is my initial proposal for the Lazy Binary SerDe. It should have the following properties:&lt;br/&gt;
1/ Lazy, which means the real fields are not deserialized until accessed, just like SimpleLazySerDe. &lt;br/&gt;
2/ Binary, which means the data are stored in the compact binary format. However it is different from BinarySortable that the stored data does not preserve the orders of the original data. More specifications on how different data types are stored are described below.&lt;br/&gt;
2.1/	Null fields in a row. To represent that, we use a single bit to represent whether each filed is null or not. 0b means null and 1b means not. Eight bits forms a byte, if there are less than eight bytes at the end, we use one more byte (8 bits). They are stored at the beginning of each row. Take a 10 columns table for an example, we begin each row with two bytes(16 bits). If in one row, the first column and the 10th column are null, then we will store 01111111b and 10111111b, which are 127 and 191 decimal numbers.&lt;br/&gt;
2.2/	Null fields in container types and complex types, such as list, map and struct. Similarly, we use a single bit to represent whether each element is null or not. For recursive data, such as a list of list, we store those bytes at each level. We store some bytes at the beginning of the list to indicate whether each list element is null. At the beginning of each list element, which is another list, we store some bytes too to indicate whether its elements are null or not.&lt;br/&gt;
2.3/	For elements that are null, we do not store them. &lt;br/&gt;
2.4/	For int and long primary types, we store them with the varied sized int and varied size long, such as vint and vlong in the WritableUtils in hadoop. &lt;br/&gt;
2.5/	For other primary types, including double, float, Boolean, byte and short, store them in binary format. For example, Boolean takes one byte and double takes eight bytes.&lt;br/&gt;
2.6/	For String, we first store its size as an vint, then followed by all the string bytes. For an empty string, we just store it size.&lt;br/&gt;
2.7/	For List, we first store its size as an vint, then followed by the bytes representing whether the fields are null or not. Then the real elements are stored. For an empty list, we just store its size.&lt;br/&gt;
2.8/	For Map, we first store its size as an vint, then followed by the bytes representing whether the keys and values are null or not. Each pair of key and value requires two consecutive bits. So there are twice as many bits as the size of the map. The key-value pairs are stored afterwards. For an empty map, we just store its size.&lt;br/&gt;
2.9/	For Struct, we first store the bytes representing whether each filed is null or not. The we will store the real data fields.&lt;br/&gt;
3/ We will use the standard writable object inspector.&lt;br/&gt;
4/ We will use the BytesWritable class as the serialization class.&lt;/p&gt;</comment>
                            <comment id="12733866" author="yuntao" created="Tue, 21 Jul 2009 22:35:59 +0000"  >&lt;p&gt;Changes need to be made to the source code:&lt;/p&gt;

&lt;p&gt;1/ Create &quot;LazyBinary&quot; classes for all data types. It will be a hierarchy of classes which is similar to the hierarchy of the &quot;Lazy&quot; classes. &lt;br/&gt;
    The most top level class is LazyBinaryObject which has two child classes, LazyBinaryPrimitive and LazyBinaryNonPrimitive. &lt;br/&gt;
    LazyBinaryPrimitive has several child classes defined for all primitive types, such as LazyBinaryBoolean for Boolean, LazyBinaryInteger &lt;br/&gt;
    for Integer and so on. LazyBinaryNonPrimitive has 4 child classes for 4 complex data types in Hive, including  LazyBinaryStruct, &lt;br/&gt;
    LazyBinaryMap, LazyBinaryList and LazyBinaryString. The reason of having LazyBinaryPrimitive and its child classes is that we &lt;br/&gt;
    can easily define a LazyBinaryList as a list of LazyPrimitive objects.&lt;br/&gt;
2/ Create LazyBinary object inspectors for some of the LazyBinary classes that handle complex data types. They are &lt;br/&gt;
     LazyBinaryStructObjectInspector, LazyBinaryMapObjectInspector, LazyBinaryListObjectInspector and LazyBinaryStringObjectInspector.&lt;br/&gt;
3/ Create the LazyBinarySerDe class which serializes a datastream to LazyBinary format and later deserialize them back to LazyBinary types. &lt;/p&gt;</comment>
                            <comment id="12736455" author="yuntao" created="Wed, 29 Jul 2009 05:26:36 +0000"  >&lt;p&gt;The first version patch. The major changes are:&lt;/p&gt;

&lt;p&gt;1/ Added the LazyBinarySerDe class. &lt;/p&gt;

&lt;p&gt;2/ Added package &quot;org.apache.hadoop.hive.serde2.lazybinary&quot; which include the LazyBinary classes for all Hive supported data types, such as Boolean, Byte, Short, Integer, Long, Float, Double, String, Array, Struct and Map. It also include a LazyBinaryFactory class and a utility function class.&lt;/p&gt;

&lt;p&gt;3/ Added package &quot;org.apache.hadoop.hive.serde2.lazybinary.objectinspector&quot; which include the object inspector classes for non-primitive data types, such as List, Struct and Map. It also includes an object inspector factory class. For primitive data types, such as Boolean, Byte, Short and so on, I used the corresponding writable object inspector classes. For instance, I used WritableBooleanObjectInspector for LazyBinaryBoolean. &lt;/p&gt;

&lt;p&gt;4/ Added a unit test for LazyBinarySerDe. It tests serializatoin and deserialization of all above data types except LazyBinaryMap. I will include a test for that in the future.&lt;/p&gt;</comment>
                            <comment id="12736831" author="zshao" created="Wed, 29 Jul 2009 21:01:44 +0000"  >&lt;p&gt;Talked with Yuntao offline.&lt;br/&gt;
We want to make sure that LazyBinarySerDe can allow the simplest schema evolution - adding/deleting columns at the end of the table.&lt;/p&gt;

&lt;p&gt;In order to do that, we need to modify LazyBinaryStruct a little bit. We need to write a single null bytes, then 8 fields, and then the next null byte. This makes sure if data with 8 fields are read by LazyBinarySerDe intitialized with 9 fields, we can still successfully deserialize the data (the missing fields will be null).&lt;/p&gt;
</comment>
                            <comment id="12736927" author="zshao" created="Thu, 30 Jul 2009 00:17:32 +0000"  >&lt;p&gt;We will also need a performance test.&lt;br/&gt;
In order to test the performance, just replace LazySimpleSerDe with LazyBinarySerDe in PlanUtils.getIntermediateFileTableDesc() and PlanUtils.getReduceValueTableDesc().&lt;/p&gt;</comment>
                            <comment id="12736974" author="yuntao" created="Thu, 30 Jul 2009 03:21:32 +0000"  >&lt;p&gt;Do we allow null as a key in map? Do we need to handle that? &lt;/p&gt;</comment>
                            <comment id="12737266" author="yuntao" created="Thu, 30 Jul 2009 20:33:29 +0000"  >&lt;p&gt;Second version patch, there are a few more changes. &lt;br/&gt;
1/ Fixed two bugs in ObjectInspectorUtils.java at Line 465 and 474. At both places, the second &quot;loi1&quot; should be &quot;loi2&quot;. &lt;br/&gt;
2/ Removed the &quot;isNull&quot; tag in all LazyBinaryPrimitive classes. Because currently, primitive types are only initialized when they are not null, so the tag is not necessary. &lt;br/&gt;
3/ Changed LazyBinaryStruct so that it supports metadata changes. In particular, serialization data of an old table schema can be deserialized with a new table schema that has more fields added at the end. For example, if the data is serialized with &quot;Table (key int, field int)&quot;, it can be deserialized with a new table schema &quot;Table (key int, field int, value double)&quot;. The new added last field will be defaulted to null.&lt;br/&gt;
4/ Changed the default value of null bits from 1 to 0 to support the above feature 3.&lt;br/&gt;
5/ Improved the unit test to cover two more cases:  tests LazyBinaryMap and test serialization and deserialization with different schemas.&lt;br/&gt;
6/ Fixed a few comments&lt;/p&gt;</comment>
                            <comment id="12737334" author="zshao" created="Thu, 30 Jul 2009 22:33:52 +0000"  >&lt;p&gt;Haven&apos;t finished the review yet. Here are some of the comments:&lt;/p&gt;

&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-640&quot; title=&quot;Add LazyBinarySerDe to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-640&quot;&gt;&lt;del&gt;HIVE-640&lt;/del&gt;&lt;/a&gt;.2.patch:&lt;/p&gt;

&lt;p&gt;TestLazyBinarySerDe:hexString: Can you make TestBinarySortableSerDe:hexString static and remove TestLazyBinarySerDe:hexString? In the future, we can move that function to a utility class, but for now, let&apos;s at least use the same function to avoid code replication.&lt;br/&gt;
There are several other functions that we can make the same change.&lt;/p&gt;

&lt;p&gt;TestLazyBinarySerDe:testShorterSchemaDeserialization etc: Can you extract some common code and put into a function?&lt;/p&gt;</comment>
                            <comment id="12737380" author="zshao" created="Fri, 31 Jul 2009 00:42:40 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-640&quot; title=&quot;Add LazyBinarySerDe to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-640&quot;&gt;&lt;del&gt;HIVE-640&lt;/del&gt;&lt;/a&gt;.2.patch:&lt;br/&gt;
LazyBinaryByte etc: The copy constructors should copy the value of the data as well. LazyBinaryString/LazyBinaryBoolean is already doing that but not others.&lt;br/&gt;
It&apos;s also OK to remove these copy constructors at all, since they are never used.&lt;/p&gt;

&lt;p&gt;LazyBinaryArray.java:150: We should get ((ListObjectInspector)oi).getListElementObjectInspector() and save it to a local variable, so we don&apos;t need to call the function again and again.&lt;/p&gt;

&lt;p&gt;LazyBinaryUtils.java:295: &quot;Returns the lazy binary object inspector that can be used to translate an object of that typeInfo to a standard object type. &quot; -&amp;gt; &quot;Returns the lazy binary object inspector that can be used to inspect an lazy binary object of that typeInfo&quot;&lt;/p&gt;

&lt;p&gt;LazyBinaryString.java: The length of the string can be stored in a VInt instead of fixed size 4 bytes. This will help us save some space (especially for short strings).&lt;/p&gt;

&lt;p&gt;LazyBinarySerDe.java: Remove the commented code (Line 464). It seems the only difference between serializing the row and serializing a struct is that we don&apos;t need the total number of bytes at the beginning. Can we add a parameter to serialize(Output byteStream,Object obj, ObjectInspector objInspector), and let serialize(Object o, OI oi) to call that directly?&lt;/p&gt;
</comment>
                            <comment id="12737381" author="zshao" created="Fri, 31 Jul 2009 00:52:21 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-640&quot; title=&quot;Add LazyBinarySerDe to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-640&quot;&gt;&lt;del&gt;HIVE-640&lt;/del&gt;&lt;/a&gt;.2.patch:&lt;/p&gt;

&lt;p&gt;LazyBinaryArray/LazyBinaryStruct/LazyBinaryMap: If valueIsNull&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; is true, valueStart&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; and valueLength&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; do not need to be set, lastElementByteEnd does not need to be updated.&lt;/p&gt;</comment>
                            <comment id="12737632" author="yuntao" created="Fri, 31 Jul 2009 18:17:05 +0000"  >&lt;p&gt;A newer patch, which incorporates most of Zheng&apos;s comments:&lt;/p&gt;

&lt;p&gt;1/ Remove duplicated functions in TestLazyBinarySerDe which exist in TestBinarySortableSerDe already. By make those function public static in TestBinarySortableSerDe, TestLazyBinarySerDe shares the same functions.&lt;br/&gt;
2/ Fixed the copy constructors in all LazyBinaryPrimitive classes so that the copy constructor copies the value of the data as well.&lt;br/&gt;
3/ Cached ((ListObjectInspector)oi).getListElementObjectInspector()  in LazyBinaryArray to a local variable.&lt;br/&gt;
4/ Added a private function in LazyBinarySerDe so that serializing a row and serializing a struct call the same function. Before, they were using different but quite similar code pieces. &lt;br/&gt;
5/ Simplified parsing code in LazyBinaryArray/LazyBinaryStruct/LazyBinaryMap. In particular, if valueIsNull&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; in LazyBinaryArray is true, then we don&apos;t need to update valueStart&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;, valueLength&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; and lastElementEnd. Similar changes are done in LazyBinaryStruct and LazyBinaryMap.&lt;/p&gt;

&lt;p&gt;Thanks Zheng for the reviews. &lt;/p&gt;</comment>
                            <comment id="12739880" author="zshao" created="Thu, 6 Aug 2009 02:19:11 +0000"  >&lt;p&gt;Committed. Thanks Yuntao!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12429146">HIVE-594</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12427507">HIVE-553</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12419278">HIVE-358</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12432357">HIVE-732</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12414843" name="HIVE-640.1.patch" size="111850" author="yuntao" created="Wed, 29 Jul 2009 05:26:36 +0000"/>
                            <attachment id="12415057" name="HIVE-640.2.patch" size="136131" author="yuntao" created="Thu, 30 Jul 2009 20:33:29 +0000"/>
                            <attachment id="12415137" name="HIVE-640.3.patch" size="135559" author="yuntao" created="Fri, 31 Jul 2009 18:17:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 17:30:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0layf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-640&quot; title=&quot;Add LazyBinarySerDe to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-640&quot;&gt;&lt;strike&gt;HIVE-640&lt;/strike&gt;&lt;/a&gt;. Add LazyBinarySerDe to Hive. (Yuntao Jia via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-641] udf_reverse.q.out has broken UDF characters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-641</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;EXPLAIN output is inconsistent with respect to non-ascii characters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430547">HIVE-641</key>
            <summary>udf_reverse.q.out has broken UDF characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="eibrishimov">Emil Ibrishimov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jul 2009 20:54:40 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:37 +0000</updated>
                            <resolved>Wed, 15 Jul 2009 21:37:32 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12731678" author="eibrishimov" created="Wed, 15 Jul 2009 20:56:09 +0000"  >&lt;p&gt;Removed the EXPLAIN query that causes the problem.&lt;/p&gt;</comment>
                            <comment id="12731704" author="namit" created="Wed, 15 Jul 2009 21:37:32 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413598" name="HIVE-641.1.patch" size="4101" author="eibrishimov" created="Wed, 15 Jul 2009 20:56:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jul 2009 21:37:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0layn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-642] udf equivalent to string split</title>
                <link>https://issues.apache.org/jira/browse/HIVE-642</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be very useful to have a function equivalent to string split in java&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430613">HIVE-642</key>
            <summary>udf equivalent to string split</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 00:43:00 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:38 +0000</updated>
                            <resolved>Tue, 21 Jul 2009 16:22:37 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12733435" author="rsm" created="Tue, 21 Jul 2009 01:54:09 +0000"  >&lt;p&gt;You probably have to check for null strings (different from empty strings) and return null.&lt;/p&gt;</comment>
                            <comment id="12733436" author="eibrishimov" created="Tue, 21 Jul 2009 02:17:59 +0000"  >&lt;p&gt;Oops, fixed. Thanks!&lt;/p&gt;</comment>
                            <comment id="12733630" author="namit" created="Tue, 21 Jul 2009 14:15:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12733641" author="coderplay" created="Tue, 21 Jul 2009 14:34:20 +0000"  >&lt;p&gt;It&apos;s very useful for us . &lt;br/&gt;
some comments:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Can you implement it directly with Text ? Avoiding string  decoding and encoding would be faster.  Of course that trick may lead to another problem, as String.split uses a regular expression for splitting.&lt;/li&gt;
	&lt;li&gt;getDisplayString() always return a  string in lowercase.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="12733693" author="namit" created="Tue, 21 Jul 2009 16:22:37 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;</comment>
                            <comment id="12733747" author="eibrishimov" created="Tue, 21 Jul 2009 17:48:54 +0000"  >&lt;p&gt;There are some easy (compromise) ways to optimize split:&lt;/p&gt;

&lt;p&gt;1. Check if the regex argument actually contains some &quot;regex specific characters&quot; and if it doesn&apos;t, do a straightforward split without converting to strings.&lt;br/&gt;
2. Assume some default value for the second argument (for example - split(str) to be equivalent to split(str, &apos; &apos;) and optimize for this value&lt;br/&gt;
3. Have two separate split functions - one that does regex and one that splits around plain text.&lt;/p&gt;

&lt;p&gt;I think that 1 is a good choice and can be done rather quickly.&lt;/p&gt;</comment>
                            <comment id="12733750" author="namit" created="Tue, 21 Jul 2009 17:54:25 +0000"  >&lt;p&gt;I saw Min&apos;s comments after committing.&lt;/p&gt;

&lt;p&gt;I can file a follow-up jira on that&lt;/p&gt;</comment>
                            <comment id="12733755" author="eibrishimov" created="Tue, 21 Jul 2009 18:03:32 +0000"  >&lt;p&gt;Some Generic UDFs don&apos;t return lowercase (getDisplayString()) - when, case, coalesce&lt;/p&gt;</comment>
                            <comment id="12733766" author="namit" created="Tue, 21 Jul 2009 18:17:29 +0000"  >&lt;p&gt;filed&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-664&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-664&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12735446" author="zshao" created="Mon, 27 Jul 2009 01:35:54 +0000"  >&lt;p&gt;I noticed some of the new UDFs that got added are not listed in &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF&lt;/a&gt;&lt;br/&gt;
Can we add those to the wiki?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12431055">HIVE-664</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12414053" name="HIVE-642.1.patch" size="6650" author="eibrishimov" created="Tue, 21 Jul 2009 01:48:34 +0000"/>
                            <attachment id="12414054" name="HIVE-642.2.patch" size="6752" author="eibrishimov" created="Tue, 21 Jul 2009 02:17:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2009 01:54:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0layv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-643] Hive to recognized escaped strings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-643</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive.g grammar rule does not allow including quotes in the string literals using &quot;\&quot;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;StringLiteral
    :
    ( &lt;span class=&quot;code-quote&quot;&gt;&apos;\&apos;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos; ( ~&apos;&lt;/span&gt;\&lt;span class=&quot;code-quote&quot;&gt;&apos;&apos;)* &apos;&lt;/span&gt;\&lt;span class=&quot;code-quote&quot;&gt;&apos;&apos; | &apos;&lt;/span&gt;\&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos; (~&apos;&lt;/span&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;)* &apos;&lt;/span&gt;\&quot;&apos; )+
    ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should change it to work with escaped quotes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430614">HIVE-643</key>
            <summary>Hive to recognized escaped strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 01:00:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:55 +0000</updated>
                            <resolved>Thu, 6 Aug 2009 22:17:32 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12732779" author="namit" created="Fri, 17 Jul 2009 23:02:23 +0000"  >&lt;p&gt;awesome - looks good&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12739955" author="athusoo" created="Thu, 6 Aug 2009 09:24:41 +0000"  >&lt;p&gt;This seems to have been checked in. Namit can you confirm and close.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Ashish&lt;/p&gt;</comment>
                            <comment id="12740280" author="namit" created="Thu, 6 Aug 2009 22:17:32 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;

&lt;p&gt;It was committed a few days back - forgot to update the jira&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413883" name="HIVE-643.1.patch" size="5181" author="eibrishimov" created="Fri, 17 Jul 2009 22:50:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 23:02:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0laz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-644] change default size for merging files at the end of the job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-644</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the size is 1G and the reducers end up taking a really long time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430616">HIVE-644</key>
            <summary>change default size for merging files at the end of the job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 01:24:00 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:26 +0000</updated>
                            <resolved>Thu, 16 Jul 2009 22:36:05 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732212" author="zshao" created="Thu, 16 Jul 2009 22:36:05 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413621" name="hive.644.1.patch" size="1053" author="namit" created="Thu, 16 Jul 2009 01:25:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jul 2009 22:36:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lazb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-644&quot; title=&quot;change default size for merging files at the end of the job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-644&quot;&gt;&lt;strike&gt;HIVE-644&lt;/strike&gt;&lt;/a&gt;. Change default size for merging files to 256MB.  (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-645] A UDF that can export data to JDBC databases.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-645</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A UDF that can export data to JDBC databases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430682">HIVE-645</key>
            <summary>A UDF that can export data to JDBC databases.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 15:54:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:15 +0000</updated>
                            <resolved>Mon, 31 Aug 2009 23:03:48 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Contrib</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12732001" author="appodictic" created="Thu, 16 Jul 2009 16:03:45 +0000"  >&lt;p&gt;First Draft patch for comments.&lt;/p&gt;</comment>
                            <comment id="12732301" author="appodictic" created="Fri, 17 Jul 2009 01:54:06 +0000"  >&lt;p&gt;Better use of object inspectors.&lt;/p&gt;</comment>
                            <comment id="12732309" author="namit" created="Fri, 17 Jul 2009 02:19:20 +0000"  >&lt;p&gt;Actually, this is more of a user-defined procedure than a user-defined function.&lt;br/&gt;
Should we support them in some other way than a select list item ? &lt;/p&gt;

&lt;p&gt;Something, like&lt;/p&gt;

&lt;p&gt;begin&lt;br/&gt;
   proc();&lt;br/&gt;
end;&lt;/p&gt;


</comment>
                            <comment id="12733229" author="appodictic" created="Mon, 20 Jul 2009 14:28:38 +0000"  >&lt;p&gt;Need ; in test case&lt;/p&gt;</comment>
                            <comment id="12733231" author="appodictic" created="Mon, 20 Jul 2009 14:35:42 +0000"  >&lt;p&gt;Namit,&lt;/p&gt;

&lt;p&gt;I could imagine this task as a user defined function. I do not think it has to be implemented that way. Would stored procedures be implemented in a TSQL like language or java code? In the near or mid term is this viable?  &lt;/p&gt;</comment>
                            <comment id="12733245" author="namit" created="Mon, 20 Jul 2009 15:44:31 +0000"  >&lt;p&gt;It was just a a thought - oracle distinguishes between user defined functions and procedures.&lt;br/&gt;
User defined functions are part of the select list, and procedures are not.&lt;/p&gt;

&lt;p&gt;Having said, they are compiled and executed natively. Since we have no plans of doing it (at least for some time),&lt;br/&gt;
we can ignore it.&lt;/p&gt;

&lt;p&gt;I just thought do we need to construct where there is no return value.&lt;/p&gt;

&lt;p&gt;Other slightly related issue is that there may not be a table: so, should we have a equivalent of table function.&lt;br/&gt;
Raghu has filed a jira for that also - we should think about all of them and then decide.&lt;/p&gt;

&lt;p&gt;The proposed user defined procedures syntax does not take a table name, since it is not part of select list, which&lt;br/&gt;
may be a common scenario.&lt;/p&gt;</comment>
                            <comment id="12739954" author="athusoo" created="Thu, 6 Aug 2009 09:23:07 +0000"  >&lt;p&gt;One more thing. Having side effects in the udfs is generally not a good idea more so because mappers may fail and leave spurious rows may appear in the target data set specially since each udf invocation is protected through a transaction instead of the whole chunk of rows being protected through a transaction.&lt;/p&gt;</comment>
                            <comment id="12740064" author="appodictic" created="Thu, 6 Aug 2009 13:44:13 +0000"  >&lt;p&gt;@Ashish,&lt;/p&gt;

&lt;p&gt;I see your logic on this. My thinking is that key constraints on the destination table should protect most cases of erroneous data by simply failing on a duplicate key. The user of this UDF would have to make the call if that is acceptable for them. Even with a transactional database million row transactions are not practical, any process could fail midway and leave artifacts.&lt;/p&gt;

&lt;p&gt;In any case, I would like to close up this and some other smaller issues I have open. So I see a few courses of action here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;get a new use case scenario with a more concrete coding direction re-code/ create some other utility&lt;/li&gt;
	&lt;li&gt;add dboutput as a udf&lt;/li&gt;
	&lt;li&gt;add dboutput as a contrib udf&lt;/li&gt;
	&lt;li&gt;dont add it, close this jira. Host it myself.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;How should we proceed?&lt;/p&gt;</comment>
                            <comment id="12740279" author="namit" created="Thu, 6 Aug 2009 22:16:04 +0000"  >&lt;p&gt;I think it can have very serious side-affects.&lt;/p&gt;

&lt;p&gt;What is your use-case ? If I insert through this UDF, it may end up inserting more rows than you want. How are you handling failures of mappers/reducers ?&lt;/p&gt;


&lt;p&gt;Based on that, we can take the next action.&lt;/p&gt;</comment>
                            <comment id="12740312" author="appodictic" created="Thu, 6 Aug 2009 23:33:02 +0000"  >&lt;p&gt;My jiras got a lot of attention today. I feel like the most popular guy on the internet. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; There may be some syntax inaccuracy here but I this is my use case.&lt;/p&gt;

&lt;p&gt;As input I have a hive table with weblogs. It may be partitioned or not.&lt;br/&gt;
hive_table web_logs&lt;br/&gt;
date,time,url,httpstatus&lt;br/&gt;
2009-06-04,05:49:00,/index.jsp, 200&lt;br/&gt;
2009-06-04,05:50:00,/index.jsp, 200&lt;br/&gt;
2009-06-04,05:49:00,/indexsfg.jsp, 404&lt;/p&gt;

&lt;p&gt;I wish to produce a report of status codes for day&lt;br/&gt;
2009-06-04, 200,2 &lt;br/&gt;
2009-06-04, 404,1 &lt;/p&gt;

&lt;p&gt;I create a mysql table for this data&lt;br/&gt;
create table status_count(&lt;br/&gt;
string date,&lt;br/&gt;
int status,&lt;br/&gt;
int count,&lt;br/&gt;
primary key (date,status)&lt;br/&gt;
);&lt;/p&gt;

&lt;p&gt;select dboutput(&lt;br/&gt;
&apos;jdbc://localhost:3306/hivedump&apos;, &lt;br/&gt;
&apos;insert into status_count (date,status,count) values (?,?,?)&apos;, &lt;br/&gt;
date,httpstatus, count(1) ) from web_logs group by date,httpstatus;&lt;/p&gt;

&lt;p&gt;In my case mysql primary key constraints deal with failed mappers/reducers. After all, if a mapper runs again it will try to insert again and fail. Not a problem. In most cases the data hive is dumping to mysql is relational and should have a primary key. &lt;/p&gt;

&lt;p&gt;If the data does not have a primary key then yes dboutput() will not function correctly with failed mappers/reducers, but its intented use case would be to push a summary at a mysql database possibly 100 - 100,000 rows. &lt;/p&gt;
</comment>
                            <comment id="12740565" author="namit" created="Fri, 7 Aug 2009 14:29:43 +0000"  >&lt;p&gt;OK - you can put it into contrib.&lt;/p&gt;

&lt;p&gt;Also, can you add a testcase which will have this failure behavior. You dont need to have a failed mapper, but can insert the same row twice. In that case,&lt;br/&gt;
the second insert will fail and we will get back a return value of 1 - it would be good to verify that only 1 row is inserted&lt;/p&gt;</comment>
                            <comment id="12740566" author="namit" created="Fri, 7 Aug 2009 14:31:15 +0000"  >&lt;p&gt;Also, in your test, can you add a case when the table columns are being used for parameters - the current test takes constants.&lt;/p&gt;</comment>
                            <comment id="12743799" author="appodictic" created="Sun, 16 Aug 2009 01:58:49 +0000"  >&lt;p&gt;Moved the the gen-udf to the contrib package. Also added the test cases that Namit suggested. The first test case uses static values. The second selects keys and values from the source table to be &quot;dboutputed&quot;.&lt;/p&gt;</comment>
                            <comment id="12744210" author="zshao" created="Mon, 17 Aug 2009 21:24:25 +0000"  >&lt;p&gt;One last comment: Can you add a summary of this discussion (failure cases, etc) to the javadoc comment at the beginning of the GenericUDFDBOutput function?&lt;br/&gt;
Just want to make sure users know the limitations.&lt;/p&gt;</comment>
                            <comment id="12744232" author="appodictic" created="Mon, 17 Aug 2009 22:03:18 +0000"  >&lt;p&gt;Patch adds &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Apache license header&lt;/li&gt;
	&lt;li&gt;Comments as suggested to warn/explain behavior with component failure.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12744234" author="appodictic" created="Mon, 17 Aug 2009 22:20:18 +0000"  >&lt;p&gt;&lt;br/&gt;
Shamefully made four spelling/grammatical errors in less then two paragraphs of text. Very sad. &lt;/p&gt;</comment>
                            <comment id="12744312" author="rsm" created="Tue, 18 Aug 2009 00:56:11 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-758&quot; title=&quot;function to load data from hive to hbase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-758&quot;&gt;&lt;del&gt;HIVE-758&lt;/del&gt;&lt;/a&gt; we made hbase_put a UDAF. It returns the total number of rows loaded. Does it make sense to have functions that load data into external systems as UDAFs instead of UDFs with LIMIT 1? The disadvantage is the additional reducer. But, I guess if the information returned (like total number of rows) is useful, it might be well worth it and not too much overhead.&lt;/p&gt;</comment>
                            <comment id="12744336" author="appodictic" created="Tue, 18 Aug 2009 02:50:10 +0000"  >&lt;p&gt;Raghotham,&lt;/p&gt;

&lt;p&gt;This does not require limit 1. My test case just uses limit 1 to specify static data. As is the case with the second query the number of rows selected is returned. You could add another level of sub queries to count up the number of 0&apos;s returned.&lt;/p&gt;

&lt;p&gt;So this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT
dboutput(&apos;jdbc:derby:../build/test_dboutput_db&apos;,&apos;&apos;,&apos;&apos;,
&apos;INSERT INTO app_info (kkey,vvalue) VALUES (?,?)&apos;,key,value)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Becomes something like this: (bad syntax but you get the idea)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;from (
SELECT
dboutput(&apos;jdbc:derby:../build/test_dboutput_db&apos;,&apos;&apos;,&apos;&apos;,
&apos;INSERT INTO app_info (kkey,vvalue) VALUES (?,?)&apos;,key,value) as x
) sum (x) where x=0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On a side note, I always try to release some patches along the way so people know what I am up to and for suggestions. I spent a lot of time with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-487&quot; title=&quot;Hive does not compile with Hadoop 0.20.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-487&quot;&gt;&lt;del&gt;HIVE-487&lt;/del&gt;&lt;/a&gt; reflection and then we went with the shims. It is a lot of throw away work if I switch from UDF to UDAF at this point since I am pretty much at the phase where I am crossing i&apos;s and dotting t&apos;s.&lt;/p&gt;</comment>
                            <comment id="12744340" author="he yongqiang" created="Tue, 18 Aug 2009 03:00:25 +0000"  >&lt;p&gt;Hi Edward, How do you deal with db connections. I saw you create one connection and close it for each row. Have you tested it with a large data sets?&lt;/p&gt;</comment>
                            <comment id="12744563" author="appodictic" created="Tue, 18 Aug 2009 15:43:01 +0000"  >&lt;p&gt;He, &lt;/p&gt;

&lt;p&gt;Read above a little bit. My use case is small data sets.&lt;/p&gt;

&lt;p&gt;If opening connections is an issue, connection pooling would help with that. &lt;/p&gt;</comment>
                            <comment id="12746236" author="lramos85" created="Fri, 21 Aug 2009 21:23:33 +0000"  >&lt;p&gt;Hi, thank you for this patch, this is what I was trying to do. I&apos;m trying to run a sample Query but get errors:&lt;/p&gt;

&lt;p&gt;Output:&lt;br/&gt;
SELECT dboutput(&apos;jdbc://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;kdjf&apos;,&apos;INSERT INTO status_count (date,status,count) VALUES (?,?,?)&apos;,day,httpstatus,count(1)) FROM web_logs GROUP BY day, httpstatus;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Number of reduce tasks not specified. Estimated from input data size: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Starting Job = job_200908201702_0066, Tracking URL = &lt;a href=&quot;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0066&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/hadoop/hadoop-0.18.3/bin/../bin/hadoop job  -Dmapred.job.tracker=verizonmaster:50121 -kill job_200908201702_0066&lt;br/&gt;
2009-08-21 09:20:33,914 map = 0%,  reduce = 0%&lt;br/&gt;
2009-08-21 09:20:36,933 map = 50%,  reduce = 50%&lt;br/&gt;
2009-08-21 09:20:39,953 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_200908201702_0066 with errors&lt;br/&gt;
FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;/p&gt;

&lt;p&gt;Any Ideas? Thank You.&lt;/p&gt;</comment>
                            <comment id="12746272" author="appodictic" created="Fri, 21 Aug 2009 22:05:29 +0000"  >&lt;p&gt;Luis,&lt;/p&gt;

&lt;p&gt;Try turning the logging level to debug you will know if the error is happening inside the UDF.&lt;/p&gt;</comment>
                            <comment id="12747076" author="appodictic" created="Mon, 24 Aug 2009 21:07:24 +0000"  >&lt;p&gt;Luis,&lt;br/&gt;
I have setup many similar experiments and have not had a problem. Looking at your dump..&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jdbc://localhost:3306/analytics
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Are you sure you have the proper prefix? Do you have the driver loaded with &apos;add jar &apos;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jdbc:mysql://localhost:3306/analytics
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Even with the improper prefix and missing jar the result set should be all:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1
1
1
....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Leads me to believe some other problem is happening. &lt;/p&gt;

&lt;p&gt;Please let me know. I&lt;/p&gt;</comment>
                            <comment id="12747110" author="lramos85" created="Mon, 24 Aug 2009 22:29:42 +0000"  >&lt;p&gt;Edward,&lt;/p&gt;

&lt;p&gt;Adding the jar got rid of the Failed for ExecDriver, thanks, HOWEVER, I still don&apos;t see any difference on mysql (it doesn&apos;t insert or anything).&lt;/p&gt;

&lt;p&gt;I did these steps:&lt;br/&gt;
1. add jar build/contrib/hive_contrib.jar;&lt;br/&gt;
2. CREATE TEMPORARY FUNCTION dboutput AS &apos;org.apache.hadoop.hive.contrib.genericudf.example.GenericUDFDBOutput&apos;;&lt;br/&gt;
3. SELECT dboutput(&apos;jdbc:mysql://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;password&apos;,&apos;INSERT INTO status_count(date,status,count) VALUES (?,?,?)&apos;,day,httpstatus,count(1)) FROM web_logs GROUP BY day, httpstatus;&lt;/p&gt;

&lt;p&gt;On my hive.log I see:&lt;br/&gt;
WARN  mapred.JobClient (JobClient.java:configureCommandLineOptions(510)) - Use GenericOptionsParser for parsing the arguments. Applications should implement Tool for the same.&lt;/p&gt;

&lt;p&gt;Output to console is:&lt;br/&gt;
$ hive -hiveconf hive.root.logger=INFO,console&lt;br/&gt;
hive&amp;gt; SELECT dboutput(&apos;jdbc:mysql://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;password&apos;,&apos;INSERT INTO status_count(date,status,count) VALUES (?,?,?)&apos;,day,httpstatus,count(1)) FROM web_logs GROUP BY day, httpstatus;&lt;br/&gt;
09/08/24 22:21:00 INFO parse.ParseDriver: Parsing command: SELECT dboutput(&apos;jdbc:mysql://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;password&apos;,&apos;INSERT INTO status_count(date,status,count) VALUES (?,?,?)&apos;,day,httpstatus,count(1)) FROM web_logs GROUP BY day, httpstatus&lt;br/&gt;
09/08/24 22:21:00 INFO parse.ParseDriver: Parse Completed&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Starting Semantic Analysis&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Completed phase 1 of Semantic Analysis&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Get metadata for source tables&lt;br/&gt;
09/08/24 22:21:00 INFO metastore.HiveMetaStore: 0: get_table : db=default tbl=web_logs&lt;br/&gt;
09/08/24 22:21:00 INFO metastore.HiveMetaStore: 0: Opening raw store with implemenation class:org.apache.hadoop.hive.metastore.ObjectStore&lt;br/&gt;
09/08/24 22:21:00 INFO metastore.ObjectStore: ObjectStore, initialize called&lt;br/&gt;
09/08/24 22:21:00 INFO metastore.ObjectStore: Initialized ObjectStore&lt;br/&gt;
09/08/24 22:21:00 INFO hive.log: DDL: struct web_logs &lt;/p&gt;
{ string day, string time, string url, string httpstatus}
&lt;p&gt;09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Get metadata for subqueries&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Get metadata for destination tables&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Completed getting MetaData in Semantic Analysis&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for FS(34)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for SEL(33)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for GBY(32)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for RS(31)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for GBY(30)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for SEL(29)&lt;br/&gt;
09/08/24 22:21:00 INFO ppd.OpProcFactory: Processing for TS(28)&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Completed partition pruning&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Completed sample pruning&lt;br/&gt;
09/08/24 22:21:00 INFO parse.SemanticAnalyzer: Completed plan generation&lt;br/&gt;
09/08/24 22:21:00 INFO ql.Driver: Semantic Analysis Completed&lt;br/&gt;
09/08/24 22:21:00 INFO ql.Driver: Starting command: SELECT dboutput(&apos;jdbc:mysql://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;password&apos;,&apos;INSERT INTO status_count(date,status,count) VALUES (?,?,?)&apos;,day,httpstatus,count(1)) FROM web_logs GROUP BY day, httpstatus&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
09/08/24 22:21:00 INFO ql.Driver: Total MapReduce jobs = 1&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: BytesPerReducer=1000000000 maxReducers=999 totalInputFileSize=108&lt;br/&gt;
Number of reduce tasks not specified. Estimated from input data size: 1&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: Number of reduce tasks not specified. Estimated from input data size: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver:   set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver:   set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver:   set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: adding libjars: &lt;a href=&quot;file:///home/hadoop/hive/build/contrib/hive_contrib.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///home/hadoop/hive/build/contrib/hive_contrib.jar&lt;/a&gt;&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: Processing alias web_logs&lt;br/&gt;
09/08/24 22:21:00 INFO exec.ExecDriver: Adding input file hdfs://verizonmaster:50120/user/hive/warehouse/web_logs&lt;br/&gt;
09/08/24 22:21:00 WARN mapred.JobClient: Use GenericOptionsParser for parsing the arguments. Applications should implement Tool for the same.&lt;br/&gt;
09/08/24 22:21:00 INFO mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
09/08/24 22:21:00 INFO mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
Starting Job = job_200908201702_0102, Tracking URL = &lt;a href=&quot;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0102&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0102&lt;/a&gt;&lt;br/&gt;
09/08/24 22:21:01 INFO exec.ExecDriver: Starting Job = job_200908201702_0102, Tracking URL = &lt;a href=&quot;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0102&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0102&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/hadoop/hadoop-0.18.3/bin/../bin/hadoop job  -Dmapred.job.tracker=verizonmaster:50121 -kill job_200908201702_0102&lt;br/&gt;
09/08/24 22:21:01 INFO exec.ExecDriver: Kill Command = /home/hadoop/hadoop-0.18.3/bin/../bin/hadoop job  -Dmapred.job.tracker=verizonmaster:50121 -kill job_200908201702_0102&lt;br/&gt;
2009-08-24 10:21:02,237 map = 0%,  reduce = 0%&lt;br/&gt;
09/08/24 22:21:02 INFO exec.ExecDriver: 2009-08-24 10:21:02,237 map = 0%,  reduce = 0%&lt;br/&gt;
2009-08-24 10:21:08,253 map = 50%,  reduce = 50%&lt;br/&gt;
09/08/24 22:21:08 INFO exec.ExecDriver: 2009-08-24 10:21:08,253 map = 50%,  reduce = 50%&lt;br/&gt;
2009-08-24 10:21:10,265 map = 100%,  reduce = 100%&lt;br/&gt;
09/08/24 22:21:10 INFO exec.ExecDriver: 2009-08-24 10:21:10,265 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_200908201702_0102&lt;br/&gt;
09/08/24 22:21:21 INFO exec.ExecDriver: Ended Job = job_200908201702_0102&lt;br/&gt;
09/08/24 22:21:21 INFO exec.FileSinkOperator: Moving tmp dir: hdfs://verizonmaster:50120/tmp/hive-hadoop/942129758/_tmp.10001 to: hdfs://verizonmaster:50120/tmp/hive-hadoop/942129758/_tmp.10001.intermediate&lt;br/&gt;
09/08/24 22:21:21 INFO exec.FileSinkOperator: Moving tmp dir: hdfs://verizonmaster:50120/tmp/hive-hadoop/942129758/_tmp.10001.intermediate to: hdfs://verizonmaster:50120/tmp/hive-hadoop/942129758/10001&lt;br/&gt;
OK&lt;br/&gt;
09/08/24 22:21:21 INFO ql.Driver: OK&lt;br/&gt;
09/08/24 22:21:21 INFO mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
09/08/24 22:21:21 INFO mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
1&lt;br/&gt;
1&lt;br/&gt;
Time taken: 21.03 seconds&lt;/p&gt;

&lt;p&gt;I&apos;m going to try other test cases and different data, I tried sending constants into status_count but that didn&apos;t work either. Is there other jar&apos;s I might be missing.&lt;/p&gt;

&lt;p&gt;Thank You.&lt;/p&gt;</comment>
                            <comment id="12747152" author="appodictic" created="Tue, 25 Aug 2009 00:08:04 +0000"  >&lt;p&gt;Now you are making progress.&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The &apos;1&apos; return is a failure code for the UDF. If you set the logging level high enough you should see why.&lt;/p&gt;

&lt;p&gt;Right now I think the problem is you are not doing &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;add jar mysql-connector.jar;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We could return different numbers to indicate where the failure happened. but 1 indicates (could not load the driver or bad query)&lt;/p&gt;</comment>
                            <comment id="12747168" author="lramos85" created="Tue, 25 Aug 2009 01:18:55 +0000"  >&lt;p&gt;Edward,&lt;/p&gt;

&lt;p&gt;How do I set the logging level? I have &quot;hive.root.logger=DEBUG,DRFA&quot; on hive-log4j.properties.&lt;/p&gt;

&lt;p&gt;I followed the following, and I also change the SQL&lt;br/&gt;
{{&lt;br/&gt;
hive&amp;gt; add jar /usr/share/java//usr/share/java/mysql-connector-java-5.1.5.jar;                                                                                                                       &lt;br/&gt;
Added /usr/share/java//usr/share/java/mysql-connector-java-5.1.5.jar to class path&lt;/p&gt;

&lt;p&gt;hive&amp;gt; add jar build/contrib/hive_contrib.jar;                                                                                                                                 &lt;br/&gt;
Added build/contrib/hive_contrib.jar to class path&lt;/p&gt;

&lt;p&gt;hive&amp;gt; CREATE TEMPORARY FUNCTION dboutput AS &apos;org.apache.hadoop.hive.contrib.genericudf.example.GenericUDFDBOutput&apos;;                                                           &lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.247 seconds&lt;/p&gt;

&lt;p&gt;hive&amp;gt; SELECT dboutput(&apos;jdbc:mysql://localhost:3306/analytics&apos;,&apos;root&apos;,&apos;mxplay&apos;,&apos;CREATE TABLE app_info (kkey VARCHAR(255), vvalue VARCHAR(255))&apos;) FROM web_logs;        &lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_200908201702_0125, Tracking URL = &lt;a href=&quot;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0125&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/hadoop/hadoop-0.18.3/bin/../bin/hadoop job  -Dmapred.job.tracker=verizonmaster:50121 -kill job_200908201702_0125&lt;br/&gt;
2009-08-25 12:52:40,140 map = 0%,  reduce = 0%&lt;br/&gt;
2009-08-25 12:52:44,165 map = 50%,  reduce = 50%&lt;br/&gt;
2009-08-25 12:52:45,176 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_200908201702_0125&lt;br/&gt;
OK&lt;br/&gt;
1&lt;br/&gt;
1&lt;br/&gt;
1&lt;br/&gt;
Time taken: 7.275 seconds&lt;br/&gt;
}}&lt;/p&gt;</comment>
                            <comment id="12747176" author="appodictic" created="Tue, 25 Aug 2009 01:47:23 +0000"  >&lt;p&gt;Luis,&lt;/p&gt;

&lt;p&gt;The logs will not emit to the console unless you have &apos;set mapred.job.tracker=local&apos; I think. You can do that ... or....&lt;/p&gt;

&lt;p&gt;You should probably look at the job/task logs from the task tracker. &lt;a href=&quot;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://verizonmaster:50030/jobdetails.jsp?jobid=job_200908201702_0125&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Or last ditch you can rebuild the UDF with system.out system.err the output of that is definitely written to the task log.&lt;/p&gt;

&lt;p&gt;Also make sure you have speculative execution off. &lt;/p&gt;
</comment>
                            <comment id="12747489" author="lramos85" created="Tue, 25 Aug 2009 17:03:15 +0000"  >&lt;p&gt;Edward,&lt;/p&gt;

&lt;p&gt;Got it, thank you so much for your help. Navigating the logs in debug mode helped. I think that Speculative Execution change to false on hadoop helped as well. Will run more test and post any unexpected results.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="12747977" author="appodictic" created="Wed, 26 Aug 2009 15:17:23 +0000"  >&lt;p&gt;I made a small update here to help with debugging. The UDF returns 2 if connection manager fails (missing driver,bad credentials). The UDF returns 1 if the query fails (duplicate key, bad SQL, etc). Does anyone else have any blocker for going +1?&lt;/p&gt;</comment>
                            <comment id="12749644" author="namit" created="Mon, 31 Aug 2009 21:55:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12749668" author="namit" created="Mon, 31 Aug 2009 23:03:48 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                            <comment id="12750099" author="lramos85" created="Tue, 1 Sep 2009 21:09:36 +0000"  >&lt;p&gt;Great, its been working with no issues so far.&lt;/p&gt;</comment>
                            <comment id="12750143" author="lramos85" created="Tue, 1 Sep 2009 22:23:41 +0000"  >&lt;p&gt;What exactly does &quot;mapred.job.tracker=local&quot; do? and how will this affect my master/slave nodes to mapreduce a job and this UDF? I&apos;m seeing some interesting things with dboutput() when I set or unset the job.tracker. Thank you.&lt;/p&gt;</comment>
                            <comment id="12750227" author="appodictic" created="Wed, 2 Sep 2009 01:29:52 +0000"  >&lt;p&gt;Luis,&lt;/p&gt;

&lt;p&gt;With any hadoop process setting &quot;mapred.job.tracker=local&quot; runs the map/and reduce locally in process. So it is not distributed 1 thread for maps,one thread for reduce. The reason you see more output is because normally the output map and reduce tasks run on separate nodes. With &quot;mapred.job.tracker=local&quot; you get all the debug.&lt;/p&gt;</comment>
                            <comment id="12751072" author="lramos85" created="Thu, 3 Sep 2009 16:19:26 +0000"  >&lt;p&gt;Sometimes dboutput() UDF fails if I don&apos;t set &quot;mapred.job.tracker&quot; to &quot;local&quot;, what could be the problem? I have Hive and Hadoop 0.18.3 on the Master, and just Hadoop 0.18.3 on the Slave. I followed the configuration on Multi-Node Clustering for Ubuntu. I have some ideas on what could be the issue, but would like to compare reasoning. Thanks.&lt;/p&gt;</comment>
                            <comment id="12751476" author="appodictic" created="Fri, 4 Sep 2009 14:31:33 +0000"  >&lt;p&gt;Luis,&lt;/p&gt;

&lt;p&gt;I can take a shutgun effect to your problem and guess what the issues could be.&lt;/p&gt;

&lt;p&gt;1) Network Access, Do all your nodes have mysql access to the destination server?&lt;/p&gt;

&lt;p&gt;2) Too many simultaneous connections. If your mapred.map.tasks or mapred.reduce.tasks is very high, you might be flooding your myself server. You might start with mapred.map.tasks=1 and mapred.map.tasks=1 and work you way up to higher numbers and see if that is the issue.&lt;/p&gt;

&lt;p&gt;Can you produce steps to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="12751539" author="lramos85" created="Fri, 4 Sep 2009 17:38:13 +0000"  >&lt;p&gt;Edward,&lt;/p&gt;

&lt;p&gt;1) I didn&apos;t think you needed mysql on the other nodes, but I installed it and I&apos;m able to connect from all my nodes to my destination server (mysql -u dbuser -h master -p). Do I need the jdbc connector jar on hadoop? Or do I need to have hive on my nodes as well?&lt;/p&gt;

&lt;p&gt;2) Changed mapred.map.task and mapred.reduce.task to 1 on all my nodes but I have the same issues.&lt;/p&gt;

&lt;p&gt;What I did to compensate for this: I only call dboutput on a hive table that looks exactly like I want mysql to look, so SELECT * FROM table. Anytime a query needs to map/reduce I get connection issues (error:2). If I change back to mapred.job.tracker=local it works.&lt;/p&gt;</comment>
                            <comment id="12751550" author="appodictic" created="Fri, 4 Sep 2009 18:05:35 +0000"  >&lt;p&gt;Luis,&lt;/p&gt;

&lt;p&gt;That is quite a strange error. I obviously have had it working on tables without exact schema matching even in distributed mode. Are you running the latest trunk?&lt;/p&gt;

&lt;p&gt;Maybe someone wants to pitch in here. Is their any possible scope issues that may be happening? We are declaring connection as member variable. It could be defined local to the evaluate. Could that be a corner case that only shows up in distributed testing?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Connection connection = null;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12751589" author="lramos85" created="Fri, 4 Sep 2009 19:40:47 +0000"  >&lt;p&gt;Finally...it&apos;s alive! It was a JAR issue with mysql-connector, I was compiling both 5.1.5(ubuntu) and 5.1.8(download) and loading 5.1.5 into hive (which its why it only worked on local)... apparently 5.1.5 doesn&apos;t work, when I loaded 5.1.8 everything works as expected. Thanks for the help. I noticed I had both jars in my library so I only kept 5.1.5 and not even local worked, which is how I noticed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12434467">HIVE-810</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12424047">HIVE-454</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12434467">HIVE-810</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433141">HIVE-758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413766" name="hive-645-2.patch" size="6624" author="appodictic" created="Fri, 17 Jul 2009 01:54:06 +0000"/>
                            <attachment id="12416685" name="hive-645-3.patch" size="11901" author="appodictic" created="Sun, 16 Aug 2009 01:58:49 +0000"/>
                            <attachment id="12416804" name="hive-645-4.patch" size="13782" author="appodictic" created="Mon, 17 Aug 2009 22:03:18 +0000"/>
                            <attachment id="12416805" name="hive-645-5.patch" size="13785" author="appodictic" created="Mon, 17 Aug 2009 22:20:18 +0000"/>
                            <attachment id="12417743" name="hive-645-6.patch" size="14008" author="appodictic" created="Wed, 26 Aug 2009 15:17:23 +0000"/>
                            <attachment id="12413702" name="hive-645.patch" size="6333" author="appodictic" created="Thu, 16 Jul 2009 16:03:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 02:19:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lazj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Provides DBOutputUDF</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-646] UDFs for conversion between different number bases (conv, hex, bin)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-646</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add conv, hex and bin UDFs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430689">HIVE-646</key>
            <summary>UDFs for conversion between different number bases (conv, hex, bin)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="eibrishimov">Emil Ibrishimov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 17:25:54 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:44 +0000</updated>
                            <resolved>Fri, 17 Jul 2009 00:58:44 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732036" author="eibrishimov" created="Thu, 16 Jul 2009 17:28:03 +0000"  >&lt;p&gt;Does anyone know a faster way to check for overflow and for unsigned division in java (than the one implemented in conv)?&lt;/p&gt;</comment>
                            <comment id="12732279" author="namit" created="Fri, 17 Jul 2009 00:58:44 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413710" name="HIVE-646.1.patch" size="19337" author="eibrishimov" created="Thu, 16 Jul 2009 17:28:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 00:58:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lazr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-647] SORT BY with GROUP ignored without LIMIT</title>
                <link>https://issues.apache.org/jira/browse/HIVE-647</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For queries with GROUP BY and SORT BY, the sort is not handled properly when a LIMIT is not supplied. If I run the following two queries, the first returns properly sorted results. The second does not.&lt;/p&gt;

&lt;p&gt;SELECT user, SUM(numRequests) AS num FROM MyTable GROUP BY user SORT BY num DESC LIMIT 50;&lt;br/&gt;
SELECT user, SUM(numRequests) AS num FROM MyTable GROUP BY user SORT BY num DESC;&lt;/p&gt;

&lt;p&gt;Explain is different for the two queries as well. The first uses 3 M/R jobs and the second only uses 2, which might be part of the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430706">HIVE-647</key>
            <summary>SORT BY with GROUP ignored without LIMIT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="billgraham">Bill Graham</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 20:56:42 +0000</created>
                <updated>Mon, 27 Jul 2009 15:09:24 +0000</updated>
                            <resolved>Sat, 18 Jul 2009 00:22:34 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12732176" author="billgraham" created="Thu, 16 Jul 2009 21:26:54 +0000"  >&lt;p&gt;Note that the second query does sort properly if I explicitly set the number of reducers to 1 with the following command.&lt;/p&gt;

&lt;p&gt;set mapred.reduce.tasks=1; &lt;/p&gt;</comment>
                            <comment id="12732231" author="athusoo" created="Thu, 16 Jul 2009 22:58:53 +0000"  >&lt;p&gt;Actually sort is supposed to be a local sort within a reduce instead of a global sort. It is usually used along with the distribute by to define the manner in which the keys are distributed to a reducer and sorted within a reducer.&lt;/p&gt;

&lt;p&gt;I believe that if you used order by instead of sort by we automatically select 1 reducer and do the sort.&lt;/p&gt;</comment>
                            <comment id="12732599" author="billgraham" created="Fri, 17 Jul 2009 16:50:38 +0000"  >&lt;p&gt;ORDER BY also uses multiple reducers and returns unordered results. Using SORT BY (with or without DISTRIBUTE BY) returns N sets of ordered results, where N is the number of reducers. &lt;/p&gt;

&lt;p&gt;It makes sense that sort by is only per-reducer. The fact that the presents or absence of a LIMIT clause changes the result set in ways other that number of records returned though, seemed like a bug to me.&lt;/p&gt;

&lt;p&gt;It&apos;s an easy enough workaround though, so maybe this issue should be closed?&lt;/p&gt;</comment>
                            <comment id="12732735" author="namit" created="Fri, 17 Jul 2009 21:04:35 +0000"  >&lt;p&gt;order by should use only 1 reducer - if you see otherwise, can you update the jira&lt;br/&gt;
sort behavior is as expected - you are not guaranteed that the first query returns sorted results, it just happens to be sorted, probably the first reducer had more than 50 records which were returned.&lt;/p&gt;

&lt;p&gt;if order by does work, you can close this jira.&lt;/p&gt;</comment>
                            <comment id="12732750" author="billgraham" created="Fri, 17 Jul 2009 21:58:42 +0000"  >&lt;p&gt;Thanks for you explanation re the first LIMIT query, that makes sense.&lt;/p&gt;

&lt;p&gt;Re-verified that ORDER BY does not use only 1 reducer in my tests. &lt;/p&gt;

&lt;p&gt;SELECT user, SUM(numRequests) AS num FROM MyTable GROUP BY user ORDER BY num DESC;&lt;/p&gt;</comment>
                            <comment id="12732752" author="namit" created="Fri, 17 Jul 2009 22:03:17 +0000"  >&lt;p&gt;Not a problem - behavior is as expected&lt;/p&gt;</comment>
                            <comment id="12732756" author="athusoo" created="Fri, 17 Jul 2009 22:15:21 +0000"  >&lt;p&gt;I think what Bill is saying is that order by DOES NOT use 1 reducer in his tests. That seems to be a bug to me.&lt;/p&gt;</comment>
                            <comment id="12732775" author="namit" created="Fri, 17 Jul 2009 22:56:21 +0000"  >&lt;p&gt;Are you sure - I just tried the same query and it works for me - are you using trunk ?&lt;/p&gt;


&lt;p&gt;Also, can you look at the plan file and search for numReducers &lt;br/&gt;
(the plan file for the second job)&lt;/p&gt;

&lt;p&gt;The plan file can be found by: hive.exec.plan from the tracker&lt;/p&gt;</comment>
                            <comment id="12732803" author="billgraham" created="Sat, 18 Jul 2009 00:21:16 +0000"  >&lt;p&gt;I turns out was testing using Hive 0.3.0 actually. I upgraded to the trunk on both my hive client and my hive server, and sure enough saw only one reducer. Sorry for the false alarm. Closing.&lt;/p&gt;</comment>
                            <comment id="12732805" author="billgraham" created="Sat, 18 Jul 2009 00:22:34 +0000"  >&lt;p&gt;Verified expected behavior using trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jul 2009 22:58:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lazz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-648] Better info messages on the command line</title>
                <link>https://issues.apache.org/jira/browse/HIVE-648</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We want to print out some better error messages on the hive command line.&lt;br/&gt;
Currently we show the progress of each map-reduce jobs, but it&apos;s hard to see which map-reduce jobs we are currently running.&lt;/p&gt;

&lt;p&gt;We should show the information in a more structured way.&lt;/p&gt;

&lt;p&gt;This is dependent on another issue where we want to show the total number of tasks for each query (instead of just map-reduce jobs).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430711">HIVE-648</key>
            <summary>Better info messages on the command line</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jul 2009 21:32:18 +0000</created>
                <updated>Thu, 16 Jul 2009 21:32:18 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-649] [UDF] now() for getting current time</title>
                <link>https://issues.apache.org/jira/browse/HIVE-649</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_now&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_now&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430737">HIVE-649</key>
            <summary>[UDF] now() for getting current time</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 05:37:27 +0000</created>
                <updated>Thu, 9 Apr 2015 17:08:54 +0000</updated>
                            <resolved>Thu, 9 Apr 2015 17:08:54 +0000</resolved>
                                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12736003" author="coderplay" created="Tue, 28 Jul 2009 09:23:40 +0000"  >&lt;p&gt;patch&lt;/p&gt;</comment>
                            <comment id="13066604" author="guydou" created="Sun, 17 Jul 2011 08:16:28 +0000"  >&lt;p&gt;Hey,&lt;br/&gt;
I can think of a problem with the current suggestion.&lt;br/&gt;
Consider this scenario:&lt;/p&gt;

&lt;p&gt; A job is running on two days (start at 23:59 and ends at 00:03 ), in that case we can&apos;t know what will be the value of the now. will it be the start time or the end time.&lt;/p&gt;

&lt;p&gt;Can we set the value of now before the job is submitted? and in the UDF use that value?&lt;/p&gt;

</comment>
                            <comment id="13745801" author="teddy.choi" created="Wed, 21 Aug 2013 05:45:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guydou&quot; class=&quot;user-hover&quot; rel=&quot;guydou&quot;&gt;Guy Doulberg&lt;/a&gt;, I agree. I think the value can be assigned on UDFNow() constructor.&lt;/p&gt;</comment>
                            <comment id="14125280" author="lars_francke" created="Mon, 8 Sep 2014 07:45:47 +0000"  >&lt;p&gt;I&apos;ve taken the liberty to work on this a bit but I&apos;m not too confident.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I&apos;m returning a TIMESTAMP instead of a String&lt;/li&gt;
	&lt;li&gt;I&apos;m assigning NOW in the constructor
	&lt;ul&gt;
		&lt;li&gt;UDF instances will still be started at different times so now() won&apos;t be consistent. I&apos;m not sure if I could get a better timestamp of when the job started using a GenericUDF&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14125350" author="hiveqa" created="Mon, 8 Sep 2014 09:39:17 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667139/HIVE-649.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667139/HIVE-649.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6185 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/688/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/688/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/688/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/688/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-688/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-688/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667139&lt;/p&gt;</comment>
                            <comment id="14131129" author="navis" created="Fri, 12 Sep 2014 05:35:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt;  For the query below, should it be the same value?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select now(), now();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14140026" author="gopalv" created="Fri, 19 Sep 2014 05:35:45 +0000"  >&lt;p&gt;UDF NOW() can&apos;t be evaluated on the task, it has to be replaced during planning to be valid in case NTP drifts.&lt;/p&gt;</comment>
                            <comment id="14140027" author="lars_francke" created="Fri, 19 Sep 2014 05:40:30 +0000"  >&lt;p&gt;Yes, as noted in my comment for the patch. I don&apos;t know the Hive Internals well enough to say whether that&apos;s a possibility at all or not.&lt;/p&gt;</comment>
                            <comment id="14140034" author="gopalv" created="Fri, 19 Sep 2014 05:48:53 +0000"  >&lt;p&gt;Ah, I just hit the need for this and ran the patch - didn&apos;t associate your comment with the patch.&lt;/p&gt;

&lt;p&gt;I just realized a few minutes later that our constant folding engine does not work on UDFs added via &quot;ADD JAR&quot; &amp;amp; therefore was running it on each node, with slight drifts.&lt;/p&gt;</comment>
                            <comment id="14487674" author="alangates" created="Thu, 9 Apr 2015 17:08:54 +0000"  >&lt;p&gt;The now existing current_timestamp and unix_timestamp UDFs cover this functionality.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12500123">HIVE-2019</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12667139" name="HIVE-649.2.patch" size="3089" author="lars_francke" created="Mon, 8 Sep 2014 07:45:47 +0000"/>
                            <attachment id="12414729" name="HIVE-649.patch" size="1742" author="coderplay" created="Tue, 28 Jul 2009 09:23:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 Jul 2011 08:16:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-650] [UDAF]  implement  GROUP_CONCAT(expr)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-650</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It&apos;s a very useful udaf for us. &lt;br/&gt;
&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;GROUP_CONCAT(expr)&lt;/p&gt;

&lt;p&gt;This function returns a string result with the concatenated non-NULL values from a group. It returns NULL if there are no non-NULL values. The full syntax is as follows: &lt;/p&gt;

&lt;p&gt;GROUP_CONCAT(&lt;span class=&quot;error&quot;&gt;&amp;#91;DISTINCT&amp;#93;&lt;/span&gt; expr &lt;span class=&quot;error&quot;&gt;&amp;#91;,expr ...&amp;#93;&lt;/span&gt;&lt;br/&gt;
             [ORDER BY &lt;/p&gt;
{unsigned_integer | col_name | expr}
&lt;p&gt;                 &lt;span class=&quot;error&quot;&gt;&amp;#91;ASC | DESC&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;,col_name ...&amp;#93;&lt;/span&gt;]&lt;br/&gt;
             &lt;span class=&quot;error&quot;&gt;&amp;#91;SEPARATOR str_val&amp;#93;&lt;/span&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430738">HIVE-650</key>
            <summary>[UDAF]  implement  GROUP_CONCAT(expr)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 06:18:37 +0000</created>
                <updated>Wed, 24 Nov 2010 20:00:57 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 20:00:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12935462" author="hammer" created="Wed, 24 Nov 2010 20:00:57 +0000"  >&lt;p&gt;Resolving as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-707&quot; title=&quot;add group_concat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-707&quot;&gt;HIVE-707&lt;/a&gt; and to concentrate conversation on that ticket (since most of the discussion has happened there).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12431705">HIVE-707</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Nov 2010 20:00:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-651] cleanup for group by in semanticanalyzer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-651</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The code in semantic analyzer is getting pretty complex. There are many functions which do similar stuff and it becoming painful to debug these scenarios.&lt;/p&gt;

&lt;p&gt;It would be useful to break up that code into smaller modules, which will make it more readable.&lt;/p&gt;

&lt;p&gt;Some common pieces which can be factored out are as follows:&lt;/p&gt;

&lt;p&gt;1. Resolution of the aggregation function - this can happen before any group by, and is independent of whether distinct or non-distinct aggregation is being performed.&lt;br/&gt;
2. After the resolution, a mode can be passed which indicates whether partial aggregation is required or not.&lt;/p&gt;

&lt;p&gt;Some more detailed inspection of the code is needed, but the amount of common code can be refactored and reduced.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430795">HIVE-651</key>
            <summary>cleanup for group by in semanticanalyzer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 17:17:36 +0000</created>
                <updated>Fri, 18 Dec 2009 01:11:39 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12427290">HIVE-548</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08orb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-652] turn off auto-merge for insert local </title>
                <link>https://issues.apache.org/jira/browse/HIVE-652</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;auto-merge should be turned off for insert local&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430808">HIVE-652</key>
            <summary>turn off auto-merge for insert local </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 19:57:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:58 +0000</updated>
                            <resolved>Sat, 18 Jul 2009 07:22:00 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732790" author="rsm" created="Fri, 17 Jul 2009 23:50:02 +0000"  >&lt;p&gt;the patch is output from svn st, not svn diff.&lt;/p&gt;</comment>
                            <comment id="12732797" author="namit" created="Sat, 18 Jul 2009 00:03:06 +0000"  >&lt;p&gt;my mistake, regenerated the patch&lt;/p&gt;</comment>
                            <comment id="12732802" author="namit" created="Sat, 18 Jul 2009 00:20:37 +0000"  >&lt;p&gt;added more comments on raghu&apos;s suggestion&lt;/p&gt;</comment>
                            <comment id="12732859" author="zshao" created="Sat, 18 Jul 2009 07:22:00 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413888" name="hive.652.1.patch" size="210" author="namit" created="Fri, 17 Jul 2009 23:40:17 +0000"/>
                            <attachment id="12413893" name="hive.652.2.patch" size="2948" author="namit" created="Sat, 18 Jul 2009 00:02:33 +0000"/>
                            <attachment id="12413895" name="hive.652.3.patch" size="3245" author="namit" created="Sat, 18 Jul 2009 00:20:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 23:50:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-652&quot; title=&quot;turn off auto-merge for insert local &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-652&quot;&gt;&lt;strike&gt;HIVE-652&lt;/strike&gt;&lt;/a&gt;. Turn off auto-merge for insert local. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-653] Limit job hive queries to conform to underlying  hadoop capacities</title>
                <link>https://issues.apache.org/jira/browse/HIVE-653</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive client should match underlying cluster capacity with cost estimates from a newly submitted job. The newly submitted job should be rejected if it exceeds the capacity of the cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430810">HIVE-653</key>
            <summary>Limit job hive queries to conform to underlying  hadoop capacities</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhruba">dhruba borthakur</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 20:15:47 +0000</created>
                <updated>Fri, 17 Jul 2009 20:19:15 +0000</updated>
                                                                            <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732720" author="dhruba" created="Fri, 17 Jul 2009 20:19:15 +0000"  >&lt;p&gt;The Hadoop JobClient class could be extended to check the following:&lt;/p&gt;

&lt;p&gt;1.  The total number of mappers/reduces that a job can use&lt;br/&gt;
2.   The total size of data that the job will process&lt;/p&gt;

&lt;p&gt;These are not strictly related to hive but might be useful for most warehouse type of applications.&lt;/p&gt;

&lt;p&gt;Another solution would be to use the Hive pre-query hook to check these constraints.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08orj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-654] Renaming the thrift SerDe</title>
                <link>https://issues.apache.org/jira/browse/HIVE-654</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We recently moved ThriftSerDe from facebook thrift to open source thrift.&lt;br/&gt;
However the name of the ThriftSerDe class didn&apos;t change, which makes it really hard to keep data-code compatibility.&lt;/p&gt;

&lt;p&gt;We should change the name of the ThriftSerDe as soon as possible, before our users start to use open source thrift with it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430831">HIVE-654</key>
            <summary>Renaming the thrift SerDe</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 23:04:42 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:16 +0000</updated>
                            <resolved>Sun, 19 Jul 2009 16:06:54 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12732800" author="namit" created="Sat, 18 Jul 2009 00:14:27 +0000"  >&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12732815" author="zshao" created="Sat, 18 Jul 2009 01:20:10 +0000"  >&lt;p&gt;The last patch didn&apos;t include the test file changes.&lt;br/&gt;
This one should pass the tests.&lt;/p&gt;</comment>
                            <comment id="12732941" author="zshao" created="Sat, 18 Jul 2009 23:17:33 +0000"  >&lt;p&gt;Tested. All test failures are fixed.&lt;/p&gt;</comment>
                            <comment id="12733019" author="namit" created="Sun, 19 Jul 2009 16:06:54 +0000"  >&lt;p&gt;committed. thanks zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413891" name="HIVE-654.1.patch" size="48709" author="zshao" created="Sat, 18 Jul 2009 00:00:18 +0000"/>
                            <attachment id="12413901" name="HIVE-654.2.patch" size="51258" author="zshao" created="Sat, 18 Jul 2009 01:20:10 +0000"/>
                            <attachment id="12413935" name="HIVE-654.4.patch" size="51165" author="zshao" created="Sat, 18 Jul 2009 23:17:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Jul 2009 00:14:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-655] Add support for user defined table generating functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-655</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Provide a way for users to add a table generating function, i.e., functions that generate multiple rows from a single input row. Currently, the only way to do it is via the TRANSFORM clause which requires streaming the data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430846">HIVE-655</key>
            <summary>Add support for user defined table generating functions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Jul 2009 05:41:44 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:59 +0000</updated>
                            <resolved>Tue, 24 Nov 2009 02:39:04 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12732848" author="rsm" created="Sat, 18 Jul 2009 05:49:44 +0000"  >&lt;p&gt;One option for the syntax would be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  SELECT udtf(a,b,c) FROM r
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&apos;utdf&apos; is the name of the user defined table function which needs to be registered.&lt;/p&gt;

&lt;p&gt;Note that there shouldnt be any other expression in the SELECT clause (similar to TRANSFORM). One way to implement this would be to define a new TableFunctionOperator which takes one of UDTF or GenericUDTF. &lt;/p&gt;</comment>
                            <comment id="12732904" author="namit" created="Sat, 18 Jul 2009 14:30:39 +0000"  >&lt;p&gt;Other option is go the oracle route:&lt;br/&gt;
select * from TABLE(udf(prameters));&lt;/p&gt;


</comment>
                            <comment id="12732916" author="rsm" created="Sat, 18 Jul 2009 16:31:02 +0000"  >&lt;p&gt;I was trying to use the same syntax for UDTF as TRANSFORM, since UDTF is just the java way of doing a transform. So, TRANSFORM clause can also be deemed a table function and should be written as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT * FROM TABLE (TRANSFORM(parameters) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;script&apos;&lt;/span&gt; AS col_list)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12733422" author="rsm" created="Tue, 21 Jul 2009 00:50:38 +0000"  >&lt;p&gt;The problem with doing it the oracle way is that we need to find another way to specify the input (or FROM clause) for the TRANSFORM/UDTF itself. So, seems like its better to specify table function in the SELECT and use that as a subquery in the FROM clause.&lt;/p&gt;</comment>
                            <comment id="12743934" author="zshao" created="Mon, 17 Aug 2009 00:04:58 +0000"  >&lt;p&gt;Another way is like this:&lt;/p&gt;

&lt;p&gt;1. Simplest example: just use the same syntax as UDF.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  SELECT pageid, EXPLODE(adid_list) as adid
  FROM mytable;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;2. If the UDTF produces more than 1 columns, then we have 3 options:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;A. Simplest way: needs common sub expression elimination to achieve good performance
  SELECT pageid, EXPLODE(ad_list).adid AS adid, EXPLODE(ad_list).adtext AS adtext
  FROM mytable;

B. Simplify the query using sub query:
  SELECT pageid, ad.adid AS adid, ad.adtext AS adtext
  FROM (SELECT pageid, EXPLODE(ad_list) AS ad
       FROM mytable) a;

C. Expand the structure inline:
  SELECT pageid, EXPLODE(ad_list) as (adid, adtext)
  FROM mytable;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hive already have support for B. For A, we need to do the common sub expression, but I guess we want to do it anyway.&lt;br/&gt;
C seems a nice extension but it is not limited to UDTF - UDF/UDAF should support the same thing, if we want to support this.&lt;/p&gt;


&lt;p&gt;3. Parallel UDTF calls means cross product:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  SELECT pageid, EXPLODE(adid_list) AS adid, EXPLODE(link_list) AS link
  FROM mytable;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12765286" author="zshao" created="Tue, 13 Oct 2009 22:39:36 +0000"  >&lt;p&gt;We had an offline design meeting and here are some conclusions:&lt;/p&gt;

&lt;p&gt;1. Grammar:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT myUDTF(expression1, expression2 ...) AS col1, col2, col3
FROM src;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The column names after AS is required for now.&lt;/p&gt;

&lt;p&gt;2. UDTF class hierarchy:&lt;br/&gt;
We will have an abstract base class UDTF that have the following interface. The interface is simplified from Operator interface.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; ObjectInspector init(ObjectInspector row); &lt;span class=&quot;code-comment&quot;&gt;// take input row OI and output output row OI
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; void process(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; o); &lt;span class=&quot;code-comment&quot;&gt;// Get a row and process it
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; void close(); &lt;span class=&quot;code-comment&quot;&gt;// Notify that the data stream is ended
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void forward(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; o); &lt;span class=&quot;code-comment&quot;&gt;// called by UDTF to forward the row that is generated&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. UDTF creation statement. Follow the same way as UDF and UDAF.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TEMPORARY FUNCTION myUDAF ..
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12772893" author="pauly" created="Tue, 3 Nov 2009 06:46:58 +0000"  >&lt;p&gt;Preliminary version&lt;/p&gt;</comment>
                            <comment id="12777294" author="namit" created="Fri, 13 Nov 2009 00:23:21 +0000"  >&lt;p&gt;Since it is a table function, I think we should limit its usage, i.e only 1 item can be present in the select clause.&lt;/p&gt;

&lt;p&gt;SELECT explode(list1), EXPLODE(list2) FROM mytable; &lt;br/&gt;
should throw an error instead of returning (list1, list2) pairs.&lt;/p&gt;

&lt;p&gt;We can always do it via a sub-query.&lt;/p&gt;

&lt;p&gt;select * from &lt;br/&gt;
(SELECT explode(list1) from mytable)sq1  join (select * from EXPLODE(list2) FROM mytable) sq2; &lt;/p&gt;


&lt;p&gt;If need be, we can add it later in a follow-up jira&lt;/p&gt;</comment>
                            <comment id="12777371" author="pauly" created="Fri, 13 Nov 2009 04:20:23 +0000"  >&lt;ul&gt;
	&lt;li&gt;API for the UDTF&apos;s have changed slightly&lt;/li&gt;
	&lt;li&gt;Added support for columns in addition to UDTF&apos;s - i.e. SELECT pageid, UDTF(adid_list)... Does this conflict with &apos;i.e only 1 item can be present in the select clause&apos;?&lt;/li&gt;
	&lt;li&gt;Disallowed &amp;gt;1 UDTF per SELECT&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12777390" author="nzhang" created="Fri, 13 Nov 2009 06:38:39 +0000"  >&lt;p&gt;Agree with Namit. A UDTF is a function returning a table, so it should appear where any table/view could appear in the QL. Ideally it should only appear in the FROM clause since that&apos;s the only place a table can appear, and the semantics is well defined. If we really want to put UDTF in a SELECT clause for backward compatibility reason, we&apos;d better to limit the number of UDTF to 1 so that it can only be used as a table in the subquery select * from (select UDTF from ..). Otherwise we have to deal with the complexity of semantics for queries such as select pageid, count(...), UDTF(...) from .. group by ... It is new to users and it is hard to explain.&lt;/p&gt;</comment>
                            <comment id="12777415" author="namit" created="Fri, 13 Nov 2009 07:45:11 +0000"  >&lt;p&gt;Let us not support:&lt;/p&gt;

&lt;p&gt;SELECT pageid, UDTF(adid_list)... &lt;/p&gt;


&lt;p&gt;for now - again the semantics are not clear.&lt;/p&gt;</comment>
                            <comment id="12777527" author="zshao" created="Fri, 13 Nov 2009 15:33:01 +0000"  >&lt;p&gt;I think we should support:&lt;/p&gt;

&lt;p&gt;SELECT pageid, explode(adid_list)... &lt;/p&gt;

&lt;p&gt;This will probably be the most popular query that people will write. Otherwise I don&apos;t know how many people will actually use UDTF ...&lt;/p&gt;


&lt;p&gt;I don&apos;t think we have to follow Oracle&apos;s syntax here. Oracle&apos;s UDTF may not support the &quot;explode&quot; feature as described above.&lt;br/&gt;
This syntax looks much cleaner. Transform is actually a UDTF in Oracle&apos;s sense, but we didn&apos;t follow Oracle&apos;s syntax.&lt;/p&gt;

&lt;p&gt;We can give it a different name if calling this UDTF causes confusion. The real use case above (and the single &quot;explode&quot; function) will probably dominate what users will write.&lt;/p&gt;</comment>
                            <comment id="12777546" author="namit" created="Fri, 13 Nov 2009 16:27:20 +0000"  >&lt;p&gt;I was thinking about it, and there is no workaround for the above operation. So, I am fine with supporting it.&lt;/p&gt;

&lt;p&gt;However, we should throw an error if there is a group by or anything like that.&lt;/p&gt;</comment>
                            <comment id="12777569" author="nzhang" created="Fri, 13 Nov 2009 17:24:51 +0000"  >&lt;p&gt;If I understand it correctly, the semantics of &quot;select pageid, explode(addid_list) from T&quot; is to for each row in T, we will take a row in T and combine pageid and every item in addid_list to make it a set of rows. This can be easily translated to something like:&lt;/p&gt;

&lt;p&gt; SELECT T.pageid, S.addid FROM T, explode(addid_list) S; &lt;/p&gt;

&lt;p&gt;The benefits of this is that you can add WHERE, GROUP BY etc. to the query such as&lt;/p&gt;

&lt;p&gt;  SELECT s.addid, t.pageid FROM t, explod(addid_list) S WHERE pageid &amp;lt; 10 GROUP BY S.addid, T.pageid;&lt;/p&gt;

&lt;p&gt;If we put explode in the SELECT clause, we have to use a subquery to wrap up the explode() and put it into the FROM clause of the outer query. And we have to make sure  the inner subquery has no group by, no aggregation function etc., and we have to explain it to the users.  That seems unnecessarily complicated. &lt;/p&gt;

&lt;p&gt;If we want to follow the SQL&apos;s data flow: rows are passed in the order of FROM --&amp;gt; WHERE --&amp;gt; GROUP BY --&amp;gt; HAVING --&amp;gt; SELECT, I think it&apos;s better to put it into the FROM clause. This is not only the syntax of Oracle&apos;s table function, DB2 also need to reference the user defined table function in the FROM clause (&lt;a href=&quot;http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/ad/t0009218.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/ad/t0009218.htm&lt;/a&gt;). This is also in line with the SQL&apos;s LATERAL VIEW construct where views defined in the FROM clause can reference tables appearing before them in the same FROM clause. It has a well-define semantics and it can be easily composed with other SQL construct without any exceptions. &lt;/p&gt;

&lt;p&gt;But again, if we want backward compatibility I have no objection of putting it into the SELECT clause, but I think we&apos;d better also support UDTFs in the FROM clause as well.&lt;/p&gt;</comment>
                            <comment id="12777702" author="pauly" created="Fri, 13 Nov 2009 22:35:30 +0000"  >&lt;p&gt;So I had a discussion with Ning and Namit this morning and a slightly different syntax for UDTF&apos;s was proposed. Something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT pageid, adid FROM myTable LATERAL VIEW explode(adid_list) AS adid ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where the LATERAL VIEW keyword associates the given UDTF with the table in the FROM clause. As Ning pointed out, one of the issues with having the UDTF in the SELECT is that queries like the following&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT pageid, explode(adid_list), count(1) FROM myTable GROUP BY pageid;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;are a bit confusing as it&apos;s not clear what it&apos;s supposed to do. We could disallow these sort of operations but it makes it more complicated to the user. Using LATERAL VIEW also handles Raghotham&apos;s concern about having to specify the input for the UDTF. The UDTF still returns one column, thought multiple values can be returned via a an array or a struct. &lt;/p&gt;

&lt;p&gt;Zheng, do you have any thoughts about the proposed syntax? I know from early on UDTF&apos;s were planned to be in the SELECT clause and I&apos;m wondering if there were other reasons for why UDTF&apos;s should be there. With SELECT, it seemed more straightforward implementation-wise. Also, going back to TRANSFORM, it does seem like it can fit in FROM too. What was the rationale for having it in the SELECT?&lt;/p&gt;</comment>
                            <comment id="12777748" author="rmurthy@facebook.com" created="Fri, 13 Nov 2009 23:51:41 +0000"  >&lt;p&gt;There was an alternate syntax to TRANSFORM.&lt;/p&gt;

&lt;p&gt;FROM (&lt;br/&gt;
MAP columnlist USING mapscript AS newcolumnlist&lt;br/&gt;
FROM tablename ) a&lt;br/&gt;
REDUCE a.newcolumnlist USING reducescript&lt;/p&gt;

&lt;p&gt;IIRC we later decided to just use TRANSORM for both map and reduce.  &lt;br/&gt;
The lateral view syntax is more expressive. But I think it makes it  &lt;br/&gt;
simpler to specify udtf in select clause if it&apos;s the only thing  &lt;br/&gt;
specified, similar to transform.&lt;/p&gt;

</comment>
                            <comment id="12777811" author="namit" created="Sat, 14 Nov 2009 03:06:33 +0000"  >&lt;p&gt;When you say : if it is the only thing specified: do you mean that we should disallow:&lt;/p&gt;

&lt;p&gt;SELECT pageid, explode(adid_list) FROM myTabl&lt;/p&gt;

</comment>
                            <comment id="12777830" author="namit" created="Sat, 14 Nov 2009 07:04:46 +0000"  >&lt;p&gt;I am fine with that.&lt;/p&gt;

&lt;p&gt;So, we allow:&lt;/p&gt;

&lt;p&gt;SELECT explode(adid_list) FROM myTabl&lt;/p&gt;


&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;SELECT .... from T LATERAL VIEW explode(adid_list) &lt;/p&gt;



&lt;p&gt;@Zheng, please comment&lt;/p&gt;</comment>
                            <comment id="12777831" author="namit" created="Sat, 14 Nov 2009 07:05:12 +0000"  >&lt;p&gt;@Ning, please comment&lt;/p&gt;</comment>
                            <comment id="12777834" author="nzhang" created="Sat, 14 Nov 2009 07:29:01 +0000"  >&lt;p&gt;I think it is fine to allow both formats. The select explode could be a shortcut to the lateral view format. This may help users who are familiar with the TRANSFORM syntax. &lt;/p&gt;</comment>
                            <comment id="12778196" author="zshao" created="Sun, 15 Nov 2009 23:51:53 +0000"  >&lt;p&gt;Yeah I think we can support both formats.  I agree &quot;LATERAL VIEW&quot; is a better and more consistent with SQL, but that might require much more time to implement (given that the discussion of this issue was started long time ago and Paul has done most of the work given the current design).&lt;/p&gt;

&lt;p&gt;We can finish the current implementation asap, and at the same time keep in mind about the &quot;LATERAL VIEW&quot; struct, and implement it when we get time.&lt;/p&gt;

&lt;p&gt;Does &quot;LATERAL VIEW&quot; supports exploding multiple columns (as a cartisian product)?&lt;/p&gt;

&lt;p&gt;@Raghu: The history of map/reduce and transform was like this: tranform was in the first proposal and implemented when hive was started. Later we added &quot;Map&quot; and &quot;Reduce&quot; as a shortcut so that users (who know map-reduce already) can understand it better. However, there are also concerns from users (e.g. Venky) because the keywords do not make sure the &quot;map&quot; and &quot;reduce&quot; are run in actual &quot;map&quot; and &quot;reduce&quot; phase. So I would say these are historical issues.&lt;/p&gt;</comment>
                            <comment id="12778407" author="namit" created="Mon, 16 Nov 2009 17:32:31 +0000"  >&lt;p&gt;Yes, &quot;LATERAL VIEW&quot; does support cartesian product.&lt;/p&gt;


&lt;p&gt;select ...&lt;br/&gt;
from A LATERAL VIEW explode(c1) LATERAL VIEW explode(c2)&lt;/p&gt;

</comment>
                            <comment id="12778424" author="namit" created="Mon, 16 Nov 2009 18:08:09 +0000"  >&lt;p&gt;I agree that there is a patch already from Paul - I will file a follow-up jira for the LATERAL VIEW, and get the &lt;/p&gt;

&lt;p&gt;SELECT explode(adid_list) FROM myTabl&lt;/p&gt;

&lt;p&gt;in this jira&lt;/p&gt;</comment>
                            <comment id="12778439" author="nzhang" created="Mon, 16 Nov 2009 18:27:26 +0000"  >&lt;p&gt;+1 the plan.&lt;/p&gt;

&lt;p&gt;@Zheng, lateral view is typically used to write a view in SQL (usually not UDTF) that can be embedded in the FROM clause and reference other tables in the same FROM clause. Oracle and DB2 (maybe MS SQLServer as well) all have their own table function definitions that are similar to our UDTF. Internally their table function implementations may use lateral views if possible. &lt;/p&gt;

&lt;p&gt;Let&apos;s have a detailed design discussion about how to implement lateral views when you are back, as Rugu mentioned lateral views is quite expressive.&lt;/p&gt;</comment>
                            <comment id="12779141" author="pauly" created="Tue, 17 Nov 2009 21:21:15 +0000"  >&lt;ul&gt;
	&lt;li&gt;Simplified genSelectPlan(), genUDTFPlan() to handle only single UDTF case&lt;/li&gt;
	&lt;li&gt;Added detection of multiple expressions in SELECT to throw error when used with UDTF&apos;s&lt;/li&gt;
	&lt;li&gt;Added detection of 
{group, cluster, distribute, sort}
&lt;p&gt; by to throw errors as well&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12779169" author="namit" created="Tue, 17 Nov 2009 22:05:56 +0000"  >&lt;p&gt; /** 	&lt;br/&gt;
				121 		* forwardUDTFOutput is typically called indirectly by the GenericUDTF when 	&lt;br/&gt;
				122 		* the GenericUDTF has generated output data that should be passed on to the 	&lt;br/&gt;
				123 		* next operator in the DAG. 	&lt;br/&gt;
				124 		* 	&lt;br/&gt;
				125 		* @param o 	&lt;br/&gt;
				126 		* @throws HiveException 	&lt;br/&gt;
				127 		*/ 	&lt;br/&gt;
				128 		public void forwardUDTFOutput(Object o) throws HiveException { 	&lt;br/&gt;
				129 		// Now that we have the data for the UDTF, repack the row by including 	&lt;br/&gt;
				130 		// the columns not used by the UDTF. 	&lt;br/&gt;
				131 		StandardStructObjectInspector soi = 	&lt;br/&gt;
				132 		(StandardStructObjectInspector) inputObjInspectors&lt;span class=&quot;error&quot;&gt;&amp;#91;previousTag&amp;#93;&lt;/span&gt;; 	&lt;br/&gt;
				133 		List&amp;lt;Object&amp;gt; newRow = new ArrayList&amp;lt;Object&amp;gt;(); 	&lt;br/&gt;
				134 		List&amp;lt;? extends StructField&amp;gt; fields = soi.getAllStructFieldRefs(); 	&lt;br/&gt;
				135 		boolean insertedUDTFCol = false; 	&lt;br/&gt;
				136 			&lt;br/&gt;
				137 		for(StructField sf : fields) { 	&lt;br/&gt;
				138 		if(udtfInputColNamesSet.contains(sf.getFieldName())) { 	&lt;br/&gt;
				139 		if(!insertedUDTFCol) &lt;/p&gt;
{ 	
				140 		newRow.add(o); 	
				141 		insertedUDTFCol = true; 	
				142 		}
&lt;p&gt; 	&lt;br/&gt;
				143 		} else &lt;/p&gt;
{ 	
				144 		newRow.add(soi.getStructFieldData(previousRow, sf)); 	
				145 		}
&lt;p&gt; 	&lt;br/&gt;
				146 		} 	&lt;br/&gt;
				147 		forward(newRow, outputObjInspector); 	&lt;br/&gt;
				148 		} 	&lt;br/&gt;
				149 		&lt;/p&gt;


&lt;p&gt;Are we planning to support:&lt;/p&gt;

&lt;p&gt;select udtf(..) as (a,b)...&lt;br/&gt;
select udtf(..) as (a int,b int)...&lt;/p&gt;

&lt;p&gt;If not, why do you need previousTag etc.&lt;/p&gt;
</comment>
                            <comment id="12779173" author="pauly" created="Tue, 17 Nov 2009 22:23:04 +0000"  >&lt;p&gt;No, I don&apos;t think that will be supported - only SELECT UDTF(col0) as colName...&lt;/p&gt;

&lt;p&gt;previousRow &amp;amp; previousTag aren&apos;t needed if the only object that should be send to Operator.forward() is the output of the UDTF. It was needed for supporting SELECT pageid, explode(adid_list).... but I left it in there as I thought it might be useful for implementing LATERAL VIEW later.&lt;/p&gt;
</comment>
                            <comment id="12779216" author="namit" created="Wed, 18 Nov 2009 00:26:01 +0000"  >&lt;p&gt;Can you remove it now - maybe, copy it in your local file - but let us apply the patch which only supports&lt;br/&gt;
select udtf() as col from T&lt;/p&gt;


</comment>
                            <comment id="12779724" author="pauly" created="Wed, 18 Nov 2009 23:20:09 +0000"  >&lt;ul&gt;
	&lt;li&gt;Additional simplifications to UDTFOperator, SemanticAnalyzer support only SELECT UDTF(...)&lt;/li&gt;
	&lt;li&gt;Added option for periodic progress updates to the tracker&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12779771" author="namit" created="Thu, 19 Nov 2009 00:51:54 +0000"  >&lt;p&gt;Minor comments:&lt;/p&gt;

&lt;p&gt;1. Remove author tag from AutoProgress&lt;br/&gt;
2. SemanticAnalyzer/TypeCheckProcFactory - when you are throwing SemanticException, add new error messages in ErrorMsg&lt;br/&gt;
3. Do you want to enable auto progress by default  - this might break some existing script operator applications.&lt;/p&gt;</comment>
                            <comment id="12779792" author="pauly" created="Thu, 19 Nov 2009 01:52:47 +0000"  >&lt;ul&gt;
	&lt;li&gt;Removed author tag&lt;/li&gt;
	&lt;li&gt;Moved error message strings to ErrorMsg&lt;/li&gt;
	&lt;li&gt;Added entry for hive.udtf.auto.progress in hive-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12781751" author="namit" created="Tue, 24 Nov 2009 02:39:04 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12426160">HIVE-510</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12430259">HIVE-630</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12440836">HIVE-935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12423894" name="HIVE-655.1.patch" size="45977" author="pauly" created="Tue, 3 Nov 2009 06:46:58 +0000"/>
                            <attachment id="12424810" name="HIVE-655.2.patch" size="46291" author="pauly" created="Fri, 13 Nov 2009 04:20:23 +0000"/>
                            <attachment id="12425258" name="HIVE-655.3.patch" size="53589" author="pauly" created="Tue, 17 Nov 2009 21:21:15 +0000"/>
                            <attachment id="12425403" name="HIVE-655.4.patch" size="55835" author="pauly" created="Wed, 18 Nov 2009 23:20:09 +0000"/>
                            <attachment id="12425421" name="HIVE-655.5.patch" size="58118" author="pauly" created="Thu, 19 Nov 2009 01:52:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Jul 2009 14:30:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-656] Add a PMOD (POSITIVE_MOD) function</title>
                <link>https://issues.apache.org/jira/browse/HIVE-656</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are a lot of cases people want to get a positive modulo result.&lt;br/&gt;
For example, people want to bucket the data into 10 buckets. They use the hash code in Hive (based on Java) which can return a negative number. Then they need this POSITIVE_MOD(a, b) to return the results.&lt;/p&gt;

&lt;p&gt;Otherwise they can still do it but it will be very verbose:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;((hash(xxx) % 10) + 10) % 10
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12430959">HIVE-656</key>
            <summary>Add a PMOD (POSITIVE_MOD) function</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schen">Scott Chen</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jul 2009 20:44:42 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:24 +0000</updated>
                            <resolved>Wed, 29 Jul 2009 04:06:36 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12733347" author="zshao" created="Mon, 20 Jul 2009 20:53:21 +0000"  >&lt;p&gt;MySQL mod function (which returns negative numbers when the first number is negative) &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_mod&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_mod&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12736239" author="schen" created="Tue, 28 Jul 2009 19:38:14 +0000"  >&lt;p&gt;working on it now.&lt;/p&gt;</comment>
                            <comment id="12736294" author="schen" created="Tue, 28 Jul 2009 21:08:14 +0000"  >&lt;p&gt;Add positive_mod to udf. A new class UDFPosMod is added and registered to FunctionRegistry. The new class is just a slightly modified version of UDFOPMod. &lt;/p&gt;</comment>
                            <comment id="12736335" author="namit" created="Tue, 28 Jul 2009 22:15:38 +0000"  >&lt;p&gt;did you run all the tests ? I think there is a test which does &apos;show functions&apos; which will break and needs to be updated&lt;/p&gt;</comment>
                            <comment id="12736336" author="zshao" created="Tue, 28 Jul 2009 22:20:23 +0000"  >&lt;p&gt;Talked with Alex Smith offline and he suggests to use a little cryptic name &quot;PMOD&quot;, which will help simplify the queries.&lt;br/&gt;
I would vote for &quot;PMOD&quot;. (It should be good enough to just change the line in FunctionRegistry.java that register the function)&lt;br/&gt;
Thoughts?&lt;/p&gt;</comment>
                            <comment id="12736354" author="schen" created="Tue, 28 Jul 2009 22:57:59 +0000"  >&lt;p&gt;@Namit: I did run all the test before I uploaded. This is weird. I will run it again and figure out. Thanks.&lt;/p&gt;

&lt;p&gt;@Zheng: Good idea. That&apos;s a better name. I will change it.&lt;/p&gt;</comment>
                            <comment id="12736380" author="schen" created="Wed, 29 Jul 2009 00:27:35 +0000"  >&lt;p&gt;changed the name to PMOD. have also rerun all the tests.&lt;/p&gt;</comment>
                            <comment id="12736383" author="zshao" created="Wed, 29 Jul 2009 00:31:58 +0000"  >&lt;p&gt;Did all the tests pass?&lt;/p&gt;

&lt;p&gt;If you run the tests with &quot;-Doverwrite=true&quot;, you should see a modified file in ql/src/test/results.&lt;br/&gt;
Then when you do &quot;svn diff&quot;, that modified file should be included.&lt;/p&gt;</comment>
                            <comment id="12736386" author="schen" created="Wed, 29 Jul 2009 00:38:18 +0000"  >&lt;p&gt;Thanks. Now I see what&apos;s going on. &lt;br/&gt;
I run the test with ant &quot;test -Doverwrite=true -Dtest.silent=false&quot;. And it built successfully. &lt;/p&gt;

&lt;p&gt;But than when I uploaded the diff. I manually removed show_function.q.out in the diff because I thought it is from my last change in hive-580. I should have also included that file.&lt;/p&gt;

&lt;p&gt;I will soon upload the new diff.&lt;/p&gt;</comment>
                            <comment id="12736390" author="schen" created="Wed, 29 Jul 2009 00:47:12 +0000"  >&lt;p&gt;sorry about the stupid mistake. show_functions.q.out is included in the diff now.&lt;/p&gt;</comment>
                            <comment id="12736394" author="namit" created="Wed, 29 Jul 2009 00:53:14 +0000"  >&lt;p&gt;There is a problem with the current tests - drop function is not called at the end of some tests - so, the output depends on the order of execution.&lt;br/&gt;
You may need to regenerate the patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-700&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-700&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12736434" author="zshao" created="Wed, 29 Jul 2009 04:06:36 +0000"  >&lt;p&gt;I overwrote the output for show_functions and committed it. Thanks Scott.&lt;/p&gt;</comment>
                            <comment id="12736452" author="schen" created="Wed, 29 Jul 2009 05:17:55 +0000"  >&lt;p&gt;Thank you very much Zheng.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414824" name="hive-656-2009-07-27-1.patch" size="5950" author="schen" created="Wed, 29 Jul 2009 00:27:35 +0000"/>
                            <attachment id="12414829" name="hive-656-2009-07-27-2.patch" size="6495" author="schen" created="Wed, 29 Jul 2009 00:48:06 +0000"/>
                            <attachment id="12414801" name="hive-656-2009-07-27.patch" size="6118" author="schen" created="Tue, 28 Jul 2009 21:08:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jul 2009 19:38:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-656&quot; title=&quot;Add a PMOD (POSITIVE_MOD) function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-656&quot;&gt;&lt;strike&gt;HIVE-656&lt;/strike&gt;&lt;/a&gt;. Add a PMOD (POSITIVE MOD) function. (Scott Chen via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-657] .hiverc would be nice</title>
                <link>https://issues.apache.org/jira/browse/HIVE-657</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be great if the hive CLI would execute ~/.hiverc on load, if it exists. There are some commands I would like to set every time I run hive.&lt;/p&gt;

&lt;p&gt;This is especially important in light of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-243&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-243&lt;/a&gt; as I often end up re-loading the CLI and then forgetting to re-set certain variables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430969">HIVE-657</key>
            <summary>.hiverc would be nice</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jul 2009 23:13:17 +0000</created>
                <updated>Tue, 7 Dec 2010 17:55:43 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 17:55:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12733425" author="rsm" created="Tue, 21 Jul 2009 00:54:39 +0000"  >&lt;p&gt;The change is fairly straight forward. Just execute contents of .hiverc before running any query. We should probably restrict the contents of hiverc to set commands. But, for now, I am blindly executing everything in .hiverc. This is probably good enough.&lt;/p&gt;</comment>
                            <comment id="12733796" author="namit" created="Tue, 21 Jul 2009 19:37:45 +0000"  >&lt;p&gt;This might create a problem for unit tests.&lt;/p&gt;

&lt;p&gt;Do you want to add a configuration parameter for this - for unit tests, instead of user.home it might be better to overwrite it&lt;/p&gt;</comment>
                            <comment id="12744084" author="rsm" created="Mon, 17 Aug 2009 14:31:04 +0000"  >&lt;p&gt;Note that .hiverc is included in main(). And the tests call clidriver.processLine() directly. So, tests will not include .hiverc. I am using user.home, similar to hivehistory.&lt;/p&gt;</comment>
                            <comment id="12744137" author="prasadc" created="Mon, 17 Aug 2009 17:12:29 +0000"  >&lt;p&gt;1) I think console.printError() should be used to print errors &lt;br/&gt;
2) I don&apos;t think .hiverc should be executed when &apos;-f&apos; or &apos;-e&apos; options are given &lt;/p&gt;</comment>
                            <comment id="12746748" author="rsm" created="Mon, 24 Aug 2009 06:52:50 +0000"  >&lt;p&gt;writing errors via console.printError(). I think it does make sense to invoke hiverc even for -e and -f options. Otherwise, users would have to explicitly run those set commands in their command lines or files. For example, when you run a command via bash -c &quot;cmd&quot;, .bashrc is first executed before the command.&lt;/p&gt;</comment>
                            <comment id="12829350" author="zshao" created="Thu, 4 Feb 2010 00:46:58 +0000"  >&lt;p&gt;The patch is outdated. Raghu, can you regenerate it against trunk?&lt;/p&gt;</comment>
                            <comment id="12829355" author="rsm" created="Thu, 4 Feb 2010 00:58:59 +0000"  >&lt;p&gt;regenerating patch.&lt;/p&gt;</comment>
                            <comment id="12829366" author="zshao" created="Thu, 4 Feb 2010 01:20:13 +0000"  >&lt;p&gt;Raghu, do you want to add a test case for this (by redefining user.home)?&lt;/p&gt;</comment>
                            <comment id="12829473" author="zshao" created="Thu, 4 Feb 2010 06:27:02 +0000"  >&lt;p&gt;By the way, we should also add an option to bin/hive (or provide an env var) to skip the &quot;.hiverc&quot; execution.&lt;br/&gt;
This will be very useful when people wants to disable their .hiverc for pipeline jobs etc.&lt;/p&gt;</comment>
                            <comment id="12968848" author="appodictic" created="Tue, 7 Dec 2010 17:55:43 +0000"  >&lt;p&gt;Sorry. It looks like your patch got lost in the shuffle &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1414&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1414&lt;/a&gt; will be part of 7.0. If it is any consultation you had the idea way before I did. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414047" name="hive-657.1.patch" size="1317" author="rsm" created="Tue, 21 Jul 2009 00:54:39 +0000"/>
                            <attachment id="12417443" name="hive-657.2.patch" size="4091" author="rsm" created="Mon, 24 Aug 2009 06:52:50 +0000"/>
                            <attachment id="12434749" name="hive-657.3.patch" size="1296" author="rsm" created="Thu, 4 Feb 2010 00:58:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2009 00:54:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-658] Allow conversions from string to complex types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-658</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Assuming the format of representing complex types in string, we should be able to convert strings to complex types.&lt;/p&gt;

&lt;p&gt;This can happen in several cases:&lt;/p&gt;

&lt;p&gt;1. Serializing a string into a column of a table which is complex-typed.&lt;br/&gt;
2. Sending a string into a UDF/GenericUDF which accepts complex types.&lt;br/&gt;
3. User explicitly do type casting using syntax like CAST(mystring AS array&amp;lt;int&amp;gt;)&lt;/p&gt;

&lt;p&gt;We should assume a default format (maybe JSON, or maybe ^A, ^B, ^C format).&lt;/p&gt;

&lt;p&gt;This makes it easier for people to produce complex types from their transform scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430979">HIVE-658</key>
            <summary>Allow conversions from string to complex types</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 00:56:20 +0000</created>
                <updated>Tue, 21 Jul 2009 00:57:52 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12407836">HIVE-51</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-659] unify tableScanDesc and tableDesc</title>
                <link>https://issues.apache.org/jira/browse/HIVE-659</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;And make FetchTask use TableScanOperator instead of FetchOperator (which is not even a real Operator).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430981">HIVE-659</key>
            <summary>unify tableScanDesc and tableDesc</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 01:04:50 +0000</created>
                <updated>Tue, 21 Jul 2009 01:04:50 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08orz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-660] Fix UDFLike for multi-line inputs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-660</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should use DOTALL option in UDFLike, because &apos;%&apos; and &apos;_&apos; should also match to the newline.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#DOTALL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#DOTALL&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430983">HIVE-660</key>
            <summary>Fix UDFLike for multi-line inputs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 01:21:36 +0000</created>
                <updated>Tue, 5 Apr 2011 22:47:32 +0000</updated>
                                                                            <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12735634" author="namit" created="Mon, 27 Jul 2009 15:54:58 +0000"  >&lt;p&gt;The changes look good - but I had a question about the new test - how come it is outputting 2 rows&lt;/p&gt;</comment>
                            <comment id="12735678" author="namit" created="Mon, 27 Jul 2009 17:40:26 +0000"  >&lt;p&gt;The test udf_dotall failed - please regenerate the log&lt;/p&gt;</comment>
                            <comment id="12735696" author="zshao" created="Mon, 27 Jul 2009 18:23:50 +0000"  >&lt;p&gt;Talked with Namit offline. I will fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-692&quot; title=&quot;Allow hive command output to be escaped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-692&quot;&gt;HIVE-692&lt;/a&gt; first before fixing this one, because the newline in the data caused the file format treats the data as having an additional line.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12431524">HIVE-692</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12414579" name="HIVE-660.1.patch" size="6045" author="zshao" created="Mon, 27 Jul 2009 03:50:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jul 2009 15:54:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-661] Make PrimitiveJavaObjectInspectors and ReflectionObjectInspectors settable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-661</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Both primitive JavaObjectInspectors and ReflectionObjectInspectors should be &quot;settable&quot;, so that the Hive Operators can set the value of the fields if needed.&lt;/p&gt;

&lt;p&gt;Once ReflectionObjectInspectors are &quot;settable&quot;, we will be able to allow UDFs (not GenericUDFs) to accept complex parameters and return complex parameters.&lt;br/&gt;
The efficiency won&apos;t be too high - because we probably need to do conversions, but it makes it much easier for people to write UDFs dealing with complex objects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430994">HIVE-661</key>
            <summary>Make PrimitiveJavaObjectInspectors and ReflectionObjectInspectors settable</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 06:12:44 +0000</created>
                <updated>Tue, 21 Jul 2009 06:12:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-662] Add a method to parse apache weblogs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-662</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Apache weblogs is one of the more common formats for people to parse using Hadoop. Unfortunately the method provided to process the logs in Hive has some issues and seems to be on it&apos;s way out. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-519&quot; title=&quot;Regex processing gets stuck when querying weblogs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-519&quot;&gt;&lt;del&gt;HIVE-519&lt;/del&gt;&lt;/a&gt; and comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-520&quot; title=&quot;TestTCTLSeparatedProtocol is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-520&quot;&gt;&lt;del&gt;HIVE-520&lt;/del&gt;&lt;/a&gt;. We should replace that method with something that works better and that can be supported in the future.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431012">HIVE-662</key>
            <summary>Add a method to parse apache weblogs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 10:57:56 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:38 +0000</updated>
                            <resolved>Fri, 24 Jul 2009 08:42:52 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12733586" author="johanoskarsson" created="Tue, 21 Jul 2009 10:58:40 +0000"  >&lt;p&gt;What is the best route to take here? I would assume a custom serde is the way to go?&lt;/p&gt;</comment>
                            <comment id="12734327" author="zshao" created="Wed, 22 Jul 2009 21:17:28 +0000"  >&lt;p&gt;Yes, I will work on adding a serde how-to and some examples into the new contrib directory &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-639&quot; title=&quot;Create a contrib directory for people to contribute file formats, serdes, and UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-639&quot;&gt;&lt;del&gt;HIVE-639&lt;/del&gt;&lt;/a&gt; today.&lt;/p&gt;</comment>
                            <comment id="12734977" author="zshao" created="Fri, 24 Jul 2009 08:42:52 +0000"  >&lt;p&gt;Fixed as a result of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-167&quot; title=&quot;Hive: add a RegularExpressionDeserializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-167&quot;&gt;&lt;del&gt;HIVE-167&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-167&quot; title=&quot;Hive: add a RegularExpressionDeserializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-167&quot;&gt;&lt;del&gt;HIVE-167&lt;/del&gt;&lt;/a&gt; adds RegexSerDe which allows us to do the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE serde_regex(
  host STRING,
  identity STRING,
  user STRING,
  time STRING,
  request STRING,
  status STRING,
  size STRING,
  referer STRING,
  agent STRING)
ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.contrib.serde2.RegexSerDe&apos;&lt;/span&gt;
WITH SERDEPROPERTIES (
  &lt;span class=&quot;code-quote&quot;&gt;&quot;input.regex&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;([^ ]*) ([^ ]*) ([^ ]*) (-|\\[[^\\]]*\\]) ([^ \&quot;&lt;/span&gt;]*|\&lt;span class=&quot;code-quote&quot;&gt;&quot;[^\&quot;&lt;/span&gt;]*\&lt;span class=&quot;code-quote&quot;&gt;&quot;) (-|[0-9]*) (-|[0-9]*)(?: ([^ \&quot;&lt;/span&gt;]*|\&lt;span class=&quot;code-quote&quot;&gt;&quot;[^\&quot;&lt;/span&gt;]*\&lt;span class=&quot;code-quote&quot;&gt;&quot;) ([^ \&quot;&lt;/span&gt;]*|\&lt;span class=&quot;code-quote&quot;&gt;&quot;[^\&quot;&lt;/span&gt;]*\&lt;span class=&quot;code-quote&quot;&gt;&quot;))?&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;output.format.string&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;%1$s %2$s %3$s %4$s %5$s %6$s %7$s %8$s %9$s&quot;&lt;/span&gt;
)
STORED AS TEXTFILE;

LOAD DATA LOCAL INPATH &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/files/apache.access.log&quot;&lt;/span&gt; INTO TABLE serde_regex;
LOAD DATA LOCAL INPATH &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/files/apache.access.2.log&quot;&lt;/span&gt; INTO TABLE serde_regex;

SELECT * FROM serde_regex ORDER BY time;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12734978" author="zshao" created="Fri, 24 Jul 2009 08:44:51 +0000"  >&lt;p&gt;The example above is from contrib/src/test/queries/clientnegative/serde_regex.q&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12407566">HIVE-167</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12426452">HIVE-519</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jul 2009 21:17:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-663] column aliases should be supported</title>
                <link>https://issues.apache.org/jira/browse/HIVE-663</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select key as x from src where x &amp;lt; 10;&lt;/p&gt;


&lt;p&gt;should work&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431041">HIVE-663</key>
            <summary>column aliases should be supported</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 16:26:00 +0000</created>
                <updated>Tue, 5 Apr 2011 22:50:12 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 22:50:12 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13016166" author="cwsteinbach" created="Tue, 5 Apr 2011 22:50:12 +0000"  >&lt;p&gt;This was fixed a long time ago in some other ticket.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Apr 2011 22:50:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-664] optimize UDF split</title>
                <link>https://issues.apache.org/jira/browse/HIVE-664</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Min Zhou added a comment - 21/Jul/09 07:34 AM&lt;br/&gt;
It&apos;s very useful for us .&lt;br/&gt;
some comments:&lt;/p&gt;

&lt;p&gt;   1. Can you implement it directly with Text ? Avoiding string decoding and encoding would be faster. Of course that trick may lead to another problem, as String.split uses a regular expression for splitting.&lt;br/&gt;
   2. getDisplayString() always return a string in lowercase.&lt;/p&gt;

&lt;p&gt;[ Show &#187; ]&lt;br/&gt;
Min Zhou added a comment - 21/Jul/09 07:34 AM It&apos;s very useful for us . some comments:&lt;/p&gt;

&lt;p&gt;   1. Can you implement it directly with Text ? Avoiding string decoding and encoding would be faster. Of course that trick may lead to another problem, as String.split uses a regular expression for splitting.&lt;br/&gt;
   2. getDisplayString() always return a string in lowercase.&lt;/p&gt;


&lt;p&gt;[ Permlink | &#171; Hide ]&lt;br/&gt;
Namit Jain added a comment - 21/Jul/09 09:22 AM&lt;br/&gt;
Committed. Thanks Emil&lt;br/&gt;
[ Show &#187; ]&lt;br/&gt;
Namit Jain added a comment - 21/Jul/09 09:22 AM Committed. Thanks Emil&lt;/p&gt;

&lt;p&gt;[ Permlink | &#171; Hide ]&lt;br/&gt;
Emil Ibrishimov added a comment - 21/Jul/09 10:48 AM&lt;br/&gt;
There are some easy (compromise) ways to optimize split:&lt;/p&gt;

&lt;p&gt;1. Check if the regex argument actually contains some &quot;regex specific characters&quot; and if it doesn&apos;t, do a straightforward split without converting to strings.&lt;br/&gt;
2. Assume some default value for the second argument (for example - split(str) to be equivalent to split(str, &apos; &apos;) and optimize for this value&lt;br/&gt;
3. Have two separate split functions - one that does regex and one that splits around plain text.&lt;/p&gt;

&lt;p&gt;I think that 1 is a good choice and can be done rather quickly.&lt;br/&gt;
[ Show &#187; ]&lt;br/&gt;
Emil Ibrishimov added a comment - 21/Jul/09 10:48 AM There are some easy (compromise) ways to optimize split: 1. Check if the regex argument actually contains some &quot;regex specific characters&quot; and if it doesn&apos;t, do a straightforward split without converting to strings. 2. Assume some default value for the second argument (for example - split(str) to be equivalent to split(str, &apos; &apos;) and optimize for this value 3. Have two separate split functions - one that does regex and one that splits around plain text. I think that 1 is a good choice and can be done rather quickly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431055">HIVE-664</key>
            <summary>optimize UDF split</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teddy.choi">Teddy Choi</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                            <label>optimization</label>
                    </labels>
                <created>Tue, 21 Jul 2009 17:55:25 +0000</created>
                <updated>Fri, 21 Jul 2017 18:46:00 +0000</updated>
                            <resolved>Mon, 6 Feb 2017 04:54:39 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13745842" author="teddy.choi" created="Wed, 21 Aug 2013 07:21:51 +0000"  >&lt;p&gt;I implemented 1 and 3. Additionally, it caches a compiled Pattern object to reuse.&lt;/p&gt;</comment>
                            <comment id="13745844" author="teddy.choi" created="Wed, 21 Aug 2013 07:24:58 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/13702/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/13702/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13774126" author="ashutoshc" created="Sun, 22 Sep 2013 23:49:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13774230" author="ashutoshc" created="Mon, 23 Sep 2013 01:12:14 +0000"  >&lt;p&gt;Test &lt;tt&gt;global_limit.q&lt;/tt&gt; failed.&lt;/p&gt;</comment>
                            <comment id="13792324" author="teddy.choi" created="Fri, 11 Oct 2013 04:30:15 +0000"  >&lt;p&gt;I wrote 2nd patch while assuming Text#getBytes returns entire valid bytes, but it was wrong. Text#getBytes returns valid bytes up to Text#getLength length. Following bytes are invalid. I fixed code to use Text#getLength to ensure data validity. This patch passes global_limit.q and udf_split.q tests.&lt;/p&gt;</comment>
                            <comment id="13792492" author="hiveqa" created="Fri, 11 Oct 2013 09:47:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12607946/HIVE-664.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12607946/HIVE-664.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4392 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1105/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1105/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1105/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1105/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13793399" author="teddy.choi" created="Sat, 12 Oct 2013 16:26:37 +0000"  >&lt;p&gt;mapreduce_stack_trace_hadoop20.q passed on my computer. The test doesn&apos;t call split(), so it is not related with this patch.&lt;/p&gt;</comment>
                            <comment id="13877185" author="navis" created="Tue, 21 Jan 2014 04:42:31 +0000"  >&lt;p&gt;Ran a simple micro test on splitting only and found it&apos;s not faster significantly (max 15%?) than current implementation (even slower for sometimes). But reusing previous pattern string seemed good idea. Furthermore, if OI for regex is constant type, comparing itself can be ignored. Could you do that too?&lt;/p&gt;</comment>
                            <comment id="15853238" author="teddy.choi" created="Sun, 5 Feb 2017 14:32:00 +0000"  >&lt;p&gt;I applied &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&apos;s feedback. Most of SPLIT calls would use a constant value for its regular expression. So I optimized SPLIT for this use case.&lt;/p&gt;</comment>
                            <comment id="15853254" author="hiveqa" created="Sun, 5 Feb 2017 15:41:06 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12851083/HIVE-664.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12851083/HIVE-664.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10226 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_simple] (batchId=153)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=277)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3387/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3387/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3387/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3387/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3387/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3387/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12851083 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15853313" author="ashutoshc" created="Sun, 5 Feb 2017 18:47:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15853502" author="ashutoshc" created="Mon, 6 Feb 2017 04:54:39 +0000"  >&lt;p&gt;Pushed to master. Thanks Teddy!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12430613">HIVE-642</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12599134" name="HIVE-664.1.patch.txt" size="6576" author="teddy.choi" created="Wed, 21 Aug 2013 07:18:28 +0000"/>
                            <attachment id="12599136" name="HIVE-664.2.patch.txt" size="6580" author="teddy.choi" created="Wed, 21 Aug 2013 07:21:51 +0000"/>
                            <attachment id="12607946" name="HIVE-664.3.patch.txt" size="6550" author="teddy.choi" created="Fri, 11 Oct 2013 04:30:15 +0000"/>
                            <attachment id="12851083" name="HIVE-664.4.patch" size="2696" author="teddy.choi" created="Sun, 5 Feb 2017 14:32:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Aug 2013 07:21:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-665] Allow to query hadoop/mapreduce cluster status from hive server</title>
                <link>https://issues.apache.org/jira/browse/HIVE-665</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Tools/infra around hadoop/hive need to check cluster status in many cases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431063">HIVE-665</key>
            <summary>Allow to query hadoop/mapreduce cluster status from hive server</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ehwang">Eric Hwang</assignee>
                                    <reporter username="hliu">Hao Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 19:03:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:19 +0000</updated>
                            <resolved>Sun, 26 Jul 2009 20:20:21 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12735366" author="rsm" created="Sun, 26 Jul 2009 09:49:30 +0000"  >&lt;p&gt;The changes look good. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12735421" author="rsm" created="Sun, 26 Jul 2009 20:20:21 +0000"  >&lt;p&gt;Committed. Thanks Eric!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414182" name="HIVE-665.1.patch" size="61682" author="ehwang" created="Wed, 22 Jul 2009 04:15:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jul 2009 03:09:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-665&quot; title=&quot;Allow to query hadoop/mapreduce cluster status from hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-665&quot;&gt;&lt;strike&gt;HIVE-665&lt;/strike&gt;&lt;/a&gt;. Get hadoop/mapreduce cluster status from hive server&lt;br/&gt;
(Eric Hwang via rmurthy)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-666] We should not ignore exceptions in FetchTask</title>
                <link>https://issues.apache.org/jira/browse/HIVE-666</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;FetchTask is ignoring some of the exceptions which makes it hard to debug the input file format code.&lt;br/&gt;
We should propagate the exception back instead of ignoring it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431064">HIVE-666</key>
            <summary>We should not ignore exceptions in FetchTask</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 19:07:37 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:14 +0000</updated>
                            <resolved>Wed, 22 Jul 2009 13:26:12 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12733800" author="zshao" created="Tue, 21 Jul 2009 20:09:04 +0000"  >&lt;p&gt;This patch propagates the exception.&lt;/p&gt;</comment>
                            <comment id="12733852" author="rsm" created="Tue, 21 Jul 2009 22:18:02 +0000"  >&lt;p&gt;Can you add a test case where the IOException is thrown only with this patch?&lt;/p&gt;</comment>
                            <comment id="12733926" author="zshao" created="Wed, 22 Jul 2009 01:00:56 +0000"  >&lt;p&gt;This one adds a test case (and also changed the code a bit to return the correct error code).&lt;/p&gt;</comment>
                            <comment id="12733928" author="zshao" created="Wed, 22 Jul 2009 01:04:15 +0000"  >&lt;p&gt;Note: It&apos;s possible that our testing infrastructure is not supporting this new test case - we are leaving a temp table in the metastore which may cause &quot;show tables &apos;*&apos;;&quot; to have different results.&lt;br/&gt;
In that case, we can first commit all the changes except the new test case. We can add the test case back when the new test infrastructure is out.&lt;/p&gt;</comment>
                            <comment id="12733950" author="zshao" created="Wed, 22 Jul 2009 01:53:00 +0000"  >&lt;p&gt;Modified QTestUtils.java to remove the temp table.&lt;br/&gt;
Remove the line from the new .q file that drops the table. (It never gets executed because of the failure before it)&lt;/p&gt;</comment>
                            <comment id="12734052" author="rsm" created="Wed, 22 Jul 2009 09:48:40 +0000"  >&lt;p&gt;looks good. will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12734113" author="rsm" created="Wed, 22 Jul 2009 13:26:12 +0000"  >&lt;p&gt;The patch was missing the input seq file. I pulled it from your source directory and checked it in.&lt;/p&gt;</comment>
                            <comment id="12734259" author="zshao" created="Wed, 22 Jul 2009 19:15:44 +0000"  >&lt;p&gt;Thanks Raghu!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414134" name="HIVE-666.1.patch" size="7086" author="zshao" created="Tue, 21 Jul 2009 20:09:04 +0000"/>
                            <attachment id="12414169" name="HIVE-666.2.patch" size="8941" author="zshao" created="Wed, 22 Jul 2009 01:00:56 +0000"/>
                            <attachment id="12414175" name="HIVE-666.3.patch" size="9799" author="zshao" created="Wed, 22 Jul 2009 01:53:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2009 22:18:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Propagate errors in FetchTask to client.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-667] Implement SHOW TABLE EXTENDED</title>
                <link>https://issues.apache.org/jira/browse/HIVE-667</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Provide hive ql to check table/partition status, including size, creation and access timestamp. This information will be helpful both for data management tasks, and users who send ad-hoc queries against big data set in the cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431065">HIVE-667</key>
            <summary>Implement SHOW TABLE EXTENDED</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="hliu">Hao Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 19:18:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:31 +0000</updated>
                            <resolved>Fri, 11 Sep 2009 19:19:41 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12734852" author="namit" created="Fri, 24 Jul 2009 00:51:06 +0000"  >&lt;p&gt;doesnt describe extended already provide that ?&lt;/p&gt;</comment>
                            <comment id="12734876" author="he yongqiang" created="Fri, 24 Jul 2009 02:39:36 +0000"  >&lt;p&gt;It seems &apos;describe extended&apos; command does not output in my test. &lt;br/&gt;
What &apos;describe extended&apos; intends to output?&lt;/p&gt;</comment>
                            <comment id="12734881" author="he yongqiang" created="Fri, 24 Jul 2009 03:03:28 +0000"  >&lt;p&gt;From the source code, it seems the &apos;describe extended&apos; indeed output detailed table/partition information. &lt;br/&gt;
But it does not include file system status, like file size etc.&lt;/p&gt;</comment>
                            <comment id="12734896" author="hliu" created="Fri, 24 Jul 2009 04:17:48 +0000"  >&lt;p&gt;&quot;Describe extended&quot; provides some static metadata informatio. But for those table info like size and access/update time, one needs to contact hdfs (or whatever storage layer hive use).&lt;br/&gt;
I am thinking in terms of implementation, hive clik can provides this function? It can be part of metastore function though, which will work, but not necessary though if we want to decouple metastore and hdfs.&lt;br/&gt;
My sql provide similar function:&lt;br/&gt;
&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/show-table-status.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/show-table-status.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12734899" author="he yongqiang" created="Fri, 24 Jul 2009 04:57:40 +0000"  >&lt;p&gt;How about adding the file system info to the output of &quot;Describe extended&quot;? &lt;br/&gt;
File System infos i can think up includes:&lt;br/&gt;
1) total size  2) file numbers 3) last access time 4) last update time,  and  others: &lt;span class=&quot;error&quot;&gt;&amp;#91;average file size, max file size, minimum file size&amp;#93;&lt;/span&gt;, &lt;/p&gt;

&lt;p&gt;But since describe extended provided some metadata informations, why not use &quot;DFS &quot; command to get the file system information?&lt;/p&gt;</comment>
                            <comment id="12734900" author="namit" created="Fri, 24 Jul 2009 05:01:08 +0000"  >&lt;p&gt;I think we can fold that also into describe extended instead of a separate DFS call.&lt;/p&gt;

&lt;p&gt;Describe implementation can talk to both metastore and DFS&lt;/p&gt;</comment>
                            <comment id="12734932" author="he yongqiang" created="Fri, 24 Jul 2009 07:15:39 +0000"  >&lt;p&gt;does not inclue new testcase or alter existing testcase(i did not see a testcase for &apos;describe extended&apos;).&lt;br/&gt;
Tested in my local with multiple operations (see localtest-2009-07-24.txt).&lt;/p&gt;</comment>
                            <comment id="12734992" author="zshao" created="Fri, 24 Jul 2009 09:07:55 +0000"  >&lt;p&gt;Can we change &quot;describe extended&quot; output format to indented lines?&lt;br/&gt;
It&apos;s much easier to read.&lt;/p&gt;</comment>
                            <comment id="12735086" author="he yongqiang" created="Fri, 24 Jul 2009 15:51:38 +0000"  >&lt;p&gt;It is easy to indent file system information. But it is not very easy to intent table/partition information (the partition/table info are get from thrift generated classes).&lt;br/&gt;
hive-667-2009-07-25.patch indents file system infos.&lt;/p&gt;</comment>
                            <comment id="12735128" author="zshao" created="Fri, 24 Jul 2009 19:06:08 +0000"  >&lt;p&gt;@hive-667-2009-07-25.patch:&lt;br/&gt;
&quot;total files size&quot; -&amp;gt; &quot;total file size&quot;&lt;br/&gt;
Can you add two spaces in front of the file system information lines. That&apos;s called indentation.&lt;br/&gt;
Also, please update all the tests with updated describe information. You can edit QTestUtils.java to modify the &quot;diff&quot; command line to ignore the differences in file system information.&lt;/p&gt;</comment>
                            <comment id="12735131" author="hliu" created="Fri, 24 Jul 2009 19:15:45 +0000"  >&lt;p&gt;we can follow prev. naming convention:&lt;br/&gt;
total number of files =&amp;gt; totalNumberFiles&lt;/p&gt;

&lt;p&gt;or add &quot;_&quot;, which is mysal way:&lt;br/&gt;
total number of files =&amp;gt; total_number_files&lt;/p&gt;</comment>
                            <comment id="12735154" author="athusoo" created="Fri, 24 Jul 2009 20:59:45 +0000"  >&lt;p&gt;Nice.. &lt;/p&gt;

&lt;p&gt;I have one suggestion. I think better than extending describe extended it is better to fold this into show table status as Hao had suggested. The reason is more of an edge case for folks who may be running the hadoop in the cloud but have a local metastore will see errors in case their cluster is not up. Thoughts?&lt;/p&gt;</comment>
                            <comment id="12735267" author="he yongqiang" created="Sat, 25 Jul 2009 12:13:09 +0000"  >&lt;p&gt;Incorporated Zheng and Hao&apos;s suggestions. It passed tests in my local.&lt;br/&gt;
@Ashish, do you mean we may need to add a new command &quot;show table status&quot;? &lt;br/&gt;
I think we may do not have many information for a &quot;show table status&quot; command to output. Maybe we can right now fold the filesystem information in &apos;describe extended&apos;, and move them to &quot;show table status&quot; when we have a strong need for implementing &quot;show table status&quot;.  What do you think?&lt;/p&gt;</comment>
                            <comment id="12735447" author="zshao" created="Mon, 27 Jul 2009 01:43:37 +0000"  >&lt;p&gt;I think we should split it right now than later. It&apos;s not just about making it conform better to MySQL, but also makes it easier for people to use without the cluster running as Ashish mentioned.&lt;br/&gt;
Can we do that now?&lt;/p&gt;</comment>
                            <comment id="12735462" author="he yongqiang" created="Mon, 27 Jul 2009 04:39:54 +0000"  >&lt;p&gt;can you list the information for the new command? &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;makes it easier for people to use without the cluster running as Ashish mentioned&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How we can get the file system info when the cluster is not running? Store all those in meta db?&lt;/p&gt;</comment>
                            <comment id="12735483" author="namit" created="Mon, 27 Jul 2009 06:06:54 +0000"  >&lt;p&gt;I think there are issues in keeping the info (size etc.) in metastore - the same info is in 2 places&lt;br/&gt;
What happens if someone updates the underlying hadoop file - I vaguely remember having a discussion&lt;br/&gt;
with Prasad about the same&lt;/p&gt;</comment>
                            <comment id="12735853" author="he yongqiang" created="Tue, 28 Jul 2009 00:11:25 +0000"  >&lt;p&gt;Added a new command &quot;SHOW TABLE STATUS &lt;span class=&quot;error&quot;&gt;&amp;#91;IN|FROM db_name&amp;#93;&lt;/span&gt; LIKE &apos;table_pattern&apos; &quot; following Ashish comments and offline talk with Zheng.&lt;br/&gt;
The file system infor is also added for &quot;describe extended tab &lt;span class=&quot;error&quot;&gt;&amp;#91;partition part&amp;#93;&lt;/span&gt;&quot;, because the describe can output file system info of a particular partition.&lt;/p&gt;</comment>
                            <comment id="12736038" author="he yongqiang" created="Tue, 28 Jul 2009 11:44:53 +0000"  >&lt;p&gt;Upload another patch according to offline talk with Zheng, the differences:&lt;br/&gt;
1) removed the file system information from describe extended ...&lt;br/&gt;
2) add the ability to specify a partition of a table for the command &quot;show table status&quot;&lt;br/&gt;
with hive-667-2009-07-28.patch, the &apos;show table status&apos; command looks like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SHOW TABLE STATUS [ IN|FROM database_name] LIKE &apos;table-regex-pattern&apos;;
SHOW TABLE STATUS [ IN|FROM database_name] LIKE &apos;tableName&apos; PARTITION(part); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12736139" author="prasadc" created="Tue, 28 Jul 2009 17:00:28 +0000"  >&lt;p&gt;I know I am coming late to this party but this patch makes &apos;status&apos; a keyword thus braking existing queries. so we should be careful merging this. we need to give enough warning to users before doing this.&lt;/p&gt;

&lt;p&gt;Also we need to make &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-280&quot; title=&quot;reserve keywords such as type, database, view etc for future use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-280&quot;&gt;&lt;del&gt;HIVE-280&lt;/del&gt;&lt;/a&gt; a priority so that we won&apos;t have problems like this in future?&lt;/p&gt;</comment>
                            <comment id="12736172" author="namit" created="Tue, 28 Jul 2009 17:43:16 +0000"  >&lt;p&gt;good point - infact, it will break our existing tests - Internally, facebook uses some tables with column name extended.&lt;/p&gt;

&lt;p&gt;Sol, can we change it to &apos;show tables extended&apos; for now ?&lt;/p&gt;</comment>
                            <comment id="12736175" author="namit" created="Tue, 28 Jul 2009 17:46:46 +0000"  >&lt;p&gt;good point - infact, it will break our existing tests - Internally, facebook uses some tables with column name status.&lt;/p&gt;

&lt;p&gt;So, can we change it to &apos;show tables extended&apos; for now ?&lt;/p&gt;</comment>
                            <comment id="12736334" author="athusoo" created="Tue, 28 Jul 2009 22:15:28 +0000"  >&lt;p&gt;I am fine with show table extended till we find a good solution to the keyword problem.&lt;/p&gt;</comment>
                            <comment id="12736377" author="he yongqiang" created="Wed, 29 Jul 2009 00:17:46 +0000"  >&lt;p&gt;The patch added two key words: STATUS and IN.&lt;br/&gt;
Has the key word &apos;IN&apos; also been used as a column/table name? If so, i will remove it. And if not, should we reserve it from this jira?&lt;/p&gt;</comment>
                            <comment id="12736411" author="he yongqiang" created="Wed, 29 Jul 2009 01:42:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-280&quot; title=&quot;reserve keywords such as type, database, view etc for future use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-280&quot;&gt;&lt;del&gt;HIVE-280&lt;/del&gt;&lt;/a&gt; is committed and adds the key word &quot;IN&quot;. &lt;br/&gt;
So i will change the &quot;show table status&quot; command to &quot;show table extended&quot; and upload a new patch soon.&lt;/p&gt;</comment>
                            <comment id="12736416" author="prasadc" created="Wed, 29 Jul 2009 01:57:36 +0000"  >&lt;p&gt;i think you can use IN as well. that patch only says &apos;IN&apos; can&apos;t be used for string literal.&lt;/p&gt;</comment>
                            <comment id="12736419" author="he yongqiang" created="Wed, 29 Jul 2009 02:11:27 +0000"  >&lt;p&gt;hive-667-2009-07-28-2.patch changes the command &quot;show table status&quot; to &quot;show table extended&quot;.&lt;/p&gt;</comment>
                            <comment id="12736838" author="namit" created="Wed, 29 Jul 2009 21:08:25 +0000"  >&lt;p&gt;A very silly question:&lt;/p&gt;

&lt;p&gt;are you supporting both:&lt;/p&gt;

&lt;p&gt;SHOW TABLE STATUS IN database_name LIKE &apos;tableName&apos;&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;


&lt;p&gt;SHOW TABLE STATUS FROM database_name LIKE &apos;tableName&apos;&lt;/p&gt;


&lt;p&gt;What is the difference in the above commands ?&lt;/p&gt;</comment>
                            <comment id="12736948" author="he yongqiang" created="Thu, 30 Jul 2009 01:10:52 +0000"  >&lt;p&gt;They are the same, only try to compatible with mysql.&lt;/p&gt;</comment>
                            <comment id="12736953" author="zshao" created="Thu, 30 Jul 2009 01:33:20 +0000"  >&lt;p&gt;Yes, MySQL supports both &quot;FROM&quot; and &quot;IN&quot;: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/show-table-status.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/show-table-status.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;By the way, I think we have replaced &quot;STATUS&quot; with &quot;EXTENDED&quot;.&lt;/p&gt;</comment>
                            <comment id="12747084" author="zshao" created="Mon, 24 Aug 2009 21:22:35 +0000"  >&lt;p&gt;Some of the code cannot be compiled against hadoop-0.17.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [javac] /xxx/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java:738: cannot find symbol
    [javac] symbol  : method getAccessTime()
    [javac] location: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.hadoop.fs.FileStatus
    [javac]       lastAccessTime = tmpStatus.getAccessTime();
    [javac]                                 ^
    [javac] /xxx/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java:753: cannot find symbol
    [javac] symbol  : method getAccessTime()
    [javac] location: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.hadoop.fs.FileStatus
    [javac]           &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; accessTime = status.getAccessTime();
    [javac]                                   ^
    [javac] /xxx/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java:773: cannot find symbol
    [javac] symbol  : method getAccessTime()
    [javac] location: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.hadoop.fs.FileStatus
    [javac]             accessTime = currentStatus.getAccessTime();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12747377" author="he yongqiang" created="Tue, 25 Aug 2009 12:35:52 +0000"  >&lt;p&gt;hive-667-2009-08-25.patch moved getAccessTime to HadoopShims.&lt;/p&gt;</comment>
                            <comment id="12747766" author="zshao" created="Wed, 26 Aug 2009 04:26:34 +0000"  >&lt;p&gt;Some issues:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;show table extended like mytablename;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It passed compilation but does not show any tables. We should support both &quot;Identifier&quot; and &quot;string constant&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;show table extended like &lt;span class=&quot;code-quote&quot;&gt;&apos;mytablename&apos;&lt;/span&gt;;
tableName:mytablename
owner:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
location:hdfs:&lt;span class=&quot;code-comment&quot;&gt;//xxx:9000/user/yyy/mytablename
&lt;/span&gt;inputformat:org.apache.hadoop.mapred.SequenceFileInputFormat
outputformat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
columns:struct columns { list&amp;lt;string&amp;gt; col}
partitioned:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
partitionColumns:
totalNumberFiles:unknown
totalFileSize:unknown
maxFileSize:unknown
minFileSize:unknown
lastAccessTime:unknown
lastUpdateTime:unknown
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why are the sizes all &quot;unknown&quot;? I am using hadoop 0.17.&lt;/p&gt;</comment>
                            <comment id="12748341" author="he yongqiang" created="Thu, 27 Aug 2009 11:53:01 +0000"  >&lt;p&gt;sorry, there is not a 0.17 cluster around to allow me to access, and i did a littile changes in hive-667-2009-08-27.patch by gussing the problem. If it still has the problem, Zheng, could you please add one line in Line 188 to capture and display the exception?&lt;/p&gt;</comment>
                            <comment id="12752870" author="zshao" created="Wed, 9 Sep 2009 02:35:18 +0000"  >&lt;p&gt;The patch cannot be applied to trunk any more.&lt;br/&gt;
Can you regenerate the patch?&lt;/p&gt;</comment>
                            <comment id="12752956" author="he yongqiang" created="Wed, 9 Sep 2009 07:12:39 +0000"  >&lt;p&gt;regenerated the patch.&lt;/p&gt;</comment>
                            <comment id="12753873" author="zshao" created="Thu, 10 Sep 2009 22:44:18 +0000"  >&lt;p&gt;It works fine on our cluster now.&lt;/p&gt;

&lt;p&gt;2 comments:&lt;br/&gt;
1. We should output a warning instead of directly ignore the exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+ &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void writeFileSystemStats(
,,,
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
+      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot access File &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;. File &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; status will be unknown: &quot;&lt;/span&gt;, e);
+      unknown = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. We should allow table name without quote, as well as wqith quote:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SHOW TABLE EXTENDED IN &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; LIKE &lt;span class=&quot;code-quote&quot;&gt;&apos;src&apos;&lt;/span&gt;;
SHOW TABLE EXTENDED IN &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; LIKE src;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12754265" author="zshao" created="Fri, 11 Sep 2009 18:19:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-667&quot; title=&quot;Implement SHOW TABLE EXTENDED&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-667&quot;&gt;&lt;del&gt;HIVE-667&lt;/del&gt;&lt;/a&gt;-2009-9-11.patch is from Yongqiang.&lt;/p&gt;</comment>
                            <comment id="12754290" author="zshao" created="Fri, 11 Sep 2009 19:19:41 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12419325" name="HIVE-667-2009-9-11.patch" size="34214" author="zshao" created="Fri, 11 Sep 2009 18:19:00 +0000"/>
                            <attachment id="12419024" name="HIVE-667-2009-9-9.patch" size="33596" author="he yongqiang" created="Wed, 9 Sep 2009 07:12:39 +0000"/>
                            <attachment id="12414409" name="hive-667-2009-07-24.patch" size="5540" author="he yongqiang" created="Fri, 24 Jul 2009 07:15:39 +0000"/>
                            <attachment id="12414512" name="hive-667-2009-07-25-3.patch" size="86480" author="he yongqiang" created="Sat, 25 Jul 2009 12:13:09 +0000"/>
                            <attachment id="12414453" name="hive-667-2009-07-25.patch" size="7092" author="he yongqiang" created="Fri, 24 Jul 2009 15:51:38 +0000"/>
                            <attachment id="12414685" name="hive-667-2009-07-27.patch" size="109164" author="he yongqiang" created="Tue, 28 Jul 2009 00:11:25 +0000"/>
                            <attachment id="12414836" name="hive-667-2009-07-28-2.patch" size="28922" author="he yongqiang" created="Wed, 29 Jul 2009 02:11:27 +0000"/>
                            <attachment id="12414738" name="hive-667-2009-07-28.patch" size="36968" author="he yongqiang" created="Tue, 28 Jul 2009 11:44:53 +0000"/>
                            <attachment id="12417608" name="hive-667-2009-08-25.patch" size="33508" author="he yongqiang" created="Tue, 25 Aug 2009 12:35:52 +0000"/>
                            <attachment id="12417873" name="hive-667-2009-08-27.patch" size="33538" author="he yongqiang" created="Thu, 27 Aug 2009 11:53:01 +0000"/>
                            <attachment id="12414422" name="indented.txt" size="1260" author="zshao" created="Fri, 24 Jul 2009 09:07:55 +0000"/>
                            <attachment id="12414410" name="localtest-2009-07-24.txt" size="7453" author="he yongqiang" created="Fri, 24 Jul 2009 07:15:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jul 2009 00:51:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-667&quot; title=&quot;Implement SHOW TABLE EXTENDED&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-667&quot;&gt;&lt;strike&gt;HIVE-667&lt;/strike&gt;&lt;/a&gt;. Provide hive ql to check table/partition status. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-668] Add more string UDFs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-668</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add these functions:&lt;/p&gt;

&lt;p&gt;ascii&lt;br/&gt;
left&lt;br/&gt;
right&lt;br/&gt;
space&lt;br/&gt;
lpad&lt;br/&gt;
rpad&lt;br/&gt;
repeat&lt;br/&gt;
position (we already have locate)&lt;br/&gt;
substring (we already have substr)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431067">HIVE-668</key>
            <summary>Add more string UDFs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="eibrishimov">Emil Ibrishimov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 19:20:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:26 +0000</updated>
                            <resolved>Thu, 23 Jul 2009 20:52:46 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12734746" author="eibrishimov" created="Thu, 23 Jul 2009 19:32:40 +0000"  >&lt;p&gt;left() and right() cannot be parsed because &quot;LEFT&quot; and &quot;RIGHT&quot; are tokens, so I skipped these UDFs.&lt;/p&gt;

&lt;p&gt;Also added abs()&lt;/p&gt;</comment>
                            <comment id="12734778" author="namit" created="Thu, 23 Jul 2009 20:52:46 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414368" name="HIVE-668.1.patch" size="37731" author="eibrishimov" created="Thu, 23 Jul 2009 19:32:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jul 2009 20:52:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-669] SELECT TRANSFORM / MAP / REDUCE to support optional ROW FORMAT</title>
                <link>https://issues.apache.org/jira/browse/HIVE-669</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should allow TRANSFORM / MAP/ REDUCE to accept optional ROW FORMAT:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT TRANSFORM(a, b, c)
ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;\001&apos;&lt;/span&gt;
USING &lt;span class=&quot;code-quote&quot;&gt;&apos;mypython.py&apos;&lt;/span&gt;
AS (d STRING, e INT, f DOUBLE)
ROW FORMAT DELIMITED FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, we should allow optional type information in the &quot;AS&quot; clause.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431074">HIVE-669</key>
            <summary>SELECT TRANSFORM / MAP / REDUCE to support optional ROW FORMAT</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 21:30:23 +0000</created>
                <updated>Mon, 24 Aug 2009 17:54:35 +0000</updated>
                            <resolved>Wed, 29 Jul 2009 21:07:59 +0000</resolved>
                                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12422746">HIVE-411</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12431727">HIVE-708</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432612">HIVE-743</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12407836">HIVE-51</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12430390">HIVE-634</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lb47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
