<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:53 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-1-22+AND+created+%3C%3D+2013-1-28+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="27" total="27"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3925] dependencies of fetch task are not shown by explain</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3925</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A simple query like:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; explain select * from src order by key;&lt;br/&gt;
OK&lt;br/&gt;
ABSTRACT SYNTAX TREE:&lt;br/&gt;
  (TOK_QUERY (TOK_FROM (TOK_TABREF (TOK_TABNAME src))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_ORDERBY (TOK_TABSORTCOLNAMEASC (TOK_TABLE_OR_COL key)))))&lt;/p&gt;

&lt;p&gt;STAGE DEPENDENCIES:&lt;br/&gt;
  Stage-1 is a root stage&lt;br/&gt;
  Stage-0 is a root stage&lt;/p&gt;


&lt;p&gt;  Stage: Stage-0&lt;br/&gt;
    Fetch Operator&lt;br/&gt;
      limit: -1&lt;/p&gt;


&lt;p&gt;Stage-0 is not a root stage and depends on stage-1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628663">HIVE-3925</key>
            <summary>dependencies of fetch task are not shown by explain</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jan 2013 06:51:55 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:22 +0000</updated>
                            <resolved>Tue, 27 May 2014 18:24:59 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13578188" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 06:58:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; dependencies of fetch task are not shown by explain&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt; dependencies of fetch task are not shown by explain&lt;/p&gt;

&lt;p&gt;A simple query like:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; explain select * from src order by key;&lt;br/&gt;
OK&lt;br/&gt;
ABSTRACT SYNTAX TREE:&lt;br/&gt;
  (TOK_QUERY (TOK_FROM (TOK_TABREF (TOK_TABNAME src))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_ORDERBY (TOK_TABSORTCOLNAMEASC (TOK_TABLE_OR_COL key)))))&lt;/p&gt;

&lt;p&gt;STAGE DEPENDENCIES:&lt;br/&gt;
  Stage-1 is a root stage&lt;br/&gt;
  Stage-0 is a root stage&lt;/p&gt;

&lt;p&gt;  Stage: Stage-0&lt;br/&gt;
    Fetch Operator&lt;br/&gt;
      limit: -1&lt;/p&gt;

&lt;p&gt;Stage-0 is not a root stage and depends on stage-1.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/20877/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/20877/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13578194" author="navis" created="Thu, 14 Feb 2013 07:16:53 +0000"  >&lt;p&gt;&amp;gt;explain select * from src order by key;&lt;br/&gt;
&amp;lt;noformat&amp;gt;&lt;br/&gt;
STAGE DEPENDENCIES:&lt;br/&gt;
  Stage-1 &lt;span class=&quot;error&quot;&gt;&amp;#91;MAPRED&amp;#93;&lt;/span&gt; is a root stage&lt;br/&gt;
  Stage-0 [ FETCH] depends on stages: Stage-1&lt;br/&gt;
&amp;lt;noformat&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;set hive.auto.convert.join = true;&lt;br/&gt;
&amp;gt;explain &lt;br/&gt;
select sum(hash(a.k1,a.v1,a.k2, a.v2))&lt;br/&gt;
from (&lt;br/&gt;
SELECT src1.key as k1, src1.value as v1, &lt;br/&gt;
       src2.key as k2, src2.value as v2 FROM &lt;br/&gt;
  (SELECT * FROM src WHERE src.key &amp;lt; 10) src1 &lt;br/&gt;
    JOIN &lt;br/&gt;
  (SELECT * FROM src WHERE src.key &amp;lt; 10) src2&lt;br/&gt;
  SORT BY k1, v1, k2, v2&lt;br/&gt;
) a;&lt;/p&gt;

&lt;p&gt;&amp;lt;noformat&amp;gt;&lt;br/&gt;
STAGE DEPENDENCIES:&lt;br/&gt;
  Stage-7 [  CONDITION] is a root stage , consists of Stage-8, Stage-9, Stage-1&lt;br/&gt;
  Stage-8 &lt;span class=&quot;error&quot;&gt;&amp;#91;MAPREDLOCAL&amp;#93;&lt;/span&gt; has a backup stage: Stage-1&lt;br/&gt;
  Stage-5 [     MAPRED] depends on stages: Stage-8&lt;br/&gt;
  Stage-2 [     MAPRED] depends on stages: Stage-1, Stage-5, Stage-6&lt;br/&gt;
  Stage-3 [     MAPRED] depends on stages: Stage-2&lt;br/&gt;
  Stage-0 [      FETCH] depends on stages: Stage-3&lt;br/&gt;
  Stage-9 &lt;span class=&quot;error&quot;&gt;&amp;#91;MAPREDLOCAL&amp;#93;&lt;/span&gt; has a backup stage: Stage-1&lt;br/&gt;
  Stage-6 [     MAPRED] depends on stages: Stage-9&lt;br/&gt;
  Stage-1 [     MAPRED]&lt;br/&gt;
&amp;lt;noformat&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13578195" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 07:18:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; dependencies of fetch task are not shown by explain&quot;.&lt;/p&gt;

&lt;p&gt;  Minor reformatting&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577?vs=27735&amp;amp;id=27741#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577?vs=27735&amp;amp;id=27741#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13707685" author="phabricator@reviews.facebook.net" created="Sat, 13 Jul 2013 07:39:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; dependencies of fetch task are not shown by explain&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577?vs=27741&amp;amp;id=35685#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577?vs=27741&amp;amp;id=35685#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/MapReduceCompiler.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13707686" author="navis" created="Sat, 13 Jul 2013 07:39:51 +0000"  >&lt;p&gt;Source patch only. The difference of output files would be huge.&lt;/p&gt;</comment>
                            <comment id="13709446" author="phabricator@reviews.facebook.net" created="Tue, 16 Jul 2013 04:08:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; dependencies of fetch task are not shown by explain&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8577&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3925&quot; title=&quot;dependencies of fetch task are not shown by explain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3925&quot;&gt;&lt;del&gt;HIVE-3925&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;/p&gt;</comment>
                            <comment id="13709447" author="ashutoshc" created="Tue, 16 Jul 2013 04:09:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I assume this will be a jumbo patch with nearly all .q.out files getting updated. Can you test and commit the full patch? Also, if you can attach a patch which you finally committed, that will be great.&lt;/p&gt;</comment>
                            <comment id="13710695" author="navis" created="Wed, 17 Jul 2013 04:56:57 +0000"  >&lt;p&gt;Ok, I&apos;ll try that. But how about waiting for a while? I&apos;m worry that the changes by this patch will disturb other on-going test-fix patches.&lt;/p&gt;</comment>
                            <comment id="13780903" author="ashutoshc" created="Sat, 28 Sep 2013 17:28:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I think we should move forward with this. This is very useful to understand the behavior of query planner. If you refresh your source only patch, I will take care of updating .q files and committing it.&lt;/p&gt;</comment>
                            <comment id="13781636" author="navis" created="Mon, 30 Sep 2013 07:03:35 +0000"  >&lt;p&gt;Agreed. And &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4880&quot; title=&quot;Rearrange explain order of stages simpler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4880&quot;&gt;&lt;del&gt;HIVE-4880&lt;/del&gt;&lt;/a&gt; also should be included sometime. I&apos;ll really really appreciate if someone might make the huge diff file. I even don&apos;t know whether diff files for beeline should be included or not in these days. &lt;/p&gt;</comment>
                            <comment id="13781638" author="ashutoshc" created="Mon, 30 Sep 2013 07:09:48 +0000"  >&lt;p&gt;Let me take a stab at generating mega diff for this one. I ll than follow-up on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4880&quot; title=&quot;Rearrange explain order of stages simpler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4880&quot;&gt;&lt;del&gt;HIVE-4880&lt;/del&gt;&lt;/a&gt;. Sometimes later this week.&lt;/p&gt;</comment>
                            <comment id="13803658" author="navis" created="Thu, 24 Oct 2013 01:50:54 +0000"  >&lt;p&gt;With log changes&lt;/p&gt;</comment>
                            <comment id="13805101" author="hiveqa" created="Fri, 25 Oct 2013 06:58:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609976/HIVE-3925.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12609976/HIVE-3925.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4470 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binarysortable_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_exists
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notexists
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1232/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1232/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1232/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1232/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13805386" author="ashutoshc" created="Fri, 25 Oct 2013 15:41:56 +0000"  >&lt;p&gt;Changes in plan.xml files look susceptible. It seems with this change we will begin to serialize FetchTask and FetchWork in our plan and will send it to backend which is not required, since fetch task is executed from client itself. Backend doesn&apos;t need to know about FetchTask. This unnecessarily bloats the plan size. We need to figure out a way not to serialize fetch task in plans sent to backend.&lt;/p&gt;</comment>
                            <comment id="13812662" author="navis" created="Mon, 4 Nov 2013 07:46:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; I&apos;ve missed your comment. I&apos;ll check that.&lt;/p&gt;</comment>
                            <comment id="13812670" author="navis" created="Mon, 4 Nov 2013 08:01:48 +0000"  >&lt;p&gt;This already implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4880&quot; title=&quot;Rearrange explain order of stages simpler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4880&quot;&gt;&lt;del&gt;HIVE-4880&lt;/del&gt;&lt;/a&gt;. Just removing 167 line in ExplainTask (fetchTask.setRootTask(true)) will do this. Could you check that first?&lt;/p&gt;</comment>
                            <comment id="13819892" author="navis" created="Tue, 12 Nov 2013 07:38:00 +0000"  >&lt;p&gt;Forget the above mention. Updating the patch.&lt;/p&gt;</comment>
                            <comment id="13920649" author="navis" created="Wed, 5 Mar 2014 08:26:47 +0000"  >&lt;p&gt;Addressed comments. Expects many failures from newly added tests.&lt;/p&gt;</comment>
                            <comment id="14008204" author="ashutoshc" created="Sat, 24 May 2014 20:14:34 +0000"  >&lt;p&gt;seems like tests don&apos;t run on previous patch. In need of rebase.&lt;/p&gt;</comment>
                            <comment id="14008542" author="navis" created="Mon, 26 May 2014 03:21:44 +0000"  >&lt;p&gt;Rebased to trunk &amp;amp; Updated diff files&lt;/p&gt;</comment>
                            <comment id="14009005" author="ashutoshc" created="Mon, 26 May 2014 18:29:15 +0000"  >&lt;p&gt;Seems like source (java files) changes are missing in latest patch.&lt;/p&gt;</comment>
                            <comment id="14009614" author="hiveqa" created="Tue, 27 May 2014 12:12:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12646831/HIVE-3925.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12646831/HIVE-3925.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 19 failed/errored test(s), 5464 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_groupby
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_without_localtask
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_plan_json
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subq_where_serialization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in_having
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_limit_partition_stats
org.apache.hadoop.hive.common.metrics.TestMetrics.testScopeConcurrency
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimal
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalX
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalXY
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/309/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/309/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/309/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/309/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-309/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-309/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 19 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12646831&lt;/p&gt;</comment>
                            <comment id="14010054" author="ashutoshc" created="Tue, 27 May 2014 18:24:59 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="14210954" author="thejas" created="Thu, 13 Nov 2014 19:43:22 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12708071">HIVE-6901</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12609976" name="HIVE-3925.4.patch.txt" size="548134" author="navis" created="Thu, 24 Oct 2013 01:50:31 +0000"/>
                            <attachment id="12632796" name="HIVE-3925.5.patch.txt" size="537981" author="navis" created="Wed, 5 Mar 2014 08:26:47 +0000"/>
                            <attachment id="12633042" name="HIVE-3925.6.patch.txt" size="554164" author="navis" created="Thu, 6 Mar 2014 05:14:27 +0000"/>
                            <attachment id="12646831" name="HIVE-3925.7.patch.txt" size="540592" author="navis" created="Tue, 27 May 2014 02:28:18 +0000"/>
                            <attachment id="12569317" name="HIVE-3925.D8577.1.patch" size="3115" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 06:58:11 +0000"/>
                            <attachment id="12569318" name="HIVE-3925.D8577.2.patch" size="6026" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 07:18:12 +0000"/>
                            <attachment id="12592131" name="HIVE-3925.D8577.3.patch" size="2539" author="phabricator@reviews.facebook.net" created="Sat, 13 Jul 2013 07:39:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Feb 2013 06:58:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>307188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ahsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>269349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3926] PPD on virtual column of partitioned table is not working</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3926</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from src where BLOCK__OFFSET__INSIDE__FILE&amp;lt;100;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is working, but&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from srcpart where BLOCK__OFFSET__INSIDE__FILE&amp;lt;100;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;throws SemanticException. Disabling PPD makes it work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628718">HIVE-3926</key>
            <summary>PPD on virtual column of partitioned table is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jan 2013 14:32:34 +0000</created>
                <updated>Tue, 15 Oct 2013 23:31:17 +0000</updated>
                            <resolved>Thu, 8 Aug 2013 04:24:13 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13560406" author="navis" created="Wed, 23 Jan 2013 05:37:28 +0000"  >&lt;p&gt;I&apos;ve found this patch overlaps partly with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3833&quot; title=&quot;object inspectors should be initialized based on partition metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3833&quot;&gt;&lt;del&gt;HIVE-3833&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13560408" author="phabricator@reviews.facebook.net" created="Wed, 23 Jan 2013 05:38:12 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1969 PPD on virtual column of partitioned table is not working&lt;/p&gt;

&lt;p&gt;  select * from src where BLOCK_&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE&amp;lt;100;&lt;/p&gt;

&lt;p&gt;  is working, but&lt;/p&gt;

&lt;p&gt;  select * from srcpart where BLOCK_&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE&amp;lt;100;&lt;/p&gt;

&lt;p&gt;  throws SemanticException. Disabling PPD makes it work.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppd_vc.q&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_vc.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/19569/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/19569/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13578131" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 04:00:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121?vs=26067&amp;amp;id=27717#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121?vs=26067&amp;amp;id=27717#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppd_vc.q&lt;br/&gt;
  ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_vc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats11.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13578132" author="navis" created="Thu, 14 Feb 2013 04:00:33 +0000"  >&lt;p&gt;This issue also resolves single sourced multi scan with virtual columns. For example, the query&lt;br/&gt;
&amp;lt;code&amp;gt;&lt;br/&gt;
SELECT a.INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME,a.key,a.value,b.INPUT&lt;/em&gt;&lt;em&gt;FILE&lt;/em&gt;_NAME,b.key,b.value FROM myinput1 a LEFT OUTER JOIN myinput1 b RIGHT OUTER JOIN myinput1 c ON a.value = b.value and b.value = c.value AND a.key &amp;gt; 40 AND a.value &amp;gt; 50 AND a.key = a.value AND b.key &amp;gt; 40 AND b.value &amp;gt; 50 AND b.key = b.value AND c.key &amp;gt; 40 AND c.value &amp;gt; 50 AND c.key = c.value;&lt;br/&gt;
&amp;lt;code&amp;gt;&lt;/p&gt;

&lt;p&gt;is not working in trunk, throwing &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazy.LazyStruct cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to [Ljava.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;
	at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldData(UnionStructObjectInspector.java:123)
	at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldData(UnionStructObjectInspector.java:131)
	at org.apache.hadoop.hive.ql.exec.ExprNodeColumnEvaluator.evaluate(ExprNodeColumnEvaluator.java:98)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:233)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:522)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:850)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:90)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:522)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:850)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:657)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13684629" author="phabricator@reviews.facebook.net" created="Sun, 16 Jun 2013 11:57:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121?vs=27717&amp;amp;id=34797#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121?vs=27717&amp;amp;id=34797#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppd_vc.q&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13707701" author="phabricator@reviews.facebook.net" created="Sat, 13 Jul 2013 08:55:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121?vs=34797&amp;amp;id=35703#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121?vs=34797&amp;amp;id=35703#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppd_vc.q&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13717747" author="phabricator@reviews.facebook.net" created="Tue, 23 Jul 2013 23:10:48 +0000"  >&lt;p&gt;hagleitn has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Some minor comments + request for more info.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:600 tableScanOperator was actually a clearer name, wasn&apos;t it?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:108 I think this is redundant. o instanceof MapInputPath is false if o == null&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java:134 can you please add a javadoc comment here?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:18 There are a lot of changes in MapOperator. I&apos;ve scan through them and it seems most (all?) are just cleaning up the operator (which is great).&lt;/p&gt;

&lt;p&gt;  Is that correct? If not can you please point out what the important changes are?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13717828" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 00:36:47 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:600 It seemed I&apos;ve changed this to avoid exceeding 100 character of line 620. I&apos;ll revert this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:18 I should say that this patch was in patch-available state too long (I forgot what this was). But in the first look, this is much shorter than current and I like that. I&apos;ll add comment after reading this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:108 There was this long long time ago. I&apos;ll remove that.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java:134 Ok, sure.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13717868" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 01:18:46 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:18 you are right, again. Nothing special but code cleansing (I think the patch is merged with other one by mistake). I can revert this for simplicity.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13718007" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 05:41:48 +0000"  >&lt;p&gt;hagleitn has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java:18 No, don&apos;t. I just wanted to understand. I think the new code is much cleaner. Just let me look at it closer tomorrow.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13720286" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 00:27:46 +0000"  >&lt;p&gt;hagleitn has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Clean up in MapOperator looks good. If you could make the few small changes (documentation, variable name, redundant code) from the first review I think this is ready.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, hagleitn, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13720289" author="hagleitn" created="Fri, 26 Jul 2013 00:28:26 +0000"  >&lt;p&gt;Just a few small changes left. Otherwise looks great. You might also have to regenerate the ppd_vc.q.out. I got a diff when I ran it.&lt;/p&gt;</comment>
                            <comment id="13720377" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 03:55:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: hagleitn, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121?vs=35703&amp;amp;id=36273#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121?vs=35703&amp;amp;id=36273#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppd_vc.q&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, hagleitn, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13720802" author="hiveqa" created="Fri, 26 Jul 2013 13:54:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594320/HIVE-3926.D8121.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594320/HIVE-3926.D8121.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2653 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/192/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/192/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/192/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/192/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721060" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 18:51:47 +0000"  >&lt;p&gt;hagleitn has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PPD on virtual column of partitioned table is not working&quot;.&lt;/p&gt;

&lt;p&gt;  LGTM&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8121&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, hagleitn, navis&lt;br/&gt;
Cc: hagleitn&lt;/p&gt;</comment>
                            <comment id="13721171" author="hagleitn" created="Fri, 26 Jul 2013 20:23:43 +0000"  >&lt;p&gt;+1 This looks good. Planning to commit tomorrow.&lt;/p&gt;</comment>
                            <comment id="13721815" author="hagleitn" created="Sun, 28 Jul 2013 01:34:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; sorry patch doesn&apos;t apply cleanly anymore. I believe the conflict is with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4929&quot; title=&quot;the type of all numeric constants is changed to double in the plan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4929&quot;&gt;&lt;del&gt;HIVE-4929&lt;/del&gt;&lt;/a&gt;. Can you please rebase?&lt;/p&gt;</comment>
                            <comment id="13721822" author="hagleitn" created="Sun, 28 Jul 2013 02:08:39 +0000"  >&lt;p&gt;Correction - I meant &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4878&quot; title=&quot;With Dynamic partitioning, some queries would scan default partition even if query is not using it.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4878&quot;&gt;&lt;del&gt;HIVE-4878&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13721825" author="hagleitn" created="Sun, 28 Jul 2013 02:22:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I&apos;ve taken the liberty to rebase for you if you like (patch .6). The only difference was in the PartitionPruner class where &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4878&quot; title=&quot;With Dynamic partitioning, some queries would scan default partition even if query is not using it.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4878&quot;&gt;&lt;del&gt;HIVE-4878&lt;/del&gt;&lt;/a&gt; also added a new parameter. If that works for you I can commit that. Let me know.&lt;/p&gt;</comment>
                            <comment id="13721861" author="hiveqa" created="Sun, 28 Jul 2013 04:50:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594569/HIVE-3926.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594569/HIVE-3926.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2730 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/214/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/214/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/214/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/214/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13733125" author="appodictic" created="Thu, 8 Aug 2013 04:11:53 +0000"  >&lt;p&gt;+1 will commit.&lt;/p&gt;</comment>
                            <comment id="13733133" author="appodictic" created="Thu, 8 Aug 2013 04:29:56 +0000"  >&lt;p&gt;Committed thanks Navis and Gunther.&lt;/p&gt;</comment>
                            <comment id="13733144" author="hudson" created="Thu, 8 Aug 2013 04:47:28 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #341 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/341/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; PPD on virtual column of partitioned table is not working (Navis Ryu and Gunther Hagleitner via egc) (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ppd_vc.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733540" author="hudson" created="Thu, 8 Aug 2013 14:23:00 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2252 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2252/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2252/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; PPD on virtual column of partitioned table is not working (Navis Ryu and Gunther Hagleitner via egc) (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ppd_vc.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733893" author="hudson" created="Thu, 8 Aug 2013 19:44:13 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #344 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/344/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/344/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5026&quot; title=&quot;HIVE-3926 is committed in the state of not rebased to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5026&quot;&gt;&lt;del&gt;HIVE-5026&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; is committed in the state of not rebased to trunk (Navis Ryu via Gunther Hagleitner) (gunther: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13734336" author="sershe" created="Fri, 9 Aug 2013 02:25:09 +0000"  >&lt;p&gt;Hi. Does this affect only map task, or also pruning before the job in metastore client? Non-partition columns are removed from metastore pruning, so I wonder if it makes sense to have this for metastore pruning.&lt;/p&gt;</comment>
                            <comment id="13734421" author="hudson" created="Fri, 9 Aug 2013 05:47:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2255 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2255/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2255/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5026&quot; title=&quot;HIVE-3926 is committed in the state of not rebased to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5026&quot;&gt;&lt;del&gt;HIVE-5026&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; is committed in the state of not rebased to trunk (Navis Ryu via Gunther Hagleitner) (gunther: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13734482" author="hagleitn" created="Fri, 9 Aug 2013 06:56:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Could you answer Sergey&apos;s question? (Before it gets lost in Hudson noise).&lt;/p&gt;</comment>
                            <comment id="13735541" author="sershe" created="Fri, 9 Aug 2013 23:52:08 +0000"  >&lt;p&gt;ping? it affect &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4985&quot; title=&quot;refactor/clean up partition name pruning to be usable inside metastore server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4985&quot;&gt;&lt;del&gt;HIVE-4985&lt;/del&gt;&lt;/a&gt;. Would running ppd_vc be sufficient to verify removal from metastore-specific pruning path?&lt;/p&gt;</comment>
                            <comment id="13735732" author="appodictic" created="Sat, 10 Aug 2013 04:10:19 +0000"  >&lt;p&gt;I am not sure what is being asked. The virtual columns have file names and offsets into files, I am not seeing how this ties into the metastore.&lt;/p&gt;</comment>
                            <comment id="13735770" author="sershe" created="Sat, 10 Aug 2013 05:46:32 +0000"  >&lt;p&gt;Virtual columns were added to the functions that, as far as I see, are only being called with the pruner expression that have been compacted to only contain partition columns. That is used to prune based on partition names when filter pushdown is not possible in metastore.&lt;br/&gt;
I am wondering if this could be dead code because virtual columns are also not present in that expression.&lt;/p&gt;</comment>
                            <comment id="13736085" author="hudson" created="Sat, 10 Aug 2013 22:20:12 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #51 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/51/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/51/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5026&quot; title=&quot;HIVE-3926 is committed in the state of not rebased to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5026&quot;&gt;&lt;del&gt;HIVE-5026&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; is committed in the state of not rebased to trunk (Navis Ryu via Gunther Hagleitner) (gunther: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; PPD on virtual column of partitioned table is not working (Navis Ryu and Gunther Hagleitner via egc) (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ppd_vc.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13736135" author="hudson" created="Sun, 11 Aug 2013 00:00:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #122 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/122/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5026&quot; title=&quot;HIVE-3926 is committed in the state of not rebased to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5026&quot;&gt;&lt;del&gt;HIVE-5026&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; is committed in the state of not rebased to trunk (Navis Ryu via Gunther Hagleitner) (gunther: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511977&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926&quot; title=&quot;PPD on virtual column of partitioned table is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3926&quot;&gt;&lt;del&gt;HIVE-3926&lt;/del&gt;&lt;/a&gt; PPD on virtual column of partitioned table is not working (Navis Ryu and Gunther Hagleitner via egc) (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511578&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/VirtualColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ppd_vc.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_vc.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13736175" author="navis" created="Sun, 11 Aug 2013 03:45:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Compacting pruner predicate only removes nulls. It does not do removing non-partition column related expression. Without this, exception is thrown in the pruneBySequentialScan() method, like this,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: cannot find field block__offset__inside__file from [org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@12fb063, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@1e55d39, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@14b525c, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@c4c05]
	at org.apache.hadoop.hive.ql.optimizer.ppr.PartitionPruner.prune(PartitionPruner.java:231)
	at org.apache.hadoop.hive.ql.optimizer.pcr.PcrOpProcFactory$FilterPCR.process(PcrOpProcFactory.java:112)
	... 26 more
Caused by: java.lang.RuntimeException: cannot find field block__offset__inside__file from [org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@12fb063, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@1e55d39, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@14b525c, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@c4c05]
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.getStandardStructFieldRef(ObjectInspectorUtils.java:368)
	at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldRef(UnionStructObjectInspector.java:100)
	at org.apache.hadoop.hive.ql.exec.ExprNodeColumnEvaluator.initialize(ExprNodeColumnEvaluator.java:55)
	at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.initialize(ExprNodeGenericFuncEvaluator.java:121)
	at org.apache.hadoop.hive.ql.optimizer.ppr.PartExprEvalUtils.prepareExpr(PartExprEvalUtils.java:100)
	at org.apache.hadoop.hive.ql.optimizer.ppr.PartitionPruner.pruneBySequentialScan(PartitionPruner.java:330)
	at org.apache.hadoop.hive.ql.optimizer.ppr.PartitionPruner.prune(PartitionPruner.java:219)
	... 27 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13736176" author="navis" created="Sun, 11 Aug 2013 03:47:04 +0000"  >&lt;p&gt;I think there should be a path which passes costly invocation of pruneBySequentialScan(). I&apos;ll book it as a following issue.&lt;/p&gt;</comment>
                            <comment id="13737112" author="sershe" created="Mon, 12 Aug 2013 17:56:42 +0000"  >&lt;p&gt;It does filter non-partition columns in some cases, in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5047&quot; title=&quot;Hive client filters partitions incorrectly via pushdown in certain cases involving &amp;quot;or&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5047&quot;&gt;&lt;del&gt;HIVE-5047&lt;/del&gt;&lt;/a&gt; there&apos;s a related problem.&lt;/p&gt;</comment>
                            <comment id="13737113" author="sershe" created="Mon, 12 Aug 2013 17:58:06 +0000"  >&lt;p&gt;Let me double check... (I am making changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4985&quot; title=&quot;refactor/clean up partition name pruning to be usable inside metastore server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4985&quot;&gt;&lt;del&gt;HIVE-4985&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4914&quot; title=&quot;filtering via partition name should be done inside metastore server (implementation)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4914&quot;&gt;&lt;del&gt;HIVE-4914&lt;/del&gt;&lt;/a&gt;, they are not quite ready yet though)&lt;/p&gt;</comment>
                            <comment id="13742373" author="sershe" created="Fri, 16 Aug 2013 16:42:33 +0000"  >&lt;p&gt;I got around to this yesterday, the &quot;null&quot; values are actually put in the expr by PPRColumnExprProcessor in ExprProcFactory; it thus replaces non-partition columns, many functions, etc. compactExpr in Pruner then compacts the nulls.&lt;br/&gt;
The root problem is that ExprNodeColumnDesc doesn&apos;t distinguish partition and virtual columns, so partition columns also get there.&lt;br/&gt;
I will try to mitigate that in separate JIRA, however ExprNodeColumnDesc ctor w/isPartitionColOrVirtualCol arg is called in many places, so if they call cannot be easily replaced post-filtering can be done before expression gets to the pruner.&lt;/p&gt;</comment>
                            <comment id="13796144" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:17 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12474757">HIVE-1662</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12664101">HIVE-5111</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594569" name="HIVE-3926.6.patch" size="98931" author="hagleitn" created="Sun, 28 Jul 2013 02:20:14 +0000"/>
                            <attachment id="12566091" name="HIVE-3926.D8121.1.patch" size="84325" author="phabricator@reviews.facebook.net" created="Wed, 23 Jan 2013 05:38:12 +0000"/>
                            <attachment id="12569304" name="HIVE-3926.D8121.2.patch" size="90731" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 04:00:11 +0000"/>
                            <attachment id="12588017" name="HIVE-3926.D8121.3.patch" size="90643" author="phabricator@reviews.facebook.net" created="Sun, 16 Jun 2013 11:57:20 +0000"/>
                            <attachment id="12592134" name="HIVE-3926.D8121.4.patch" size="90667" author="phabricator@reviews.facebook.net" created="Sat, 13 Jul 2013 08:55:47 +0000"/>
                            <attachment id="12594320" name="HIVE-3926.D8121.5.patch" size="95240" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 03:55:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Jan 2013 05:38:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>307248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1alk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>269959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3927] Potential overflow with new RCFileCat column sizes options</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3927</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The uncompressed/compressed sizes of columns may fit into ints for a single block of an RC file, but the same does not hold when they are summed across the file.  Should update the array which aggregates this sum to be an array of longs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628786">HIVE-3927</key>
            <summary>Potential overflow with new RCFileCat column sizes options</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jan 2013 20:27:09 +0000</created>
                <updated>Thu, 16 May 2013 21:11:01 +0000</updated>
                            <resolved>Thu, 24 Jan 2013 06:14:34 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13559980" author="kevinwilfong" created="Tue, 22 Jan 2013 20:28:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8103&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8103&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13560376" author="namit" created="Wed, 23 Jan 2013 04:12:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13560466" author="hudson" created="Wed, 23 Jan 2013 08:06:02 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #37 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/37/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3927&quot; title=&quot;Potential overflow with new RCFileCat column sizes options&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3927&quot;&gt;&lt;del&gt;HIVE-3927&lt;/del&gt;&lt;/a&gt; Potential overflow with new RCFileCat column sizes options&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1437282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13560467" author="hudson" created="Wed, 23 Jan 2013 08:06:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #82 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/82/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/82/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3927&quot; title=&quot;Potential overflow with new RCFileCat column sizes options&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3927&quot;&gt;&lt;del&gt;HIVE-3927&lt;/del&gt;&lt;/a&gt; Potential overflow with new RCFileCat column sizes options&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1437282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13560908" author="hudson" created="Wed, 23 Jan 2013 18:25:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1932 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1932/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1932/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3927&quot; title=&quot;Potential overflow with new RCFileCat column sizes options&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3927&quot;&gt;&lt;del&gt;HIVE-3927&lt;/del&gt;&lt;/a&gt; Potential overflow with new RCFileCat column sizes options&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1437282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437282&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13561442" author="namit" created="Thu, 24 Jan 2013 06:14:34 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566006" name="HIVE-3927.1.patch.txt" size="1364" author="kevinwilfong" created="Tue, 22 Jan 2013 20:28:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Jan 2013 04:12:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1b1dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>272521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3928] import data to local files shoud keep the same sort  order as the SELECT statement</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3928</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Step one&#65306;&lt;br/&gt;
hive (default)&amp;gt; select * from src;&lt;br/&gt;
	35&lt;br/&gt;
48	&lt;br/&gt;
100	100&lt;br/&gt;
Step two&#65306; outpt data is sorted by src.key DESC&lt;br/&gt;
hive (default)&amp;gt; SELECT src.key, sum(substr(src.value,5))  FROM src GROUP BY src.key limit 5; &lt;br/&gt;
	0.0&lt;br/&gt;
100	0.0&lt;br/&gt;
48	0.0&lt;/p&gt;

&lt;p&gt;Step three :&lt;br/&gt;
hive (default)&amp;gt; insert overwrite local directory &apos;/tmp/a&apos; SELECT src.key, sum(substr(src.value,5))  FROM src GROUP BY src.key limit 5 ;&lt;/p&gt;

&lt;p&gt;the data in the output file is sored by src.key ASC ,but why?&lt;br/&gt;
hive (default)&amp;gt; !cat /tmp/a/000000_0;&lt;br/&gt;
48  0.0&lt;br/&gt;
100 0.0&lt;br/&gt;
    0.0&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12628851">HIVE-3928</key>
            <summary>import data to local files shoud keep the same sort  order as the SELECT statement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 05:16:13 +0000</created>
                <updated>Wed, 23 Jan 2013 05:16:13 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1b6jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>273358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3929] wiki documentation for partition filtering and outer joins doesn&apos;t match behavior</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3929</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The wiki discussion of OUTER JOINs correctly describes the behavior of WHERE clauses with regards to partition filters. Namely, that they don&apos;t work as expected, because the WHERE clause is evaluated after the join has been performed.&lt;/p&gt;

&lt;p&gt;However, the description then says that you can move these partition filters into the ON clause to achieve partition filtering. In fact, these filters have no effect. &lt;/p&gt;

&lt;p&gt;The only working solution I know of is to use nested SELECTS that apply the partition filters, then join on the results.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12628905">HIVE-3929</key>
            <summary>wiki documentation for partition filtering and outer joins doesn&apos;t match behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="deanwampler">Dean Wampler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 15:05:33 +0000</created>
                <updated>Wed, 23 Jan 2013 15:06:11 +0000</updated>
                                            <version>0.7.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1c1ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>278404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3930] Generate and publish source jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3930</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive should generate and publish source jars to Maven.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628942">HIVE-3930</key>
            <summary>Generate and publish source jars</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikhail">Mikhail Bautin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 19:29:29 +0000</created>
                <updated>Sun, 29 Sep 2013 00:20:10 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13561003" author="ashutoshc" created="Wed, 23 Jan 2013 19:38:05 +0000"  >&lt;p&gt;Dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3830&quot; title=&quot;Hive releases should include source only distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3830&quot;&gt;HIVE-3830&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13561386" author="mikhail" created="Thu, 24 Jan 2013 03:11:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3830&quot; title=&quot;Hive releases should include source only distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3830&quot;&gt;HIVE-3830&lt;/a&gt; seems to talk about generating a source-only release (a tarball, as far as I understand), while here I am talking about generating source jars that could be distributed through Maven to make it easier to develop projects that depend on Hive.&lt;/p&gt;</comment>
                            <comment id="13600443" author="nitay" created="Tue, 12 Mar 2013 20:37:24 +0000"  >&lt;p&gt;Agreed can we get some javadoc and source jars published to Maven. This really shouldn&apos;t be hard to do but is a big help for folks developing with Hive.&lt;/p&gt;</comment>
                            <comment id="13601576" author="mikhail" created="Wed, 13 Mar 2013 20:09:26 +0000"  >&lt;p&gt;There is a patch for a the AMP Lab version of Hive 0.9: &lt;a href=&quot;https://github.com/amplab/hive/pull/10/files&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/amplab/hive/pull/10/files&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13601881" author="nitay" created="Thu, 14 Mar 2013 00:24:59 +0000"  >&lt;p&gt;Oh cool. How about it hive guys, can we get &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikhail&quot; class=&quot;user-hover&quot; rel=&quot;mikhail&quot;&gt;Mikhail Bautin&lt;/a&gt;&apos;s patch in and upload some source jars to maven please?&lt;/p&gt;</comment>
                            <comment id="13781187" author="cos" created="Sun, 29 Sep 2013 00:20:10 +0000"  >&lt;p&gt;Any chance to have this fix on 0.12 (or trunk?)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Jan 2013 19:38:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1c87b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>279459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3931] Add Oracle metastore upgrade script for 0.9 to 10.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3931</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The top level Oracle metastore upgrade script for 0.9 to 0.10 is missing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628952">HIVE-3931</key>
            <summary>Add Oracle metastore upgrade script for 0.9 to 10.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 20:13:30 +0000</created>
                <updated>Thu, 16 May 2013 21:10:59 +0000</updated>
                            <resolved>Wed, 23 Jan 2013 22:18:10 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13561049" author="prasadm" created="Wed, 23 Jan 2013 20:14:52 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="13561054" author="prasadm" created="Wed, 23 Jan 2013 20:16:56 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/9072/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9072/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13561068" author="shreepadma" created="Wed, 23 Jan 2013 20:35:14 +0000"  >&lt;p&gt;Looks good. Non-committer +1.&lt;/p&gt;</comment>
                            <comment id="13561157" author="cwsteinbach" created="Wed, 23 Jan 2013 22:16:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13561163" author="cwsteinbach" created="Wed, 23 Jan 2013 22:18:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prasad!&lt;/p&gt;</comment>
                            <comment id="13561277" author="hudson" created="Thu, 24 Jan 2013 00:29:59 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #39 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/39/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3931&quot; title=&quot;Add Oracle metastore upgrade script for 0.9 to 10.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3931&quot;&gt;&lt;del&gt;HIVE-3931&lt;/del&gt;&lt;/a&gt;. Add Oracle metastore upgrade script for 0.9 to 10.0&lt;br/&gt;
 (Prasad Mujumdar via cws) (Revision 1437778)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/upgrade-0.9.0-to-0.10.0.oracle.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13561296" author="hudson" created="Thu, 24 Jan 2013 00:58:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #84 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/84/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/84/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3931&quot; title=&quot;Add Oracle metastore upgrade script for 0.9 to 10.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3931&quot;&gt;&lt;del&gt;HIVE-3931&lt;/del&gt;&lt;/a&gt;. Add Oracle metastore upgrade script for 0.9 to 10.0&lt;br/&gt;
 (Prasad Mujumdar via cws) (Revision 1437778)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/upgrade-0.9.0-to-0.10.0.oracle.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13562032" author="hudson" created="Thu, 24 Jan 2013 21:58:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1934 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1934/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1934/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3931&quot; title=&quot;Add Oracle metastore upgrade script for 0.9 to 10.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3931&quot;&gt;&lt;del&gt;HIVE-3931&lt;/del&gt;&lt;/a&gt;. Add Oracle metastore upgrade script for 0.9 to 10.0&lt;br/&gt;
 (Prasad Mujumdar via cws) (Revision 1437778)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1437778&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/upgrade-0.9.0-to-0.10.0.oracle.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566182" name="HIVE-3931-1.patch" size="541" author="prasadm" created="Wed, 23 Jan 2013 20:14:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Jan 2013 20:35:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1c8e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>279490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3932] Hive release tarballs don&apos;t contain PostgreSQL metastore scripts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3932</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;By means of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2552&quot; title=&quot;Omit incomplete Postgres upgrade scripts from release tarball&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2552&quot;&gt;&lt;del&gt;HIVE-2552&lt;/del&gt;&lt;/a&gt;, we decided to not include Hive metastore upgrade scripts for PostgreSQL in Hive release tarballs. This was done primarily because the scripts were incomplete at that time. However, since then, starting at least 0.10.0 (maybe 0.9?) PostgreSQL scripts are now being maintained and any changes to the metastore are reflected to them (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2529&quot; title=&quot;metastore 0.8 upgrade script for PostgreSQL &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2529&quot;&gt;&lt;del&gt;HIVE-2529&lt;/del&gt;&lt;/a&gt;). Consequently, there is no reason to not release PostgreSQL scripts. This JIRA plans to disable/remove/ ignore the &quot;include.postgres&quot; property in build.xml that enables the exclusion of PostgreSQL scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628961">HIVE-3932</key>
            <summary>Hive release tarballs don&apos;t contain PostgreSQL metastore scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrover">Mark Grover</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 21:09:11 +0000</created>
                <updated>Thu, 16 May 2013 21:10:36 +0000</updated>
                            <resolved>Sun, 3 Feb 2013 03:11:58 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13562280" author="mgrover" created="Fri, 25 Jan 2013 02:15:44 +0000"  >&lt;p&gt;Removes the includes.postgres property so PostGreSQL metastore scripts are included by default (like mysql, derby and oracle). This is essentially a revert of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2552&quot; title=&quot;Omit incomplete Postgres upgrade scripts from release tarball&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2552&quot;&gt;&lt;del&gt;HIVE-2552&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Testing done:&lt;br/&gt;
1. Verified PostGreSQL scripts were infact being included under &lt;tt&gt;build/dist/scripts/metastore/upgrade&lt;/tt&gt;&lt;br/&gt;
2. Verified that the &lt;tt&gt;vcs.excludes&lt;/tt&gt; property is still being honored.&lt;/p&gt;</comment>
                            <comment id="13563755" author="ashutoshc" created="Sun, 27 Jan 2013 07:57:43 +0000"  >&lt;p&gt;+1 We are actively maintaining postgres scripts, no reason not to include them in release.&lt;/p&gt;</comment>
                            <comment id="13569697" author="ashutoshc" created="Sun, 3 Feb 2013 03:11:58 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mark!&lt;/p&gt;</comment>
                            <comment id="13569706" author="hudson" created="Sun, 3 Feb 2013 05:23:13 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #65 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/65/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/65/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3932&quot; title=&quot;Hive release tarballs don&amp;#39;t contain PostgreSQL metastore scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3932&quot;&gt;&lt;del&gt;HIVE-3932&lt;/del&gt;&lt;/a&gt; : Hive release tarballs don&apos;t contain PostgreSQL metastore scripts (Mark Grover via Ashutosh Chauhan) (Revision 1441852)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13569775" author="hudson" created="Sun, 3 Feb 2013 14:00:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1953 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1953/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1953/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3932&quot; title=&quot;Hive release tarballs don&amp;#39;t contain PostgreSQL metastore scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3932&quot;&gt;&lt;del&gt;HIVE-3932&lt;/del&gt;&lt;/a&gt; : Hive release tarballs don&apos;t contain PostgreSQL metastore scripts (Mark Grover via Ashutosh Chauhan) (Revision 1441852)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13569835" author="hudson" created="Sun, 3 Feb 2013 18:05:04 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #104 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/104/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3932&quot; title=&quot;Hive release tarballs don&amp;#39;t contain PostgreSQL metastore scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3932&quot;&gt;&lt;del&gt;HIVE-3932&lt;/del&gt;&lt;/a&gt; : Hive release tarballs don&apos;t contain PostgreSQL metastore scripts (Mark Grover via Ashutosh Chauhan) (Revision 1441852)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1441852&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13569934" author="mgrover" created="Mon, 4 Feb 2013 00:11:29 +0000"  >&lt;p&gt;Thanks, Ashutosh, for committing this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566437" name="HIVE-3932.1.patch" size="1244" author="mgrover" created="Fri, 25 Jan 2013 02:15:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 27 Jan 2013 07:57:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1cg93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>280764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3933] StatsWork of QueryPlan can&apos;t be serialized correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3933</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;QueryPlan is serialized using java.beans.XMLEncoder, but StatsWork of QueryPlan doesn&apos;t not follow java bean syntax, so it can&apos;t be serialized correctly.&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.StatsTask.execute(StatsTask.java:240)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:138)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1351)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1137)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:948)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:756)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:212)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628988">HIVE-3933</key>
            <summary>StatsWork of QueryPlan can&apos;t be serialized correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hitliuyi">Yi Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2013 02:06:50 +0000</created>
                <updated>Wed, 30 Jan 2013 01:19:40 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13561361" author="hitliuyi" created="Thu, 24 Jan 2013 02:11:51 +0000"  >&lt;p&gt;The patch has been attached.&lt;/p&gt;</comment>
                            <comment id="13561380" author="hitliuyi" created="Thu, 24 Jan 2013 03:01:36 +0000"  >&lt;p&gt;Patch has been attached, please help to review.&lt;/p&gt;</comment>
                            <comment id="13562486" author="namit" created="Fri, 25 Jan 2013 07:13:00 +0000"  >&lt;p&gt;The code changes look good.&lt;br/&gt;
Can you create a phabricator entry ?&lt;/p&gt;

&lt;p&gt;1. There is no apache header for the test file.&lt;br/&gt;
2. There are a couple of warnings in the test file.&lt;/p&gt;</comment>
                            <comment id="13562528" author="hitliuyi" created="Fri, 25 Jan 2013 07:56:39 +0000"  >&lt;p&gt;Thank you for reviewing the patch, and I have updated the patch. I will create a phabricator entry for this patch.&lt;/p&gt;</comment>
                            <comment id="13562667" author="namit" created="Fri, 25 Jan 2013 13:30:42 +0000"  >&lt;p&gt;Please mark &apos;submit patch&apos; after creating the phabricator entry&lt;/p&gt;</comment>
                            <comment id="13563976" author="hitliuyi" created="Mon, 28 Jan 2013 01:30:27 +0000"  >&lt;p&gt;I have create a phabricator entry: &lt;a href=&quot;https://reviews.facebook.net/D8217&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8217&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13565309" author="namit" created="Tue, 29 Jan 2013 12:17:59 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13566040" author="hitliuyi" created="Wed, 30 Jan 2013 01:19:40 +0000"  >&lt;p&gt;Update the test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567086" name="HIVE-3933.patch" size="5538" author="hitliuyi" created="Wed, 30 Jan 2013 01:19:40 +0000"/>
                            <attachment id="12566479" name="HIVE-3933.patch" size="5540" author="hitliuyi" created="Fri, 25 Jan 2013 07:54:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 07:13:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1cqpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>282458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3934] Put tag in value for join with map reduce</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3934</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While trying to facilitate hash-based map reduce, I found that for join with map reduce in hive, the tag is appended to the key writable. This is quite a hinder for facilitating other runtime map reduce implementation of map reduce computation model such as hash-based map reduce. For example, whent the tag was in the key, there are some special things must be cared, such as,&lt;/p&gt;

&lt;p&gt;1. HiveKey must handles specially for the hash code for properly partition the keys between the reduce.&lt;br/&gt;
2. The key in map reduce&apos;s view is actually key + tag and which makes map reduce sort a compulsory to satisfy the need of hive to group the key in reduce side. This disables or hinders hash-based map reduce because group by key + tag will make no sense to hive. &lt;br/&gt;
3. ExecReducer must check the real key boundary by stripping out the tag for startGroup and endGroup calls to the operator. While without the tag, each reduce call is a natural key boundary.&lt;/p&gt;

&lt;p&gt;Considering append the tag as the last byte to the value writable which can avoid all the above things and fit naturually to map reduce computation model.&lt;/p&gt;

&lt;p&gt;I see the code in JoinOperator which will generate join results ealier which assumes on the fact that the tag is sorted. This only useful when there are many many rows with the same key in both join tables which is not a compulsory for most cases.&lt;/p&gt;

&lt;p&gt;Let&apos;s disucss the possibiblity of &quot;tag in value&quot; approach.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628995">HIVE-3934</key>
            <summary>Put tag in value for join with map reduce</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerrychenhf">Haifeng Chen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2013 02:46:54 +0000</created>
                <updated>Thu, 24 Jan 2013 02:46:54 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1cqr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>282465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3935] New line character in output when sequence file is used for storage and table is empty</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3935</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a &quot;select distinct&quot; command is issued on empty table which uses sequence file for storage, a new extra line (0x0a) is present in the result set even when table has no data. This output is not consistent with result of same command Hive 0.7.1 and can cause workflows to fail due to wrong record count.&lt;/p&gt;

&lt;p&gt;Execution on Hive 0.9 and 0.10&lt;br/&gt;
hive&amp;gt; create table hoge2(col1 string,col2 string) partitioned by (p_part&lt;br/&gt;
string) stored as sequencefile;&lt;br/&gt;
hive&amp;gt; describe hoge2;&lt;br/&gt;
OK&lt;br/&gt;
col1    string&lt;br/&gt;
col2    string&lt;br/&gt;
p_part  string&lt;br/&gt;
Time taken: 0.24 seconds&lt;br/&gt;
hive&amp;gt; select distinct p_part from hoge2;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks not specified. Estimated from input data size: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Starting Job = job_201301230112_0001, Tracking URL =&lt;br/&gt;
&lt;a href=&quot;http://testcluster2-1:50030/jobdetails.jsp?jobid=job_201301230112_0001&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://testcluster2-1:50030/jobdetails.jsp?jobid=job_201301230112_0001&lt;/a&gt;&lt;br/&gt;
Kill Command = /opt/mapr/hadoop/hadoop-0.20.2/bin/../bin/hadoop job &lt;br/&gt;
-Dmapred.job.tracker=maprfs:/// -kill job_201301230112_0001&lt;br/&gt;
Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1&lt;br/&gt;
2013-01-23 02:50:16,843 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2013-01-23 02:50:26,897 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:27,905 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:28,911 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:29,919 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:30,925 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:31,933 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:32,939 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 1.13&lt;br/&gt;
sec&lt;br/&gt;
2013-01-23 02:50:33,945 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 1.8&lt;br/&gt;
sec&lt;br/&gt;
MapReduce Total cumulative CPU time: 1 seconds 800 msec&lt;br/&gt;
Ended Job = job_201301230112_0001&lt;br/&gt;
MapReduce Jobs Launched:&lt;br/&gt;
Job 0: Map: 1  Reduce: 1   Cumulative CPU: 1.8 sec   MAPRFS Read: 327 MAPRFS&lt;br/&gt;
Write: 71 SUCCESS&lt;br/&gt;
Total MapReduce CPU Time Spent: 1 seconds 800 msec&lt;br/&gt;
OK&lt;/p&gt;

&lt;p&gt;Time taken: 21.94 seconds&lt;/p&gt;

&lt;p&gt;Result on Hive 0.7.1&lt;br/&gt;
hive&amp;gt; select count(distinct p_part) from hoge3;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks determined at compile time: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Starting Job = job_201210261659_0019, Tracking URL =&lt;br/&gt;
&lt;a href=&quot;http://testcluster1-1:50030/jobdetails.jsp?jobid=job_201210261659_0019&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://testcluster1-1:50030/jobdetails.jsp?jobid=job_201210261659_0019&lt;/a&gt;&lt;br/&gt;
Kill Command = /opt/mapr/hadoop/hadoop-0.20.2/bin/../bin/hadoop job &lt;br/&gt;
-Dmapred.job.tracker=maprfs:/// -kill job_201210261659_0019&lt;br/&gt;
2013-01-23 21:42:01,787 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2013-01-23 21:42:07,815 Stage-1 map = 100%,  reduce = 0%&lt;br/&gt;
2013-01-23 21:42:12,835 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_201210261659_0019&lt;br/&gt;
OK&lt;br/&gt;
0&lt;br/&gt;
Time taken: 16.637 seconds&lt;/p&gt;

&lt;p&gt;Underlying Hadoop version for Hive 0.9 is Hadoop 1.0.3 and for Hive 0.7 it is 0.20.203&lt;/p&gt;</description>
                <environment>&lt;p&gt;Centos 6.3&lt;/p&gt;</environment>
        <key id="12629022">HIVE-3935</key>
            <summary>New line character in output when sequence file is used for storage and table is empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="doodlegum">Abhinav Chawade</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2013 08:09:09 +0000</created>
                <updated>Fri, 1 Feb 2013 00:43:35 +0000</updated>
                                            <version>0.9.0</version>
                    <version>0.10.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13568289" author="adityakishore" created="Fri, 1 Feb 2013 00:31:15 +0000"  >&lt;p&gt;The reason for the difference in behavior between 0.7 and 0.9 is different default InputFormat used.&lt;/p&gt;

&lt;p&gt;Having said that, the root cause is that the query planner detects this scan query on virtual column as meta only scan and converts the scan operation on the partition to meta only scan and sets &lt;tt&gt;OneNullRowInputFormat&lt;/tt&gt; as the partition&apos;s InputFormat, which &lt;b&gt;always&lt;/b&gt; emits exactly one row irrespective of whether a partition exists or not.&lt;/p&gt;

&lt;p&gt;And this one row (null) is sent to mapper as input which forward this to reducer and eventually to query result.&lt;/p&gt;

&lt;p&gt;A temporary fix for this problem is to disable MetadataOnlyOptimizer in hive-site.xml.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hive.optimize.metadataonly&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Though this has some performance penalty in certain cases, it is better than reverting to HiveInputFormat.&lt;/p&gt;</comment>
                            <comment id="13568303" author="adityakishore" created="Fri, 1 Feb 2013 00:43:35 +0000"  >&lt;p&gt;Attaching a proposed patch where, if the partition descriptor is empty, use the table&apos;s InputFormat Class as the InputFormat Class for the split.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567468" name="HIVE-3935-0.9.patch" size="1121" author="adityakishore" created="Fri, 1 Feb 2013 00:43:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Feb 2013 00:31:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1cqx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>282492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3936] Remote debug failed with hadoop 0.23X, hadoop 2.X</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3936</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In $HIVE_HOME/bin/hive and $HADOOP_HOME/bin/hadoop, $HADOOP_CLIENT_OPTS is  appended to $HADOOP_OPTS, which leads to the problem.&lt;/p&gt;

&lt;p&gt;hive --debug&lt;/p&gt;

&lt;p&gt;ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.&lt;br/&gt;
Error occurred during initialization of VM&lt;br/&gt;
agent library failed to init: jdwp&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629067">HIVE-3936</key>
            <summary>Remote debug failed with hadoop 0.23X, hadoop 2.X</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="xie long">Xie Long</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2013 13:32:26 +0000</created>
                <updated>Mon, 6 Jan 2014 14:17:49 +0000</updated>
                            <resolved>Mon, 6 Jan 2014 14:17:49 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13621550" author="sjlee0" created="Thu, 4 Apr 2013 00:05:22 +0000"  >&lt;p&gt;Shouldn&apos;t there also be a JIRA issue opened against Hadoop?&lt;/p&gt;</comment>
                            <comment id="13742770" author="mantonov" created="Sat, 17 Aug 2013 00:55:47 +0000"  >&lt;p&gt;&lt;a href=&quot;http://ben-tech.blogspot.com/2012/11/cdh410-hive-debug-option-bug.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ben-tech.blogspot.com/2012/11/cdh410-hive-debug-option-bug.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the issue may be temporarily fixed on target machine by commenting out that line in the /usr/lib/hive/bin/hive. So looking at &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9455&quot; title=&quot;HADOOP_CLIENT_OPTS appended twice causes JVM failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9455&quot;&gt;&lt;del&gt;HADOOP-9455&lt;/del&gt;&lt;/a&gt;, will this issue be fixed automatically by the fix in the Hadoop, or that requires a fix at Hive side?&lt;/p&gt;</comment>
                            <comment id="13862750" author="thejas" created="Mon, 6 Jan 2014 04:00:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13862754" author="hiveqa" created="Mon, 6 Jan 2014 04:32:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621546/HIVE-3936.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621546/HIVE-3936.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4875 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/808/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/808/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/808/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/808/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621546&lt;/p&gt;</comment>
                            <comment id="13863004" author="brocknoland" created="Mon, 6 Jan 2014 14:17:49 +0000"  >&lt;p&gt;Thank you Swarnim for the contribution! I have committed this to trunk. Thank you Thejas for the review and Xie for the report!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12683961">HIVE-6003</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12640793">HADOOP-9455</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12621546" name="HIVE-3936.1.patch" size="319" author="swarnim" created="Mon, 6 Jan 2014 01:29:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Apr 2013 00:05:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1d2dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>284350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3937] Hive Profiler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3937</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Adding a Hive Profiler implementation which tracks inclusive wall times and call counts of the operators&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629180">HIVE-3937</key>
            <summary>Hive Profiler</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pamelavagata">Pamela Vagata</assignee>
                                    <reporter username="pamelavagata">Pamela Vagata</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2013 23:06:04 +0000</created>
                <updated>Fri, 27 Nov 2015 09:00:02 +0000</updated>
                            <resolved>Mon, 4 Feb 2013 09:59:09 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13562139" author="pamelavagata" created="Thu, 24 Jan 2013 23:43:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8157&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13563533" author="namit" created="Sat, 26 Jan 2013 16:02:28 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13567464" author="namit" created="Thu, 31 Jan 2013 08:39:16 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13569305" author="pamelavagata" created="Sat, 2 Feb 2013 00:30:21 +0000"  >&lt;p&gt;updating with working patch&lt;/p&gt;</comment>
                            <comment id="13569306" author="pamelavagata" created="Sat, 2 Feb 2013 00:30:58 +0000"  >&lt;p&gt;Working unit test&lt;/p&gt;</comment>
                            <comment id="13569311" author="pamelavagata" created="Sat, 2 Feb 2013 00:34:30 +0000"  >&lt;p&gt;Addressed comment in phabricator and added unit test. see diff &lt;a href=&quot;https://reviews.facebook.net/D8157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8157&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13569824" author="namit" created="Sun, 3 Feb 2013 17:40:15 +0000"  >&lt;p&gt;minor comments&lt;/p&gt;</comment>
                            <comment id="13569927" author="pamelavagata" created="Sun, 3 Feb 2013 23:28:26 +0000"  >&lt;p&gt;updated patch and diff per comments namit (&lt;a href=&quot;https://reviews.facebook.net/D8157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8157&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13569969" author="namit" created="Mon, 4 Feb 2013 03:46:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13569970" author="namit" created="Mon, 4 Feb 2013 03:49:01 +0000"  >&lt;p&gt;Why have&apos;t you added all the new conf. parameters in hive-default.xml.template ?&lt;/p&gt;</comment>
                            <comment id="13569973" author="pamelavagata" created="Mon, 4 Feb 2013 04:06:41 +0000"  >&lt;p&gt;Forgot about the other 3 - updating patch now&lt;/p&gt;</comment>
                            <comment id="13569975" author="pamelavagata" created="Mon, 4 Feb 2013 04:08:48 +0000"  >&lt;p&gt;patch and diff updated &lt;a href=&quot;https://reviews.facebook.net/D8157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8157&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13569995" author="namit" created="Mon, 4 Feb 2013 05:18:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13570094" author="namit" created="Mon, 4 Feb 2013 09:59:09 +0000"  >&lt;p&gt;Committed. Thanks Pamela&lt;/p&gt;</comment>
                            <comment id="13570126" author="hudson" created="Mon, 4 Feb 2013 12:10:01 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #67 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/67/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/67/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3937&quot; title=&quot;Hive Profiler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3937&quot;&gt;&lt;del&gt;HIVE-3937&lt;/del&gt;&lt;/a&gt; Hive Profiler&lt;br/&gt;
(Pamela Vagata via namit) (Revision 1442062)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisherInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfiler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerAggregateStat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerConnectionInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStats.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStatsAggregator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/HiveProfilerResultsHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/hiveprofiler0.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/hiveprofiler0.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570402" author="hudson" created="Mon, 4 Feb 2013 17:15:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #106 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/106/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/106/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3937&quot; title=&quot;Hive Profiler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3937&quot;&gt;&lt;del&gt;HIVE-3937&lt;/del&gt;&lt;/a&gt; Hive Profiler&lt;br/&gt;
(Pamela Vagata via namit) (Revision 1442062)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisherInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfiler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerAggregateStat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerConnectionInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStats.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStatsAggregator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/HiveProfilerResultsHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/hiveprofiler0.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/hiveprofiler0.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570778" author="hudson" created="Tue, 5 Feb 2013 00:08:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1955 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1955/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1955/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3937&quot; title=&quot;Hive Profiler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3937&quot;&gt;&lt;del&gt;HIVE-3937&lt;/del&gt;&lt;/a&gt; Hive Profiler&lt;br/&gt;
(Pamela Vagata via namit) (Revision 1442062)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1442062&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilePublisherInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfiler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerAggregateStat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerConnectionInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStats.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerStatsAggregator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/profiler/HiveProfilerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/HiveProfilerResultsHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/hiveprofiler0.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/hiveprofiler0.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15029635" author="vishesh" created="Fri, 27 Nov 2015 09:00:02 +0000"  >&lt;p&gt;I&apos;m working in Hive 1.2.1 where I do not see the profiler code base mentioned in this issue. Is it still present in Hive?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12632715">HIVE-4029</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12636485">HIVE-4151</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12566462" name="HIVE-3937.1.patch.txt" size="26039" author="pamelavagata" created="Fri, 25 Jan 2013 05:45:26 +0000"/>
                            <attachment id="12567536" name="HIVE-3937.patch.2.txt" size="35901" author="pamelavagata" created="Fri, 1 Feb 2013 06:51:42 +0000"/>
                            <attachment id="12567759" name="HIVE-3937.patch.3.txt" size="32633" author="pamelavagata" created="Sun, 3 Feb 2013 08:07:09 +0000"/>
                            <attachment id="12567788" name="HIVE-3937.patch.4.txt" size="34448" author="pamelavagata" created="Sun, 3 Feb 2013 22:26:55 +0000"/>
                            <attachment id="12567797" name="HIVE-3937.patch.5.txt" size="35218" author="pamelavagata" created="Mon, 4 Feb 2013 04:07:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 Jan 2013 16:02:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dyhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3938] Hive MetaStore should send a single AddPartitionEvent for atomically added partition-set.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3938</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveMetaStore::add_partitions() currently adds all partitions specified in one call using a single meta-store transaction. This acts correctly. However, there&apos;s one AddPartitionEvent created per partition specified.&lt;/p&gt;

&lt;p&gt;Ideally, the set of partitions added atomically can be communicated using a single AddPartitionEvent, such that they are consumed together.&lt;/p&gt;

&lt;p&gt;I&apos;ll post a patch that does this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629189">HIVE-3938</key>
            <summary>Hive MetaStore should send a single AddPartitionEvent for atomically added partition-set.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 00:08:41 +0000</created>
                <updated>Mon, 3 Mar 2014 15:50:51 +0000</updated>
                            <resolved>Mon, 3 Mar 2014 15:50:51 +0000</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13562175" author="mithun" created="Fri, 25 Jan 2013 00:10:40 +0000"  >&lt;p&gt;This patch refactors add_partition_core_notxn() such that a single event is sent for an atomic partition-set.&lt;/p&gt;</comment>
                            <comment id="13562180" author="mithun" created="Fri, 25 Jan 2013 00:14:36 +0000"  >&lt;p&gt;The review is here: &lt;a href=&quot;https://reviews.apache.org/r/9105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9105/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13563201" author="mithun" created="Sat, 26 Jan 2013 00:20:47 +0000"  >&lt;p&gt;Corrected silly error. (Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;.)&lt;/p&gt;</comment>
                            <comment id="13577819" author="mithun" created="Wed, 13 Feb 2013 18:48:39 +0000"  >&lt;p&gt;Fixed error handling in add_partitions_core() and add_partition_core_notxn_no_events().&lt;/p&gt;

&lt;p&gt;Now, failure of add_partition_core_notxn_no_events() is always reported via exception. (The confusion stemmed from MetaStore.addPartition()&apos;s ambiguous failure semantics.)&lt;/p&gt;</comment>
                            <comment id="13577865" author="dilipjoseph" created="Wed, 13 Feb 2013 19:44:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt; tries to fix the status associated with AddPartitionEvent.  The patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3938&quot; title=&quot;Hive MetaStore should send a single AddPartitionEvent for atomically added partition-set.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3938&quot;&gt;&lt;del&gt;HIVE-3938&lt;/del&gt;&lt;/a&gt; does not include the correct status.  Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3938&quot; title=&quot;Hive MetaStore should send a single AddPartitionEvent for atomically added partition-set.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3938&quot;&gt;&lt;del&gt;HIVE-3938&lt;/del&gt;&lt;/a&gt; touches the same code as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt;, does it make sense to merge in the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13582055" author="namit" created="Wed, 20 Feb 2013 09:46:19 +0000"  >&lt;p&gt;Can you refresh once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt; is in ?&lt;/p&gt;</comment>
                            <comment id="13604863" author="mithun" created="Mon, 18 Mar 2013 04:30:27 +0000"  >&lt;p&gt;Rebased patch.&lt;/p&gt;</comment>
                            <comment id="13604866" author="mithun" created="Mon, 18 Mar 2013 04:33:34 +0000"  >&lt;p&gt;Hey, Namit. Sorry for the delay. (I&apos;ve been away on leave.)&lt;/p&gt;

&lt;p&gt;I&apos;ve rebased the atomic AddPartitionEvent patch for trunk. I&apos;ve kept the spirit of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt; in mind for the fix. Tests run.&lt;/p&gt;

&lt;p&gt;I&apos;d like for this to make it to branch-0.10/, as soon as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt; is available on that branch.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13605924" author="mithun" created="Tue, 19 Mar 2013 01:32:27 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dilipjoseph&quot; class=&quot;user-hover&quot; rel=&quot;dilipjoseph&quot;&gt;Dilip Joseph&lt;/a&gt;, could I bother one of you to review this fix?&lt;/p&gt;

&lt;p&gt;We&apos;d like to get this into branch-10 (apart from trunk). (That implies getting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4004&quot; title=&quot;Incorrect status for AddPartition metastore event if RawStore commit fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4004&quot;&gt;&lt;del&gt;HIVE-4004&lt;/del&gt;&lt;/a&gt; into branch-10 as well.) We&apos;d appreciate the help.&lt;/p&gt;

&lt;p&gt;Mithun&lt;/p&gt;</comment>
                            <comment id="13606112" author="dilipjoseph" created="Tue, 19 Mar 2013 06:22:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; I can review it.  Could you please upload another review and send the URL.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13606577" author="mithun" created="Tue, 19 Mar 2013 17:42:37 +0000"  >&lt;p&gt;Thanks for stepping up, Dilip. Here&apos;s the review link: &lt;a href=&quot;https://reviews.facebook.net/D9519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9519&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13607162" author="sushanth" created="Wed, 20 Mar 2013 01:34:16 +0000"  >&lt;p&gt;Looks good to me. +1 (non-binding)&lt;/p&gt;

&lt;p&gt;One thing I will note, however, for the sake of completeness, in that this is a behaviour change, is that this implementation of taking the common table out of the partitions means that add_partitions will only work if all the partitions in parts are in the same table. The earlier implementation allowed a mixed group of partitions. I think this is better though, and atomically adding arbitrary groups of partitions atomically if they&apos;re not related is a recipe for other usage problems.&lt;/p&gt;</comment>
                            <comment id="13615884" author="mithun" created="Wed, 27 Mar 2013 23:27:58 +0000"  >&lt;p&gt;Thanks for the review, Sush. :]&lt;/p&gt;

&lt;p&gt;Dilip, Namit, et al, would you guys please comment? It&apos;d be great if a committer could review, too.&lt;/p&gt;</comment>
                            <comment id="13615891" author="mithun" created="Wed, 27 Mar 2013 23:39:42 +0000"  >&lt;p&gt;Yikes! I missed the notification from the review. Thanks for reviewing. Please ignore previous comment.&lt;/p&gt;</comment>
                            <comment id="13634349" author="mithun" created="Wed, 17 Apr 2013 19:44:47 +0000"  >&lt;p&gt;Sorry for the delay. I&apos;ve only just gotten back to fixing this. I&apos;ve incorporated your suggestions. I&apos;m trying to get the tests going. Will update shortly.&lt;/p&gt;</comment>
                            <comment id="13634523" author="mithun" created="Wed, 17 Apr 2013 22:25:07 +0000"  >&lt;p&gt;Ok, Dilip&apos;s comment about support for multi-table inserts poses a dilemma. &lt;/p&gt;

&lt;p&gt;Thus far, HiveMetaStore::add_partitions_core() seems to have assumed (at least in part) that all the parts belong to the same table (evidenced by the logInfo() line). If one might call add_partitions() with parts in different tables, should they all be considered to be part of a single atomic set? Or ought I to categorize them (per table) and send separate Events out?&lt;/p&gt;

&lt;p&gt;I&apos;m inclined to do the former (because you retain the ability to break the partition-sets up downstream), but I&apos;m open to suggestions. &lt;/p&gt;

&lt;p&gt;(+ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, who wrote the initial version of this.)&lt;/p&gt;</comment>
                            <comment id="13649482" author="mithun" created="Mon, 6 May 2013 02:03:45 +0000"  >&lt;p&gt;Modified AddPartitionEvent to support multi-table-insert. Partitions added to multiple-tables atomically are now specified in the same event.&lt;/p&gt;

&lt;p&gt;I&apos;ve also combined the changes to HCatalog-609 herewith (since we&apos;re in the same code-base). HCatalog&apos;s NotificationListener continues to notify only per-table events. So each AddPartitionEvent has potential to launch multiple JMS Notifications, with multi-table inserts.&lt;/p&gt;</comment>
                            <comment id="13833104" author="ashutoshc" created="Tue, 26 Nov 2013 21:38:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Would you like to rebase this patch on trunk and take care of remaining of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; review comments on phabricator ?&lt;/p&gt;</comment>
                            <comment id="13843561" author="mithun" created="Mon, 9 Dec 2013 21:14:56 +0000"  >&lt;p&gt;Sorry for the delay on this, Ashutosh. I should be able to rebase this patch next week.&lt;/p&gt;</comment>
                            <comment id="13911400" author="mithun" created="Tue, 25 Feb 2014 08:57:33 +0000"  >&lt;p&gt;I&apos;ve rebased this patch for the latest trunk (0.13-ish).&lt;/p&gt;

&lt;p&gt;I&apos;ve had to remove the support for multi-table add-partitions, because the metastore now seems to check that all partitions in add_partitions_core() actually belong to the same table.&lt;/p&gt;

&lt;p&gt;I&apos;ve modified the TestNotificationListener accordingly.&lt;/p&gt;</comment>
                            <comment id="13915999" author="ashutoshc" created="Fri, 28 Feb 2014 16:59:37 +0000"  >&lt;p&gt;+1&lt;br/&gt;
 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Can you re-upload the patch with name &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3938&quot; title=&quot;Hive MetaStore should send a single AddPartitionEvent for atomically added partition-set.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3938&quot;&gt;&lt;del&gt;HIVE-3938&lt;/del&gt;&lt;/a&gt;.patch That way Hive QA will pick it up to run test suite.&lt;/p&gt;

&lt;p&gt;One thing which is disturbing in current code base is (which existed even before this patch) is we are running these pre and post hooks within transaction. General wisdom is to never make calls to foreign system (like MsgBus in our case) from within database transaction. We should try to improve this, though thats probably a topic for another jira.&lt;/p&gt;</comment>
                            <comment id="13917502" author="mithun" created="Sun, 2 Mar 2014 18:00:09 +0000"  >&lt;p&gt;Cancelling patch. Will rename and upload again.&lt;/p&gt;</comment>
                            <comment id="13917504" author="mithun" created="Sun, 2 Mar 2014 18:04:48 +0000"  >&lt;p&gt;Renamed for running regressions.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, you&apos;re right, we should discuss moving this kind of thing out of the transaction, now that you mention it. A failure to notify doesn&apos;t imply that the partition couldn&apos;t be added. Client code needs to handle the case that notifications weren&apos;t delivered, anyway.&lt;/p&gt;</comment>
                            <comment id="13917525" author="hiveqa" created="Sun, 2 Mar 2014 18:59:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632064/HIVE-3938.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632064/HIVE-3938.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1593/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1593/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1593/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1593/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 7 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-it-unit ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-it-unit ---
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-it-unit ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-it-unit ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 42 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-util ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-util ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-util ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-util ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/hive-it-util-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-util ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/hive-it-util-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/0.13.0-SNAPSHOT/hive-it-util-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/util/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/0.13.0-SNAPSHOT/hive-it-util-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Unit Tests 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-metastore-scripts) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/scripts/metastore
     [copy] Copying 140 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/scripts/metastore
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-unit ---
[INFO] Compiling 54 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: Some input files use unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java:[227,41] cannot find symbol
symbol  : method getTableToPartitionsMap()
location: class org.apache.hadoop.hive.metastore.events.AddPartitionEvent
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java:[228,47] cannot find symbol
symbol  : method getTableToPartitionsMap()
location: class org.apache.hadoop.hive.metastore.events.AddPartitionEvent
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [3.749s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [8.994s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [5.240s]
[INFO] Hive Integration - Testing Utilities .............. SUCCESS [4.833s]
[INFO] Hive Integration - Unit Tests ..................... FAILURE [6.860s]
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 31.333s
[INFO] Finished at: Sun Mar 02 13:59:34 EST 2014
[INFO] Final Memory: 31M/83M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java:[227,41] cannot find symbol
[ERROR] symbol  : method getTableToPartitionsMap()
[ERROR] location: class org.apache.hadoop.hive.metastore.events.AddPartitionEvent
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java:[228,47] cannot find symbol
[ERROR] symbol  : method getTableToPartitionsMap()
[ERROR] location: class org.apache.hadoop.hive.metastore.events.AddPartitionEvent
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-unit
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632064&lt;/p&gt;</comment>
                            <comment id="13917646" author="mithun" created="Mon, 3 Mar 2014 00:28:00 +0000"  >&lt;p&gt;Pulling the patch. Something&apos;s up with the test code.&lt;/p&gt;</comment>
                            <comment id="13917841" author="hiveqa" created="Mon, 3 Mar 2014 08:41:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632169/HIVE-3938.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632169/HIVE-3938.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5208 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_minimr_broken_pipe
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1598/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1598/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1598/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1598/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632169&lt;/p&gt;</comment>
                            <comment id="13918140" author="mithun" created="Mon, 3 Mar 2014 15:15:19 +0000"  >&lt;p&gt;With the updated patch, TestNegativeMinimrCliDriver has a failure.&lt;/p&gt;

&lt;p&gt;This looks unrelated, but would someone please confirm?&lt;/p&gt;</comment>
                            <comment id="13918182" author="ashutoshc" created="Mon, 3 Mar 2014 15:50:51 +0000"  >&lt;p&gt;Ya, that test case is flaky. Committed to trunk. Thanks, Mithun!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12629193">HCATALOG-609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12631514">HIVE-4004</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12631514">HIVE-4004</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12632169" name="HIVE-3938.patch" size="28544" author="mithun" created="Mon, 3 Mar 2014 00:34:19 +0000"/>
                            <attachment id="12581842" name="Hive-3938-Support_for_Multi-table-insert.patch" size="22197" author="mithun" created="Mon, 6 May 2013 02:03:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Feb 2013 19:44:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dyjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3939] INSERT INTO behaves like INSERT OVERWRITE if the table name referred is not all lowercase</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3939</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If table referred does not use all lowercase in INSERT INTO command, the data is not appended but overwritten.&lt;/p&gt;

&lt;p&gt;set hive.exec.dynamic.partition.mode=nonstrict;&lt;br/&gt;
set hive.exec.dynamic.partition=true;&lt;/p&gt;

&lt;p&gt;CREATE TABLE test (key int, value string) PARTITIONED BY (ds string);&lt;/p&gt;

&lt;p&gt;SELECT * FROM test;&lt;br/&gt;
INSERT INTO TABLE test  PARTITION (ds) SELECT key, value, value FROM src;&lt;br/&gt;
SELECT * FROM test;&lt;/p&gt;

&lt;p&gt;The following statement works as expected. The data from src is appended to test&lt;/p&gt;

&lt;p&gt;SELECT * FROM test;&lt;br/&gt;
INSERT INTO TABLE test  PARTITION (ds) SELECT key, value, value FROM src;&lt;br/&gt;
SELECT * FROM test;&lt;/p&gt;


&lt;p&gt;The following is copied from the processing log&lt;br/&gt;
Loading data to table default.test partition (ds=null)&lt;br/&gt;
        Loading partition &lt;/p&gt;
{ds=1}&lt;br/&gt;
        Loading partition {ds=2}&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The following statement does not work. Note the table name referred as Test (not test). INSERT INTO behaves like INSERT OVERWRITE&lt;br/&gt;
&lt;br/&gt;
SELECT * FROM test;&lt;br/&gt;
INSERT INTO TABLE Test  PARTITION (ds) SELECT key, value, value FROM src;&lt;br/&gt;
SELECT * FROM test;&lt;br/&gt;
&lt;br/&gt;
The following is copied from the processing log&lt;br/&gt;
&lt;br/&gt;
Loading data to table default.test partition (ds=null)&lt;br/&gt;
Moved to trash: hdfs://localhost:8020/hive/warehouse/test/ds=1&lt;br/&gt;
Moved to trash: hdfs://localhost:8020/hive/warehouse/test/ds=2&lt;br/&gt;
        Loading partition {ds=1}
&lt;p&gt;        Loading partition &lt;/p&gt;
{ds=2}</description>
                <environment>&lt;p&gt;Windows 2012, HDInsight&lt;/p&gt;</environment>
        <key id="12629190">HIVE-3939</key>
            <summary>INSERT INTO behaves like INSERT OVERWRITE if the table name referred is not all lowercase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mohanraj">mohan dharmarajan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 00:10:05 +0000</created>
                <updated>Tue, 21 Jun 2016 21:06:22 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13835956" author="lagomorph" created="Sun, 1 Dec 2013 04:48:07 +0000"  >&lt;p&gt;Another case of Insert-Into-Select acting like overwrite.&lt;/p&gt;

&lt;p&gt;This case DOES NOT work:&lt;/p&gt;

&lt;p&gt;INSERT INTO TABLE marketing.omniture PARTITION( p_country, p_date, p_hour) &lt;br/&gt;
SELECT *,hash(INPUT_&lt;em&gt;FILE&lt;/em&gt;_NAME), country, SUBSTR(date_time,1,10), SUBSTR(date_time,12,2) FROM marketing.ingest;&lt;/p&gt;

&lt;p&gt;This case works:&lt;/p&gt;

&lt;p&gt;use marketing;&lt;br/&gt;
INSERT INTO TABLE omniture PARTITION( p_country, p_date, p_hour) &lt;br/&gt;
SELECT *,hash(INPUT_&lt;em&gt;FILE&lt;/em&gt;_NAME), country, SUBSTR(date_time,1,10), SUBSTR(date_time,12,2) FROM ingest;&lt;/p&gt;


&lt;p&gt;Conclusion:&lt;br/&gt;
Table names must be simple and lower case ONLY.&lt;/p&gt;</comment>
                            <comment id="13838462" author="navis" created="Wed, 4 Dec 2013 01:36:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lagomorph&quot; class=&quot;user-hover&quot; rel=&quot;lagomorph&quot;&gt;Dave Winters&lt;/a&gt; It&apos;s fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt;. Could you check that?&lt;/p&gt;</comment>
                            <comment id="15342662" author="xyu" created="Tue, 21 Jun 2016 20:53:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; It appears this was a regression I&apos;m currently on version 1.1.0 and can still reproduce this issue on both partitioned and non-partitioned tables. Issuing a `USE database;` then using non database prefixed table names works.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12558394">HIVE-3062</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 1 Dec 2013 04:48:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dyjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3940] Track columns accessed in each table in a query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3940</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Similar to partition access logs, we need to have columns access logs, so later we can build tools/reports to inform users if there are wasted columns in a table to be trimmed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629202">HIVE-3940</key>
            <summary>Track columns accessed in each table in a query</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="sxyuan">Samuel Yuan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 01:38:00 +0000</created>
                <updated>Thu, 16 May 2013 21:10:57 +0000</updated>
                            <resolved>Wed, 30 Jan 2013 21:53:20 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13562940" author="sxyuan" created="Fri, 25 Jan 2013 19:31:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8193&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13562976" author="kevinwilfong" created="Fri, 25 Jan 2013 20:10:33 +0000"  >&lt;p&gt;Couple minor comments on Phabricator, looks good.&lt;/p&gt;</comment>
                            <comment id="13564724" author="kevinwilfong" created="Mon, 28 Jan 2013 21:55:01 +0000"  >&lt;p&gt;Can you update the patch on the JIRA to match what&apos;s in Phabricator?&lt;/p&gt;</comment>
                            <comment id="13564848" author="kevinwilfong" created="Mon, 28 Jan 2013 23:40:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13566776" author="sxyuan" created="Wed, 30 Jan 2013 19:01:20 +0000"  >&lt;p&gt;Updated.&lt;/p&gt;</comment>
                            <comment id="13566942" author="kevinwilfong" created="Wed, 30 Jan 2013 21:53:20 +0000"  >&lt;p&gt;Committed, thanks Samuel.&lt;/p&gt;</comment>
                            <comment id="13567149" author="hudson" created="Thu, 31 Jan 2013 00:30:34 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #60 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/60/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3940&quot; title=&quot;Track columns accessed in each table in a query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3940&quot;&gt;&lt;del&gt;HIVE-3940&lt;/del&gt;&lt;/a&gt;. Track columns accessed in each table in a query. (Samuel Yuan via kevinwilfong) (Revision 1440695)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/QueryPlan.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/CheckColumnAccessHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/column_access_stats.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/column_access_stats.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567685" author="hudson" created="Thu, 31 Jan 2013 14:48:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #99 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/99/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/99/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3940&quot; title=&quot;Track columns accessed in each table in a query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3940&quot;&gt;&lt;del&gt;HIVE-3940&lt;/del&gt;&lt;/a&gt;. Track columns accessed in each table in a query. (Samuel Yuan via kevinwilfong) (Revision 1440695)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/QueryPlan.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/CheckColumnAccessHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/column_access_stats.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/column_access_stats.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567948" author="hudson" created="Thu, 31 Jan 2013 18:59:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1949 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1949/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1949/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3940&quot; title=&quot;Track columns accessed in each table in a query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3940&quot;&gt;&lt;del&gt;HIVE-3940&lt;/del&gt;&lt;/a&gt;. Track columns accessed in each table in a query. (Samuel Yuan via kevinwilfong) (Revision 1440695)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440695&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/QueryPlan.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnAccessInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/CheckColumnAccessHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/column_access_stats.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/column_access_stats.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566539" name="HIVE-3940.1.patch.txt" size="21714" author="sxyuan" created="Fri, 25 Jan 2013 19:32:37 +0000"/>
                            <attachment id="12566850" name="HIVE-3940.2.patch.txt" size="50336" author="sxyuan" created="Mon, 28 Jan 2013 23:31:34 +0000"/>
                            <attachment id="12567185" name="HIVE-3940.3.patch.txt" size="49926" author="sxyuan" created="Wed, 30 Jan 2013 19:01:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 20:10:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dymf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3941] Implement The Schema Search Path Feature</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3941</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Schema Search Path&lt;br/&gt;
&lt;a href=&quot;http://www.postgresql.org/docs/current/static/ddl-schemas.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.postgresql.org/docs/current/static/ddl-schemas.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;hive(myschema)&amp;gt; SET search_path TO myschema,default; &amp;#8211; set Schema Search Path&lt;br/&gt;
hive(myschema)&amp;gt; SHOW search_path;  &lt;br/&gt;
myschema&lt;br/&gt;
default &lt;/p&gt;

&lt;p&gt;hive(default)&amp;gt;show search_path in myschema;&lt;br/&gt;
myschema&lt;br/&gt;
default&lt;/p&gt;

&lt;p&gt;hive(default)&amp;gt; show tables;&lt;br/&gt;
de_src;&lt;/p&gt;

&lt;p&gt;hive(myschema)&amp;gt; show tables; &amp;#8211; in myschema database there is no table named de_src&lt;br/&gt;
src;&lt;br/&gt;
src1;&lt;/p&gt;


&lt;p&gt;hive(myschema)&amp;gt;select * from de_src;  --this queuery is equivalent to query: select * from default.de_src&lt;/p&gt;

&lt;p&gt;the default search_path is : current_db,default &lt;br/&gt;
&quot; SET search_path TO ...&quot; statement is Session level command , when the session is over ,fall back to &quot;current_db,default&quot; search path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629224">HIVE-3941</key>
            <summary>Implement The Schema Search Path Feature</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 05:43:06 +0000</created>
                <updated>Tue, 29 Jan 2013 02:37:41 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dz7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3942] Add UDF month_add and month_sub </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3942</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive (default)&amp;gt; desc function extended month_add;&lt;br/&gt;
month_add(start_date, num_months) - Returns the date that is num_months after start_date.&lt;br/&gt;
Synonyms: month_sub&lt;br/&gt;
start_date is a string in the format &apos;yyyy-MM-dd HH:mm:ss&apos; or &apos;yyyy-MM-dd&apos;. num_months is a number. The time part of start_date is ignored.&lt;br/&gt;
Example:&lt;br/&gt;
   SELECT month_add(&apos;2012-04-12&apos;, 1) FROM src LIMIT 1; --Return 2012-05-12&lt;br/&gt;
  SELECT month_add(&apos;2012-04-12 11:22:31&apos;, 1) FROM src LIMIT 1; --Return 2012-05-12&lt;br/&gt;
  SELECT month_add(cast(&apos;2012-04-12 11:22:31&apos; as timestamp), 1) FROM src LIMIT 1; --Return 2012-05-12&lt;/p&gt;


&lt;p&gt;hive (default)&amp;gt; desc function extended month_sub;&lt;/p&gt;

&lt;p&gt;month_sub(start_date, num_months) - Returns the date that is num_months after start_date.&lt;br/&gt;
Synonyms: month_add&lt;br/&gt;
start_date is a string in the format &apos;yyyy-MM-dd HH:mm:ss&apos; or &apos;yyyy-MM-dd&apos;. num_months is a number. The time part of start_date is ignored.&lt;br/&gt;
Example:&lt;br/&gt;
   SELECT month_sub(&apos;2012-04-12&apos;, 1) FROM src LIMIT 1; --Return 2012-05-12&lt;br/&gt;
  SELECT month_sub(&apos;2012-04-12 11:22:31&apos;, 1) FROM src LIMIT 1; --Return 2012-05-12&lt;br/&gt;
  SELECT month_sub(cast(&apos;2012-04-12 11:22:31&apos; as timestamp), 1) FROM src LIMIT 1; --Return 2012-05-12&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629225">HIVE-3942</key>
            <summary>Add UDF month_add and month_sub </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 06:54:14 +0000</created>
                <updated>Mon, 18 May 2015 20:45:39 +0000</updated>
                            <resolved>Mon, 18 May 2015 20:45:39 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14549189" author="apivovarov" created="Mon, 18 May 2015 20:45:39 +0000"  >&lt;p&gt;Dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9357&quot; title=&quot;Create ADD_MONTHS UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9357&quot;&gt;&lt;del&gt;HIVE-9357&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12767024">HIVE-9357</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12566467" name="HIVE-3942-1.patch" size="6827" author="caofangkun" created="Fri, 25 Jan 2013 06:55:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 20:45:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dz7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3943] Skewed query fails if hdfs path has special characters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3943</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If partition name has special character like :, query will fail like:&lt;/p&gt;

&lt;p&gt;FAILED: IllegalArgumentException Pathname /... from ... is not a valid DFS filename.&lt;/p&gt;

&lt;p&gt;rootcause is skewed map in partition metastore has unescapted path&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629226">HIVE-3943</key>
            <summary>Skewed query fails if hdfs path has special characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 07:01:19 +0000</created>
                <updated>Thu, 16 May 2013 21:10:14 +0000</updated>
                            <resolved>Fri, 25 Jan 2013 16:55:37 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13562476" author="gangtimliu" created="Fri, 25 Jan 2013 07:02:32 +0000"  >&lt;p&gt;patch in &lt;a href=&quot;https://reviews.facebook.net/D8169&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8169&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13562497" author="gangtimliu" created="Fri, 25 Jan 2013 07:25:33 +0000"  >&lt;p&gt;patch is available for review.&lt;/p&gt;</comment>
                            <comment id="13562653" author="namit" created="Fri, 25 Jan 2013 13:20:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13562829" author="namit" created="Fri, 25 Jan 2013 16:55:37 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13562856" author="gangtimliu" created="Fri, 25 Jan 2013 17:31:12 +0000"  >&lt;p&gt;Thanks a lot&lt;/p&gt;



&lt;p&gt;Sent from my iPhone &lt;/p&gt;

</comment>
                            <comment id="13562910" author="hudson" created="Fri, 25 Jan 2013 18:59:26 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #43 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/43/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/43/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3943&quot; title=&quot;Skewed query fails if hdfs path has special characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3943&quot;&gt;&lt;del&gt;HIVE-3943&lt;/del&gt;&lt;/a&gt; Skewed query fails if hdfs path has special characters&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1438586)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563505" author="hudson" created="Sat, 26 Jan 2013 14:38:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #88 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/88/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/88/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3943&quot; title=&quot;Skewed query fails if hdfs path has special characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3943&quot;&gt;&lt;del&gt;HIVE-3943&lt;/del&gt;&lt;/a&gt; Skewed query fails if hdfs path has special characters&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1438586)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563525" author="hudson" created="Sat, 26 Jan 2013 15:36:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1937 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1937/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1937/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3943&quot; title=&quot;Skewed query fails if hdfs path has special characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3943&quot;&gt;&lt;del&gt;HIVE-3943&lt;/del&gt;&lt;/a&gt; Skewed query fails if hdfs path has special characters&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1438586)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438586&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566472" name="HIVE-3943.patch" size="24333" author="gangtimliu" created="Fri, 25 Jan 2013 07:25:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 13:20:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1dz7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3944] Make accept qfile argument for miniMR tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3944</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, miniMR test runs all tests regardless of setting qfile argument.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629232">HIVE-3944</key>
            <summary>Make accept qfile argument for miniMR tests</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 07:47:07 +0000</created>
                <updated>Thu, 16 May 2013 21:11:02 +0000</updated>
                            <resolved>Sat, 26 Jan 2013 13:56:45 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13562525" author="phabricator@reviews.facebook.net" created="Fri, 25 Jan 2013 07:51:12 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make accept qfile argument for miniMR tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1970 Make accept qfile argument for miniMR tests&lt;/p&gt;

&lt;p&gt;  Currently, miniMR test runs all tests regardless of setting qfile argument.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8175&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8175&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/build.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/19773/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/19773/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13562681" author="namit" created="Fri, 25 Jan 2013 13:47:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13562683" author="phabricator@reviews.facebook.net" created="Fri, 25 Jan 2013 13:49:11 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make accept qfile argument for miniMR tests&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8175&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8175&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1970&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13563492" author="namit" created="Sat, 26 Jan 2013 13:56:45 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13563513" author="hudson" created="Sat, 26 Jan 2013 15:01:57 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #45 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/45/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/45/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; Make accept qfile argument for miniMR tests&lt;br/&gt;
(Navis via namit) (Revision 1438894)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563703" author="hudson" created="Sun, 27 Jan 2013 01:19:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #89 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/89/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; Make accept qfile argument for miniMR tests&lt;br/&gt;
(Navis via namit) (Revision 1438894)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563712" author="hudson" created="Sun, 27 Jan 2013 02:26:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1938 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1938/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1938/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; Make accept qfile argument for miniMR tests&lt;br/&gt;
(Navis via namit) (Revision 1438894)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438894&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13580586" author="phabricator@reviews.facebook.net" created="Mon, 18 Feb 2013 12:41:11 +0000"  >&lt;p&gt;navis has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3944&quot; title=&quot;Make accept qfile argument for miniMR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3944&quot;&gt;&lt;del&gt;HIVE-3944&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make accept qfile argument for miniMR tests&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8175&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8175&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566477" name="HIVE-3944.D8175.1.patch" size="6468" author="phabricator@reviews.facebook.net" created="Fri, 25 Jan 2013 07:51:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 07:51:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1e57r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>290774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3945] union all datatype do not match may result wrong result </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3945</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive (default)&amp;gt; desc src;&lt;br/&gt;
key	string	&lt;br/&gt;
value	string	&lt;/p&gt;

&lt;p&gt;select key, value FROM &lt;br/&gt;
( select &apos;key&apos; as key, &apos;value&apos; as value         &amp;#8211; datatype: string, string&lt;br/&gt;
  from src s1 limit 1&lt;br/&gt;
  UNION  ALL  &lt;br/&gt;
  select s2.key as key, sum(s2.value) as value  &amp;#8211; datatype: strung, double &lt;br/&gt;
  from src s2 group by s2.key&lt;br/&gt;
 ) unionsrc;&lt;br/&gt;
this query exec normally but has wrong result:&lt;br/&gt;
key	2.4081029415476845E-282    &amp;#8211; expected is &apos;value&apos;&lt;br/&gt;
	35.0&lt;br/&gt;
100	100.0&lt;br/&gt;
48	0.0&lt;/p&gt;

&lt;p&gt;and sometimes when the string title is too long it may case ArrayIndexOutOfBoundsException:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.ArrayIndexOutOfBoundsException&lt;br/&gt;
at java.lang.System.arraycopy(Native Method)&lt;br/&gt;
at org.apache.hadoop.io.Text.set(Text.java:205)&lt;br/&gt;
at org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryString.init(LazyBinaryString.java:48)&lt;br/&gt;
at org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryStruct.uncheckedGetField(LazyBinaryStruct.java:216)&lt;br/&gt;
at org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryStruct.getField(LazyBinaryStruct.java:197)&lt;br/&gt;
at org.apache.hadoop.hive.serde2.lazybinary.objectinspector.LazyBinaryStructObjectInspector.getStructFieldData(LazyBinaryStructObjectInspector.java:61)&lt;br/&gt;
at org.apache.hadoop.hive.ql.exec.UnionOperator.processOp(UnionOperator.java:125)&lt;br/&gt;
at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:531)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12629247">HIVE-3945</key>
            <summary>union all datatype do not match may result wrong result </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 09:30:58 +0000</created>
                <updated>Mon, 25 Feb 2013 15:59:23 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13564169" author="710154" created="Mon, 28 Jan 2013 10:06:54 +0000"  >&lt;p&gt;Hi, I just tried the following queries, Seems to work fine&lt;/p&gt;

&lt;p&gt;// Union all - combine the result-set of two or more select statement.&lt;br/&gt;
   Union-all allow duplicate values while matches in both tables &lt;/p&gt;

&lt;p&gt;Input&lt;br/&gt;
33	35&lt;br/&gt;
55	55.62&lt;br/&gt;
20	44&lt;br/&gt;
55	100&lt;br/&gt;
44	44&lt;br/&gt;
33	33&lt;br/&gt;
33	55&lt;br/&gt;
44	44&lt;br/&gt;
33&lt;br/&gt;
55	55&lt;br/&gt;
	55&lt;/p&gt;

&lt;p&gt;Query :&amp;gt;&lt;/p&gt;

&lt;p&gt;select c.key, c.value from (&lt;br/&gt;
select a.key, a.value from uniontbl a where a.key=&apos;33&apos;&lt;br/&gt;
union all&lt;br/&gt;
select b.key, sum( b.value) as value from uniontbl b where b.key=&apos;33&apos;&lt;br/&gt;
group by b.key&lt;br/&gt;
)c;&lt;/p&gt;

&lt;p&gt;o/p: &lt;br/&gt;
33	35.0&lt;br/&gt;
33	33.0&lt;br/&gt;
33	55.0&lt;br/&gt;
33	NULL    --&amp;gt; current and above line blongs to alia  a   ( a.key, a.value )&lt;br/&gt;
33	123.0   --&amp;gt; belongs to alias b ( b.key, sum( b.value) )&lt;/p&gt;

&lt;p&gt;select c.key, c.value  from (&lt;br/&gt;
select a.key, a.value from uniontbl a where a.key=&apos;55&apos;&lt;br/&gt;
union all&lt;br/&gt;
select b.key, sum( b.value) as value from uniontbl b where b.key=&apos;55&apos;&lt;br/&gt;
group by b.key )c&lt;/p&gt;

&lt;p&gt;o/p&lt;br/&gt;
55	55.62&lt;br/&gt;
55	100.0&lt;br/&gt;
55	55.0 	--&amp;gt; current and above line blongs to alia  a   ( a.key, a.value )&lt;br/&gt;
55	210.62  --&amp;gt; belongs to alias b ( b.key, sum( b.value) )&lt;/p&gt;


&lt;p&gt;Can you give me an example scenario for this, in case I have misunderstood the problem. &lt;/p&gt;
</comment>
                            <comment id="13565054" author="caofangkun" created="Tue, 29 Jan 2013 03:59:19 +0000"  >&lt;p&gt;Hi Frankline Jose S &lt;br/&gt;
the problem is this query before UNION ALL clause is like this :&lt;/p&gt;

&lt;p&gt; select  &apos;username&apos; as key,  &apos;age&apos; as value from ...  &lt;/p&gt;

&lt;p&gt;see  the column values are Fixed strings .&lt;/p&gt;

&lt;p&gt;Example&lt;br/&gt;
select key, value FROM &lt;br/&gt;
( select &apos;USERNAME&apos; as key, &apos;AGE&apos; as value &#8211; Hi Frankline Jose S , take a look at this &lt;br/&gt;
from src s1 limit 1&lt;br/&gt;
UNION ALL &lt;br/&gt;
select s2.key as key, sum(s2.value) as value &#8211; datatype: strung, double &lt;br/&gt;
from src s2 group by s2.key&lt;br/&gt;
) unionsrc;&lt;/p&gt;</comment>
                            <comment id="13565126" author="710154" created="Tue, 29 Jan 2013 06:37:52 +0000"  >&lt;p&gt;Hi Caofangkun,&lt;/p&gt;

&lt;p&gt;Query is slightly modified in ( alias b )table, typecasted summation value to String  cast(sum(b.value) as String) as value&lt;/p&gt;

&lt;p&gt;Jose (key)	-	2.1700977105416958E-287 (value)   &lt;br/&gt;
&amp;lt;==&amp;gt;  After &amp;lt;==&amp;gt;&lt;br/&gt;
Jose (key)	-	jose (value)&lt;/p&gt;

&lt;p&gt;table :- (key String, value String )&lt;br/&gt;
input :-&lt;br/&gt;
Jose	-	jose&lt;br/&gt;
Arun	-	arun&lt;br/&gt;
10	-	10&lt;br/&gt;
10	-	100&lt;br/&gt;
10.20	-	10.20&lt;br/&gt;
33	-	35&lt;br/&gt;
33	-	5&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;22&lt;br/&gt;
Query :-&lt;br/&gt;
select c.key, c.value from (&lt;br/&gt;
select a.key, a.value from uniontbl a  limit 3  &lt;br/&gt;
union all&lt;br/&gt;
select b.key, cast(sum(b.value) as String) as value from uniontbl b  &lt;br/&gt;
group by b.key )c&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;output:-&lt;br/&gt;
  	22.0	&lt;br/&gt;
10	110.0&lt;br/&gt;
10.20	10.2&lt;br/&gt;
33	40.0&lt;br/&gt;
Arun	0.0&lt;br/&gt;
Jose	0.0     &amp;#8211; above records belongs to alias b ( b.key, sum( b.value) )&lt;/p&gt;

&lt;p&gt;Jose	jose	&amp;#8211; below records belongs to alias a ( a.key, a.value )&lt;br/&gt;
Arun	arun&lt;br/&gt;
10	10&lt;/p&gt;</comment>
                            <comment id="13565140" author="caofangkun" created="Tue, 29 Jan 2013 07:08:34 +0000"  >&lt;p&gt;Hi Frankline Jose S  &lt;br/&gt;
&quot;cast(sum(b.value) as String) as value&quot;  is a walkaround way to  solve the problem.&lt;br/&gt;
but do you think it&apos;s necessary that we&apos;d better throw an exception like below in this situation ?&lt;br/&gt;
Exception like:&lt;br/&gt;
FAILED: Error in semantic analysis: Schema of both sides of union should match&lt;/p&gt;
</comment>
                            <comment id="13585947" author="brocknoland" created="Mon, 25 Feb 2013 15:59:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caofangkun&quot; class=&quot;user-hover&quot; rel=&quot;caofangkun&quot;&gt;caofangkun&lt;/a&gt; can you clarify when you see the ArrayIndexOutOfBoundsException above?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jan 2013 10:06:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1e8c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3946] Make it possible to configure for each stage</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3946</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some MR related configurations like &quot;mapred.reduce.tasks&quot; or &quot;hive.exec.reducers.bytes.per.reducer&quot; needed to be configured for each stage.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629266">HIVE-3946</key>
            <summary>Make it possible to configure for each stage</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jan 2013 13:16:38 +0000</created>
                <updated>Sat, 26 Jan 2013 14:13:11 +0000</updated>
                                                                            <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13562679" author="phabricator@reviews.facebook.net" created="Fri, 25 Jan 2013 13:43:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make it possible to configure for each stage&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1971 Make it possible to configure for each stage&lt;/p&gt;

&lt;p&gt;  Some MR related configurations like &quot;mapred.reduce.tasks&quot; or &quot;hive.exec.reducers.bytes.per.reducer&quot; needed to be configured for each stage.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/config_per_stage.q&lt;br/&gt;
  ql/src/test/results/clientpositive/config_per_stage.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/19797/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/19797/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13563402" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 08:21:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make it possible to configure for each stage&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:1351 Can you add a lot of comments ?&lt;br/&gt;
  ql/src/test/queries/clientpositive/config_per_stage.q:1 This might be fairly difficult to maintain for an application.&lt;br/&gt;
  I mean, the query plans change so many times due to random optimizations,&lt;br/&gt;
  because of which old stage numbers will become invalid.&lt;/p&gt;

&lt;p&gt;  It is a very good idea, but can you think of a better naming scheme.&lt;br/&gt;
  I dont have any suggestion right now.&lt;br/&gt;
  ql/src/test/queries/clientpositive/config_per_stage.q:4 Can you change it to have stage-3 ?&lt;/p&gt;

&lt;p&gt;  I mean, the stage-2. parameters should be overridden by defaults ?&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13563438" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 10:41:12 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make it possible to configure for each stage&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:1351 ok.&lt;br/&gt;
  ql/src/test/queries/clientpositive/config_per_stage.q:1 We are thinking of using this for the managed query of which plan and configuration is stored with it (and check plan before execution). If it&apos;s not, plan changes by optimization would make it invalid as you stated.&lt;/p&gt;

&lt;p&gt;  Would it be possible to support this by providing generic expressions or hint? It seemed hard and might be inaccurate.&lt;br/&gt;
  ql/src/test/queries/clientpositive/config_per_stage.q:4 I cannot understand this. Why stage-2 should be overridden by defaults? stage-1 will be run with 2 reducer and stage-2 will be run by 3 reducer regardless of adding one more stage.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13563495" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 14:05:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make it possible to configure for each stage&quot;.&lt;/p&gt;

&lt;p&gt;  What are the exact semantics ?&lt;/p&gt;

&lt;p&gt;  If Stage 4 depends on Stage 3, which depends on Stage 2, which depends on Stage 1.&lt;/p&gt;

&lt;p&gt;  Say, a parameter &apos;x&apos;  = 10&lt;br/&gt;
  Say, stage-1.x = 20&lt;/p&gt;

&lt;p&gt;  What is &apos;x&apos; for stage-2 (is it supposed to be 10 or 20) ?&lt;/p&gt;



&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13563496" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 14:13:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make it possible to configure for each stage&quot;.&lt;/p&gt;

&lt;p&gt;  &apos;x&apos; = 10, which is default. HiveConf is created based on SessionState.conf + overriding configs for the stage.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566509" name="HIVE-3946.D8181.1.patch" size="13212" author="phabricator@reviews.facebook.net" created="Fri, 25 Jan 2013 13:43:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 13:43:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1el9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3947] MiniMR test remains pending after test completion</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3947</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Shutdown hook tries delete &quot;delete on exit&quot; files after test completion but it cannot because HDFS is closed already.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629370">HIVE-3947</key>
            <summary>MiniMR test remains pending after test completion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Jan 2013 02:47:28 +0000</created>
                <updated>Thu, 16 May 2013 21:10:53 +0000</updated>
                            <resolved>Sun, 27 Jan 2013 18:31:52 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13563304" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 02:49:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3947&quot; title=&quot;MiniMR test remains pending after test completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3947&quot;&gt;&lt;del&gt;HIVE-3947&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; MiniMR test remains pening after test completion&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1972 MiniMR test remains pening after test completion&lt;/p&gt;

&lt;p&gt;  Shutdown hook tries delete &quot;delete on exit&quot; files after test completion but it cannot because HDFS is closed already.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8205&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8205&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/19827/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/19827/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13563714" author="ashutoshc" created="Sun, 27 Jan 2013 02:29:56 +0000"  >&lt;p&gt;+1 running tests&lt;/p&gt;</comment>
                            <comment id="13563868" author="ashutoshc" created="Sun, 27 Jan 2013 18:31:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13563909" author="hudson" created="Sun, 27 Jan 2013 20:01:02 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #50 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/50/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/50/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3947&quot; title=&quot;MiniMR test remains pending after test completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3947&quot;&gt;&lt;del&gt;HIVE-3947&lt;/del&gt;&lt;/a&gt; : MiniMR test remains pending after test completion (Navis via Ashutosh Chauhan) (Revision 1439136)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13564001" author="hudson" created="Mon, 28 Jan 2013 02:44:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #92 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3947&quot; title=&quot;MiniMR test remains pending after test completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3947&quot;&gt;&lt;del&gt;HIVE-3947&lt;/del&gt;&lt;/a&gt; : MiniMR test remains pending after test completion (Navis via Ashutosh Chauhan) (Revision 1439136)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13564180" author="hudson" created="Mon, 28 Jan 2013 10:27:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1941 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1941/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1941/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3947&quot; title=&quot;MiniMR test remains pending after test completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3947&quot;&gt;&lt;del&gt;HIVE-3947&lt;/del&gt;&lt;/a&gt; : MiniMR test remains pending after test completion (Navis via Ashutosh Chauhan) (Revision 1439136)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439136&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566601" name="HIVE-3947.D8205.1.patch" size="657" author="phabricator@reviews.facebook.net" created="Sat, 26 Jan 2013 02:49:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 Jan 2013 02:49:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1gglj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3948] avro_nullable_fields.q is failing in trunk</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3948</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12629391">HIVE-3948</key>
            <summary>avro_nullable_fields.q is failing in trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Jan 2013 13:15:43 +0000</created>
                <updated>Thu, 16 May 2013 21:10:47 +0000</updated>
                            <resolved>Sat, 26 Jan 2013 16:48:18 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13563497" author="navis" created="Sat, 26 Jan 2013 14:22:33 +0000"  >&lt;p&gt;csv.txt file is missing in data/files/. Adding it seemed enough.&lt;/p&gt;</comment>
                            <comment id="13563530" author="namit" created="Sat, 26 Jan 2013 15:52:08 +0000"  >&lt;p&gt;Can you file a patch ?&lt;/p&gt;</comment>
                            <comment id="13563541" author="ashutoshc" created="Sat, 26 Jan 2013 16:48:18 +0000"  >&lt;p&gt;That file was there in patch listed at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt; I missed adding it while committing it. Committed now. Sorry for that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 Jan 2013 14:22:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3949] Some test failures in hadoop 23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3949</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is follow up on hive-3873.&lt;/p&gt;

&lt;p&gt;We have fixed some test failures in 3873 and a few other jira issues.&lt;/p&gt;

&lt;p&gt;We will use this jira to track the rest failures: &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629407">HIVE-3949</key>
            <summary>Some test failures in hadoop 23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Jan 2013 20:14:46 +0000</created>
                <updated>Fri, 4 Oct 2013 14:02:53 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 14:02:53 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                            <comments>
                            <comment id="13565169" author="namit" created="Tue, 29 Jan 2013 07:58:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;Gang Tim Liu&lt;/a&gt;, can you update this with the failed tests once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3873&quot; title=&quot;lot of tests failing for hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3873&quot;&gt;&lt;del&gt;HIVE-3873&lt;/del&gt;&lt;/a&gt; is checked in ?&lt;/p&gt;</comment>
                            <comment id="13565620" author="gangtimliu" created="Tue, 29 Jan 2013 18:21:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; yes. thanks&lt;/p&gt;</comment>
                            <comment id="13569918" author="ashutoshc" created="Sun, 3 Feb 2013 22:25:05 +0000"  >&lt;p&gt;Current list of test failures.&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union24&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats_empty_partition&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop_hadoop20&lt;br/&gt;
&amp;lt;init&amp;gt;.org.apache.hadoop.hive.cli.TestMinimrCliDriver&lt;br/&gt;
&amp;lt;init&amp;gt;.org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver&lt;br/&gt;
org.apache.hadoop.hive.serde2.avro.TestAvroSerdeUtils.determineSchemaCanReadSchemaFromHDFS&lt;/p&gt;</comment>
                            <comment id="13669094" author="navis" created="Wed, 29 May 2013 08:37:03 +0000"  >&lt;p&gt;It&apos;s expanded like this,&lt;/p&gt;

&lt;p&gt;13 tests in org.apache.hadoop.hive.cli.TestHBaseCliDriver (all)&lt;br/&gt;
1 tests in org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver (all)&lt;br/&gt;
2 tests in org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver (all)&lt;br/&gt;
1 test in org.apache.hcatalog.cli.TestSemanticAnalysis&lt;br/&gt;
1 test in org.apache.hcatalog.mapreduce.TestMultiOutputFormat&lt;/p&gt;

&lt;p&gt;27 tests in org.apache.hadoop.hive.cli.TestCliDriver&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: archive_excludeHadoop20.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: archive_multi.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: auto_join14.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: combine2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: ctas_colname.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: groupby_grouping_sets4.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_list_bucket.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: input12.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: input39.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join32_lessSize.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join_1to1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join_vc.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_query_oneskew_1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_query_oneskew_2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_query_oneskew_3.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: multi_insert_lateral_view.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: orc_diff_part_cols.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: ptf_npath.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: recursive_dir.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: sample_islocalmode_hook.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: skewjoin.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: skewjoin_union_remove_1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: skewjoin_union_remove_2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: stats_partscan_1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: truncate_column.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: truncate_column_merge.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: udaf_percentile_approx.q&lt;/p&gt;

&lt;p&gt;25 tests in org.apache.hadoop.hive.cli.TestMinimrCliDriver&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucket4.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucket5.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucket_num_reducers.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucket_num_reducers2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucketizedhiveinputformat.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucketmapjoin6.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: bucketmapjoin7.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: disable_merge_for_bucketing.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: groupby2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_bucketed_table.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_dyn_part.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_map_operators.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_merge.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_num_buckets.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: infer_bucket_sort_reducers_power_two.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: input16_cc.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_dml_10.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: optrstat_groupby.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: reduce_deduplicate.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: remote_script.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: schemeAuthority.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: scriptfile1.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: smb_mapjoin_8.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: truncate_column_buckets.q&lt;/p&gt;

&lt;p&gt;3 tests in org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: mapreduce_stack_trace.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: mapreduce_stack_trace_turnoff.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: minimr_broken_pipe.q&lt;/p&gt;

&lt;p&gt;we should handle this&lt;/p&gt;</comment>
                            <comment id="13672883" author="navis" created="Mon, 3 Jun 2013 08:05:10 +0000"  >&lt;p&gt;I&apos;m looking into tests in TestCliDriver. Currently, &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;archive_excludeHadoop20.q
archive_multi.q
auto_join14.q			: update result (changed default)
combine2.q
ctas_colname.q			: non-deterministic
groupby_grouping_sets4.q	: non-deterministic
infer_bucket_sort_list_bucket.q	: HIVE-4645
input12.q			: update result (added input hook)
input39.q			: update result (added input hook)
join32_lessSize.q		: non-deterministic
join_1to1.q
join_vc.q			: HIVE-4626
list_bucket_query_oneskew_1.q	: non-deterministic
list_bucket_query_oneskew_2.q	: non-deterministic
list_bucket_query_oneskew_3.q	: non-deterministic
multi_insert_lateral_view.q	: non-deterministic
orc_diff_part_cols.q		: non-deterministic
ptf_npath.q
recursive_dir.q			: update result (added input hook)
sample_islocalmode_hook.q	: update result (added input hook)
skewjoin.q			: HIVE-4646
skewjoin_union_remove_1.q	: update result (seemed not applied HIVE-948)
skewjoin_union_remove_2.q	: update result (seemed not applied HIVE-948)
stats_partscan_1.q		
truncate_column.q		: non-deterministic
truncate_column_merge.q		: non-deterministic
udaf_percentile_approx.q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13680050" author="brocknoland" created="Mon, 10 Jun 2013 23:39:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;Gang Tim Liu&lt;/a&gt; are you currently working on this? If not, I&apos;d be interested in taking this up.&lt;/p&gt;</comment>
                            <comment id="13680052" author="gangtimliu" created="Mon, 10 Jun 2013 23:43:16 +0000"  >&lt;p&gt;sure, please feel free to work on it. thanks&lt;/p&gt;</comment>
                            <comment id="13680084" author="navis" created="Tue, 11 Jun 2013 00:21:03 +0000"  >&lt;p&gt;I&apos;ve been investigating this. For TestCliDriver,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;archive_excludeHadoop20.q	: HIVE-3025?
archive_multi.q			: HIVE-3025?
auto_join14.q			: need update result (changed default)
combine2.q
ctas_colname.q			: non-deterministic
groupby_grouping_sets4.q	: non-deterministic
infer_bucket_sort_list_bucket.q	: HIVE-4645
input12.q			: need update result (added input hook)
input39.q			: need update result (added input hook)
join32_lessSize.q		: non-deterministic
join_1to1.q			: HIVE-4689
join_vc.q			: HIVE-4626
list_bucket_query_oneskew_1.q	: non-deterministic
list_bucket_query_oneskew_2.q	: non-deterministic
list_bucket_query_oneskew_3.q	: non-deterministic
multi_insert_lateral_view.q	: non-deterministic
orc_diff_part_cols.q		: non-deterministic
ptf_npath.q
recursive_dir.q			: need update result (added input hook)
sample_islocalmode_hook.q	: need update result (added input hook)
skewjoin.q			: HIVE-4646
skewjoin_union_remove_1.q	: need update result (seemed not applied HIVE-948)
skewjoin_union_remove_2.q	: need update result (seemed not applied HIVE-948)
stats_partscan_1.q		: HIVE-4690
truncate_column.q		: non-deterministic
truncate_column_merge.q		: non-deterministic
udaf_percentile_approx.q	: non-deterministic
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can save some times.&lt;/p&gt;</comment>
                            <comment id="13680092" author="brocknoland" created="Tue, 11 Jun 2013 00:29:01 +0000"  >&lt;p&gt;Thank you Navis! This will help quite a bit!&lt;/p&gt;</comment>
                            <comment id="13680547" author="brocknoland" created="Tue, 11 Jun 2013 18:58:54 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Since I&apos;ll be making a lot of updates to the failing test status information I&apos;ve created a wiki page: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Fix+Hive+Unit+Tests+on+Hadoop+2+-+HIVE-3949&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Fix+Hive+Unit+Tests+on+Hadoop+2+-+HIVE-3949&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;additionally I&apos;ll be creating the fix JIRA&apos;s as sub-tasks of this JIRA.&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13681820" author="brocknoland" created="Thu, 13 Jun 2013 01:00:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3025&quot; title=&quot;Fix Hive ARCHIVE command on 0.22 and 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3025&quot;&gt;&lt;del&gt;HIVE-3025&lt;/del&gt;&lt;/a&gt; is breaking the archive tests.&lt;/p&gt;</comment>
                            <comment id="13786163" author="ashutoshc" created="Fri, 4 Oct 2013 14:02:53 +0000"  >&lt;p&gt;Marking this as resolved since all linked subtasks are now complete. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4388&quot; title=&quot;Upgrade HBase to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4388&quot;&gt;&lt;del&gt;HIVE-4388&lt;/del&gt;&lt;/a&gt; tracks hbase failures.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12555237">HIVE-3025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12638378">HIVE-4216</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12643803">HIVE-4388</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12650563">HIVE-4645</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12626752">HIVE-3873</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12649857">HIVE-4626</subtask>
                            <subtask id="12650572">HIVE-4646</subtask>
                            <subtask id="12651897">HIVE-4690</subtask>
                            <subtask id="12652143">HIVE-4708</subtask>
                            <subtask id="12652160">HIVE-4711</subtask>
                            <subtask id="12652162">HIVE-4712</subtask>
                            <subtask id="12652240">HIVE-4713</subtask>
                            <subtask id="12652254">HIVE-4715</subtask>
                            <subtask id="12652278">HIVE-4717</subtask>
                            <subtask id="12652334">HIVE-4721</subtask>
                            <subtask id="12653245">HIVE-4746</subtask>
                            <subtask id="12653443">HIVE-4750</subtask>
                            <subtask id="12653716">HIVE-4756</subtask>
                            <subtask id="12659961">HIVE-4940</subtask>
                            <subtask id="12661427">HIVE-4988</subtask>
                            <subtask id="12662697">HIVE-5028</subtask>
                            <subtask id="12663160">HIVE-5063</subtask>
                            <subtask id="12663334">HIVE-5069</subtask>
                            <subtask id="12668307">HIVE-5282</subtask>
                            <subtask id="12668499">HIVE-5291</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Jan 2013 07:58:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3950] Remove code for merging files via MR job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3950</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive can merge files either via MR job or via map only job. Obviously, doing it via map-only job is more efficient, but there is an option of doing it via MR job as well because CombineFileInputFormat is available only in hadoop-0.20 and later. Since, we no longer support hadoop versions earlier than 20 anymore all that is now dead code, we should get rid of it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629419">HIVE-3950</key>
            <summary>Remove code for merging files via MR job</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jan 2013 03:33:30 +0000</created>
                <updated>Thu, 16 May 2013 21:10:03 +0000</updated>
                            <resolved>Wed, 30 Jan 2013 01:39:42 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13563730" author="ashutoshc" created="Sun, 27 Jan 2013 04:47:42 +0000"  >&lt;p&gt;Attaching patch. Phabricator link: &lt;a href=&quot;https://reviews.facebook.net/D8211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8211&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13563752" author="ashutoshc" created="Sun, 27 Jan 2013 07:50:59 +0000"  >&lt;p&gt;Marking Patch Available.&lt;/p&gt;</comment>
                            <comment id="13563922" author="ashutoshc" created="Sun, 27 Jan 2013 20:28:50 +0000"  >&lt;p&gt;Updated patch with further cleanup. Updated on phabricator as well.&lt;/p&gt;</comment>
                            <comment id="13565304" author="namit" created="Tue, 29 Jan 2013 12:10:17 +0000"  >&lt;p&gt;minor comments&lt;/p&gt;</comment>
                            <comment id="13565507" author="ashutoshc" created="Tue, 29 Jan 2013 16:44:24 +0000"  >&lt;p&gt;Rebased on trunk and addressed comments.&lt;/p&gt;</comment>
                            <comment id="13565589" author="namit" created="Tue, 29 Jan 2013 17:52:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13566052" author="ashutoshc" created="Wed, 30 Jan 2013 01:39:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks Namit for review!&lt;/p&gt;</comment>
                            <comment id="13566114" author="hudson" created="Wed, 30 Jan 2013 03:19:15 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #57 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/57/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/57/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3950&quot; title=&quot;Remove code for merging files via MR job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3950&quot;&gt;&lt;del&gt;HIVE-3950&lt;/del&gt;&lt;/a&gt; : Remove code for merging files via MR job (Ashutosh Chauhan, Reviewed by Namit Jain) (Revision 1440238)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/dyn_part_merge.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/dyn_part_merge.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13566401" author="hudson" created="Wed, 30 Jan 2013 12:02:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #97 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/97/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/97/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3950&quot; title=&quot;Remove code for merging files via MR job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3950&quot;&gt;&lt;del&gt;HIVE-3950&lt;/del&gt;&lt;/a&gt; : Remove code for merging files via MR job (Ashutosh Chauhan, Reviewed by Namit Jain) (Revision 1440238)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/dyn_part_merge.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/dyn_part_merge.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13566422" author="hudson" created="Wed, 30 Jan 2013 12:38:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1946 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1946/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1946/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3950&quot; title=&quot;Remove code for merging files via MR job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3950&quot;&gt;&lt;del&gt;HIVE-3950&lt;/del&gt;&lt;/a&gt; : Remove code for merging files via MR job (Ashutosh Chauhan, Reviewed by Namit Jain) (Revision 1440238)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1440238&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/dyn_part_merge.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/dyn_part_merge.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566657" name="hive-3950.patch" size="11911" author="ashutoshc" created="Sun, 27 Jan 2013 04:47:42 +0000"/>
                            <attachment id="12566687" name="hive-3950_1.patch" size="16104" author="ashutoshc" created="Sun, 27 Jan 2013 20:28:50 +0000"/>
                            <attachment id="12566998" name="hive-3950_2.patch" size="21170" author="ashutoshc" created="Tue, 29 Jan 2013 16:44:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Jan 2013 12:10:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3951] Allow Decimal type columns in Regex Serde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3951</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Decimal type in Hive was recently added by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt;. We should allow users to create tables with decimal type columns when using Regex Serde. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3004&quot; title=&quot;RegexSerDe should support other column types in addition to STRING&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3004&quot;&gt;&lt;del&gt;HIVE-3004&lt;/del&gt;&lt;/a&gt; did something similar for other primitive types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629426">HIVE-3951</key>
            <summary>Allow Decimal type columns in Regex Serde</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrover">Mark Grover</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jan 2013 10:38:44 +0000</created>
                <updated>Thu, 16 May 2013 21:10:40 +0000</updated>
                            <resolved>Tue, 2 Apr 2013 04:49:38 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13567444" author="mgrover" created="Thu, 31 Jan 2013 08:00:00 +0000"  >&lt;p&gt;Patch attached, adds support for decimal columns regex serde. Added test.&lt;/p&gt;</comment>
                            <comment id="13567446" author="mgrover" created="Thu, 31 Jan 2013 08:02:40 +0000"  >&lt;p&gt;Code review at &lt;a href=&quot;https://reviews.apache.org/r/9173/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9173/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13577324" author="mgrover" created="Wed, 13 Feb 2013 04:16:50 +0000"  >&lt;p&gt;This patch is ready for review. Would anyone be willing to please review?&lt;/p&gt;</comment>
                            <comment id="13582587" author="jarcec" created="Wed, 20 Feb 2013 22:18:38 +0000"  >&lt;p&gt;+1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="13618245" author="ashutoshc" created="Sun, 31 Mar 2013 05:07:59 +0000"  >&lt;p&gt;Left a comment on RB.&lt;/p&gt;</comment>
                            <comment id="13618816" author="mgrover" created="Mon, 1 Apr 2013 15:11:13 +0000"  >&lt;p&gt;Thanks for the comments, Ashutosh. Uploaded a new patch. Will update Review Board momentarily.&lt;/p&gt;</comment>
                            <comment id="13618821" author="mgrover" created="Mon, 1 Apr 2013 15:14:42 +0000"  >&lt;p&gt;RB updated&lt;/p&gt;</comment>
                            <comment id="13619516" author="ashutoshc" created="Tue, 2 Apr 2013 04:49:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mark!&lt;/p&gt;</comment>
                            <comment id="13619518" author="mgrover" created="Tue, 2 Apr 2013 04:56:18 +0000"  >&lt;p&gt;Thanks, Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13619869" author="hudson" created="Tue, 2 Apr 2013 14:46:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2040 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2040/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2040/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3951&quot; title=&quot;Allow Decimal type columns in Regex Serde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3951&quot;&gt;&lt;del&gt;HIVE-3951&lt;/del&gt;&lt;/a&gt; : Allow Decimal type columns in Regex Serde (Mark Grover via Ashutosh Chauhan) (Revision 1463380)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463380&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/serde_regex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/serde_regex.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/RegexSerDe.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623031" author="hudson" created="Thu, 4 Apr 2013 23:39:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3951&quot; title=&quot;Allow Decimal type columns in Regex Serde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3951&quot;&gt;&lt;del&gt;HIVE-3951&lt;/del&gt;&lt;/a&gt; : Allow Decimal type columns in Regex Serde (Mark Grover via Ashutosh Chauhan) (Revision 1463380)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463380&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/serde_regex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/serde_regex.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/RegexSerDe.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567315" name="HIVE-3951.1.patch" size="6627" author="mgrover" created="Thu, 31 Jan 2013 08:00:00 +0000"/>
                            <attachment id="12576388" name="HIVE-3951.2.patch" size="6654" author="mgrover" created="Mon, 1 Apr 2013 15:11:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Feb 2013 22:18:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
