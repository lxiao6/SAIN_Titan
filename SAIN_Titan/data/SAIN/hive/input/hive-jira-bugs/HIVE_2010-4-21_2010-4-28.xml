<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:15:45 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-4-21+AND+created+%3C%3D+2010-4-28+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="11" total="11"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1316] Increase the memory limit for CLI client</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1316</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive CLI client stores the plan in memory and serialize it to XML file. the serialization takes a lot of memory. for large queries, we&apos;ve seen OOM exception and GC overhead limit reached. It would be good to increase the max heap size of CLI client and disable GC overhead limit. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12462610">HIVE-1316</key>
            <summary>Increase the memory limit for CLI client</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Apr 2010 05:38:50 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:37 +0000</updated>
                            <resolved>Wed, 21 Apr 2010 21:44:10 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12859420" author="namit" created="Wed, 21 Apr 2010 16:31:45 +0000"  >&lt;p&gt;Will it reduce the amount of concurrent hive clients ?&lt;/p&gt;</comment>
                            <comment id="12859509" author="nzhang" created="Wed, 21 Apr 2010 20:08:21 +0000"  >&lt;p&gt;HADOOP_HEAPSIZE is used in -Xmx but not -Xms, so it won&apos;t reduce the amount of concurrency. &lt;/p&gt;</comment>
                            <comment id="12859519" author="namit" created="Wed, 21 Apr 2010 20:41:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12859536" author="namit" created="Wed, 21 Apr 2010 21:44:10 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442397" name="HIVE-1316.patch" size="463" author="nzhang" created="Wed, 21 Apr 2010 05:40:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Apr 2010 16:31:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lehz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1317] CombineHiveInputFormat throws exception when partition name contains special characters to URI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1317</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a partition name contains characters such as &apos;:&apos; and &apos;|&apos; which have special meaning in URI (hdfs uses URI internally for Path), CombineHiveInputFormat throws an exception. URI was created in CombineHiveInputFormat to compare a path belongs to a partition in partitionToPathInfo. We should bypass URI creation by just string comparisons. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12462718">HIVE-1317</key>
            <summary>CombineHiveInputFormat throws exception when partition name contains special characters to URI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 01:02:47 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:24 +0000</updated>
                            <resolved>Thu, 6 May 2010 19:07:41 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12859614" author="nzhang" created="Thu, 22 Apr 2010 01:04:48 +0000"  >&lt;p&gt;Uploading a patch changing the way paths are compared. &lt;/p&gt;</comment>
                            <comment id="12859660" author="namit" created="Thu, 22 Apr 2010 05:15:34 +0000"  >&lt;p&gt;The test outputs are not deterministic.&lt;/p&gt;

&lt;p&gt;About the change in CombineHiveInputFormat, cant the change be pushed to hiveInputFormat instead, and CHIF anyway is a subclass of HIF&lt;/p&gt;</comment>
                            <comment id="12861675" author="nzhang" created="Wed, 28 Apr 2010 04:48:47 +0000"  >&lt;p&gt;Uploading a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.2.patch. This fixes the test. &lt;/p&gt;

&lt;p&gt;Also talk with Namit offline, the CombineHiveInputFormat will get all paths under a partition directory due to CombineFileInputFormat.createPool(job, CombineFilter), in which CombineFilter will accept all files under the partition directory. That&apos;s why in CombineHiveInputFormat will we get the full path names from FileInputFormat.getInputPaths(). &lt;/p&gt;</comment>
                            <comment id="12861824" author="namit" created="Wed, 28 Apr 2010 15:17:10 +0000"  >&lt;p&gt;Ning, I am getting a compilation error after applying the patch -&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : variable File&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.CombineFilter&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;       pString = p.toString() + File.separator;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use or override a deprecated API.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:deprecation for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use unchecked or unsafe operations.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;/p&gt;</comment>
                            <comment id="12861852" author="nzhang" created="Wed, 28 Apr 2010 17:24:55 +0000"  >&lt;p&gt;Updated &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.2.patch with the fix. &lt;/p&gt;</comment>
                            <comment id="12861925" author="nzhang" created="Wed, 28 Apr 2010 20:04:23 +0000"  >&lt;p&gt;Found a bug in my local testing, I will update a new patch once it is fixed. &lt;/p&gt;</comment>
                            <comment id="12863679" author="nzhang" created="Tue, 4 May 2010 05:52:22 +0000"  >&lt;p&gt;attaching a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.3.patch that solves the previous bug that failed in grouping partitioning columns.&lt;/p&gt;</comment>
                            <comment id="12864657" author="nzhang" created="Thu, 6 May 2010 05:42:41 +0000"  >&lt;p&gt;uploading a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.4.patch. Changes include&lt;br/&gt;
1) removed the code in CombineHiveInputFormatShim to remove hdfs:// when getting splits.&lt;br/&gt;
2) The hdfs:// is striped when constructing CombineFilter to facilitate the requirement in Hadoop CombineFileINputformat. &lt;/p&gt;</comment>
                            <comment id="12864885" author="namit" created="Thu, 6 May 2010 18:57:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12864887" author="namit" created="Thu, 6 May 2010 19:07:41 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12443103" name="HIVE-1317.2.patch" size="63543" author="nzhang" created="Wed, 28 Apr 2010 17:24:55 +0000"/>
                            <attachment id="12443547" name="HIVE-1317.3.patch" size="69800" author="nzhang" created="Tue, 4 May 2010 05:52:22 +0000"/>
                            <attachment id="12443825" name="HIVE-1317.4.patch" size="71824" author="nzhang" created="Thu, 6 May 2010 05:42:41 +0000"/>
                            <attachment id="12442499" name="HIVE-1317.patch" size="60621" author="nzhang" created="Thu, 22 Apr 2010 01:04:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Apr 2010 05:15:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lei7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1318] External Tables: Selecting a partition that does not exist produces errors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1318</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;dfs -mkdir /tmp/a;
dfs -mkdir /tmp/a/b;
dfs -mkdir /tmp/a/c;
create external table abc( key string, val string  )
partitioned by (part int)
location &apos;/tmp/a/&apos;;

alter table abc ADD PARTITION (part=1)  LOCATION &apos;b&apos;;
alter table abc ADD PARTITION (part=2)  LOCATION &apos;c&apos;;

select key from abc where part=1;
select key from abct where part=70;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12462809">HIVE-1318</key>
            <summary>External Tables: Selecting a partition that does not exist produces errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 18:58:41 +0000</created>
                <updated>Fri, 28 Oct 2011 06:06:32 +0000</updated>
                            <resolved>Fri, 28 Oct 2011 06:06:31 +0000</resolved>
                                    <version>0.5.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12862506" author="jvs" created="Fri, 30 Apr 2010 01:25:09 +0000"  >&lt;p&gt;What error did you get (other than abct not existing due to the typo)?&lt;/p&gt;

&lt;p&gt;It works for me on trunk (returns no rows), but maybe 0.5 didn&apos;t get some patch.&lt;/p&gt;</comment>
                            <comment id="13138080" author="ashutoshc" created="Fri, 28 Oct 2011 06:06:32 +0000"  >&lt;p&gt;Works for me too on trunk, with 0 rows returned.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442612" name="partdoom.q" size="340" author="appodictic" created="Thu, 22 Apr 2010 18:59:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Apr 2010 01:25:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0leif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1319] Alter table add partition fails if ADD PARTITION is not in upper case</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1319</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;dfs -mkdir /tmp/a;
dfs -mkdir /tmp/a/b;
dfs -mkdir /tmp/a/c;
create external table abc( key string, val string  )
partitioned by (part int)
location &apos;/tmp/a/&apos;;

alter table abc ADD PARTITION (part=1)  LOCATION &apos;b&apos;;
alter table abc add partition (part=2)  LOCATION &apos;c&apos;;

select key from abc where part=1;
select key from abct where part=70;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12462810">HIVE-1319</key>
            <summary>Alter table add partition fails if ADD PARTITION is not in upper case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 19:06:28 +0000</created>
                <updated>Fri, 24 Dec 2010 22:29:17 +0000</updated>
                            <resolved>Fri, 24 Dec 2010 22:29:17 +0000</resolved>
                                    <version>0.5.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lein:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1320] NPE with lineage in a query of union alls on joins.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1320</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query generates a NPE in the lineage ctx code&lt;/p&gt;

&lt;p&gt;EXPLAIN&lt;br/&gt;
INSERT OVERWRITE TABLE dest_l1&lt;br/&gt;
SELECT j.*&lt;br/&gt;
FROM (SELECT t1.key, p1.value&lt;br/&gt;
      FROM src1 t1&lt;br/&gt;
      LEFT OUTER JOIN src p1&lt;br/&gt;
      ON (t1.key = p1.key)&lt;br/&gt;
      UNION ALL&lt;br/&gt;
      SELECT t2.key, p2.value&lt;br/&gt;
      FROM src1 t2&lt;br/&gt;
      LEFT OUTER JOIN src p2&lt;br/&gt;
      ON (t2.key = p2.key)) j;&lt;/p&gt;

&lt;p&gt;The stack trace is:&lt;/p&gt;

&lt;p&gt;FAILED: Hive Internal Error: java.lang.NullPointerException(null)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
at org.apache.hadoop.hive.ql.optimizer.lineage.LineageCtx$Index.mergeDependency(LineageCtx.java:116)&lt;br/&gt;
at org.apache.hadoop.hive.ql.optimizer.lineage.OpProcFactory$UnionLineage.process(OpProcFactory.java:396)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:54)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)&lt;br/&gt;
at org.apache.hadoop.hive.ql.optimizer.lineage.Generator.transform(Generator.java:72)&lt;br/&gt;
at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:83)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:5976)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:126)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:126)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462825">HIVE-1320</key>
            <summary>NPE with lineage in a query of union alls on joins.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 22:50:52 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:01 +0000</updated>
                            <resolved>Fri, 23 Apr 2010 01:08:53 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12860057" author="athusoo" created="Thu, 22 Apr 2010 22:56:06 +0000"  >&lt;p&gt;Fixed the NPE. The cause was that we were not checking for inp_dep to be null in the union all code path. We have to do that for all operators that have more than 1 parents.&lt;/p&gt;</comment>
                            <comment id="12860062" author="nzhang" created="Thu, 22 Apr 2010 23:06:23 +0000"  >&lt;p&gt;+1 will commit after tests.&lt;/p&gt;</comment>
                            <comment id="12860088" author="nzhang" created="Fri, 23 Apr 2010 01:08:53 +0000"  >&lt;p&gt;Committed. Thanks Ashish!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442628" name="HIVE-1320.patch" size="12913" author="athusoo" created="Thu, 22 Apr 2010 22:56:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Apr 2010 23:06:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0leiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1321] bugs with temp directories, trailing blank fields in HBase bulk load</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1321</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1295&quot; title=&quot;facilitate HBase bulk loads from Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1295&quot;&gt;&lt;del&gt;HIVE-1295&lt;/del&gt;&lt;/a&gt; had two bugs discovered during testing with production data:&lt;/p&gt;

&lt;p&gt;(1) extra directories may be present in the output directory depending on how the cluster is configured; we need to walk down these to find the column family directory&lt;/p&gt;

&lt;p&gt;(2) if a record ends with fields which are blank strings, the text format omits the corresponding Control-A delimiters, so we need to fill in blanks for these fields (instead of throwing ArrayIndexOutOfBoundsException)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462826">HIVE-1321</key>
            <summary>bugs with temp directories, trailing blank fields in HBase bulk load</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 23:14:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:59 +0000</updated>
                            <resolved>Mon, 26 Apr 2010 23:13:02 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12860072" author="jvs" created="Thu, 22 Apr 2010 23:48:48 +0000"  >&lt;p&gt;Also need to omit null values (\N) completely.&lt;/p&gt;</comment>
                            <comment id="12860105" author="jvs" created="Fri, 23 Apr 2010 02:39:51 +0000"  >&lt;p&gt;Changed test script to exercise blanks and nulls, and did some manual testing to verify that these got into HBase (or not) as expected.&lt;/p&gt;</comment>
                            <comment id="12861160" author="namit" created="Mon, 26 Apr 2010 23:13:02 +0000"  >&lt;p&gt;Committed. Thanks John&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12461587">HIVE-1295</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12442641" name="HIVE-1321.1.patch" size="8333" author="jvs" created="Fri, 23 Apr 2010 02:38:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Apr 2010 23:13:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lej3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1322] Cached FileSystem can lead to persistant IOExceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1322</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the metastore, the FileSystem object is created through Path.getFileSytem(), which caches the created instance for performance. For DFS, the cached FileSystem seems to retain the original IP (resolved from the supplied hostname). If the hostname-&amp;gt;IP mapping changes, then FS operations will throw IOExceptions. Because the FileSystem is cached, re-creating the object has no effect and will continue to result in IOExceptions.&lt;/p&gt;

&lt;p&gt;One solution is to call close on an IOException. That will remove the entry in the cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462892">HIVE-1322</key>
            <summary>Cached FileSystem can lead to persistant IOExceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Apr 2010 18:25:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:43 +0000</updated>
                            <resolved>Wed, 12 May 2010 23:53:16 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12860345" author="pauly" created="Fri, 23 Apr 2010 18:37:58 +0000"  >&lt;p&gt;Tricky to have a test for this one&lt;/p&gt;</comment>
                            <comment id="12866408" author="pauly" created="Wed, 12 May 2010 00:41:00 +0000"  >&lt;p&gt;A unit test is just about impossible, so I was only able to run a manual test:&lt;/p&gt;

&lt;p&gt;1. With a running DFS, I issued a create table command that would create a FileSystem object.&lt;br/&gt;
2. The DFS was shut down, and a create table command was issued again. This threw an IOException which would have cleared the cache.&lt;br/&gt;
3. The DFS was restarted, and I verified that a new create table command succeeded. &lt;/p&gt;

&lt;p&gt;Given that this is a straightforward change, the above should be sufficient to demonstrate that this doesn&apos;t break anything. &lt;/p&gt;</comment>
                            <comment id="12866712" author="namit" created="Wed, 12 May 2010 19:52:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12866900" author="namit" created="Wed, 12 May 2010 23:53:16 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442695" name="HIVE-1322.1.patch" size="3171" author="pauly" created="Fri, 23 Apr 2010 18:37:58 +0000"/>
                            <attachment id="12444259" name="HIVE-1322.2.patch" size="3147" author="pauly" created="Tue, 11 May 2010 23:42:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 May 2010 19:52:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lejb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1323] leading dash in partition name is not handled properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1323</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This works:&lt;/p&gt;

&lt;p&gt;create table tmp_jvs_fact_tz(x int)&lt;br/&gt;
partitioned by (ds string, hr string, gmtoffset string);&lt;/p&gt;

&lt;p&gt;alter table tmp_jvs_fact_tz &lt;br/&gt;
add partition (ds=&apos;2010-01-03&apos;, hr=&apos;1&apos;, gmtoffset=&apos;GMT-7&apos;);&lt;br/&gt;
insert overwrite table tmp_jvs_fact_daily &lt;br/&gt;
partition (ds=&apos;2010-01-03&apos;, hr=&apos;1&apos;, gmtoffset=&apos;GMT-7&apos;)&lt;br/&gt;
select foo from pokes;&lt;/p&gt;

&lt;p&gt;But this does not:&lt;/p&gt;

&lt;p&gt;create table tmp_jvs_fact_tz(x int)&lt;br/&gt;
partitioned by (ds string, hr string, gmtoffset string);&lt;/p&gt;

&lt;p&gt;alter table tmp_jvs_fact_tz &lt;br/&gt;
add partition (ds=&apos;2010-01-03&apos;, hr=&apos;1&apos;, gmtoffset=&apos;-7&apos;);&lt;br/&gt;
insert overwrite table tmp_jvs_fact_daily &lt;br/&gt;
partition (ds=&apos;2010-01-03&apos;, hr=&apos;1&apos;, gmtoffset=&apos;-7&apos;)&lt;br/&gt;
select foo from pokes;&lt;/p&gt;

&lt;p&gt;FAILED: Error in semantic analysis: line 2:11 Partition not found &apos;-7&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462896">HIVE-1323</key>
            <summary>leading dash in partition name is not handled properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Apr 2010 19:25:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:45 +0000</updated>
                            <resolved>Fri, 23 Apr 2010 19:30:13 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12860357" author="jvs" created="Fri, 23 Apr 2010 19:30:13 +0000"  >&lt;p&gt;Whoops, I had the wrong table name in the INSERT, never mind &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lejj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1324] support more than 1 reducer in local test mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1324</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently only 1 reducer is supported in local test mode.&lt;br/&gt;
In order to write unit tests that simulate real production environment, it would be desirable to support more than 1 reducer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462916">HIVE-1324</key>
            <summary>support more than 1 reducer in local test mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ted_yu">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Apr 2010 02:49:47 +0000</created>
                <updated>Fri, 28 Dec 2012 06:35:02 +0000</updated>
                            <resolved>Fri, 28 Dec 2012 06:35:02 +0000</resolved>
                                    <version>0.5.0</version>
                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12860561" author="jvs" created="Sat, 24 Apr 2010 18:29:32 +0000"  >&lt;p&gt;We actually have something called minimr mode where it runs with a mini DFS cluster and can run multiple reducers.  I recently checked in an automated unit test for the HBase bulk load which uses this:  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1295&quot; title=&quot;facilitate HBase bulk loads from Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1295&quot;&gt;&lt;del&gt;HIVE-1295&lt;/del&gt;&lt;/a&gt;.  I created the test file with the suffix .m instead of .q.&lt;/p&gt;

&lt;p&gt;There&apos;s a JIRA open for doing this for ql tests (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt;), so I think this is a dup, unless you actually want to add infrastructure for simulating map/reduce, which seems like too much work.&lt;/p&gt;

&lt;p&gt;We need to undo the ql/build.xml change from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1312&quot; title=&quot;hive trunk does not compile with hadoop 0.17 any more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1312&quot;&gt;&lt;del&gt;HIVE-1312&lt;/del&gt;&lt;/a&gt;, but make the classpath change only apply for Hadoop 0.20.&lt;/p&gt;</comment>
                            <comment id="13540363" author="ashutoshc" created="Fri, 28 Dec 2012 06:35:02 +0000"  >&lt;p&gt;Seems like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt; is tracking same thing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 24 Apr 2010 18:29:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08onj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1325] dynamic partition insert should throw an exception if the number of target table columns + dynamic partition columns does not equal to the number of select columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1325</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12462919">HIVE-1325</key>
            <summary>dynamic partition insert should throw an exception if the number of target table columns + dynamic partition columns does not equal to the number of select columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Apr 2010 07:04:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:39 +0000</updated>
                            <resolved>Mon, 26 Apr 2010 23:17:30 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12861125" author="namit" created="Mon, 26 Apr 2010 21:39:13 +0000"  >&lt;p&gt;I will take a look&lt;/p&gt;</comment>
                            <comment id="12861127" author="namit" created="Mon, 26 Apr 2010 21:40:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12861162" author="namit" created="Mon, 26 Apr 2010 23:17:30 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442740" name="HIVE-1325.2.patch" size="3493" author="nzhang" created="Sat, 24 Apr 2010 07:23:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Apr 2010 21:39:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lejr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1326] RowContainer uses hard-coded &apos;/tmp/&apos; path for temporary files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1326</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In our production hadoop environment, the &quot;/tmp/&quot; is actually pretty small, and we encountered a problem when a query used the RowContainer class and filled up the /tmp/ partition.  I tracked down the cause to the RowContainer class putting temporary files in the &apos;/tmp/&apos; path instead of using the configured Hadoop temporary path.  I&apos;ve attached a patch to fix this.&lt;/p&gt;

&lt;p&gt;Here&apos;s the traceback:&lt;/p&gt;

&lt;p&gt;2010-04-25 12:05:05,120 INFO org.apache.hadoop.hive.ql.exec.persistence.RowContainer: RowContainer created temp file /tmp/hive-rowcontainer-1244151903/RowContainer7816.tmp&lt;br/&gt;
2010-04-25 12:05:06,326 INFO ExecReducer: ExecReducer: processing 10000000 rows: used memory = 385520312&lt;br/&gt;
2010-04-25 12:05:08,513 INFO ExecReducer: ExecReducer: processing 11000000 rows: used memory = 341780472&lt;br/&gt;
2010-04-25 12:05:10,697 INFO ExecReducer: ExecReducer: processing 12000000 rows: used memory = 301446768&lt;br/&gt;
2010-04-25 12:05:12,837 INFO ExecReducer: ExecReducer: processing 13000000 rows: used memory = 399208768&lt;br/&gt;
2010-04-25 12:05:15,085 INFO ExecReducer: ExecReducer: processing 14000000 rows: used memory = 364507216&lt;br/&gt;
2010-04-25 12:05:17,260 INFO ExecReducer: ExecReducer: processing 15000000 rows: used memory = 332907280&lt;br/&gt;
2010-04-25 12:05:19,580 INFO ExecReducer: ExecReducer: processing 16000000 rows: used memory = 298774096&lt;br/&gt;
2010-04-25 12:05:21,629 INFO ExecReducer: ExecReducer: processing 17000000 rows: used memory = 396505408&lt;br/&gt;
2010-04-25 12:05:23,830 INFO ExecReducer: ExecReducer: processing 18000000 rows: used memory = 362477288&lt;br/&gt;
2010-04-25 12:05:25,914 INFO ExecReducer: ExecReducer: processing 19000000 rows: used memory = 327229744&lt;br/&gt;
2010-04-25 12:05:27,978 INFO ExecReducer: ExecReducer: processing 20000000 rows: used memory = 296051904&lt;br/&gt;
2010-04-25 12:05:28,155 FATAL ExecReducer: org.apache.hadoop.fs.FSError: java.io.IOException: No space left on device&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.write(RawLocalFileSystem.java:199)&lt;br/&gt;
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)&lt;br/&gt;
	at java.io.BufferedOutputStream.write(BufferedOutputStream.java:109)&lt;br/&gt;
	at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.write(FSDataOutputStream.java:49)&lt;br/&gt;
	at java.io.DataOutputStream.write(DataOutputStream.java:90)&lt;br/&gt;
	at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSOutputSummer.writeChunk(ChecksumFileSystem.java:346)&lt;br/&gt;
	at org.apache.hadoop.fs.FSOutputSummer.writeChecksumChunk(FSOutputSummer.java:150)&lt;br/&gt;
	at org.apache.hadoop.fs.FSOutputSummer.flushBuffer(FSOutputSummer.java:132)&lt;br/&gt;
	at org.apache.hadoop.fs.FSOutputSummer.flushBuffer(FSOutputSummer.java:121)&lt;br/&gt;
	at org.apache.hadoop.fs.FSOutputSummer.write1(FSOutputSummer.java:112)&lt;br/&gt;
	at org.apache.hadoop.fs.FSOutputSummer.write(FSOutputSummer.java:86)&lt;br/&gt;
	at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.write(FSDataOutputStream.java:49)&lt;br/&gt;
	at java.io.DataOutputStream.write(DataOutputStream.java:90)&lt;br/&gt;
	at org.apache.hadoop.io.SequenceFile$Writer.append(SequenceFile.java:1013)&lt;br/&gt;
	at org.apache.hadoop.io.SequenceFile$Writer.append(SequenceFile.java:977)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat$1.write(HiveSequenceFileOutputFormat.java:70)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.persistence.RowContainer.spillBlock(RowContainer.java:343)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.persistence.RowContainer.add(RowContainer.java:163)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.JoinOperator.processOp(JoinOperator.java:118)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:456)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecReducer.reduce(ExecReducer.java:244)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:436)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:158)&lt;br/&gt;
Caused by: java.io.IOException: No space left on device&lt;br/&gt;
	at java.io.FileOutputStream.writeBytes(Native Method)&lt;br/&gt;
	at java.io.FileOutputStream.write(FileOutputStream.java:260)&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem$LocalFSFileOutputStream.write(RawLocalFileSystem.java:197)&lt;br/&gt;
	... 22 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.19.2 with Hive trunk.  We&apos;re using FreeBSD 7.0, but that doesn&apos;t seem relevant.&lt;/p&gt;</environment>
        <key id="12462969">HIVE-1326</key>
            <summary>RowContainer uses hard-coded &apos;/tmp/&apos; path for temporary files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michaelklatt">Michael Klatt</assignee>
                                    <reporter username="michaelklatt">Michael Klatt</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Apr 2010 20:50:54 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:30 +0000</updated>
                            <resolved>Tue, 27 Apr 2010 22:53:39 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12860929" author="appodictic" created="Mon, 26 Apr 2010 14:12:10 +0000"  >&lt;p&gt;I am +1 on the concept.   Many times /tmp can be a ramdisk or mounted with some size restrictions. This type of bug an be very painful to track down when it happens.&lt;/p&gt;</comment>
                            <comment id="12861054" author="nzhang" created="Mon, 26 Apr 2010 19:08:31 +0000"  >&lt;p&gt;The general idea of why we put temp files and directories under /tmp is two fold:&lt;br/&gt;
 1) it allows easy clean up in case of any unexpected interruptions to the JVM. In the regular exits, these temp files/directories should be removed by JVM by deleteOnExit(), but if the JVM was killed/interrupted unexpected, these temp files could eventually take up all disk spaces and make the whole cluster hard to recover (imagine finding these temp files in thousands of machines). By putting it in /tmp, all these will be automatically removed whenever the machine is restarted, or cleaned up manually by just removing all files in /tmp. That&apos;s much easier in terms of Hadoop administration. &lt;br/&gt;
 2) /tmp seems to be a universally writable mounted point on all unix-based systems. So it should be a safe place to put the temporary files. But I agree that it would a good idea to introduce a new Hive parameter to let the user choose a customizable tmp directory, which should address Edward&apos;s point. &lt;/p&gt;

&lt;p&gt;I think we use File.createTempFile() previously and Yongqiang added another directory structure (parentFile). I think we can use File.createTempFile to create this directory as well (Yongqiang, please correct me if I&apos;m wrong), there there are several questions about the patch:&lt;/p&gt;

&lt;p&gt;1) File.createTempFile() will by default create temp files in java.io.tmpdir (/tmp or /var/tmp) according to JDK. I suspect most of the case JVM on Linux will use /tmp as the java.io.tmpdir, so in that caes your change won&apos;t achieve your purpose in most cases. &lt;br/&gt;
2) the random number generator is not needed if you can use File.createTempFile to create parentFile, because File.createTempFile guarantees its uniqueness for this JVM. The only case you need to prevent is the collision between different JVMs. This is why there is a check for parentFile.mkdir(). It actually acts like a write lock to the directory so that other JVM won&apos;t overwrite it. So parentFile.delete() should not be added because it may delete the directory created by another JVM who is still running.&lt;/p&gt;</comment>
                            <comment id="12861080" author="michaelklatt" created="Mon, 26 Apr 2010 20:17:49 +0000"  >
&lt;p&gt;In my brief experiments, I found that File.createTempFile() used the work/tmp path for the individual task (in Hadoop).  I suspect that the java.io.tmpdir is being set by the TaskTracker.  This has the advantage of letting Hadoop do the temporary file cleanup when the task cleanup happens.  I think it would be great if this was the default behavior, but admins could override that with a hive specific parameter.&lt;/p&gt;

&lt;p&gt;I don&apos;t have any attachment to the actual implementation.  I can spend more time to produce a different patch if needed, but I suspected someone would want to implement it differently.&lt;/p&gt;</comment>
                            <comment id="12861188" author="nzhang" created="Tue, 27 Apr 2010 00:38:06 +0000"  >&lt;p&gt;I guess this is due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-2735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-2735&lt;/a&gt; which set java.io.tmpdir to be dependent on mapred.tmp.dir. In that case the change of using createTempFile looks fine with me. Also can you remove the parentFile.delete() in your patch? If we set java.io.tmpdir to work/tmp then we don&apos;t have file name conflicts, But if the user choose to use shared /tmp then it may remove files created by other tasks. &lt;/p&gt;

&lt;p&gt;Yongqiang, any further comments?&lt;/p&gt;</comment>
                            <comment id="12861370" author="he yongqiang" created="Tue, 27 Apr 2010 11:24:46 +0000"  >&lt;p&gt;Agreed with Ning, looks fine to me.&lt;/p&gt;</comment>
                            <comment id="12861444" author="michaelklatt" created="Tue, 27 Apr 2010 16:16:06 +0000"  >
&lt;p&gt;The reason the parentFile.delete() call is there is because the File.createTempFile method actually creates a file. The code, as it currently is, creates a temporary directory to hold the rowcontainer file and I made the smallest change possible to continue to support this behavior.&lt;/p&gt;

&lt;p&gt;Looking at the code, it appears that the createTempFile mechanism is used several lines down to actually create the temporary file (within the new temporary directory). I&apos;m not sure why a temporary directory is created first, but I&apos;ll submit a new patch which doesn&apos;t try to create a temporary directory at all.&lt;/p&gt;</comment>
                            <comment id="12861449" author="michaelklatt" created="Tue, 27 Apr 2010 16:43:52 +0000"  >
&lt;p&gt;Hmm, on second thought, the parentFile (directory) is referenced in several places.  I&apos;m not familiar enough with Hive to know what these lines do:&lt;/p&gt;

&lt;p&gt;          HiveConf.setVar(jobCloneUsingLocalFs,&lt;br/&gt;
              HiveConf.ConfVars.HADOOPMAPREDINPUTDIR,&lt;br/&gt;
              org.apache.hadoop.util.StringUtils.escapeString(parentFile&lt;br/&gt;
              .getAbsolutePath()));&lt;/p&gt;

&lt;p&gt;If it weren&apos;t for these lines I could remove the parentFile variable all together.&lt;/p&gt;
</comment>
                            <comment id="12861467" author="nzhang" created="Tue, 27 Apr 2010 17:42:06 +0000"  >&lt;p&gt;Michael, the temporary directory is needed for a conditional task to handle skewed joins (that&apos;s why the JobConf is cloned but with a different path). The idea here is that whenever there many too many rows for a particular job key to be held in memory, they will be first write to local disk via RowContainer. If there are still too many rows to local disk, they will be write to a DFS location and a contitional task will be triggered to handle this skewed key. So if we create a temp directory in local disk and let all mappers write their temp files in that directory, then later when we want to move the data to HDFS, we just move the whole directory instead of moving individual files.&lt;/p&gt;

&lt;p&gt;+1 on v2. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12861608" author="nzhang" created="Tue, 27 Apr 2010 22:53:39 +0000"  >&lt;p&gt;Committed. Thanks Michael!&lt;/p&gt;</comment>
                            <comment id="12973466" author="hammer" created="Tue, 21 Dec 2010 04:28:02 +0000"  >&lt;p&gt;Hey,&lt;/p&gt;

&lt;p&gt;Could a Hive committer assign this issue to Michael in order to keep the JIRA metadata up to date?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442794" name="rowcontainer.patch" size="1035" author="michaelklatt" created="Sun, 25 Apr 2010 20:52:44 +0000"/>
                            <attachment id="12442971" name="rowcontainer_v2.patch" size="776" author="michaelklatt" created="Tue, 27 Apr 2010 16:44:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Apr 2010 14:12:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lejz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
