<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:40 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-2-15+AND+created+%3C%3D+2011-2-22+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="5" total="5"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1995] Mismatched open/commit transaction calls when using get_partition()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1995</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Nested executeWithRetry() calls caused by using HiveMetaStore.get_partition() can result in mis-matched open/commit calls. Fixes the same issue as described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1760&quot; title=&quot;Mismatched open/commit transaction calls in case of connection retry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1760&quot;&gt;&lt;del&gt;HIVE-1760&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498712">HIVE-1995</key>
            <summary>Mismatched open/commit transaction calls when using get_partition()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Feb 2011 02:23:25 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:31 +0000</updated>
                            <resolved>Wed, 16 Feb 2011 06:21:09 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12995147" author="nzhang" created="Wed, 16 Feb 2011 03:58:21 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12995189" author="nzhang" created="Wed, 16 Feb 2011 06:21:09 +0000"  >&lt;p&gt;Committed. Thanks Paul!&lt;/p&gt;</comment>
                            <comment id="12996617" author="cwsteinbach" created="Fri, 18 Feb 2011 22:19:14 +0000"  >&lt;p&gt;Backport to branch-0.7.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471144" name="HIVE-1995.1.patch" size="3977" author="pauly" created="Wed, 16 Feb 2011 02:25:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Feb 2011 03:58:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1996] &quot;LOAD DATA INPATH&quot; fails when the table already contains a file of the same name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1996</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Steps:&lt;/p&gt;

&lt;p&gt;1. From the command line copy the kv2.txt data file into the current user&apos;s HDFS directory:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;$ hadoop fs -copyFromLocal /path/to/hive/sources/data/files/kv2.txt kv2.txt&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;2. In Hive, create the table:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;create table tst_src1 (key_ int, value_ string);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;3. Load the data into the table from HDFS:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;load data inpath &apos;./kv2.txt&apos; into table tst_src1;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;4. Repeat step 1&lt;br/&gt;
5. Repeat step 3&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;To have kv2.txt renamed in HDFS and then copied to the destination as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-307&quot; title=&quot;&amp;quot;LOAD DATA LOCAL INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-307&quot;&gt;&lt;del&gt;HIVE-307&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Actual:&lt;/p&gt;

&lt;p&gt;File is renamed, but &lt;tt&gt;Hive.copyFiles&lt;/tt&gt; doesn&apos;t &quot;see&quot; the change in &lt;tt&gt;srcs&lt;/tt&gt; as it continues to use the same array elements (with the un-renamed, old file names). It crashes with this error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
    at org.apache.hadoop.hive.ql.metadata.Hive.copyFiles(Hive.java:1725)
    at org.apache.hadoop.hive.ql.metadata.Table.copyFiles(Table.java:541)
    at org.apache.hadoop.hive.ql.metadata.Hive.loadTable(Hive.java:1173)
    at org.apache.hadoop.hive.ql.exec.MoveTask.execute(MoveTask.java:197)
    at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:130)
    at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)
    at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1060)
    at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:897)
    at org.apache.hadoop.hive.ql.Driver.run(Driver.java:745)
    at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:164)
    at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:241)
    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:456)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12498804">HIVE-1996</key>
            <summary>&quot;LOAD DATA INPATH&quot; fails when the table already contains a file of the same name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="kirktrue">Kirk True</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Feb 2011 20:21:02 +0000</created>
                <updated>Mon, 7 Apr 2014 18:52:05 +0000</updated>
                            <resolved>Mon, 7 Apr 2014 18:52:05 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.8.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12995499" author="kirktrue" created="Wed, 16 Feb 2011 20:24:21 +0000"  >&lt;p&gt;This is very closely related to, but not the same as, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-307&quot; title=&quot;&amp;quot;LOAD DATA LOCAL INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-307&quot;&gt;&lt;del&gt;HIVE-307&lt;/del&gt;&lt;/a&gt;. That bug specifically pertains to &lt;tt&gt;LOCAL&lt;/tt&gt; files.&lt;/p&gt;</comment>
                            <comment id="13036197" author="chinnalalam" created="Thu, 19 May 2011 14:08:19 +0000"  >&lt;p&gt;After file name got changed it is trying to load with the old name because of this load is failed. &lt;br/&gt;
Now we have changed the code like,  load with the changed filename  for that introduced a map it will maintain  the old name and changed filename as  key  value pair  and  while loading need to use this map.&lt;/p&gt;</comment>
                            <comment id="13061622" author="jvs" created="Thu, 7 Jul 2011 21:52:51 +0000"  >&lt;p&gt;I tried running the test, but it fails for me.  I looked in hive.log and found&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-07-07 14:45:34,359 ERROR hive.log (MetaStoreUtils.java:logAndThrowMetaException(778)) - java.io.FileNotFoundException: File file:/tmp1/load2_overwrite2 does not exist.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13088903" author="chinnalalam" created="Mon, 22 Aug 2011 18:31:28 +0000"  >&lt;p&gt;This scenario will work if load from local but it will fail if loading from File-system. To replicate this scenarios i have used this queries &quot;create table load_overwrite2 (key string, value string) stored as textfile location &apos;file:/tmp1/load2_overwrite2&apos;;&quot; so as part of this query execution it should create this &quot;file:/tmp1/load2_overwrite2&quot;. I have verified this in my environment it is working without fail. Pls let me know if any issues.&lt;/p&gt;</comment>
                            <comment id="13088911" author="jiraposter@reviews.apache.org" created="Mon, 22 Aug 2011 18:37:29 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1610/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&quot;LOAD DATA INPATH&quot; fails when the table already contains a file of the same name. If any name confilcts occurs it will rename the file, After file name got changed it is trying to load with the old name because of this load is failed. Now we have changed the code like, load with the changed filename for that introduced a map it will maintain the old name and changed filename as key value pair and while loading need to use this map.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; title=&quot;&amp;quot;LOAD DATA INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1996&quot;&gt;&lt;del&gt;HIVE-1996&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1996&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1160102 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/input44.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/input44.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1610/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1610/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added a test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13103155" author="he yongqiang" created="Mon, 12 Sep 2011 22:53:27 +0000"  >&lt;p&gt;For this, we need to make the rename optional, and by default disabled. If disabled rename, should throw an error to user.&lt;/p&gt;</comment>
                            <comment id="13103814" author="chinnalalam" created="Tue, 13 Sep 2011 17:39:56 +0000"  >&lt;p&gt;Agreed, I will update the patch with configuration.&lt;/p&gt;</comment>
                            <comment id="13109247" author="chinnalalam" created="Wed, 21 Sep 2011 04:01:52 +0000"  >&lt;p&gt;Hi He Yongqiang,&lt;br/&gt;
Here these 2 scenarios need to consider&lt;br/&gt;
1)If rename disabled  load one data folder that contains 10 files like 1.txt,2.txt...,10.txt   here in the table already one file present with same name 5.txt. While loading 5.txt it will throw the  exception and operation will fail but here already loaded file(1.txt,2.txt....4.txt) will present...&lt;/p&gt;

&lt;p&gt; 1.txt,2.txt...,10.txt   here in the table already one file present with same name 6.txt. While loading 6.txt it will throw the  exception and operation will fail but here already loaded file(1.txt,2.txt....4.txt,5.txt ) will present...&lt;/p&gt;

&lt;p&gt;	So its mainly dependent on the order and can cause inconsistencies.&lt;/p&gt;

&lt;p&gt;2)In the current implementation also &quot;org.apache.hadoop.hive.ql.metadata.Hive.copyFiles(Path, Path, FileSystem)&quot;  if any of the file it is unable to rename it will throw exception but for the same operation some file will be loaded.&lt;/p&gt;

&lt;p&gt;Proposed Sol:  While loading if any exception comes note that file as unloaded file and continue the load with remaining files  and operation will fail with the exception and unloaded file information  so user can retry loading the unloaded files alone. Here there is no inconsistent data.&lt;/p&gt;

&lt;p&gt;Pls give u r inputs&lt;/p&gt;</comment>
                            <comment id="13147146" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 16:45:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1610/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-09 16:44:55.708392)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Load rename made it configurable.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&quot;LOAD DATA INPATH&quot; fails when the table already contains a file of the same name. If any name confilcts occurs it will rename the file, After file name got changed it is trying to load with the old name because of this load is failed. Now we have changed the code like, load with the changed filename for that introduced a map it will maintain the old name and changed filename as key value pair and while loading need to use this map.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; title=&quot;&amp;quot;LOAD DATA INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1996&quot;&gt;&lt;del&gt;HIVE-1996&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1996&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1198626 &lt;br/&gt;
  trunk/conf/hive-default.xml 1198626 &lt;br/&gt;
  trunk/data/conf/hive-site.xml 1198626 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1198626 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1198626 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/input47.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/input47.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1610/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1610/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added a test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13166594" author="namit" created="Fri, 9 Dec 2011 21:44:01 +0000"  >&lt;p&gt;Yongqiang, can you take a look ?&lt;/p&gt;</comment>
                            <comment id="13858997" author="antonbas" created="Mon, 30 Dec 2013 19:03:36 +0000"  >&lt;p&gt;Is this bug solved in hive-0.10.0_cdh4.2.0_20130411_1129?&lt;br/&gt;
I&apos;m having this behavior in this version.&lt;br/&gt;
Regards&lt;/p&gt;</comment>
                            <comment id="13859024" author="hiveqa" created="Mon, 30 Dec 2013 19:41:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12503097/HIVE-1996.2.Patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12503097/HIVE-1996.2.Patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/772/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/772/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/772/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/772/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-772/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/DriverContext.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/TaskRunner.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/Driver.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1554298.

Updated to revision 1554298.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12503097&lt;/p&gt;</comment>
                            <comment id="13962136" author="chinnalalam" created="Mon, 7 Apr 2014 18:52:05 +0000"  >&lt;p&gt;This issue is solved as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12491240" name="HIVE-1996.1.Patch" size="28131" author="chinnalalam" created="Mon, 22 Aug 2011 18:25:20 +0000"/>
                            <attachment id="12503097" name="HIVE-1996.2.Patch" size="13817" author="chinnalalam" created="Wed, 9 Nov 2011 16:43:13 +0000"/>
                            <attachment id="12479770" name="HIVE-1996.Patch" size="9217" author="chinnalalam" created="Thu, 19 May 2011 13:32:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 May 2011 14:08:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1997] Map join followed by multi-table insert will generate duplicated result</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1997</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Map join followed by multi-table insert will generate duplicated result, if the insert targets contain both direct insert (FileSinkOperator logic) and group by/distribute by (ReduceSinkOperator logic).&lt;/p&gt;

&lt;p&gt;The following query regenerate the case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FROM
(SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(x) */&lt;/span&gt; x.key as key1, x.value as value1, y.key as key2, y.value as value2
 FROM src1 x JOIN src y ON (x.key = y.key)) subq
INSERT OVERWRITE TABLE destpart PARTITION (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2010-12-12&apos;&lt;/span&gt;)
SELECT key1, value1
INSERT OVERWRITE TABLE destpart PARTITION (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2010-12-13&apos;&lt;/span&gt;)
SELECT key2, value2
GROUP BY key2, value2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In that query above, records of table destpart(ds=&apos;2010-12-12&apos;) is duplicated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498828">HIVE-1997</key>
            <summary>Map join followed by multi-table insert will generate duplicated result</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tedxu">Ted Xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Feb 2011 06:39:21 +0000</created>
                <updated>Fri, 25 Feb 2011 03:34:31 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1998] Update README.txt and add missing ASF headers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1998</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Need to update README.txt for the 0.7.0 release. Also need to add missing ASF file headers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498961">HIVE-1998</key>
            <summary>Update README.txt and add missing ASF headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Feb 2011 21:38:58 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:27 +0000</updated>
                            <resolved>Sun, 20 Feb 2011 07:03:47 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12996103" author="cwsteinbach" created="Thu, 17 Feb 2011 21:43:38 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/434/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Add missing ASF headers.&lt;/li&gt;
	&lt;li&gt;Update README.txt and replace references to the version with @VERSION@ which will get replaced at build time.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12997101" author="jvs" created="Sun, 20 Feb 2011 07:03:47 +0000"  >&lt;p&gt;Committed to branch and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471339" name="HIVE-1998.1.patch.txt" size="73057" author="cwsteinbach" created="Thu, 17 Feb 2011 21:39:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 20 Feb 2011 07:03:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1999] optimize map-join followed by groupby</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1999</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A query like:&lt;/p&gt;

&lt;p&gt;select /*+ MAPJOIN(a) */ ... from a join b on ..&lt;br/&gt;
group by a.c1,b.c2;&lt;/p&gt;

&lt;p&gt;should be performed in 1 MR job.&lt;/p&gt;

&lt;p&gt;This should be later optimized for joins also - if the join can be converted to a map-join.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499169">HIVE-1999</key>
            <summary>optimize map-join followed by groupby</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Feb 2011 16:10:37 +0000</created>
                <updated>Sat, 2 Apr 2011 09:34:10 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13014977" author="tedxu" created="Sat, 2 Apr 2011 09:34:09 +0000"  >&lt;p&gt;Is this duplicate to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1695&quot; title=&quot;MapJoin followed by ReduceSink should be done as single MapReduce Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1695&quot;&gt;&lt;del&gt;HIVE-1695&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Apr 2011 09:34:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08njr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
