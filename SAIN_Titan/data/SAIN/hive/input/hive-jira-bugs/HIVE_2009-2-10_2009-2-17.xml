<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:12:54 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-2-10+AND+created+%3C%3D+2009-2-17+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="9" total="9"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-285] UNION ALL does not allow different types in the same column</title>
                <link>https://issues.apache.org/jira/browse/HIVE-285</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;explain INSERT OVERWRITE TABLE t
    SELECT s.r, s.c, sum(s.v) FROM
    (
      SELECT a.r AS r, a.c AS c, a.v AS v FROM t1 a
      UNION ALL
      SELECT b.r AS r, b.c AS c, 0 + b.v AS v FROM t2 b
    ) s
    GROUP BY s.r, s.c;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both a and b have 3 string columns: r, c, and v.&lt;/p&gt;

&lt;p&gt;It compiled successfully but failed during runtime.&lt;br/&gt;
&quot;Explain&quot; shows that the plan for the 2 union-all operands have different output types that are converged to STRING, but there is no UDFToString inserted for &quot;0 + b.v AS v&quot; and as a result, SerDe was failing because it expects a String but is passed a Double.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12414435">HIVE-285</key>
            <summary>UNION ALL does not allow different types in the same column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2009 01:49:40 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:00 +0000</updated>
                            <resolved>Wed, 18 Mar 2009 18:29:49 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12672112" author="zshao" created="Tue, 10 Feb 2009 01:52:01 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
ABSTRACT SYNTAX TREE:
  (TOK_QUERY (TOK_FROM (TOK_SUBQUERY (TOK_UNION (TOK_QUERY (TOK_FROM (TOK_TABREF t1 a)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF a r) r) (TOK_SELEXPR (TOK_COLREF a c) c) (TOK_SELEXPR (TOK_COLREF a v) v)))) (TOK_QUERY (TOK_FROM (TOK_TABREF t2 b)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF b r) r) (TOK_SELEXPR (TOK_COLREF b c) c) (TOK_SELEXPR (+ 0 (TOK_COLREF b v)) v))))) s)) (TOK_INSERT (TOK_DESTINATION (TOK_TAB t)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF s r)) (TOK_SELEXPR (TOK_COLREF s c)) (TOK_SELEXPR (TOK_FUNCTION sum (TOK_COLREF s v)))) (TOK_GROUPBY (TOK_COLREF s r) (TOK_COLREF s c))))

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-2 depends on stages: Stage-1
  Stage-0 depends on stages: Stage-2

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-subquery2:s-subquery2:b
            Select Operator
              expressions:
                    expr: r
                    type: string
                    expr: c
                    type: string
                    expr: (UDFToDouble(0) + UDFToDouble(v))
                    type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
                Reduce Output Operator
                  key expressions:
                        expr: 0
                        type: string
                        expr: 1
                        type: string
                  sort order: ++
                  Map-reduce partition columns:
                        expr: rand()
                        type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
                  tag: -1
                  value expressions:
                        expr: 2
                        type: string
        &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-subquery1:s-subquery1:a
            Select Operator
              expressions:
                    expr: r
                    type: string
                    expr: c
                    type: string
                    expr: v
                    type: string
                Reduce Output Operator
                  key expressions:
                        expr: 0
                        type: string
                        expr: 1
                        type: string
                  sort order: ++
                  Map-reduce partition columns:
                        expr: rand()
                        type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
                  tag: -1
                  value expressions:
                        expr: 2
                        type: string
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: sum(UDFToDouble(VALUE.0))
          keys:
                expr: KEY.0
                type: string
                expr: KEY.1
                type: string
          mode: partial1
          File Output Operator
            compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                name: binary_table

  Stage: Stage-2
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        /tmp/hive-zshao/20312763/835544260.10001
          Reduce Output Operator
            key expressions:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
            sort order: ++
            Map-reduce partition columns:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
            tag: -1
            value expressions:
                  expr: 2
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: sum(VALUE.0)
          keys:
                expr: KEY.0
                type: string
                expr: KEY.1
                type: string
          mode: &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;
          Select Operator
            expressions:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
                  expr: 2
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
              table:
                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                  output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                  serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe
                  name: t

  Stage: Stage-0
    Move Operator
      tables:
            replace: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe
                name: t
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 


&lt;p&gt;Note that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                    expr: (UDFToDouble(0) + UDFToDouble(v))
                    type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
                    ...
                  value expressions:
                        expr: 2
                        type: string
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12677002" author="rsm" created="Thu, 26 Feb 2009 14:11:47 +0000"  >&lt;p&gt;Union should reject mismatched schemas. genUnionPlan was not checking for types (only number and names of columns). I have now added checking for types as well. Also added a negative test case.&lt;/p&gt;</comment>
                            <comment id="12677149" author="namit" created="Thu, 26 Feb 2009 21:37:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;maybe, we can file a extension later on if someone asks for a type conversion in UNION&lt;/p&gt;</comment>
                            <comment id="12680803" author="rsm" created="Wed, 11 Mar 2009 08:40:45 +0000"  >&lt;p&gt;type conversion in UNION will lead to confusing behavior. &lt;/p&gt;

&lt;p&gt;for a query like the following on two tables R(a int) and S(a string)&lt;/p&gt;

&lt;p&gt;select a from R&lt;br/&gt;
union all&lt;br/&gt;
select a from S&lt;/p&gt;

&lt;p&gt;What will the schema of the result of the join be? int or string?&lt;/p&gt;</comment>
                            <comment id="12680911" author="jsensarma" created="Wed, 11 Mar 2009 16:25:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12680935" author="prasadc" created="Wed, 11 Mar 2009 17:23:42 +0000"  >&lt;p&gt;i think it will be double. users can use cast to a specific type&lt;/p&gt;</comment>
                            <comment id="12680979" author="athusoo" created="Wed, 11 Mar 2009 18:50:33 +0000"  >&lt;p&gt;Just checked this on Oracle and mysql with Rama..&lt;/p&gt;

&lt;p&gt;Oracle does not do any implict conversion and gives a type mismatch.&lt;/p&gt;

&lt;p&gt;on the other hand&lt;/p&gt;

&lt;p&gt;mysql does an implicit converion to varbinary which I think is equivalent to blob.&lt;/p&gt;

&lt;p&gt;Given that we do not have blobs as data types I am perfectly fine with throwing a type mismatch for now.&lt;/p&gt;</comment>
                            <comment id="12682974" author="rsm" created="Wed, 18 Mar 2009 09:51:15 +0000"  >&lt;p&gt;ping&lt;/p&gt;</comment>
                            <comment id="12682992" author="rsm" created="Wed, 18 Mar 2009 11:11:38 +0000"  >&lt;p&gt;Looks like some other test was creating a table named t2 with a different schema. Dropping the table now.&lt;/p&gt;</comment>
                            <comment id="12683110" author="namit" created="Wed, 18 Mar 2009 17:56:09 +0000"  >&lt;p&gt;running tests now to commit&lt;/p&gt;</comment>
                            <comment id="12683122" author="namit" created="Wed, 18 Mar 2009 18:29:49 +0000"  >&lt;p&gt;committed. Thanks Raghu&lt;/p&gt;</comment>
                            <comment id="12778503" author="akramer" created="Mon, 16 Nov 2009 20:18:31 +0000"  >&lt;p&gt;I am the guy asking for type conversion.&lt;/p&gt;

&lt;p&gt;I think that the right thing to do in all cases with a UNION ALL command is to convert mismatched types to STRING.&lt;/p&gt;

&lt;p&gt;The main argument for this is that the output of a UNION ALL is never actually used for anything-&lt;del&gt;it must be wrapped in a SELECT statement which will then make use of the columns. If the SELECT statement selects the UNIONed item as a string (say, for output to local directory or the terminal) everything is converted to string anyway&lt;/del&gt;-or if not, it&apos;s used in a way that would cause one or both of the original column types to be converted in some way...and conversion to STRING and back does not lose information.&lt;/p&gt;

&lt;p&gt;Certainly, data should stay in the appropriate type if possible, though. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12415297">HIVE-297</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12401045" name="hive-285.1.patch" size="1892" author="rsm" created="Thu, 26 Feb 2009 14:11:47 +0000"/>
                            <attachment id="12402475" name="hive-285.2.patch" size="1945" author="rsm" created="Wed, 18 Mar 2009 11:11:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Feb 2009 14:11:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73646</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-286] testCliDriver_udf7 fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-286</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf7 test fails.&lt;br/&gt;
See this url for more information: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.19/lastBuild/testReport/org.apache.hadoop.hive.cli/TestCliDriver/testCliDriver_udf7/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.19/lastBuild/testReport/org.apache.hadoop.hive.cli/TestCliDriver/testCliDriver_udf7/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu, Java6, Hadoop 0.17, 0.18 and 0.19&lt;/p&gt;</environment>
        <key id="12414661">HIVE-286</key>
            <summary>testCliDriver_udf7 fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2009 11:36:46 +0000</created>
                <updated>Mon, 9 Mar 2009 09:35:31 +0000</updated>
                            <resolved>Sun, 8 Mar 2009 10:41:34 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12673098" author="athusoo" created="Fri, 13 Feb 2009 00:22:32 +0000"  >&lt;p&gt;Seems to be related to precision?&lt;/p&gt;

&lt;p&gt;diff -a -I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /home/hudson/hudson-slave/workspace/Hive-trunk-h0.19/hive/build/ql/test/logs/clientpositive/udf7.q.out /home/hudson/hudson-slave/workspace/Hive-trunk-h0.19/hive/ql/src/test/results/clientpositive/udf7.q.out&lt;br/&gt;
77c77&lt;br/&gt;
&amp;lt; 1.0986122886681098	NULL	NULL	1.0986122886681098	NULL	NULL	1.5849625007211563	NULL	NULL	0.47712125471966244	NULL	NULL	1.5849625007211563	NULL	NULL	NULL	-1.0	7.38905609893065	8.0	8.0	0.125	8.0	2.0	NaN	1.0&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt; 1.0986122886681096	NULL	NULL	1.0986122886681096	NULL	NULL	1.584962500721156	NULL	NULL	0.4771212547196623	NULL	NULL	1.584962500721156	NULL	NULL	NULL	-1.0	7.38905609893065	8.0	8.0	0.125	8.0	2.0	NaN	1.0&lt;br/&gt;
Exception: Client execution results dailed with error code = 1&lt;/p&gt;</comment>
                            <comment id="12677846" author="rsm" created="Sun, 1 Mar 2009 21:16:43 +0000"  >&lt;p&gt;getting tired of seeing the build errors because of this. Cant we just use DecimalFormat and print out 4 digits after the decimal (similar to mysql)? We can later add a DECIMAL type which supports user specified precision and scale. I have attached changes to LazySimpleSerDe. &lt;/p&gt;</comment>
                            <comment id="12677857" author="prasadc" created="Sun, 1 Mar 2009 22:09:14 +0000"  >&lt;p&gt;this change might break existing code which may assume large precision. we should make it configurable until we have proper decimal type.&lt;/p&gt;</comment>
                            <comment id="12677863" author="zshao" created="Sun, 1 Mar 2009 22:48:07 +0000"  >&lt;p&gt;Agree. We should not sacrifice the precision in default.&lt;/p&gt;

&lt;p&gt;The MySQL function closest to sprintf is &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_format&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_format&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let&apos;s add that format function instead, and use it in the test cases to make sure it does not fail again.&lt;/p&gt;</comment>
                            <comment id="12679959" author="zshao" created="Sun, 8 Mar 2009 06:44:37 +0000"  >&lt;p&gt;Use round(xxx,12) to make sure there is no precision matching problem in testing.&lt;/p&gt;</comment>
                            <comment id="12679976" author="johanoskarsson" created="Sun, 8 Mar 2009 10:41:34 +0000"  >&lt;p&gt;Committed revision 751398. Thanks Zheng!&lt;/p&gt;</comment>
                            <comment id="12680033" author="zshao" created="Mon, 9 Mar 2009 01:51:33 +0000"  >&lt;p&gt;Thanks for the quick commit Johan!&lt;br/&gt;
Can you close the issue and put the new line in CHANGES.txt in the &quot;Release note&quot; section?&lt;/p&gt;</comment>
                            <comment id="12680099" author="johanoskarsson" created="Mon, 9 Mar 2009 09:31:02 +0000"  >&lt;p&gt;The release note is already there. So the Hive way is to close the issue rather then resolve it? Closing it now as requested.&lt;/p&gt;</comment>
                            <comment id="12680101" author="zshao" created="Mon, 9 Mar 2009 09:35:31 +0000"  >&lt;p&gt;Hi Johan, &quot;Resolved&quot; is good enough. Somehow I didn&apos;t see the issue was resolved last time. The next time you just need to resolve the issue as usual.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401703" name="HIVE-286.2.patch" size="6584" author="zshao" created="Sun, 8 Mar 2009 06:44:37 +0000"/>
                            <attachment id="12401206" name="hive-286.1.patch" size="2541" author="rsm" created="Sun, 1 Mar 2009 21:16:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Feb 2009 00:22:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-286&quot; title=&quot;testCliDriver_udf7 fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-286&quot;&gt;&lt;strike&gt;HIVE-286&lt;/strike&gt;&lt;/a&gt;. Use round(xxx,12) to make sure there is no precision matching problem in testCliDriver_udf7. (zshao via johan)   </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-287] support count(*) and count distinct on multiple columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-287</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query does not work:&lt;/p&gt;


&lt;p&gt;select count(distinct col1, col2) from Tbl&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414689">HIVE-287</key>
            <summary>support count(*) and count distinct on multiple columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aprabhakar">Arvind Prabhakar</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2009 19:31:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:51 +0000</updated>
                            <resolved>Mon, 12 Jul 2010 01:24:40 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12680731" author="rsm" created="Wed, 11 Mar 2009 02:10:26 +0000"  >&lt;p&gt;results in a compiler error:&lt;/p&gt;

&lt;p&gt;FAILED: Error in semantic analysis: line 2:7 Function Argument Type Mismatch count: Looking for UDAF Evaluator&quot;count&quot; with parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;class java.lang.String, class java.lang.String&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12720500" author="psalami" created="Wed, 17 Jun 2009 05:16:14 +0000"  >&lt;p&gt;confirmed: happened to me as well; anyone have any workarounds?&lt;/p&gt;</comment>
                            <comment id="12720511" author="namit" created="Wed, 17 Jun 2009 06:01:04 +0000"  >&lt;p&gt;can you try:&lt;/p&gt;

&lt;p&gt;select count(1) from (select col1, col2, count(1) from tbl group by col1, col2);&lt;/p&gt;</comment>
                            <comment id="12720900" author="psalami" created="Wed, 17 Jun 2009 21:13:08 +0000"  >&lt;p&gt;Thanks for the reply! However, I get a parse error when I try this query:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; select count(1) from (select product_url, name, count(1) from&lt;br/&gt;
raw_product group by product_url, name);&lt;br/&gt;
FAILED: Parse Error: line 0:-1 mismatched input &apos;&amp;lt;EOF&amp;gt;&apos; expecting&lt;br/&gt;
Identifier in group by expression&lt;/p&gt;

&lt;p&gt;here is my schema:&lt;br/&gt;
hive&amp;gt; describe raw_product;&lt;br/&gt;
OK&lt;br/&gt;
id      int&lt;br/&gt;
merchant_product_id     int&lt;br/&gt;
network_id      int&lt;br/&gt;
network_merchant_id     int&lt;br/&gt;
name    string&lt;br/&gt;
brand   string&lt;br/&gt;
category_name   string&lt;br/&gt;
sku     string&lt;br/&gt;
product_url     string&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;--Patrick&lt;/p&gt;





&lt;p&gt;&amp;#8211; &lt;br/&gt;
___________________________________&lt;br/&gt;
Patrick Salami | Senior Software Engineer&lt;br/&gt;
Extrabux, Inc | &lt;a href=&quot;http://www.extrabux.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.extrabux.com&lt;/a&gt;&lt;br/&gt;
patrick@extrabux.com | (858) 449-2241&lt;/p&gt;</comment>
                            <comment id="12720917" author="namit" created="Wed, 17 Jun 2009 21:45:11 +0000"  >
&lt;p&gt;You need to use an alias for the sub-query&lt;/p&gt;

&lt;p&gt;select count(1) from (select product_url, name, count(1) from raw_product group by product_url, name)x&lt;/p&gt;</comment>
                            <comment id="12869710" author="aprabhakar" created="Thu, 20 May 2010 18:29:02 +0000"  >&lt;p&gt;&lt;b&gt;Summary&lt;/b&gt;&lt;br/&gt;
This patch fixes the &lt;tt&gt;count()&lt;/tt&gt; aggregate function to be consistent with SQL. Specifically:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Provides support for &lt;tt&gt;SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM table&lt;/tt&gt; queries, where it returns the total number of rows of the table.&lt;/li&gt;
	&lt;li&gt;Also extended the support for &lt;tt&gt;count()&lt;/tt&gt; to include multiple expression list. &lt;tt&gt;count(DISTINCT expr1, exp2,...)&lt;/tt&gt; returns the number of non-NULL and different valued rows from the evaluated expressions.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Details&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Modified HiveQL grammar to allow function invocation with a single * in place of parameter list.&lt;/li&gt;
	&lt;li&gt;Propagated the presence of * as parameter or specification of &lt;tt&gt;DISTINCT&lt;/tt&gt; keyword in the UDF resolver framework so that it can be used by UDFs that behave differently when these are applicable.&lt;/li&gt;
	&lt;li&gt;Modified the &lt;tt&gt;count()&lt;/tt&gt; UDAF to support the same semantics of handling NULL values as regular SQL.&lt;/li&gt;
	&lt;li&gt;Added test case to specifically exercise the newly introduced semantics of the count UDAF.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Testing&lt;/b&gt;&lt;br/&gt;
Ran all tests. Noted only two failures (input20.q, input33.q) which were found to be failing on the local trunk image as well.&lt;/p&gt;

&lt;p&gt;If and when this patch is committed to the trunk, I will go ahead and update the Hive Wiki with details and examples regarding the use of &lt;tt&gt;count()&lt;/tt&gt; UDAF in various forms.&lt;/p&gt;</comment>
                            <comment id="12870789" author="namit" created="Mon, 24 May 2010 19:05:44 +0000"  >&lt;p&gt;Overall looks good, some minor comments:&lt;/p&gt;

&lt;p&gt;1. This should be independent of COUNT - so, all basically all aggregation functions should be supported with DISTINCT.&lt;br/&gt;
    For eg: select avg(distinct c1,c2) from T&lt;/p&gt;

&lt;p&gt; and so on.&lt;/p&gt;

&lt;p&gt;2. It would be a good idea to maintain some compatibility for the existing interface - so, can we add another method to UDAFResolver, which&lt;br/&gt;
    has the new API - and a common class which invokes the default implementation, that would be better.&lt;/p&gt;

&lt;p&gt;3. Follows from 1 - more tests are needed&lt;/p&gt;</comment>
                            <comment id="12870860" author="aprabhakar" created="Mon, 24 May 2010 21:46:11 +0000"  >&lt;p&gt;Thanks for taking a look at this patch Namit. I have some questions and clarifcations regarding your feedback:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;1. This should be independent of COUNT - so, all basically all aggregation functions should be supported with DISTINCT.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;For eg: select avg(distinct c1,c2) from T&lt;/p&gt;

&lt;p&gt;Not sure how this relates to the change I made. Even before making this change, the DISTINCT qualifier was allowed for any function invocation. Can you elaborate what you mean by this? Specifically, which part of the patch needs to be changed in order to accomodate this request.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;2. It would be a good idea to maintain some compatibility for the existing interface - so, can we add another method to UDAFResolver, which has the new API - and a common class which invokes the default implementation, that would be better.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Here is what I understand your suggestion as: Add a new method to GenericUDAFResolver interface maintaining the old method. Create an abstract base class that implements the new interface method and invokes the old method by dropping isDistinct/isAllColumn arguments. Extend the current resolvers to override this method. Will this address your concern? If not, can you provide a concrete example.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;3. Follows from 1 - more tests are needed&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are you suggesting more tests for array_contains UDF or to add more tests for other UDFs? Please clarify with examples if possible.&lt;/p&gt;</comment>
                            <comment id="12871310" author="namit" created="Tue, 25 May 2010 19:27:51 +0000"  >
&lt;p&gt;I am sorry about 1 and 3 - you can ignore those.&lt;/p&gt;



&lt;p&gt;2. It would be a good idea to maintain some compatibility for the existing interface - so, can we add another method to UDAFResolver, which has the new API - and a common class which invokes the default implementation, that would be better.&lt;/p&gt;

&lt;p&gt;Here is what I understand your suggestion as: Add a new method to GenericUDAFResolver interface maintaining the old method. Create an abstract base class that implements the new interface method and invokes the old method by dropping isDistinct/isAllColumn arguments. Extend the current resolvers to override this method. Will this address your concern? If not, can you provide a concrete example.&lt;/p&gt;


&lt;p&gt;&amp;#8211; yes&lt;/p&gt;


</comment>
                            <comment id="12871494" author="aprabhakar" created="Wed, 26 May 2010 03:53:04 +0000"  >&lt;p&gt;Modified the implementation as per review feedback - Introduced an abstract base class and reverted the resolvers to extend that instead of directly implementing the new functionality.&lt;/p&gt;

</comment>
                            <comment id="12879147" author="namit" created="Tue, 15 Jun 2010 22:23:29 +0000"  >&lt;p&gt;Arvind, I am sorry about the delay in getting back to this.&lt;br/&gt;
Can you regenerate the patch - it is not applying cleanly. &lt;br/&gt;
I will look at it right away&lt;/p&gt;</comment>
                            <comment id="12879395" author="aprabhakar" created="Wed, 16 Jun 2010 17:18:22 +0000"  >&lt;p&gt;Submitting the regenerated patch with lastest trunk image. Patch file is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-287&quot; title=&quot;support count(*) and count distinct on multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-287&quot;&gt;&lt;del&gt;HIVE-287&lt;/del&gt;&lt;/a&gt;-3.patch.&lt;/p&gt;</comment>
                            <comment id="12879929" author="jvs" created="Thu, 17 Jun 2010 20:58:00 +0000"  >&lt;p&gt;Sorry to chime in late on this one, but I have one big question on this one:  can we instead do it in a way which does not break the UDAF interface?&lt;/p&gt;

&lt;p&gt;The existing patch adds a new method to the GenericUDAFResolver interface, meaning all existing plugin implementations outside of the Hive codebase will fail to compile (due to the fact that we did not already have the insulating abstract base class available).  We already have some of these within Facebook.&lt;/p&gt;

&lt;p&gt;Let&apos;s analyze the two new parameters one by one.&lt;/p&gt;

&lt;p&gt;isDistinct:  this doesn&apos;t actually modify the choice of evaluator implementation at all, since the actual duplicate elimination takes place upstream of the UDAF invocation.  So instead of adding this parameter, can we instead add a new method supportsDistinct() on GenericUDAFEvaluator?  Then call this after instantiating the new evaluator in order to carry out the additional validation.&lt;/p&gt;

&lt;p&gt;isAllColumns:  COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is probably the only function which is ever even going to care about this one.  Couldn&apos;t we just use an empty array of TypeInfo to indicate all columns?&lt;/p&gt;

&lt;p&gt;Independent of the above, I think adding the insulating abstract base should still be done now to make future transitions smoother when interface-breaking is absolutely required.  So keep that part of the patch.&lt;/p&gt;</comment>
                            <comment id="12879983" author="aprabhakar" created="Thu, 17 Jun 2010 22:32:49 +0000"  >&lt;p&gt;@John: Thanks for reviewing this change. I have some follow-up comments and suggestions:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;isDistinct: this doesn&apos;t actually modify the choice of evaluator implementation at all, since the actual duplicate elimination takes place upstream of the UDAF invocation. So instead of adding this parameter, can we instead add a new method supportsDistinct() on GenericUDAFEvaluator? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;While the evaluation may be happening upstream, I was concerned that it does not exclude the cases where this information is relevant to the function invocation itself. For example, the implementation of &lt;tt&gt;count&lt;/tt&gt; requires that if there is a valid argument list, it must be qualified with &lt;tt&gt;DISTINCT&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;isAllColumns: COUNT is probably the only function which is ever even going to care about this one. Couldn&apos;t we just use an empty array of TypeInfo to indicate all columns?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I had a similar idea, but after some consideration opted for a simpler design. I felt that overloading arguments to indicate special cases might lead to confusion and eventual problem when a use-case emerges that invalidates this assumption. &lt;/p&gt;

&lt;p&gt;I do agree with your point that it will be good to stay compatible if possible. One way to do it would be as follows:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Revert the &lt;tt&gt;GenericUDAFResolver&lt;/tt&gt; to its previous state but make the interface deprecated in favor of the abstract base class.&lt;/li&gt;
	&lt;li&gt;Push the newly introduced method into &lt;tt&gt;AbstractGenericUDAFResolver&lt;/tt&gt; implementation.&lt;/li&gt;
	&lt;li&gt;Modify &lt;tt&gt;FunctionRegistry.getGenericUDAFEvaluator()&lt;/tt&gt; method to test the resolver instance to be type compatible with &lt;tt&gt;AbstractGenericUDAFResolver&lt;/tt&gt; and if so, invoke the new method. Otherwise revert to the old mechanism.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;What do you think about this approach?&lt;/p&gt;</comment>
                            <comment id="12879994" author="jvs" created="Thu, 17 Jun 2010 23:14:10 +0000"  >&lt;p&gt;For DISTINCT:   we can check the function invocation itself (during semantic analysis) by calling supportsDistinct() immediately after instantiating the GenericUDAFEvaluator in SemanticAnalyzer.  This allows strict validation to be performed.  Or make the method name checkDistinct and allow the UDAF to throw the exception itself.  But I agree that in this case it would be cleaner to extend the interface, so I&apos;m fine if we go ahead with that in a non-breaking fashion.&lt;/p&gt;

&lt;p&gt;For COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:  if you think about it, COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; really means &quot;ignore all columns&quot; not &quot;count all columns&quot;.  So I think an empty array actually makes a lot of sense here. Can you think of a case where UDAF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; even makes sense, where UDAF != COUNT?  If you don&apos;t have access to any per-row data, what can you do other than count it?  I&apos;d say we should actually disallow * for anything but COUNT, per the SQL standard.&lt;/p&gt;

&lt;p&gt;I like your approach to keeping compatibility via instanceof, so if the decision ends up being to add the extra parameters, then we should definitely use that approach.  However, extension points should always be interfaces (not abstract classes) to allow for stuff like dynamic proxies.  So we would need to add a new interface GenericUDAFResolver2 (extends GenericUDAFResolver) with the new method, and make AbstractGenericUDAFResolver implement both.&lt;/p&gt;

&lt;p&gt;Interface evolution is never pretty, but there is an interface design pattern which avoids this particular problem.  Imagine if originally we had defined a GenericUDAFResolverInput class inside of Hive itself, with a method getParameters() returning TypeInfo [].  HIve would instantiate this and pass an input object into getEvaluator, and the evaluator would call input.getParameters().  This would have allowed us to add a boolean isDistinct() method to GenericUDAFResolverInput without breaking anything (source or binary) and without needing to add a new interface; old plugins would not know about isDistinct() so they wouldn&apos;t call it, and new ones could.&lt;/p&gt;

&lt;p&gt;I would argue that if we&apos;re going to go to the trouble of adding GenericUDAFResolver2, then we should build the pattern above into it as well in case we need further evolution later on.&lt;/p&gt;

&lt;p&gt;p.s. I&apos;m really glad you&apos;re working on this one...every few days I try a count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; against Hive accidentally and then kick myself.&lt;/p&gt;</comment>
                            <comment id="12880000" author="aprabhakar" created="Thu, 17 Jun 2010 23:30:56 +0000"  >&lt;p&gt;@John: I agree with your assessment above. Regarding the count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, my earlier comment was not to imply that there exists a UDAF today, but that it might exist in the future. More importantly though, using an empty parameter list as an indicator for * would blur the distinction between UDAF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; vs UDAF() invocation. This is one way of many perhaps where parameter overloading could lead to confusion and hard to understand code. &lt;/p&gt;

&lt;p&gt;I think introducing &lt;tt&gt;GenericUDAFResolver2&lt;/tt&gt; interface is a great idea. I also like the idea of using a call back for decoupling the invocation from parameter list but am concerned that this could lead to perhaps redundant method call and object creation. I am not sure if that would add to any significant performance penalty in the long run or not. &lt;/p&gt;

&lt;p&gt;I would love to know what the opinion of others interested in this issue is regarding this route. If all agree that adding a new interface with callback for parameter discovery is acceptable, I can start working on that patch.&lt;/p&gt;</comment>
                            <comment id="12880325" author="jvs" created="Fri, 18 Jun 2010 21:10:11 +0000"  >&lt;p&gt;The object creation and method call here are negligible since this is in the semantic analyzer context (not an execution codepath).&lt;/p&gt;</comment>
                            <comment id="12881018" author="aprabhakar" created="Tue, 22 Jun 2010 02:18:43 +0000"  >&lt;p&gt;applies cleanly on trunk and branch-0.6&lt;/p&gt;</comment>
                            <comment id="12881020" author="aprabhakar" created="Tue, 22 Jun 2010 02:21:02 +0000"  >&lt;p&gt;@John: Can you please take a look at the updated patch? Let me know if you have any feedback for further tweaking this change as necessary.&lt;/p&gt;</comment>
                            <comment id="12882792" author="jvs" created="Sat, 26 Jun 2010 01:00:06 +0000"  >&lt;p&gt;Sorry, my commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1387&quot; title=&quot;Add PERCENTILE_APPROX which works with double data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1387&quot;&gt;&lt;del&gt;HIVE-1387&lt;/del&gt;&lt;/a&gt; just introduced a new conflict, so one more rebase is required.&lt;/p&gt;

&lt;p&gt;I still don&apos;t think that we should allow anything other than COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in the parser.  SUM&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; should be disallowed, as should COUNT(DISTINCT *), as should MY_UDF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  They are non-standard, and I think they would just cause confusion since COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ignores the column values rather than doing anything with them.  Together with preventing these, add negative tests to verify that they are rejected.&lt;/p&gt;

&lt;p&gt;Given that, we can get rid of the isAllColumns info.&lt;/p&gt;

&lt;p&gt;Also, can you add an EXPLAIN for the COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; query in the test?&lt;/p&gt;

&lt;p&gt;After that, I think we&apos;ll be good to go.&lt;/p&gt;</comment>
                            <comment id="12884125" author="aprabhakar" created="Thu, 1 Jul 2010 01:36:25 +0000"  >&lt;p&gt;@John - are you suggesting that the grammar be updated to restrict single star argument with the specific function &lt;tt&gt;COUNT&lt;/tt&gt;? If not in the grammar where else do you think these restrictions should be coded.&lt;/p&gt;

&lt;p&gt;In either case, what other subsystems you think will be impacted by this change and what do you suggest should be the downstream changes to accomodate this?&lt;/p&gt;

&lt;p&gt;p.s. I ask these questions to best utilize both our time and reduce the number of back/froths to the extent possible. &lt;/p&gt;</comment>
                            <comment id="12884134" author="jvs" created="Thu, 1 Jul 2010 02:06:15 +0000"  >&lt;p&gt;Yes, if you can do get it to work in the grammar itself (via a choice in the existing &quot;function&quot; rule), that would be best.  If it it&apos;s not possible to do it there for some reason, then semantic analyzer.&lt;/p&gt;

&lt;p&gt;Could you explain what you mean regarding impact?  Since Hive doesn&apos;t support COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; before your patch, the only impact is on the rest of your patch, right?&lt;/p&gt;

&lt;p&gt;BTW, here&apos;s the relevant BNF from my copy of the SQL:2003 standard (ISO/IEC 9075-2:2003 part 2 section 10.9), omitting some SQL/OLAP stuff such as &amp;lt;filter clause&amp;gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;aggregate function &amp;gt; ::=
COUNT &amp;lt;left paren&amp;gt; &amp;lt;asterisk&amp;gt; &amp;lt;right paren&amp;gt;
| &amp;lt;general set function&amp;gt;

&amp;lt;general set function&amp;gt; ::=
&amp;lt;set function type&amp;gt; &amp;lt;left paren&amp;gt; [ &amp;lt;set quantifier&amp;gt; ] &amp;lt;value expression&amp;gt; &amp;lt;right paren&amp;gt;

&amp;lt;set function type&amp;gt; ::=
AVG |
MAX |
MIN |
SUM |
...

&amp;lt;set quantifier&amp;gt; ::= DISTINCT | ALL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you can see, they make a special case for COUNT to allow for star there alone, and they don&apos;t allow COUNT(DISTINCT *).&lt;/p&gt;
</comment>
                            <comment id="12884580" author="aprabhakar" created="Fri, 2 Jul 2010 07:26:36 +0000"  >&lt;p&gt;Thanks for the explanation John. The SQL BNF that you pointed out is the normative SQL specification. I do not think any SQL implementations use this grammar though. The parallel is that of an interface and its implementation. While the interface can be short and precise, the implementations may choose to delegate interface methods to other implementation specific methods. Similarly, most databases deal with their own SQL grammar that is compliant with the SQL standard at specific levels.&lt;/p&gt;

&lt;p&gt;More to the point in Hive - my key concern is that by modifying the grammar to make an exception for &lt;tt&gt;COUNT&lt;/tt&gt;, we will be introducing a brittle coupling between the the parser and semantic analyzer. Right now the count aggregate function is treated like any other function and is thus part of the general framework. By making this change, we will be modifying it to be specifically associated from with the grammar directives. &lt;/p&gt;

&lt;p&gt;This is the current function definition in Hive QL grammar (&lt;b&gt;A&lt;/b&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--&amp;gt;[ functionName ]--&amp;gt;[ LPAREN ]--+--&amp;gt;[ KW_DISTINCT ]--+--+--+--&amp;gt;[ expression ]--+--+--&amp;gt;[ RPAREN ]--&amp;gt;
                                  |                    |  |  |                   |  |
                                  +-----------&amp;gt;--------+  |  +------[ COMMA ]&amp;lt;---+  |
                                                          |                         |
                                                          +-------------&amp;gt;-----------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The patch that I have supplied already on this Jira modifies this definition as follows (&lt;b&gt;B&lt;/b&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
--&amp;gt;[ functionName ]--&amp;gt;[ LPAREN ]--+------------------------&amp;gt;[ STAR ]----------------------+--&amp;gt;[ RPAREN ]--&amp;gt;
                                  |                                                       |
                                  +--+--&amp;gt;[ KW_DISTINCT ]--+--+--+--&amp;gt;[ expression ]--+--+--+
                                     |                    |  |  |                   |  |
                                     +-----------&amp;gt;--------+  |  +------[ COMMA ]&amp;lt;---+  |
                                                             |                         |
                                                             +-------------&amp;gt;-----------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I were to modify the grammar to make an exception for &lt;tt&gt;COUNT&lt;/tt&gt; it will likely be changed to something like this (&lt;b&gt;C&lt;/b&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
--+----------------------------------&amp;gt;[ KW_COUNT ]--&amp;gt;[ LPAREN ]--&amp;gt;[ STAR ]--&amp;gt;[ RPAREN ]----------------+--&amp;gt;
  |                                                                                                    |
  +--&amp;gt;[ functionName ]--&amp;gt;[ LPAREN ]--+--+--&amp;gt;[ KW_DISTINCT ]--+--+--&amp;gt;[ expression ]--+--+--&amp;gt;[ RPAREN ]--+
                                     |  |                    |  |                   |  |
                                     |  +-----------&amp;gt;--------+  +----[ COMMA ]&amp;lt;-----+  |
                                     |                                                 |
                                     +-------------------------&amp;gt;-----------------------+

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Consider the &lt;b&gt;C&lt;/b&gt; approach closely: The production that matches a &lt;tt&gt;COUNT&lt;/tt&gt; invocation can be directly matched via the top branch using &lt;tt&gt;KW_COUNT&lt;/tt&gt; token, or it could follow the branch below where &lt;tt&gt;functionName&lt;/tt&gt; could match &lt;tt&gt;COUNT&lt;/tt&gt;. On the semantic analyzer side, it makes the matching logic more complex and less intuitive since now the &lt;tt&gt;COUNT&lt;/tt&gt; can be invoked via two branch conditions. For example - there would be one invocation that would directly delegate to the &lt;tt&gt;COUNT&lt;/tt&gt; aggregate function, whereas another that will use the current resolver mechanism to invoke it.&lt;/p&gt;

&lt;p&gt;Instead, the approach &lt;b&gt;B&lt;/b&gt; keeps the grammar consistent with the regular function invocation. It does not favor any one function over the other and simply establishes matching rules for function production. That way, the call is then delegated to the semantic analyzer which in turn matches the appropriate handling function based on the name and parameter type using the generic resolver mechanism without regard to what function is being invoked. &lt;/p&gt;

&lt;p&gt;The changes supplied in the current patch also allow individual function handlers to decide if they would like to support the &lt;tt&gt;functionName(STAR)&lt;/tt&gt; syntax. Since you feel strongly about not supporting this syntax by default for any function, I can perhaps modify the &lt;tt&gt;AbstractGenericUDAFResolver&lt;/tt&gt; class to raise an exception if invoked with this syntax. That way, only the functions that choose to overwrite that behavior will be able to support it. Also as you can see in the syntax diagram for (B), there is no production that will match things like &lt;tt&gt;functionName(DISTINCT STAR)&lt;/tt&gt; or &lt;tt&gt;functionName(STAR, EXPR)&lt;/tt&gt; etc.&lt;/p&gt;

&lt;p&gt;That said, I am open to going either way. I just wanted to put my point across so that you could consider it and make an informed decision. Let me know what you think.&lt;/p&gt;
</comment>
                            <comment id="12884699" author="athusoo" created="Fri, 2 Jul 2010 14:38:46 +0000"  >&lt;p&gt;@John&lt;/p&gt;

&lt;p&gt;Another disadvantage for doing C that I can think of is the fact that count would become a keyword and then any column names would have to be quoted. Not a big deal but just something that would be a side effect of going with C.&lt;/p&gt;</comment>
                            <comment id="12884770" author="jvs" created="Fri, 2 Jul 2010 18:34:49 +0000"  >&lt;p&gt;A couple of DBMS&apos;s I just tried actually do use something equivalent to that grammar snippet I quoted.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mysql&amp;gt; select sum(*) from TBLS;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;*) from TBLS&apos; at line 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:luciddb:&amp;gt; select sum(*) from sys_root.dba_tables;  
Error: At line 1, column 12: Unknown identifier &apos;*&apos; (state=,code=0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I&apos;m fine with leaving the grammar as B and doing the check inside of SemanticAnalyzer instead as long as your negative tests demonstrate that the diagnostics are good if a user tries something like sum&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;However, for this part:&lt;br/&gt;
&quot;Since you feel strongly about not supporting this syntax by default for any function, I can perhaps modify the AbstractGenericUDAFResolver class to raise an exception if invoked with this syntax. That way, only the functions that choose to overwrite that behavior will be able to support it.&quot;&lt;/p&gt;

&lt;p&gt;It&apos;s not just a matter of not supporting it by default.  I don&apos;t think we should support it at all, so let&apos;s prevent inside of SemanticAnalyzer and then not expose it at the resolver level at all.  If in early days, the SQL people had just done the smart thing and made the &quot;count all&quot; expression COUNT() instead of COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, we wouldn&apos;t even be having this discussion.&lt;/p&gt;</comment>
                            <comment id="12884776" author="jvs" created="Fri, 2 Jul 2010 18:47:54 +0000"  >&lt;p&gt;@Ashish:  given where we are currently, the keyword concern is valid.&lt;/p&gt;

&lt;p&gt;But, I think we might be doing our users a disservice in the long run letting them use standard SQL reserved keywords as unquoted identifiers.  This just causes interoperability confusion since most other systems don&apos;t support this, and it makes data portability harder.&lt;/p&gt;

&lt;p&gt;(I&apos;m not proposing any immediate action on this, just pointing it out.)&lt;/p&gt;</comment>
                            <comment id="12885764" author="aprabhakar" created="Wed, 7 Jul 2010 01:27:06 +0000"  >&lt;p&gt;Uploaded patch for trunk and branch-0.6. Ran all the tests on trunk and did spot testing on branch-0.6.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Changes from Previous patch:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Modified the implementation of &lt;tt&gt;AbstractGenericUDAFResolver&lt;/tt&gt; to raise an exception when invoked with the &lt;tt&gt;UDAF(STAR)&lt;/tt&gt; syntax.&lt;/li&gt;
	&lt;li&gt;Added negative test cases to assert that the current UDAFs present in the code other than &lt;tt&gt;COUNT&lt;/tt&gt; do not accept the &lt;tt&gt;UDAF(STAR)&lt;/tt&gt; syntax.&lt;/li&gt;
	&lt;li&gt;Added &lt;tt&gt;EXPLAIN&lt;/tt&gt; directives for the queries run in &lt;tt&gt;udf_count.q&lt;/tt&gt; test file.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Will attempt to post the patch on review board as well.&lt;/p&gt;</comment>
                            <comment id="12885766" author="aprabhakar" created="Wed, 7 Jul 2010 01:31:12 +0000"  >&lt;p&gt;Review board review posted:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://review.hbase.org/r/275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/275/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12885788" author="hbasereviewboard" created="Wed, 7 Jul 2010 02:27:32 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/275/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-07-06 19:24:53.267440)&lt;/p&gt;


&lt;p&gt;Review request for Hive Developers and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated &apos;Bugs&apos; field in review request.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This is the patch revision 5 for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-287&quot; title=&quot;support count(*) and count distinct on multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-287&quot;&gt;&lt;del&gt;HIVE-287&lt;/del&gt;&lt;/a&gt;. Please see the Jira comments for full description.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-287&quot; title=&quot;support count(*) and count distinct on multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-287&quot;&gt;&lt;del&gt;HIVE-287&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-287&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 4109103 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 7e6e63e &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 252b89d &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/AbstractGenericUDAFResolver.java PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 0ef4734 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java 916eb33 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java 0054664 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 8d22ef1 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java 6785687 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java 051f3a1 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFParameterInfo.java PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver.java 9888b52 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver2.java PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java ce97afd &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 26dc84c &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/SimpleGenericUDAFParameterInfo.java PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_avg_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_max_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_min_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_std_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_stddev_samp_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_sum_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_var_samp_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_variance_syntax.q PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_count.q 2d1510f &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_avg_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_max_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_min_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_std_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_stddev_samp_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_sum_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_var_samp_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_variance_syntax.q.out PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/udf_count.q.out 2adffd8 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/275/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/275/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all tests on trunk. &lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Arvind&lt;/p&gt;

</comment>
                            <comment id="12886183" author="zshao" created="Thu, 8 Jul 2010 01:43:14 +0000"  >&lt;p&gt;Hi Arvind, sorry for coming late for the party. I have 2 questions on the new UDAF2 interface:&lt;/p&gt;

&lt;p&gt;1. Why do we put the DISTINCT in the information? DISTINCT is currently done by the framework, instead of individual UDAF.&lt;br/&gt;
This is good because the logic of removing duplicates are common for all UDAFs.  We do support SUM(DISTINCT val).&lt;/p&gt;

&lt;p&gt;2. Why do we special-case &quot;&lt;b&gt;&quot;? It seems to me that &quot;&lt;/b&gt;&quot; is just a short-cut.  Hive already supports regex-based multi-column specification, so that we can say `abc.*` for all columns with name starting with abc. The compiler should just expand * and give all the columns to the UDAF.&lt;/p&gt;

&lt;p&gt;Since COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is a special-case in the SQL standard (COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is different from COUNT(col) even if the table has a single column col), I think we should just special-case that and replace that with count(1) at some place.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="12886339" author="aprabhakar" created="Thu, 8 Jul 2010 15:02:16 +0000"  >&lt;p&gt;@Zheng: Welcome to the party.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why do we put the DISTINCT in the information? DISTINCT is currently done by the framework, instead of individual UDAF. This is good because the logic of removing duplicates are common for all UDAFs. We do support SUM(DISTINCT val).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Providing the information in the parameter specification is not the same as enforcing its interpretation. This is provided primarily to ensure that UDAFs that rely on this information can make appropriate decisions. For example, we wanted to disallow the invocation &lt;tt&gt;COUNT( EXPR1, EXPR2 ...)&lt;/tt&gt; in favor of &lt;tt&gt;COUNT(&lt;b&gt;DISTINCT&lt;/b&gt; EXPR1, EXPR2 ...)&lt;/tt&gt;. Without this information, the count UDAF will not be able to enforce the later syntax.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why do we special-case &quot;&quot;? It seems to me that &quot;&quot; is just a short-cut. Hive already supports regex-based multi-column specification, so that we can say `abc.*` for all columns with name starting with abc. The compiler should just expand * and give all the columns to the UDAF.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If you wish to use &amp;#42; as a regular expression, you would have to quote it as a string - &lt;tt&gt;COUNT(&apos;&amp;#42;&apos;)&lt;/tt&gt;. This is different from the invocation as specified in SQL which treats &amp;#42; as a terminal symbol. So if it is OK to deviate from the standard representation, the user can easily use the quoted string representation to achieve the effect similar to &lt;tt&gt;COUNT(col1, col2 ..)&lt;/tt&gt;. The semantics of this should be more like &lt;tt&gt;COUNT(DISTINCT EXPR1, EXPR2 ...)&lt;/tt&gt; as opposed to &lt;tt&gt;COUNT(&amp;#42;)&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Since COUNT(&amp;#42;) is a special-case in the SQL standard (COUNT(&amp;#42;) is different from COUNT(col) even if the table has a single column col), I think we should just special-case that and replace that with count(1) at some place.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are you suggesting that we allow the grammar to express &lt;tt&gt;COUNT(&amp;#42;)&lt;/tt&gt; syntax, but in the lexical analysis stage turn it into a &lt;tt&gt;COUNT(1)&lt;/tt&gt;? I can see how that may work - but personally I am not a fan of such an approach. &lt;/p&gt;</comment>
                            <comment id="12886428" author="jvs" created="Thu, 8 Jul 2010 19:45:29 +0000"  >&lt;p&gt;Regarding DISTINCT:  I agree with Arvind; this information should be provided to the UDAF so that it can reject invocations that don&apos;t make sense.  Once this validation is passed, the distinct elimination is still implemented generically inside of Hive (upstream of the UDAF).&lt;/p&gt;

&lt;p&gt;Regarding F&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:  let&apos;s discriminate three cases.&lt;/p&gt;

&lt;p&gt;COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:  this really means COUNT(), not COUNT(x,y,z).  This is a very important distinction to make from an optimizer perspective, because we want to be able to push down projection to avoid I/O and other processing for columns whose values we will never look at.&lt;/p&gt;

&lt;p&gt;SUM&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; and similar ones:  these we should disallow.&lt;/p&gt;

&lt;p&gt;MY_UDAF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, or MY_UDAF(t.*):  this is similar to Pradeep&apos;s case that came up recently on the mailing list, and it needs to expand to MY_UDAF(x,y,z), not MY_UDAF().  I think the patch is currently doing MY_UDAF(), which isn&apos;t what he wants.&lt;/p&gt;

&lt;p&gt;My recommendation is that we commit Arvind&apos;s patch as is, then create a followup JIRA issue to do what Pradeep is looking for (the expansion of * in the semantic analyzer) for both UDF and UDAF, but with a special case for COUNT. UDAF authors will be able to decide whether or not to reject the star syntax, since in the common case of a UDAF expecting a limited number of parameters, the star won&apos;t make sense.&lt;/p&gt;</comment>
                            <comment id="12886769" author="aprabhakar" created="Fri, 9 Jul 2010 17:03:04 +0000"  >&lt;p&gt;I vote for a meeting to hash this out face-to-face. I am willing to modify the patch provided we all are in agreement as to how it should be changed. It will be much better use of everyone&apos;s time to avoid the numerous deltas to the patch before settling in on the final solution. Please let me know what you think.&lt;/p&gt;</comment>
                            <comment id="12886780" author="jvs" created="Fri, 9 Jul 2010 17:18:31 +0000"  >&lt;p&gt;I&apos;ll see if I can clear it up with Zheng today, and if so, we can just commit as is; otherwise let&apos;s meet.&lt;/p&gt;</comment>
                            <comment id="12886794" author="zshao" created="Fri, 9 Jul 2010 17:46:53 +0000"  >&lt;p&gt;The plan looks good to me.&lt;/p&gt;

&lt;p&gt;Just one comment: I think we should change the comment/class name for GenericUDAFResolver2.  Let&apos;s explicitly say GenericUDAFResolver2 is for UDAFs that want to have control over whether DISTINCT or * should be treated differently. For normal UDAFs, they should still inherite from GenericUDAFResolver.&lt;/p&gt;

&lt;p&gt;Does that sound OK?&lt;/p&gt;
</comment>
                            <comment id="12886804" author="aprabhakar" created="Fri, 9 Jul 2010 18:01:59 +0000"  >&lt;p&gt;I think keeping two different interfaces for UDAFs will lead to confusion in the long run. Thats why the current patch deprecates the old interface in favor of the new one. But if all agree that it is a good idea, then I will go with that.&lt;/p&gt;

&lt;p&gt;Also - can you suggest an alternate name for the new interface?&lt;/p&gt;</comment>
                            <comment id="12886882" author="zshao" created="Fri, 9 Jul 2010 21:05:36 +0000"  >&lt;p&gt;Talked with John offline also.&lt;/p&gt;

&lt;p&gt;I agree that we can use the new interface going forward. Can you do these also in this patch:&lt;br/&gt;
1. Change the comments for the 2 new fields.  It&apos;s easy for UDAF writers to assume that the UDAF itself needs to handle whether it&apos;s distinct or whether it&apos;s all columns.&lt;br/&gt;
2. Deprecate the old interface, and move all existing GenericUDAF to inherit from the new one.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+  /**
+   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the UDAF invocation was qualified with &amp;lt;tt&amp;gt;DISTINCT&amp;lt;/tt&amp;gt;
+   * keyword, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; otherwise.
+   */
+  &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDistinct();
+
+  /**
+   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the UDAF invocation was done with a wildcard instead of
+   * explicit parameter list.
+   */
+  &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isAllColumns();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After this patch is in, here is a list of follow-ups. Can you open JIRA for these:&lt;/p&gt;

&lt;p&gt;1. Let UDAF and UDF support * and regex-based column specification&lt;br/&gt;
2. Special-case COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; because that does not require reading any columns, while MY_UDAF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; needs all columns.&lt;/p&gt;</comment>
                            <comment id="12886950" author="aprabhakar" created="Fri, 9 Jul 2010 23:58:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;1. Change the comments for the 2 new fields. It&apos;s easy for UDAF writers to assume that the UDAF itself needs to handle whether it&apos;s distinct or whether it&apos;s all columns.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I updated the javadocs in various places to make this clear.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;2. Deprecate the old interface, and move all existing GenericUDAF to inherit from the new one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No changes necessary for this - the previously submitted patch also did it. All existing generic UDAFs now extend from the abstract class that implements the new interface. If you see any problems with that let me know.&lt;/p&gt;
</comment>
                            <comment id="12886977" author="hbasereviewboard" created="Sat, 10 Jul 2010 01:48:23 +0000"  >&lt;p&gt;Message from: &quot;John Sichi&quot; &amp;lt;jsichi@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/290/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/290/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Hive Developers.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;(hopefully) final review by JVS&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-287&quot; title=&quot;support count(*) and count distinct on multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-287&quot;&gt;&lt;del&gt;HIVE-287&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-287&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/AbstractGenericUDAFResolver.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/AbstractGenericUDAFResolver.java&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFParameterInfo.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFParameterInfo.java&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver2.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFResolver2.java&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/SimpleGenericUDAFParameterInfo.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/SimpleGenericUDAFParameterInfo.java&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_avg_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_avg_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_max_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_max_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_min_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_min_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_std_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_std_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_stddev_samp_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_stddev_samp_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_sum_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_sum_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_var_samp_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_var_samp_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_variance_syntax.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientnegative/invalid_variance_syntax.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientpositive/udf_count.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/queries/clientpositive/udf_count.q&lt;/a&gt; 961987 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_avg_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_avg_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_max_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_max_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_min_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_min_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_std_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_std_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_stddev_samp_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_stddev_samp_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_sum_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_sum_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_var_samp_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_var_samp_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_variance_syntax.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientnegative/invalid_variance_syntax.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientpositive/udf_count.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk/ql/src/test/results/clientpositive/udf_count.q.out&lt;/a&gt; 961987 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/290/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/290/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;John&lt;/p&gt;

</comment>
                            <comment id="12886980" author="jvs" created="Sat, 10 Jul 2010 02:08:53 +0000"  >&lt;p&gt;+1.  Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12887257" author="jvs" created="Mon, 12 Jul 2010 01:24:40 +0000"  >&lt;p&gt;Committed to trunk and 0.6.  Thanks Arvind!&lt;/p&gt;</comment>
                            <comment id="12887258" author="jvs" created="Mon, 12 Jul 2010 01:29:25 +0000"  >&lt;p&gt;Arvind, could you update relevant documentation in wiki?&lt;/p&gt;

&lt;p&gt;Besides the SQL reference, Mayank Lahiri is working on some documentation for writing new UDAF&apos;s, so the resolver interface can probably go there: &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GenericUDAFCaseStudy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/GenericUDAFCaseStudy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12887261" author="jvs" created="Mon, 12 Jul 2010 01:53:40 +0000"  >&lt;p&gt;Followup created in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1459&quot; title=&quot;wildcards in UDF/UDAF should expand to all columns (rather than no columns)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1459&quot;&gt;HIVE-1459&lt;/a&gt;.  Arvind, this is a good one to work on next.&lt;/p&gt;</comment>
                            <comment id="12888106" author="aprabhakar" created="Tue, 13 Jul 2010 23:30:44 +0000"  >&lt;p&gt;@John: I updated the UDAF documentation on the wiki at &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF&lt;/a&gt; and also added a short blurb regarding the various interface changes on the UDAF tutorial page &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GenericUDAFCaseStudy#Writing_the_source&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/GenericUDAFCaseStudy#Writing_the_source&lt;/a&gt;. Please let me know if there are other places that need to be updated as well.&lt;/p&gt;</comment>
                            <comment id="12888737" author="jvs" created="Thu, 15 Jul 2010 08:16:07 +0000"  >&lt;p&gt;Searching for &quot;count&quot; in wiki, I think examples in these pages should change to count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/GroupBy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/GroupBy&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GettingStarted&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/GettingStarted&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/Tutorial&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/Tutorial&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12891889" author="aprabhakar" created="Sat, 24 Jul 2010 00:38:20 +0000"  >&lt;p&gt;Updated the wiki in the all the above places.&lt;/p&gt;</comment>
                            <comment id="12893044" author="hammer" created="Wed, 28 Jul 2010 03:21:05 +0000"  >&lt;p&gt;We ran into some users who were using older versions of Hive (including the version of Hive distributed with CDH3b2) and were confused by the COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in the documentation. I&apos;ve tried to change the wiki but it does not appear to be saving my changes. If someone gets the chance, I&apos;d love to see a disclaimer like &quot;Note that for versions of Hive which don&apos;t include [&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-287&quot; title=&quot;support count(*) and count distinct on multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-287&quot;&gt;&lt;del&gt;https://issues.apache.org/jira/browse/HIVE-287&lt;/del&gt;&lt;/a&gt;], you&apos;ll need to use COUNT(1) in place of COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&quot; added to the wiki pages that reference COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="12893045" author="hammer" created="Wed, 28 Jul 2010 03:23:03 +0000"  >&lt;p&gt;Okay I spoke too soon. Turns out the Apache wiki just takes about 5 minutes to save an edit; the disclaimers are there now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12469017">HIVE-1459</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12445090" name="HIVE-287-1.patch" size="34988" author="aprabhakar" created="Thu, 20 May 2010 18:13:09 +0000"/>
                            <attachment id="12445524" name="HIVE-287-2.patch" size="36797" author="aprabhakar" created="Wed, 26 May 2010 03:50:39 +0000"/>
                            <attachment id="12447240" name="HIVE-287-3.patch" size="35074" author="aprabhakar" created="Wed, 16 Jun 2010 17:17:28 +0000"/>
                            <attachment id="12447653" name="HIVE-287-4.patch" size="41664" author="aprabhakar" created="Tue, 22 Jun 2010 02:18:43 +0000"/>
                            <attachment id="12448843" name="HIVE-287-5-branch-0.6.patch" size="54110" author="aprabhakar" created="Wed, 7 Jul 2010 01:21:34 +0000"/>
                            <attachment id="12448842" name="HIVE-287-5-trunk.patch" size="54370" author="aprabhakar" created="Wed, 7 Jul 2010 01:21:34 +0000"/>
                            <attachment id="12449137" name="HIVE-287-6-branch-0.6.patch" size="56418" author="aprabhakar" created="Fri, 9 Jul 2010 23:52:50 +0000"/>
                            <attachment id="12449136" name="HIVE-287-6-trunk.patch" size="56678" author="aprabhakar" created="Fri, 9 Jul 2010 23:52:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Mar 2009 02:10:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This change deprecates the GenericUDAFResolver interface in favor of the new GenericUDAFResolver2.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-288] Remove the old serde package</title>
                <link>https://issues.apache.org/jira/browse/HIVE-288</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It&apos;s not used by Hive any more. Users who need this &lt;span class=&quot;error&quot;&gt;&amp;#91;probably only inside Facebook&amp;#93;&lt;/span&gt; will move this code into their own source trees.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414703">HIVE-288</key>
            <summary>Remove the old serde package</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2009 21:28:08 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:37 +0000</updated>
                            <resolved>Sat, 14 Feb 2009 01:12:52 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12673439" author="rsm" created="Sat, 14 Feb 2009 00:50:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;So, I guess we will now only have serde2 and no serde, which is weird. Can you create a jira to rename serde2 to serde?&lt;br/&gt;
Otherwise it looks good.&lt;/p&gt;
</comment>
                            <comment id="12673440" author="zshao" created="Sat, 14 Feb 2009 00:55:16 +0000"  >&lt;p&gt;I agree it&apos;s better to name it serde. But in the metastore we directly store the class name, so renaming the class name will not be that straight forward (especially the serde classes are still in our metastore - although not anywhere else in the world)&lt;/p&gt;

&lt;p&gt;Comparing with the pain of migration, I think it&apos;s not that bad to keep it as serde2. Users won&apos;t see it, and for developers we can put a comment in the code.&lt;/p&gt;</comment>
                            <comment id="12673443" author="zshao" created="Sat, 14 Feb 2009 01:12:52 +0000"  >&lt;p&gt;trunk: Committed revision 744327.&lt;br/&gt;
branch 0.2: Committed revision 744328.&lt;/p&gt;</comment>
                            <comment id="12673459" author="zshao" created="Sat, 14 Feb 2009 02:40:59 +0000"  >&lt;p&gt;Talked with Prasad and he mentioned it&apos;s possible to do on the metastore side with runtime translation.&lt;br/&gt;
But I don&apos;t feel strong to simplify the name of the serde at the cost of adding additional logic to complicate the metastore logic.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400144" name="HIVE-288.1.patch" size="123359" author="zshao" created="Fri, 13 Feb 2009 03:50:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Feb 2009 00:50:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-288&quot; title=&quot;Remove the old serde package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-288&quot;&gt;&lt;strike&gt;HIVE-288&lt;/strike&gt;&lt;/a&gt;. Removed the old serde package. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-289] superfluous parenthesis break queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-289</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Queries like&quot;from (my_table) select *;&quot; break.&lt;/p&gt;

&lt;p&gt;This has a deleterious effect on automated query construction.  In particular, the following works well:&lt;br/&gt;
&quot;FROM %s &amp;lt;do something complicated&amp;gt;&quot; % &quot;my_table&quot;&lt;br/&gt;
&quot;FROM %s &amp;lt;do something complicated&amp;gt;&quot; % &quot;(FROM my_other_table SELECT my_row WHERE my_table.ds=&apos;2009-02-13&apos;)&quot;&lt;/p&gt;

&lt;p&gt;but if extra parenthesis were correctly ignored, the following would also work:&lt;/p&gt;

&lt;p&gt;&quot;FROM (%s) &amp;lt;do something complicated&amp;gt;&quot; % &quot;my_table&quot;&lt;br/&gt;
&quot;FROM (%s) &amp;lt;do something complicated&amp;gt;&quot; % &quot;FROM my_other_table SELECT my_row WHERE my_table.ds=&apos;2009-02-13&apos;&quot;&lt;/p&gt;

&lt;p&gt;which would allow a much more convenient and generic nesting of queries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414773">HIVE-289</key>
            <summary>superfluous parenthesis break queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Feb 2009 19:59:43 +0000</created>
                <updated>Thu, 17 Dec 2009 23:08:32 +0000</updated>
                            <resolved>Thu, 17 Dec 2009 23:08:32 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12792201" author="zshao" created="Thu, 17 Dec 2009 23:08:32 +0000"  >&lt;p&gt;This seems easy enough for users. We should try to stick to SQL grammar.&lt;br/&gt;
By the way, sub-query alias is required.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Dec 2009 23:08:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-290] Add back generator for complex.seq</title>
                <link>https://issues.apache.org/jira/browse/HIVE-290</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A generator for data/files/complex.seq was removed because it had dependencies on org.apache.hive.serde package.&lt;/p&gt;

&lt;p&gt;We need to add it back so it&apos;s easier to generate new versions of data/files/complex.seq if necessary.&lt;/p&gt;

&lt;p&gt;In order to generate data/file/complex.seq, we can run &quot;ant gen-testdata&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414842">HIVE-290</key>
            <summary>Add back generator for complex.seq</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Feb 2009 22:37:31 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:27 +0000</updated>
                            <resolved>Tue, 19 May 2009 21:58:28 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12673766" author="zshao" created="Sun, 15 Feb 2009 23:19:02 +0000"  >&lt;p&gt;New complex.seq uses &quot;BytesWritable&quot; as key instead of &quot;ByteWritable&quot; to make sure it can be read without Hive. (ByteWritable is a WritableClass in Hive)&lt;/p&gt;</comment>
                            <comment id="12673770" author="namit" created="Mon, 16 Feb 2009 00:58:37 +0000"  >&lt;p&gt;something doesn&apos;t seem right - the first patch contains a bunch of files, whereas the second only the binary.&lt;br/&gt;
shouldn&apos;t the files in the first patch also be included ?&lt;/p&gt;</comment>
                            <comment id="12673778" author="zshao" created="Mon, 16 Feb 2009 02:41:39 +0000"  >&lt;p&gt;These 2 files are a single patch.&lt;br/&gt;
&quot;svn diff&quot; does not include changes to binary files so I have to upload it separately.&lt;/p&gt;</comment>
                            <comment id="12680729" author="rsm" created="Wed, 11 Mar 2009 01:49:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good.&lt;/p&gt;</comment>
                            <comment id="12710898" author="namit" created="Tue, 19 May 2009 21:58:28 +0000"  >&lt;p&gt;committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400254" name="HIVE-290.1.patch" size="5138" author="zshao" created="Sun, 15 Feb 2009 23:16:55 +0000"/>
                            <attachment id="12400255" name="complex.seq" size="1536" author="zshao" created="Sun, 15 Feb 2009 23:19:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Feb 2009 00:58:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-291] [Hive] map-side aggregation should be automatically disabled at run-time if it is not turning out to be useful</title>
                <link>https://issues.apache.org/jira/browse/HIVE-291</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Map-side aggregation should be automatically disabled at run-time if it is not turning out to be useful.&lt;/p&gt;

&lt;p&gt;If map-side aggregation is not reducing the number of output rows, it is a drain on the mapper, since it is consuming memory and performing unnecessary hash lookups&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414844">HIVE-291</key>
            <summary>[Hive] map-side aggregation should be automatically disabled at run-time if it is not turning out to be useful</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2009 00:31:49 +0000</created>
                <updated>Mon, 9 Mar 2009 22:12:34 +0000</updated>
                            <resolved>Mon, 9 Mar 2009 22:12:34 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12673772" author="namit" created="Mon, 16 Feb 2009 01:31:00 +0000"  >&lt;p&gt;have not run the patch on the main cluster yet - dont want to bring the cluster down in case of a bug on a long weekend.&lt;br/&gt;
will merge only after testing with large data&lt;/p&gt;</comment>
                            <comment id="12674893" author="namit" created="Thu, 19 Feb 2009 05:01:31 +0000"  >&lt;p&gt;tested one big job for correctness&lt;/p&gt;</comment>
                            <comment id="12680299" author="namit" created="Mon, 9 Mar 2009 22:12:34 +0000"  >&lt;p&gt;duplicate of 223&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400257" name="291.1.txt" size="4930" author="namit" created="Mon, 16 Feb 2009 01:30:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-292] Use LazySimpleSerDe to replace MetadataTypedColumnsetSerde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-292</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are places in the code where we are still using MetadataTypedColumnsetSerde.&lt;br/&gt;
We should replace them with LazySimpleSerDe to get better efficiency.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414845">HIVE-292</key>
            <summary>Use LazySimpleSerDe to replace MetadataTypedColumnsetSerde</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2009 03:43:28 +0000</created>
                <updated>Thu, 2 May 2013 02:29:20 +0000</updated>
                            <resolved>Tue, 24 Feb 2009 07:31:37 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12675842" author="zshao" created="Mon, 23 Feb 2009 10:22:59 +0000"  >&lt;p&gt;Replaced most MetadataTypedColumnsetSerDe places with LazySimpleSerDe.&lt;/p&gt;</comment>
                            <comment id="12676135" author="jsensarma" created="Mon, 23 Feb 2009 23:58:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12676210" author="zshao" created="Tue, 24 Feb 2009 07:31:37 +0000"  >&lt;p&gt;trunk only: Committed revision 747293.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12413976">HIVE-270</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12400743" name="HIVE-292.1.without_testresults.patch" size="20175" author="zshao" created="Mon, 23 Feb 2009 10:22:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Feb 2009 23:58:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73639</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Replace MetadataTypedColumnsetSerde with LazySimpleSerDe. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-293] report deserialize exceptions from serde&apos;s via exceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-293</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;lazyserde and dynamicserde should report exceptions on number (and other) parsing errors so higher layers can take the correct action&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414850">HIVE-293</key>
            <summary>report deserialize exceptions from serde&apos;s via exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2009 07:16:00 +0000</created>
                <updated>Tue, 5 Apr 2011 23:14:10 +0000</updated>
                                                                            <component>Diagnosability</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12734390" author="zshao" created="Wed, 22 Jul 2009 23:49:09 +0000"  >&lt;p&gt;We should work on this when Hive moves to hadoop 0.20 which has built-in support to ignore malformatted records.&lt;/p&gt;</comment>
                            <comment id="12792209" author="zshao" created="Thu, 17 Dec 2009 23:16:56 +0000"  >&lt;p&gt;This is harder now because LazySimpleSerDe does not do the serialization till the time we try to access the field.&lt;/p&gt;</comment>
                            <comment id="12879866" author="arov" created="Thu, 17 Jun 2010 17:50:16 +0000"  >&lt;p&gt;How about if some one is using a custom input format?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jul 2009 23:49:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
