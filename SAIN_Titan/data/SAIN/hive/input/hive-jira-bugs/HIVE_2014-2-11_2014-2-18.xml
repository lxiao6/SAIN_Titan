<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:26:36 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2014-2-11+AND+created+%3C%3D+2014-2-18+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="52" total="52"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-6402] Improve Hive behavior when deleting data with miss configured Trash</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6402</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Today if HDFS trash is enabled but misconfigured, drop db/table/partition may succeed but data is not dropped.  It seems dropping data was not considered very important by design.&lt;/p&gt;

&lt;p&gt;This is confusing behavior, and the user should at least be notified that this is happening.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694400">HIVE-6402</key>
            <summary>Improve Hive behavior when deleting data with miss configured Trash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 01:20:51 +0000</created>
                <updated>Wed, 12 Feb 2014 11:21:07 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13898064" author="xuefuz" created="Tue, 11 Feb 2014 17:43:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; Thanks for looking into this. I left a few comments on the review board.&lt;/p&gt;</comment>
                            <comment id="13898148" author="szehon" created="Tue, 11 Feb 2014 19:05:03 +0000"  >&lt;p&gt;Incorporating review feedback.&lt;/p&gt;</comment>
                            <comment id="13899017" author="hiveqa" created="Wed, 12 Feb 2014 11:21:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628287/HIVE-6402.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628287/HIVE-6402.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 25 failed/errored test(s), 5086 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_format_loc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_13_managed_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_14_managed_location_over_existing
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_17_part_managed
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_20_part_managed_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_update
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_date2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_isnull_isnotnull
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_single_sourced_multi_insert
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi6
org.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext
org.apache.hcatalog.mapreduce.TestHCatMultiOutputFormat.org.apache.hcatalog.mapreduce.TestHCatMultiOutputFormat
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testAlterTablePartRelocateFail
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testAlterTableRelocateFail
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1281/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1281/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1281/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1281/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 25 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628287&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628287" name="HIVE-6402.2.patch" size="5392" author="szehon" created="Tue, 11 Feb 2014 19:04:53 +0000"/>
                            <attachment id="12628134" name="HIVE-6402.patch" size="5582" author="szehon" created="Tue, 11 Feb 2014 01:34:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Feb 2014 17:43:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s9jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6403] uncorrelated subquery is failing with auto.convert.join=true</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6403</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5690&quot; title=&quot;Support subquery for single sourced multi query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5690&quot;&gt;HIVE-5690&lt;/a&gt;, I&apos;ve found query in subquery_multiinsert.q is not working with hive.auto.convert.join=true &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;set hive.auto.convert.join=true;
hive&amp;gt; explain
    &amp;gt; from src b 
    &amp;gt; INSERT OVERWRITE TABLE src_4 
    &amp;gt;   select * 
    &amp;gt;   where b.key in 
    &amp;gt;    (select a.key 
    &amp;gt;     from src a 
    &amp;gt;     where b.value = a.value and a.key &amp;gt; &apos;9&apos;
    &amp;gt;    ) 
    &amp;gt; INSERT OVERWRITE TABLE src_5 
    &amp;gt;   select *  
    &amp;gt;   where b.key not in  ( select key from src s1 where s1.key &amp;gt; &apos;2&apos;) 
    &amp;gt;   order by key 
    &amp;gt; ;
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genMapJoinLocalWork(MapJoinProcessor.java:149)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genLocalWorkForMapJoin(MapJoinProcessor.java:256)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genMapJoinOpAndLocalWork(MapJoinProcessor.java:248)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinTaskDispatcher.convertTaskToMapJoinTask(CommonJoinTaskDispatcher.java:191)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinTaskDispatcher.processCurrentTask(CommonJoinTaskDispatcher.java:481)
	at org.apache.hadoop.hive.ql.optimizer.physical.AbstractJoinTaskDispatcher.dispatch(AbstractJoinTaskDispatcher.java:182)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver.resolve(CommonJoinResolver.java:79)
	at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:100)
	at org.apache.hadoop.hive.ql.parse.MapReduceCompiler.optimizeTaskPlan(MapReduceCompiler.java:290)
	at org.apache.hadoop.hive.ql.parse.TaskCompiler.compile(TaskCompiler.java:216)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:9167)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:327)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:64)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:327)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:446)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:346)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1056)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1099)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:992)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:982)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:424)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:793)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:687)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:626)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:160)
org.apache.hadoop.hive.ql.parse.SemanticException: Failed to generate new mapJoin operator by exception : Index: 0, Size: 0
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genLocalWorkForMapJoin(MapJoinProcessor.java:266)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genMapJoinOpAndLocalWork(MapJoinProcessor.java:248)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinTaskDispatcher.convertTaskToMapJoinTask(CommonJoinTaskDispatcher.java:191)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinTaskDispatcher.processCurrentTask(CommonJoinTaskDispatcher.java:481)
	at org.apache.hadoop.hive.ql.optimizer.physical.AbstractJoinTaskDispatcher.dispatch(AbstractJoinTaskDispatcher.java:182)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver.resolve(CommonJoinResolver.java:79)
	at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:100)
	at org.apache.hadoop.hive.ql.parse.MapReduceCompiler.optimizeTaskPlan(MapReduceCompiler.java:290)
	at org.apache.hadoop.hive.ql.parse.TaskCompiler.compile(TaskCompiler.java:216)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:9167)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:327)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:64)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:327)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:446)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:346)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1056)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1099)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:992)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:982)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:424)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:793)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:687)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:626)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:160)
FAILED: SemanticException Generate Map Join Task Error: Failed to generate new mapJoin operator by exception : Index: 0, Size: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12694413">HIVE-6403</key>
            <summary>uncorrelated subquery is failing with auto.convert.join=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 02:33:07 +0000</created>
                <updated>Sat, 8 Mar 2014 17:24:32 +0000</updated>
                            <resolved>Sat, 8 Mar 2014 17:24:21 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13897467" author="navis" created="Tue, 11 Feb 2014 02:33:55 +0000"  >&lt;p&gt;I wish I could fix this but it&apos;s way out of my ability. Could you check this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13897608" author="rhbutani" created="Tue, 11 Feb 2014 07:38:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I am no expert on the MapJoinProcessor. Following is what I see; I will need to spend more time on this.&lt;br/&gt;
Maybe from my comments you can see the issue.&lt;/p&gt;

&lt;p&gt;1. The Plan generated at genPlan is:&lt;br/&gt;
TS&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; (the scan for b) has 2 child operators: [RS&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;, RS&lt;span class=&quot;error&quot;&gt;&amp;#91;25&amp;#93;&lt;/span&gt;] &lt;br/&gt;
These are for the joins for each of the SubQuery expressions:&lt;br/&gt;
b.key in &lt;br/&gt;
   (select a.key &lt;br/&gt;
    from src a &lt;br/&gt;
    where b.value = a.value and a.key &amp;gt; &apos;9&apos;&lt;br/&gt;
   ) &lt;br/&gt;
and &lt;br/&gt;
b.key not in  ( select key from src s1 where s1.key &amp;gt; &apos;2&apos;) &lt;/p&gt;

&lt;p&gt;The plan looks complex because the handling of not in requires the null check. This issue will occur even if the second insert is a &apos;in&apos; subquery predicate. It will be easier to follow for such an e.g.&lt;/p&gt;

&lt;p&gt;2. With set hive.auto.convert.join=false&lt;br/&gt;
The second RS gets converted to a FileSink. You can observe this from the explain output. A subsequent Stage reads this intermediate output to perform the processing for the 2nd SubQuery.&lt;/p&gt;

&lt;p&gt;3. With set hive.auto.convert.join=true;&lt;br/&gt;
When it comes to CommonJoinResolver the TS&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; has children [RS&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;, FS&lt;span class=&quot;error&quot;&gt;&amp;#91;44&amp;#93;&lt;/span&gt;] ie the 2nd ReduceSink is converted to a FileSink&lt;br/&gt;
The MapJoinProcessor:genMapJoinLocalWork line 145 it is assuming that a TableScanOp can only have 1 child. &lt;br/&gt;
The fix maybe to ignore any FileSink operators that are children of TableScan. Another test to add is a multi insert on 3 tables.&lt;/p&gt;
</comment>
                            <comment id="13898852" author="rhbutani" created="Wed, 12 Feb 2014 06:29:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; could you please review.&lt;/p&gt;</comment>
                            <comment id="13898882" author="navis" created="Wed, 12 Feb 2014 07:14:56 +0000"  >&lt;p&gt;I think CommonJoinTaskDispatcher#getPosition() depends on wrong assumption that top operator has only a child (or resultingly a child like LV cases). We should track up (child to parent) big aliases from bigTableCandidates, opposed to current way.&lt;/p&gt;</comment>
                            <comment id="13899299" author="rhbutani" created="Wed, 12 Feb 2014 17:22:20 +0000"  >&lt;p&gt;What I see is that for the Multi Insert with SubQuery case:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the first child will be a ReduceSink; other child is converted to FileSink by the time it gets to CommonJoinTaskDispatcher.&lt;/li&gt;
	&lt;li&gt;so for the Multi Insert SubQuery case checking the first child is still ok.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But yes this check that other children are FileSink, should be done in CommonJoinTaskDispatcher#getPosition&lt;/p&gt;

&lt;p&gt;Beyond the above point; I am sorry, I don&apos;t follow what else you are proposing. Can you please elaborate.&lt;/p&gt;</comment>
                            <comment id="13900013" author="navis" created="Thu, 13 Feb 2014 04:39:52 +0000"  >&lt;p&gt;This is the change what I&apos;ve meant. Could you check this?&lt;/p&gt;</comment>
                            <comment id="13900676" author="rhbutani" created="Thu, 13 Feb 2014 20:02:54 +0000"  >&lt;p&gt;Ok, yes I see what you mean. I incorporated your findAlias changes. and created a new patch.&lt;br/&gt;
I think the &apos;multiInsertBigTableCheck&apos; check needs to be still done, because in case of multi insert we want the &apos;source&apos; table to be the only big table choice. Do you agree?&lt;/p&gt;</comment>
                            <comment id="13900810" author="hiveqa" created="Thu, 13 Feb 2014 22:27:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628832/HIVE-6403.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628832/HIVE-6403.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 22 failed/errored test(s), 5095 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join27
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join29
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_join_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1315/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1315/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1315/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1315/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 22 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628832&lt;/p&gt;</comment>
                            <comment id="13901088" author="rhbutani" created="Fri, 14 Feb 2014 04:12:51 +0000"  >&lt;p&gt;Resubmitting patch. Ran several of the tests locally, they succeed.&lt;br/&gt;
The previous run was aborted.&lt;/p&gt;</comment>
                            <comment id="13901136" author="navis" created="Fri, 14 Feb 2014 05:50:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Took some time to understand multiInsertBigTableCheck() and now got it. But seeing auto_join17.q, I&apos;ve realized that we missed handling map-side union cases. Updated in navis2.patch. Could you check that too?&lt;/p&gt;</comment>
                            <comment id="13901947" author="rhbutani" created="Fri, 14 Feb 2014 21:18:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; i went through the patch; I think I understand the reason for the change. Couple of questions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;i don&apos;t see a union e.g. Can an e.g. be added that exercises the map-side union case.&lt;/li&gt;
	&lt;li&gt;i see several plans changed in .out files to scan src1 in place of src2.  But the check at CommonJoinTaskDispatcher::cannotConvert line 447, should favor the right alias as the big table. So I don&apos;t understand why these plans are changed with your patch. For my understanding, can you please explain this change.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Assigning the jira to you; you have made most of the changes, my contribution is very tiny; and I am just becoming familiar with the pieces you have touched in this patch.&lt;/p&gt;</comment>
                            <comment id="13902912" author="navis" created="Mon, 17 Feb 2014 02:06:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;i don&apos;t see a union&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ah, it&apos;s &quot;auto_join27.q&quot;, &quot;not auto_join17.q&quot;. Sorry for that.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;should favor the right alias as the big table&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Seemed a bug which was not fixed properly in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5945&quot; title=&quot;ql.plan.ConditionalResolverCommonJoin.resolveMapJoinTask also sums those tables which are not used in the child of this conditional task.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5945&quot;&gt;&lt;del&gt;HIVE-5945&lt;/del&gt;&lt;/a&gt;. I&apos;ll check that, too.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;my contribution is very tiny&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would have never thought of multiInsertBigTableCheck() will be needed. Most of codes I&apos;ve suggested are just easier part. I&apos;ll make this issue done. Thanks.&lt;/p&gt;</comment>
                            <comment id="13902940" author="navis" created="Mon, 17 Feb 2014 04:14:47 +0000"  >&lt;p&gt;Add/fix comments and minor refactorings&lt;/p&gt;</comment>
                            <comment id="13903130" author="hiveqa" created="Mon, 17 Feb 2014 10:21:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629301/HIVE-6403.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629301/HIVE-6403.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 21 failed/errored test(s), 5127 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_without_localtask
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_update
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_convert_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join35
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1356/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1356/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1356/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1356/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 21 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629301&lt;/p&gt;</comment>
                            <comment id="13903365" author="rhbutani" created="Mon, 17 Feb 2014 16:55:28 +0000"  >&lt;p&gt;The patch looks good.&lt;br/&gt;
I looked at the failures, most of them are assertion failures because of the join reorder fix you put in.&lt;br/&gt;
There are a few failures to do with Alter Index Rebuild, like index_bitmap_rc.q.&lt;/p&gt;</comment>
                            <comment id="13903674" author="navis" created="Tue, 18 Feb 2014 01:25:09 +0000"  >&lt;p&gt;Hive index system seemed broken badly in somewhere. &lt;br/&gt;
Even in trunk,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; explain extended ALTER INDEX srcpart_index ON srcpart REBUILD;

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1
  Stage-2 depends on stages: Stage-0
  null depends on stages: Stage-1
  Stage-3 depends on stages: Stage-1, Stage-1, Stage-1, Stage-1
  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1
  Stage-2 depends on stages: Stage-0
  null depends on stages: Stage-1
  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1
  Stage-2 depends on stages: Stage-0
  null depends on stages: Stage-1
  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1
  Stage-2 depends on stages: Stage-0
  null depends on stages: Stage-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ve never used index before but it seemed not a valid plan. I&apos;ll dig into this for a while.&lt;/p&gt;</comment>
                            <comment id="13903691" author="navis" created="Tue, 18 Feb 2014 02:01:33 +0000"  >&lt;p&gt;It was not that bad as it first looked. I&apos;ve used task ID for equality of task but index builder resets ID (even not assigns ID for index metadata updator). Changed not to reset ID and seemed working good. I&apos;ll update the patch shortly after confirming that.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1
  Stage-2 depends on stages: Stage-0
  Stage-3 depends on stages: Stage-1
  Stage-16 depends on stages: Stage-1, Stage-5, Stage-9, Stage-13
  Stage-5 is a root stage
  Stage-4 depends on stages: Stage-5
  Stage-6 depends on stages: Stage-4
  Stage-7 depends on stages: Stage-5
  Stage-9 is a root stage
  Stage-8 depends on stages: Stage-9
  Stage-10 depends on stages: Stage-8
  Stage-11 depends on stages: Stage-9
  Stage-13 is a root stage
  Stage-12 depends on stages: Stage-13
  Stage-14 depends on stages: Stage-12
  Stage-15 depends on stages: Stage-13
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13904072" author="hiveqa" created="Tue, 18 Feb 2014 14:10:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629459/HIVE-6403.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629459/HIVE-6403.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1378/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1378/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1378/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1378/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
Reverted &apos;ql/src/test/results/clientpositive/decimal_5.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketmapjoin8.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/progress_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/nestedvirtual.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/parallel.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/convert_enum_to_string.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/annotate_stats_filter.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketmapjoin12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby8_map_skew.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/varchar_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/insert1_overwrite_partitions.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join27.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/load_file_with_space_in_the_name.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/load_dyn_part11.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input4.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/stats6.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/leadlag_queries.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/rename_partition_location.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/udf_translate.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/union12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/index_compact_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/udf2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/sort_merge_join_desc_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/windowing_udaf.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ppd_repeated_alias.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join36.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/avro_joins.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/drop_with_concurrency.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/lock2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input_part5.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketmapjoin3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/insert_into2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter_skewed_table.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_grouping_sets2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/timestamp_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/partition_vs_table_metadata.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby1_limit.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/cast1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input16_cc.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/annotate_stats_part.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/partition_wise_fileformat15.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/stats1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/symlink_text_input_format.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ptf_register_tblfn.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ddltime.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/uniquejoin.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ppd_constant_expr.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/union30.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/timestamp_null.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/combine1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/avro_sanity_test.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_06_one_part.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby2_noskew.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/index_stale.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/vectorized_timestamp_funcs.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/smb_mapjoin_12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/metadataonly1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join31.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/concatenate_inherit_table_location.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter_rename_partition_authorization.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/rcfile_toleratecorruptions.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/nonreserved_keywords_insert_into1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketsortoptimize_insert_7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/tablename_with_select.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_04_all_part.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join32_lessSize.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer11.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/multiMapJoin1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/smb_mapjoin_21.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby4_map_skew.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_01_nonpart.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby7_noskew.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/test_boolean_whereclause.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/drop_index_removes_partition_dirs.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/partition_wise_fileformat10.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/compute_stats_long.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/inputddl7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join5.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/describe_syntax.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/add_part_multiple.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/external_table_with_space_in_location_path.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/fileformat_text.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/char_udf1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/date_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_10.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/windowing.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/udf_reverse.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketsortoptimize_insert_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/union3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/show_create_table_partitioned.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input1_limit.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby8.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/scriptfile1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_sort_9.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_grouping_id1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketmapjoin_negative2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter_varchar2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/skewjoinopt6.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/load_dyn_part6.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/inputddl2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/drop_partitions_filter2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/sample7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/rcfile_union.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/nullinput2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_10_external_managed.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ptf_general_queries.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/create_escape.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/annotate_stats_limit.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter_char2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input_testsequencefile.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join_view.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/udf_get_json_object.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input_testxpath.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input19.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucket_map_join_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ba_table3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join_empty.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/windowing_rank.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_sort_4.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/parquet_partitioned.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/reduce_deduplicate_exclude_gby.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/skewjoinopt18.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/archive_excludeHadoop20.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/skewjoinopt1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/load_dyn_part1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/sample2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/stats16.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input28.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/smb_mapjoin_4.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_14.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/disable_merge_for_bucketing.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/ppd_union_view.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input_testxpath2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/create_like_tbl_props.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby7_map_multi_single_reducer.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/partition_wise_fileformat9.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/truncate_column.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mergejoins.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/groupby_complex_types.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input14.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucketcontext_5.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input37.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/binary_table_colserde.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/skewjoinopt13.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/describe_comment_nonascii.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapreduce4.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/orc_predicate_pushdown.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/nullscript.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/stats11.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/bucket5.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/alter_merge_stats.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/udf_round_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/filter_numeric.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input46.q.out&apos;
Reverted &apos;ql/src/test/queries/clientnegative/authorization_addpartition.q&apos;
Reverted &apos;ql/src/test/queries/clientnegative/authorization_droppartition.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/SQLAuthorizationUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/Operation2Privilege.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/RequiredPrivileges.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/SQLStdHiveAuthorizationValidator.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/SessionStateConfigUserAuthenticator.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/Driver.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientnegative/authorization_uri_create_table_ext.q.out ql/src/test/results/clientnegative/authorization_uri_insert.q.out ql/src/test/results/clientnegative/authorization_uri_load_data.q.out ql/src/test/results/clientnegative/authorization_uri_insert_local.q.out ql/src/test/results/clientnegative/authorization_uri_create_table1.q.out ql/src/test/results/clientnegative/authorization_uri_altertab_setloc.q.out ql/src/test/results/clientnegative/authorization_uri_createdb.q.out ql/src/test/results/clientnegative/authorization_uri_index.q.out ql/src/test/results/clientnegative/authorization_uri_add_partition.q.out ql/src/test/results/clientnegative/authorization_uri_alterpart_loc.q.out ql/src/test/queries/clientnegative/authorization_uri_load_data.q ql/src/test/queries/clientnegative/authorization_uri_createdb.q ql/src/test/queries/clientnegative/authorization_uri_alterpart_loc.q ql/src/test/queries/clientnegative/authorization_uri_insert_local.q ql/src/test/queries/clientnegative/authorization_uri_add_partition.q ql/src/test/queries/clientnegative/authorization_uri_altertab_setloc.q ql/src/test/queries/clientnegative/authorization_uri_insert.q ql/src/test/queries/clientnegative/authorization_uri_index.q ql/src/test/queries/clientnegative/authorization_uri_create_table_ext.q ql/src/test/queries/clientnegative/authorization_uri_create_table1.q ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java.orig ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/Operation2Privilege.java.orig
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1569331.

At revision 1569331.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629459&lt;/p&gt;</comment>
                            <comment id="13904409" author="rhbutani" created="Tue, 18 Feb 2014 18:59:52 +0000"  >&lt;p&gt;+1&lt;br/&gt;
will checkin once tests pass.&lt;/p&gt;</comment>
                            <comment id="13904968" author="navis" created="Wed, 19 Feb 2014 01:36:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; is reverted. I&apos;ve kicked test. &lt;/p&gt;</comment>
                            <comment id="13921867" author="navis" created="Thu, 6 Mar 2014 01:47:10 +0000"  >&lt;p&gt;Kick test&lt;/p&gt;</comment>
                            <comment id="13924775" author="hiveqa" created="Sat, 8 Mar 2014 08:46:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633001/HIVE-6403.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633001/HIVE-6403.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5373 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1655/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1655/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1655/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1655/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633001&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628444" name="HIVE-6403.1.patch" size="24161" author="rhbutani" created="Wed, 12 Feb 2014 06:28:02 +0000"/>
                            <attachment id="12628947" name="HIVE-6403.2.patch" size="26551" author="rhbutani" created="Fri, 14 Feb 2014 04:12:10 +0000"/>
                            <attachment id="12629298" name="HIVE-6403.3.patch.txt" size="72490" author="navis" created="Mon, 17 Feb 2014 02:25:45 +0000"/>
                            <attachment id="12629301" name="HIVE-6403.4.patch.txt" size="76502" author="navis" created="Mon, 17 Feb 2014 04:14:47 +0000"/>
                            <attachment id="12629459" name="HIVE-6403.5.patch.txt" size="122223" author="navis" created="Tue, 18 Feb 2014 02:12:36 +0000"/>
                            <attachment id="12633001" name="HIVE-6403.6.patch.txt" size="122223" author="navis" created="Thu, 6 Mar 2014 01:47:10 +0000"/>
                            <attachment id="12628677" name="navis.patch" size="4037" author="navis" created="Thu, 13 Feb 2014 04:39:52 +0000"/>
                            <attachment id="12628955" name="navis2.patch" size="99028" author="navis" created="Fri, 14 Feb 2014 05:46:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Feb 2014 07:38:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s9m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>also added to 0.13&lt;br/&gt;
thanks Navis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6404] Fix typo in serde constants for collection delimitor</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6404</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The collection delimiter is defined with a typo in serdeConstants:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  public static final String COLLECTION_DELIM = &quot;colelction.delim&quot;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694428">HIVE-6404</key>
            <summary>Fix typo in serde constants for collection delimitor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 05:09:37 +0000</created>
                <updated>Wed, 13 Aug 2014 17:41:43 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14095774" author="brocknoland" created="Wed, 13 Aug 2014 17:37:24 +0000"  >&lt;p&gt;Unfortunately fixing this, is incompatible unless we update the metastore. We&apos;ve updated values in the HMS before, here: &lt;a href=&quot;https://github.com/apache/hive/commit/f71dd893a461849a16e3ca024b030b1ea6ff767a&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/commit/f71dd893a461849a16e3ca024b030b1ea6ff767a&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12644948">HIVE-4428</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Aug 2014 17:37:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s9pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6405] Support append feature for HCatalog</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6405</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HCatalog currently treats all tables as &quot;immutable&quot; - i.e. all tables and partitions can be written to only once, and not appended. The nuances of what this means is as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;A non-partitioned table can be written to, and data in it is never updated from then on unless you drop and recreate.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;A partitioned table may support &quot;appending&quot; of a sort in a manner by adding new partitions to the table, but once written, the partitions themselves cannot have any new data added to them.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hive, on the other hand, does allow us to &quot;INSERT INTO&quot; into a table, thus allowing us append semantics. There is benefit to both of these models, and so, our goal is as follows:&lt;/p&gt;

&lt;p&gt;a) Introduce a notion of an immutable table, wherein all tables are not immutable by default, and have this be a table property. If this property is set for a table, and we attempt to write to a table that already has data (or a partition), disallow &quot;INSERT INTO&quot; into it from hive. This property being set will allow hive to mimic HCatalog&apos;s current immutable-table property. (I&apos;m going to create a separate sub-task to cover this bit, and focus on the HCatalog-side on this jira)&lt;/p&gt;

&lt;p&gt;b) As long as that flag is not set, HCatalog should be changed to allow appends into it as well, and not simply error out if data already exists in a table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694546">HIVE-6405</key>
            <summary>Support append feature for HCatalog</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 18:25:52 +0000</created>
                <updated>Thu, 20 Feb 2014 19:31:11 +0000</updated>
                                                                            <component>HCatalog</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                    <component>Thrift API</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                                                            <comments>
                            <comment id="13905689" author="sushanth" created="Wed, 19 Feb 2014 17:13:57 +0000"  >&lt;p&gt;Attaching patch, this depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6406&quot; title=&quot;Introduce immutable-table table property and if set, disallow insert-into&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6406&quot;&gt;&lt;del&gt;HIVE-6406&lt;/del&gt;&lt;/a&gt; being patched in.&lt;/p&gt;</comment>
                            <comment id="13906058" author="sushanth" created="Wed, 19 Feb 2014 20:49:35 +0000"  >&lt;p&gt;After a brief discussion with Ashutosh on the nature of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6406&quot; title=&quot;Introduce immutable-table table property and if set, disallow insert-into&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6406&quot;&gt;&lt;del&gt;HIVE-6406&lt;/del&gt;&lt;/a&gt;, I&apos;m going to create another task to add ql grammar to support modification of the immutability property in a manner similar to existing grammar for NO_DROP/OFFLINE, so that this can be treated as another kind of data protection, and so that users will not have to deal with explicitly modifying TBLPROPERTIES.&lt;/p&gt;</comment>
                            <comment id="13906134" author="hiveqa" created="Wed, 19 Feb 2014 21:43:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629811/HIVE-6405.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629811/HIVE-6405.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1418/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1418/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1418/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1418/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hbase-handler ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hbase-handler ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hbase-handler ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hbase-handler ---
[INFO] Compiling 18 source files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hbase-handler ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hbase-handler ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hbase-handler ---
[INFO] Compiling 4 source files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hbase-handler ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hbase-handler ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/hive-hbase-handler-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hbase-handler ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/hive-hbase-handler-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hbase-handler/0.13.0-SNAPSHOT/hive-hbase-handler-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hbase-handler/0.13.0-SNAPSHOT/hive-hbase-handler-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive HCatalog 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/hcatalog (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hcatalog/hive-hcatalog/0.13.0-SNAPSHOT/hive-hcatalog-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive HCatalog Core 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog-core ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hcatalog-core ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-core ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-core ---
[INFO] Compiling 147 source files to /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: Some input files use unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputFormatContainer.java:[185,15] cannot find symbol
symbol  : method isImmutable()
location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[573,72] cannot find symbol
symbol  : method isDirEmpty(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)
location: class org.apache.hadoop.hive.metastore.MetaStoreUtils
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[737,58] cannot find symbol
symbol  : method isImmutable()
location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[847,60] cannot find symbol
symbol  : method isImmutable()
location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[848,56] cannot find symbol
symbol  : method isImmutable()
location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[860,26] cannot find symbol
symbol  : method isImmutable()
location: class org.apache.hadoop.hive.ql.metadata.Table
[INFO] 6 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [4.504s]
[INFO] Hive Ant Utilities ................................ SUCCESS [8.190s]
[INFO] Hive Shims Common ................................. SUCCESS [3.798s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.134s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [3.062s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.466s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [4.103s]
[INFO] Hive Shims ........................................ SUCCESS [0.707s]
[INFO] Hive Common ....................................... SUCCESS [12.528s]
[INFO] Hive Serde ........................................ SUCCESS [8.717s]
[INFO] Hive Metastore .................................... SUCCESS [28.691s]
[INFO] Hive Query Language ............................... SUCCESS [1:08.445s]
[INFO] Hive Service ...................................... SUCCESS [5.348s]
[INFO] Hive JDBC ......................................... SUCCESS [1.966s]
[INFO] Hive Beeline ...................................... SUCCESS [0.875s]
[INFO] Hive CLI .......................................... SUCCESS [1.795s]
[INFO] Hive Contrib ...................................... SUCCESS [1.654s]
[INFO] Hive HBase Handler ................................ SUCCESS [2.747s]
[INFO] Hive HCatalog ..................................... SUCCESS [0.346s]
[INFO] Hive HCatalog Core ................................ FAILURE [1.736s]
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog HBase Storage Handler ............... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:46.025s
[INFO] Finished at: Wed Feb 19 16:43:08 EST 2014
[INFO] Final Memory: 70M/431M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-hcatalog-core: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputFormatContainer.java:[185,15] cannot find symbol
[ERROR] symbol  : method isImmutable()
[ERROR] location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[573,72] cannot find symbol
[ERROR] symbol  : method isDirEmpty(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)
[ERROR] location: class org.apache.hadoop.hive.metastore.MetaStoreUtils
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[737,58] cannot find symbol
[ERROR] symbol  : method isImmutable()
[ERROR] location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[847,60] cannot find symbol
[ERROR] symbol  : method isImmutable()
[ERROR] location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[848,56] cannot find symbol
[ERROR] symbol  : method isImmutable()
[ERROR] location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hcatalog/core/src/main/java/org/apache/hive/hcatalog/mapreduce/FileOutputCommitterContainer.java:[860,26] cannot find symbol
[ERROR] symbol  : method isImmutable()
[ERROR] location: class org.apache.hadoop.hive.ql.metadata.Table
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hcatalog-core
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629811&lt;/p&gt;</comment>
                            <comment id="13907369" author="sushanth" created="Thu, 20 Feb 2014 19:28:30 +0000"  >&lt;p&gt;Given that we added on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6465&quot; title=&quot;Introduce ql grammar for immutability property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6465&quot;&gt;HIVE-6465&lt;/a&gt; for ql grammar work, and there is still additional work on hive and hcatalog required to make append on HCatalog work with dynamic partitioning, I&apos;m going to treat this bug as an epic task, and create a new jira for the specific implementation of the append feature on HCatalog.&lt;/p&gt;

&lt;p&gt;(Also, the qa failures here are because this patch would have worked only after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6406&quot; title=&quot;Introduce immutable-table table property and if set, disallow insert-into&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6406&quot;&gt;&lt;del&gt;HIVE-6406&lt;/del&gt;&lt;/a&gt; was merged in, which it wasn&apos;t at the time the tests ran)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12694550">HIVE-6406</subtask>
                            <subtask id="12696074">HIVE-6465</subtask>
                            <subtask id="12696336">HIVE-6475</subtask>
                            <subtask id="12696341">HIVE-6476</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Feb 2014 21:43:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1safr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6406] Introduce immutable-table table property and if set, disallow insert-into</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6406</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6405&quot; title=&quot;Support append feature for HCatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6405&quot;&gt;HIVE-6405&lt;/a&gt;&apos;s attempt to make HCatalog and Hive behave in similar ways with regards to immutable tables, this is a companion task to introduce the notion of an immutable table, wherein all tables are not immutable by default, and have this be a table property. If this property is set for a table, and we attempt to write to a table that already has data (or a partition), disallow &quot;INSERT INTO&quot; into it from hive(if destination directory is non-empty). This property being set will allow hive to mimic HCatalog&apos;s current immutable-table property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694550">HIVE-6406</key>
            <summary>Introduce immutable-table table property and if set, disallow insert-into</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12694546">HIVE-6405</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 18:32:58 +0000</created>
                <updated>Sat, 16 Aug 2014 05:56:32 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 00:03:55 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                    <component>Thrift API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13898213" author="sushanth" created="Tue, 11 Feb 2014 19:43:08 +0000"  >&lt;p&gt;Attaching patch.&lt;/p&gt;

&lt;p&gt;This patch introduces a new table property &quot;is_immutable_table&quot;.&lt;/p&gt;

&lt;p&gt;If we create a table with TBLPROPERTIES(&quot;is_immutable_table&quot;=&quot;true&quot;), then INSERT INTO behaviour into that table will be disallowed if there is any data already present that the INSERT INTO would append to.&lt;/p&gt;

&lt;p&gt;INSERT INTO will still work if it is empty.&lt;/p&gt;</comment>
                            <comment id="13899537" author="hiveqa" created="Wed, 12 Feb 2014 20:23:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628308/HIVE-6406.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628308/HIVE-6406.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5091 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1293/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1293/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1293/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1293/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628308&lt;/p&gt;</comment>
                            <comment id="13899558" author="brocknoland" created="Wed, 12 Feb 2014 20:52:25 +0000"  >&lt;p&gt;It seems like is_ and _table are noise?&lt;/p&gt;</comment>
                            <comment id="13899604" author="sushanth" created="Wed, 12 Feb 2014 21:30:42 +0000"  >&lt;p&gt;Fair enough, I&apos;d agree. I retained the is_ because there was already a parameter called &quot;is_archived&quot;, and I was trying to maintain style. The &quot;_table&quot; I didn&apos;t think about, but can be removed as well. I&apos;ll regenerate this patch with that changed.&lt;/p&gt;</comment>
                            <comment id="13899611" author="sushanth" created="Wed, 12 Feb 2014 21:39:22 +0000"  >&lt;p&gt;Attached updated patch.&lt;/p&gt;</comment>
                            <comment id="13900472" author="hiveqa" created="Thu, 13 Feb 2014 16:23:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628572/HIVE-6406.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628572/HIVE-6406.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5091 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
org.apache.hadoop.hive.common.type.TestDecimal128.testHighPrecisionDecimal128Multiply
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1309/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1309/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1309/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1309/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628572&lt;/p&gt;</comment>
                            <comment id="13901890" author="sushanth" created="Fri, 14 Feb 2014 20:11:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; , could I please get a review of this patch?&lt;/p&gt;

&lt;p&gt;The error reported above is not connected to this patch.&lt;/p&gt;</comment>
                            <comment id="13901988" author="lefty@hortonworks.com" created="Fri, 14 Feb 2014 21:50:15 +0000"  >&lt;p&gt;Here&apos;s a Valentine nit for you in ErrorMsg.java:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;INSERT_INTO_IMMUTABLE_TABLE(10256, &quot;Inserting into an non-empty immutable table is not allowed&quot;),&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... should be &quot;a non-empty&quot; (also fix in insert_into5.q.out &amp;amp; insert_into6.q.out).&lt;/p&gt;

&lt;p&gt;And another in hive_metastore.thrift:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;+// Whether or not the table is considered immutable - immutable tables can only be&lt;br/&gt;
+// overwritten or created if unpartitioned, or if partitioned, partitions inside it&lt;br/&gt;
+// can only be overwritten or created. Immutability supports write-once and replace&lt;br/&gt;
+// semantics, but not append.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... &quot;immutable tables&quot; doesn&apos;t match &quot;inside it&quot; so change to &quot;an immutable table&quot; (or &quot;them&quot;).&lt;/p&gt;</comment>
                            <comment id="13902038" author="sushanth" created="Fri, 14 Feb 2014 22:25:17 +0000"  >&lt;p&gt;/doh. Thanks Lefty. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Updated patch with fix. &lt;/p&gt;</comment>
                            <comment id="13902736" author="hiveqa" created="Sun, 16 Feb 2014 15:52:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629134/HIVE-6406.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629134/HIVE-6406.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5122 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1341/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1341/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1341/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1341/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629134&lt;/p&gt;</comment>
                            <comment id="13906047" author="ashutoshc" created="Wed, 19 Feb 2014 20:40:38 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
Since this a new protection mode, in addition to existing ones (like NO_DROP, OFFLINE) it make sense to have this new mode supported via syntax like earlier. Thats only a syntactic sugar, which could be done in a follow-up.&lt;/p&gt;</comment>
                            <comment id="13906071" author="sushanth" created="Wed, 19 Feb 2014 21:04:25 +0000"  >&lt;p&gt;Thanks, Ashutosh. I&apos;ve created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6465&quot; title=&quot;Introduce ql grammar for immutability property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6465&quot;&gt;HIVE-6465&lt;/a&gt; for that.&lt;/p&gt;</comment>
                            <comment id="13906330" author="ashutoshc" created="Thu, 20 Feb 2014 00:03:55 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13906726" author="lefty@hortonworks.com" created="Thu, 20 Feb 2014 07:54:31 +0000"  >&lt;p&gt;This needs documentation &amp;#8211; how about a release note for starters?  (Of course &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6465&quot; title=&quot;Introduce ql grammar for immutability property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6465&quot;&gt;HIVE-6465&lt;/a&gt; will also need documentation after it&apos;s committed.)  Table properties are inadequately documented in the wiki &amp;#8211; see my Feb. 14th message to dev@hive:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201402.mbox/%3cCACEcauVSQt1TCrKg=_Oqr2NQSe5AuX7xuZbxcCNX-mLNCo4r-w@mail.gmail.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;User doc for table properties &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13907399" author="sushanth" created="Thu, 20 Feb 2014 19:47:58 +0000"  >&lt;p&gt;Hi Lefty, I edited in a release note for this jira.&lt;/p&gt;</comment>
                            <comment id="13907464" author="lefty@hortonworks.com" created="Thu, 20 Feb 2014 20:39:45 +0000"  >&lt;p&gt;Thanks Sushanth, I&apos;ll put it in the wiki.  (Festina lente.)&lt;/p&gt;</comment>
                            <comment id="14053325" author="lefty@hortonworks.com" created="Mon, 7 Jul 2014 04:28:00 +0000"  >&lt;p&gt;This is documented in the wiki in two places:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-InsertingdataintoHiveTablesfromqueries&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DML &amp;#8211; Inserting data into Hive tables from queries (see Synopsis after syntax) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table (see bullet list after syntax) &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12696074">HIVE-6465</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628572" name="HIVE-6406.2.patch" size="21953" author="sushanth" created="Wed, 12 Feb 2014 21:39:22 +0000"/>
                            <attachment id="12629134" name="HIVE-6406.3.patch" size="21952" author="sushanth" created="Fri, 14 Feb 2014 22:27:37 +0000"/>
                            <attachment id="12628308" name="HIVE-6406.patch" size="22135" author="sushanth" created="Tue, 11 Feb 2014 19:43:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Feb 2014 20:23:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sagn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch introduces a new table property &amp;quot;immutable&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
If we create a table with TBLPROPERTIES(&amp;quot;immutable&amp;quot;=&amp;quot;true&amp;quot;), then INSERT INTO behaviour into that table will be disallowed if there is any data already present that the INSERT INTO would append to.&lt;br/&gt;
&lt;br/&gt;
INSERT INTO will still work if it is empty.&lt;br/&gt;
&lt;br/&gt;
INSERT OVERWRITE behaviour is not modified by this property, since an INSERT OVERWRITE&amp;#39;s intent is effectively to drop and re-create.&lt;br/&gt;
&lt;br/&gt;
The desirability of having an immutable flag for a table is that it allows a table to be flagged to be protected against accidental updates due to a script loading data into it being run multiple times by mistake. With the flag set, the first insert would succeed, and successive inserts would fail, thus resulting in only one set of data in the table, instead of silently succeeding with 4 copies(say) of the data in the table.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6407] Test authorization_revoke_table_priv.q is failing on trunk</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6407</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Seems like &amp;#8211; SORT_BEFORE_DIFF directive is required for test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694557">HIVE-6407</key>
            <summary>Test authorization_revoke_table_priv.q is failing on trunk</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 18:52:17 +0000</created>
                <updated>Thu, 13 Feb 2014 16:50:42 +0000</updated>
                            <resolved>Thu, 13 Feb 2014 16:50:42 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13898150" author="ashutoshc" created="Tue, 11 Feb 2014 19:06:23 +0000"  >&lt;p&gt;Simple fix.&lt;/p&gt;</comment>
                            <comment id="13898441" author="thejas" created="Tue, 11 Feb 2014 22:48:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6407&quot; title=&quot;Test authorization_revoke_table_priv.q is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6407&quot;&gt;&lt;del&gt;HIVE-6407&lt;/del&gt;&lt;/a&gt;.1.patch - Takes a different approach - sorts the &apos;show grant&apos; and &apos;show role&apos; outputs before printing. &lt;/p&gt;</comment>
                            <comment id="13898486" author="ashutoshc" created="Tue, 11 Feb 2014 23:20:01 +0000"  >&lt;p&gt;LGTM +1&lt;/p&gt;</comment>
                            <comment id="13899423" author="hiveqa" created="Wed, 12 Feb 2014 18:52:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628356/HIVE-6407.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628356/HIVE-6407.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1291/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1291/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1291/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1291/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1291/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java&apos;
Reverted &apos;metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/RawStore.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&apos;
Reverted &apos;metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&apos;
Reverted &apos;metastore/src/gen/thrift/gen-php/metastore/Types.php&apos;
Reverted &apos;metastore/if/hive_metastore.thrift&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DropPartitionsExpr.java metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DropPartitionsRequest.java metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/RequestPartsSpec.java metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DropPartitionsResult.java itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java
U    common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
A    ql/src/test/results/clientnegative/authorization_show_roles_no_admin.q.out
U    ql/src/test/results/clientnegative/authorization_role_cycles1.q.out
A    ql/src/test/results/clientnegative/authorization_drop_role_no_admin.q.out
U    ql/src/test/results/clientnegative/authorization_role_cycles2.q.out
U    ql/src/test/results/clientnegative/authorization_fail_7.q.out
A    ql/src/test/results/clientnegative/authorization_create_role_no_admin.q.out
U    ql/src/test/results/clientpositive/authorization_role_grant1.q.out
U    ql/src/test/results/clientpositive/authorization_1.q.out
U    ql/src/test/results/clientpositive/authorization_set_show_current_role.q.out
U    ql/src/test/results/clientpositive/authorization_view.q.out
U    ql/src/test/results/clientpositive/authorization_1_sql_std.q.out
U    ql/src/test/results/clientpositive/authorization_5.q.out
U    ql/src/test/org/apache/hadoop/hive/ql/parse/authorization/TestHiveAuthorizationTaskFactory.java
A    ql/src/test/queries/clientnegative/authorization_show_roles_no_admin.q
A    ql/src/test/queries/clientnegative/authorization_drop_role_no_admin.q
U    ql/src/test/queries/clientnegative/authorization_role_cycles1.q
A    ql/src/test/queries/clientnegative/authorization_create_role_no_admin.q
U    ql/src/test/queries/clientnegative/authorization_role_cycles2.q
U    ql/src/test/queries/clientpositive/authorization_1_sql_std.q
U    ql/src/test/queries/clientpositive/authorization_set_show_current_role.q
U    ql/src/test/queries/clientpositive/authorization_role_grant1.q
U    ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/HiveAccessControlException.java
U    ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/HiveAuthorizer.java
U    ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/HiveAccessController.java
U    ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/HiveAuthorizerImpl.java
U    ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/SQLStdHiveAccessController.java
U    ql/src/java/org/apache/hadoop/hive/ql/parse/authorization/HiveAuthorizationTaskFactoryImpl.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1567718.

Updated to revision 1567718.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628356&lt;/p&gt;</comment>
                            <comment id="13899471" author="thejas" created="Wed, 12 Feb 2014 19:28:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6407&quot; title=&quot;Test authorization_revoke_table_priv.q is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6407&quot;&gt;&lt;del&gt;HIVE-6407&lt;/del&gt;&lt;/a&gt;.2.patch - patch rebased to resolve conflicts with test files.&lt;/p&gt;</comment>
                            <comment id="13899750" author="hiveqa" created="Wed, 12 Feb 2014 23:26:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628543/HIVE-6407.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628543/HIVE-6407.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5087 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowRoleGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowRoleGrant
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1295/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1295/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1295/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1295/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628543&lt;/p&gt;</comment>
                            <comment id="13899878" author="thejas" created="Thu, 13 Feb 2014 01:11:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6407&quot; title=&quot;Test authorization_revoke_table_priv.q is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6407&quot;&gt;&lt;del&gt;HIVE-6407&lt;/del&gt;&lt;/a&gt;.3.patch - fixing the 2 TestJdbcDriver* test failures&lt;/p&gt;</comment>
                            <comment id="13900312" author="hiveqa" created="Thu, 13 Feb 2014 13:21:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628636/HIVE-6407.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628636/HIVE-6407.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5061 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1307/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1307/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1307/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1307/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628636&lt;/p&gt;</comment>
                            <comment id="13900497" author="ashutoshc" created="Thu, 13 Feb 2014 16:50:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628356" name="HIVE-6407.1.patch" size="6918" author="thejas" created="Tue, 11 Feb 2014 22:48:33 +0000"/>
                            <attachment id="12628543" name="HIVE-6407.2.patch" size="6215" author="thejas" created="Wed, 12 Feb 2014 19:28:05 +0000"/>
                            <attachment id="12628636" name="HIVE-6407.3.patch" size="7543" author="thejas" created="Thu, 13 Feb 2014 01:11:54 +0000"/>
                            <attachment id="12628288" name="HIVE-6407.patch" size="1349" author="ashutoshc" created="Tue, 11 Feb 2014 19:06:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Feb 2014 22:48:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sai7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6408] Operation type for set role is incorrect</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6408</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12694572">HIVE-6408</key>
            <summary>Operation type for set role is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 19:20:40 +0000</created>
                <updated>Tue, 11 Feb 2014 19:20:40 +0000</updated>
                                                                            <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1salb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6409] FileOutputCommitterContainer::commitJob() cancels delegation tokens too early.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6409</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When HCatalog&apos;s FileOutputCommitterContainer::commitJob() is run, it calls the underlying OutputCommitter and then attempts to register partitions in HCatalog.&lt;/p&gt;

&lt;p&gt;If the commit fails (for example, because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4996&quot; title=&quot;unbalanced calls to openTransaction/commitTransaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4996&quot;&gt;&lt;del&gt;HIVE-4996&lt;/del&gt;&lt;/a&gt;), commitJob() cancels delegation tokens retrieved from HCatalog before the exception is rethrown.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: java.lang.reflect.InvocationTargetException
    at
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputCommitter.commitJob(PigOutputCommitter.java:185)
    at
org.apache.hadoop.mapreduce.v2.app.commit.CommitterEventHandler$EventProcessor.handleJobCommit(CommitterEventHandler.java:249)
    at
org.apache.hadoop.mapreduce.v2.app.commit.CommitterEventHandler$EventProcessor.run(CommitterEventHandler.java:212)
    at
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputCommitter.commitJob(PigOutputCommitter.java:183)
    ... 5 more
Caused by: org.apache.hcatalog.common.HCatException : 2006 : Error adding
partition to metastore. Cause :
MetaException(message:java.lang.RuntimeException: commitTransaction was called
but openTransactionCalls = 0. This probably indicates that there are unbalanced
calls to openTransaction/commitTransaction)
    at
org.apache.hcatalog.mapreduce.FileOutputCommitterContainer.registerPartitions(FileOutputCommitterContainer.java:712)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that this happens before abortJob() has had a chance to run, thus yielding the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MetaException(message:Could not connect to meta store using any of the URIs provided. Most recent failure: org.apache.thrift.transport.TTransportException: Peer indicated failure: DIGEST-MD5: IO error acquiring password
	at org.apache.thrift.transport.TSaslTransport.receiveSaslMessage(TSaslTransport.java:190)
	at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:266)
	at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)
	at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)
	at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)
	at java.security.AccessController.doPrivileged(Native Method)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll have a patch out that only cancels delegation tokens if the commitJob() has succeeded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694623">HIVE-6409</key>
            <summary>FileOutputCommitterContainer::commitJob() cancels delegation tokens too early.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 23:52:45 +0000</created>
                <updated>Mon, 3 Mar 2014 21:53:45 +0000</updated>
                            <resolved>Mon, 3 Mar 2014 21:53:45 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13898529" author="mithun" created="Wed, 12 Feb 2014 00:02:58 +0000"  >&lt;p&gt;Removed the finally{} block from commitJob(). If commit succeeds, there are no exceptions, and the tokens are cancelled. If commit fails, the cancel is avoided, and abortJob() takes care of cancelling the token.&lt;/p&gt;

&lt;p&gt;I&apos;ve also removed an annoying typo. I would also like to remove the following  catch blocks:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(TException e){} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TException isA MetaException, so this is redundant. The error handling is identical in both cases. I&apos;d like to remove this cruft, if it&apos;s alright.&lt;/p&gt;</comment>
                            <comment id="13916562" author="sushanth" created="Fri, 28 Feb 2014 23:16:52 +0000"  >&lt;p&gt;Hi Mithun, could you please cancel your patch, rename your patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6409&quot; title=&quot;FileOutputCommitterContainer::commitJob() cancels delegation tokens too early.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6409&quot;&gt;&lt;del&gt;HIVE-6409&lt;/del&gt;&lt;/a&gt;.patch, and mark it as patch available again? That helps the pre-commit tests pick up the patch and run it with it.&lt;/p&gt;</comment>
                            <comment id="13916564" author="sushanth" created="Fri, 28 Feb 2014 23:18:11 +0000"  >&lt;p&gt;Also, actually, you may have to regenerate this patch real quick off trunk now, since FileOutputCommitterContainer has changed a bit.&lt;/p&gt;</comment>
                            <comment id="13916568" author="sushanth" created="Fri, 28 Feb 2014 23:20:29 +0000"  >&lt;p&gt;Also, please do not patch any of the org.apache.hcatalog.* classes - they are deprecated and are being maintained in parity with the state they were in as of hive-0.11. The only reason we&apos;d change them is if they do not build any more due to issues with hadoop or hive/etc. Bugfixes are to go on to org.apache.hive.hcatalog.* only for now.&lt;/p&gt;</comment>
                            <comment id="13917513" author="mithun" created="Sun, 2 Mar 2014 18:29:44 +0000"  >&lt;p&gt;I&apos;ve renamed the patch, removed the changes to the deprecated code and resubmitted.&lt;/p&gt;

&lt;p&gt;About not making changes to org.apache.hcatalog: It is really quite dangerous to patch fixes only into org.apache.hive.hcatalog. :/ We&apos;ll have to make sure that projects like Pig are using the right version of the packages, for fixes.&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t it be preferable to remove the package entirely (and visibly break code) than to silently compile and produce something unusable? (Has this been discussed already?)&lt;/p&gt;</comment>
                            <comment id="13917551" author="hiveqa" created="Sun, 2 Mar 2014 20:39:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632065/HIVE-6409.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632065/HIVE-6409.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5201 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1594/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1594/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1594/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1594/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632065&lt;/p&gt;</comment>
                            <comment id="13918414" author="sushanth" created="Mon, 3 Mar 2014 18:51:58 +0000"  >&lt;p&gt;I&apos;m +1 on this new patch, I&apos;ll go ahead and commit it.&lt;/p&gt;

&lt;p&gt;As to your other concerns, this is per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5274&quot; title=&quot;HCatalog package renaming backward compatibility follow-up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5274&quot;&gt;&lt;del&gt;HIVE-5274&lt;/del&gt;&lt;/a&gt;, and per discussions that I brought up in the next hive-dev meetup(after that patch) as well.&lt;/p&gt;

&lt;p&gt;As to visibly breaking code, we will do that, as of 0.14, which will be trunk in a couple more days as soon as we branch out for 0.13 - we have &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6432&quot; title=&quot;Remove deprecated methods in HCatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6432&quot;&gt;&lt;del&gt;HIVE-6432&lt;/del&gt;&lt;/a&gt; open for just that. The idea is that org.apache.hcatalog.* works predictably in the way it has for all of those that have already been using it and find it usable in the state it is in, whereas to all new users who may be evaluating, they must be moving to org.apache.hive.hcatalog.&lt;/p&gt;</comment>
                            <comment id="13918424" author="sushanth" created="Mon, 3 Mar 2014 19:00:07 +0000"  >&lt;p&gt;Committed (with some minor indenting fixes).&lt;/p&gt;

&lt;p&gt;Thanks, Mithun!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12632065" name="HIVE-6409.patch" size="1406" author="mithun" created="Sun, 2 Mar 2014 18:29:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Feb 2014 23:16:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sawn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>FileOutputCommitterContainer delegation tokens</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6410] Allow output serializations separators to be set for HDFS path as well.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6410</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3682&quot; title=&quot;when output hive table to file,users should could have a separator of their own choice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3682&quot;&gt;&lt;del&gt;HIVE-3682&lt;/del&gt;&lt;/a&gt; adds functionality for users to set serialization constants for &apos;insert overwrite local directory&apos;. The same functionality should be available for hdfs path as well. The workaround suggested is to create a table with required format and insert into the table, which enforces the users to know the schema of the result and create the table ahead. Though that works, it is good to have the functionality for loading into directory as well.&lt;/p&gt;

&lt;p&gt;I&apos;m planning to add the same functionality in &apos;insert overwrite directory&apos; in this jira.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694669">HIVE-6410</key>
            <summary>Allow output serializations separators to be set for HDFS path as well.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="amareshwari">Amareshwari Sriramadasu</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 04:59:09 +0000</created>
                <updated>Thu, 6 Aug 2015 10:23:49 +0000</updated>
                            <resolved>Tue, 14 Oct 2014 13:35:35 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13899494" author="xuefuz" created="Wed, 12 Feb 2014 19:44:09 +0000"  >&lt;p&gt;Obviously, this is a dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-5672&lt;/a&gt;. Please close this one and take &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; title=&quot;Insert with custom separator not supported for non-local directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5672&quot;&gt;&lt;del&gt;HIVE-5672&lt;/del&gt;&lt;/a&gt; instead. Thanks.&lt;/p&gt;</comment>
                            <comment id="13900065" author="amareshwari" created="Thu, 13 Feb 2014 06:37:00 +0000"  >&lt;p&gt;Attaching the patch with fix. The changes include :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Grammar changes for accepting table format and row format for &apos;insert overwrite directory&apos;.&lt;/li&gt;
	&lt;li&gt;Fixed existing code to accept serde properties as well.&lt;/li&gt;
	&lt;li&gt;Added insert_overwrite_directory.q&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review board request - &lt;a href=&quot;https://reviews.apache.org/r/18060/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18060/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13901100" author="amareshwari" created="Fri, 14 Feb 2014 04:46:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefu.wang%40kodak.com&quot; class=&quot;user-hover&quot; rel=&quot;xuefu.wang@kodak.com&quot;&gt;Xuefu Wang&lt;/a&gt;, had the patch ready, so uploaded. I don&apos;t mind any of them being closed as duplicate of other, as long as code gets in.&lt;/p&gt;</comment>
                            <comment id="13903771" author="amareshwari" created="Tue, 18 Feb 2014 04:26:46 +0000"  >&lt;p&gt;Resubmitting for tests to run&lt;/p&gt;</comment>
                            <comment id="13903789" author="xuefuz" created="Tue, 18 Feb 2014 05:19:46 +0000"  >&lt;p&gt;Though closing either one of the dupes is fine, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; title=&quot;Insert with custom separator not supported for non-local directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5672&quot;&gt;&lt;del&gt;HIVE-5672&lt;/del&gt;&lt;/a&gt; has the history of discussions, which provides background for code reviewers.&lt;/p&gt;</comment>
                            <comment id="13964441" author="hiveqa" created="Wed, 9 Apr 2014 17:40:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628684/HIVE-6410.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628684/HIVE-6410.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5556 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_overwrite_directory
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2192/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2192/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2192/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2192/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628684&lt;/p&gt;</comment>
                            <comment id="14170923" author="xuefuz" created="Tue, 14 Oct 2014 13:35:35 +0000"  >&lt;p&gt;Close this one as dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; title=&quot;Insert with custom separator not supported for non-local directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5672&quot;&gt;&lt;del&gt;HIVE-5672&lt;/del&gt;&lt;/a&gt; to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="14211164" author="thejas" created="Thu, 13 Nov 2014 19:44:25 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14356433" author="nemon" created="Wed, 11 Mar 2015 07:34:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amareshwari&quot; class=&quot;user-hover&quot; rel=&quot;amareshwari&quot;&gt;Amareshwari Sriramadasu&lt;/a&gt;Do you mind uploading this patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; title=&quot;Insert with custom separator not supported for non-local directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5672&quot;&gt;&lt;del&gt;HIVE-5672&lt;/del&gt;&lt;/a&gt;?&lt;br/&gt;
I have tried hive 1.0, this bug still exists.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12822938">LENS-518</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12676177">HIVE-5672</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12706437">HIVE-6833</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12615082">HIVE-3682</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628684" name="HIVE-6410.patch" size="43729" author="amareshwari" created="Thu, 13 Feb 2014 06:37:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Feb 2014 19:44:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sb6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6411] Support more generic way of using composite key for HBaseHandler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6411</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2599&quot; title=&quot;Support Composit/Compound Keys with HBaseStorageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2599&quot;&gt;&lt;del&gt;HIVE-2599&lt;/del&gt;&lt;/a&gt; introduced using custom object for the row key. But it forces key objects to extend HBaseCompositeKey, which is again extension of LazyStruct. If user provides proper Object and OI, we can replace internal key and keyOI with those. &lt;/p&gt;

&lt;p&gt;Initial implementation is based on factory interface.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; HBaseKeyFactory {
  void init(SerDeParameters parameters, Properties properties) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; SerDeException;
  ObjectInspector createObjectInspector(TypeInfo type) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; SerDeException;
  LazyObjectBase createObject(ObjectInspector inspector) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; SerDeException;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694670">HIVE-6411</key>
            <summary>Support more generic way of using composite key for HBaseHandler</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 05:27:36 +0000</created>
                <updated>Sun, 11 Oct 2015 07:22:57 +0000</updated>
                            <resolved>Tue, 13 May 2014 18:26:40 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13898826" author="navis" created="Wed, 12 Feb 2014 05:47:49 +0000"  >&lt;p&gt;Preliminary test&lt;/p&gt;</comment>
                            <comment id="13900191" author="hiveqa" created="Thu, 13 Feb 2014 10:20:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628439/HIVE-6411.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628439/HIVE-6411.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5090 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hcatalog.hbase.snapshot.lock.TestWriteLock.testRun
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1303/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1303/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1303/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1303/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628439&lt;/p&gt;</comment>
                            <comment id="13901164" author="navis" created="Fri, 14 Feb 2014 06:57:27 +0000"  >&lt;p&gt;Cannot reproduce fail of TestWriteLock. authorization_revoke_table_priv is resolved in other issue. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, Could you review this? (I cannot make review board entry by 502 error)&lt;/p&gt;</comment>
                            <comment id="13901166" author="brocknoland" created="Fri, 14 Feb 2014 06:59:56 +0000"  >&lt;p&gt;I also don&apos;t think the test failures are related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; also looked at the hbase composite key changes IIRC.&lt;/p&gt;</comment>
                            <comment id="13901558" author="swarnim" created="Fri, 14 Feb 2014 15:36:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I created a RB review here to make it easier to look at the diff. I&apos;ll start digging into the changes.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://reviews.apache.org/r/18122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18122/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13902961" author="navis" created="Mon, 17 Feb 2014 05:04:56 +0000"  >&lt;p&gt;Cannot update the patch, so made a new link. &lt;a href=&quot;https://reviews.apache.org/r/18179/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18179/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13916603" author="hiveqa" created="Sat, 1 Mar 2014 00:02:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12631672/HIVE-6411.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12631672/HIVE-6411.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5181 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1559/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1559/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1559/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1559/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12631672&lt;/p&gt;</comment>
                            <comment id="13919872" author="hiveqa" created="Tue, 4 Mar 2014 20:12:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632418/HIVE-6411.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632418/HIVE-6411.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5240 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1616/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1616/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1616/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1616/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632418&lt;/p&gt;</comment>
                            <comment id="13921569" author="hiveqa" created="Wed, 5 Mar 2014 23:00:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632761/HIVE-6411.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632761/HIVE-6411.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1634/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1634/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1634/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1634/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-cli ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/cli/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-cli ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-cli ---
[INFO] Compiling 4 source files to /data/hive-ptest/working/apache-svn-trunk-source/cli/target/test-classes
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java uses unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-cli ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-cli ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/hive-cli-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-cli ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/cli/target/hive-cli-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-cli/0.14.0-SNAPSHOT/hive-cli-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/cli/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-cli/0.14.0-SNAPSHOT/hive-cli-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Contrib 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-contrib ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/contrib (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-contrib ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-contrib ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-contrib ---
[INFO] Compiling 39 source files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/java/org/apache/hadoop/hive/contrib/udf/example/UDFExampleStructPrint.java uses unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-contrib ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-contrib ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-contrib ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/test-classes
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/test/org/apache/hadoop/hive/contrib/serde2/TestRegexSerDe.java uses or overrides a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-contrib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-contrib ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/hive-contrib-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-contrib ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/hive-contrib-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-contrib/0.14.0-SNAPSHOT/hive-contrib-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/contrib/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-contrib/0.14.0-SNAPSHOT/hive-contrib-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive HBase Handler 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hbase-handler ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hbase-handler ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hbase-handler ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hbase-handler ---
[INFO] Compiling 22 source files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: Some input files use unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hbase-handler ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hbase-handler ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hbase-handler ---
[INFO] Compiling 6 source files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseKeyFactory.java:[79,10] cannot find symbol
symbol  : class DecomposedPredicate
location: class org.apache.hadoop.hive.hbase.TestHBaseKeyFactory
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseKeyFactory.java:[78,3] method does not override or implement a method from a supertype
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [3.395s]
[INFO] Hive Ant Utilities ................................ SUCCESS [7.360s]
[INFO] Hive Shims Common ................................. SUCCESS [3.380s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.307s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [2.864s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.834s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [4.198s]
[INFO] Hive Shims ........................................ SUCCESS [0.601s]
[INFO] Hive Common ....................................... SUCCESS [10.229s]
[INFO] Hive Serde ........................................ SUCCESS [9.177s]
[INFO] Hive Metastore .................................... SUCCESS [32.524s]
[INFO] Hive Query Language ............................... SUCCESS [1:16.323s]
[INFO] Hive Service ...................................... SUCCESS [6.563s]
[INFO] Hive JDBC ......................................... SUCCESS [2.362s]
[INFO] Hive Beeline ...................................... SUCCESS [1.536s]
[INFO] Hive CLI .......................................... SUCCESS [2.068s]
[INFO] Hive Contrib ...................................... SUCCESS [1.177s]
[INFO] Hive HBase Handler ................................ FAILURE [2.615s]
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog HBase Storage Handler ............... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:55.077s
[INFO] Finished at: Wed Mar 05 18:00:49 EST 2014
[INFO] Final Memory: 75M/490M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-hbase-handler: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseKeyFactory.java:[79,10] cannot find symbol
[ERROR] symbol  : class DecomposedPredicate
[ERROR] location: class org.apache.hadoop.hive.hbase.TestHBaseKeyFactory
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseKeyFactory.java:[78,3] method does not override or implement a method from a supertype
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hbase-handler
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632761&lt;/p&gt;</comment>
                            <comment id="13922962" author="xuefuz" created="Thu, 6 Mar 2014 19:45:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, would you mind update the review board with the latest patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="13923375" author="hiveqa" created="Fri, 7 Mar 2014 01:29:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632985/HIVE-6411.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632985/HIVE-6411.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5360 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_quotedid_smb
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1642/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1642/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1642/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1642/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632985&lt;/p&gt;</comment>
                            <comment id="13923490" author="navis" created="Fri, 7 Mar 2014 03:31:37 +0000"  >&lt;p&gt;Removed queries resulting binary output in out file&lt;/p&gt;</comment>
                            <comment id="13923614" author="xuefuz" created="Fri, 7 Mar 2014 06:23:59 +0000"  >&lt;p&gt;Thanks for the nice work. I haven&apos;t finished review yet, but posted some comments on RB.&lt;/p&gt;</comment>
                            <comment id="13924970" author="hiveqa" created="Sat, 8 Mar 2014 18:47:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633301/HIVE-6411.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633301/HIVE-6411.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5375 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1662/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1662/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1662/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1662/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633301&lt;/p&gt;</comment>
                            <comment id="13926242" author="xuefuz" created="Mon, 10 Mar 2014 21:26:46 +0000"  >&lt;p&gt;I left more comments on RB.&lt;/p&gt;

&lt;p&gt;BTW, I noticed that RB has a new patch, which isn&apos;t attached here to run test.&lt;/p&gt;</comment>
                            <comment id="13933880" author="xuefuz" created="Thu, 13 Mar 2014 18:54:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; I&apos;m wondering if we could move this forward?&lt;/p&gt;</comment>
                            <comment id="13933970" author="swarnim" created="Thu, 13 Mar 2014 20:05:41 +0000"  >&lt;p&gt;I think there are some RB comments that need to be addressed on this with some refactoring. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I know you are already working on this patch. Please so let me know if you need some assistance from my side on this. Thanks.&lt;/p&gt;</comment>
                            <comment id="13942413" author="xuefuz" created="Thu, 20 Mar 2014 22:21:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Given that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6677&quot; title=&quot;HBaseSerDe needs to be refactored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6677&quot;&gt;&lt;del&gt;HIVE-6677&lt;/del&gt;&lt;/a&gt; is in trunk, I&apos;m wondering if you&apos;d like to move this forward. I understand that the patch will need rebasing and somewhat refactoring, but I think either &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; or I can put some help on that if needed. Thanks for your effort on this.&lt;/p&gt;</comment>
                            <comment id="13945213" author="swarnim" created="Mon, 24 Mar 2014 15:30:23 +0000"  >&lt;p&gt;Would it make sense at all to make sense to log another bug for the refactoring changes and moving forward with this patch minus the refactoring that needs to be done?&lt;/p&gt;</comment>
                            <comment id="13945282" author="xuefuz" created="Mon, 24 Mar 2014 16:11:45 +0000"  >&lt;p&gt;Because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6677&quot; title=&quot;HBaseSerDe needs to be refactored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6677&quot;&gt;&lt;del&gt;HIVE-6677&lt;/del&gt;&lt;/a&gt;, this patch needs some rework anyway, I&apos;d think we it might be better we just get it done in one chunk. It seems Navis isn&apos;t available for this, but if anyone would like to take this forward, please communicate and feel free to do so. &lt;/p&gt;</comment>
                            <comment id="13945561" author="swarnim" created="Mon, 24 Mar 2014 19:19:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; If you are fine with it, I can pick this up from where you left it off. Let me know.&lt;/p&gt;</comment>
                            <comment id="13946273" author="navis" created="Tue, 25 Mar 2014 08:02:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; I&apos;ve done rebasing a few days ago, with some refactorings. I think I&apos;ve done a little much of that. Anyway, will update review board shortly after.&lt;/p&gt;</comment>
                            <comment id="13946931" author="xuefuz" created="Tue, 25 Mar 2014 18:42:15 +0000"  >&lt;p&gt;Thanks for the great work, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;. The patch looks good. I left some minor comments on the RB.&lt;/p&gt;

&lt;p&gt;One thing that I don&apos;t quite get is the changes related to predicate pushdown. Is this necessary? It would be great if someone can take a look at that. Otherwise, I&apos;ll dig more.&lt;/p&gt;</comment>
                            <comment id="13956456" author="hiveqa" created="Tue, 1 Apr 2014 12:22:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637969/HIVE-6411.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637969/HIVE-6411.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5515 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2063/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2063/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2063/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2063/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637969&lt;/p&gt;</comment>
                            <comment id="13957664" author="swarnim" created="Wed, 2 Apr 2014 13:55:52 +0000"  >&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="13957947" author="hiveqa" created="Wed, 2 Apr 2014 17:52:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638202/HIVE-6411.9.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638202/HIVE-6411.9.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5541 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2081/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2081/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2081/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2081/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638202&lt;/p&gt;</comment>
                            <comment id="13960208" author="swarnim" created="Fri, 4 Apr 2014 18:07:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I was wondering if there is something that is still holding us back on this JIRA or can we get this in?&lt;/p&gt;</comment>
                            <comment id="13960268" author="xuefuz" created="Fri, 4 Apr 2014 18:45:55 +0000"  >&lt;p&gt;The only thing that&apos;s holding this is time: I haven&apos;t got a chance to go over the latest patch yet. One thing that I&apos;m unclear about is the predicate pushdown related changes, per my previous comments.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;One thing that I don&apos;t quite get is the changes related to predicate pushdown. Is this necessary?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;An explanation of the nature of the change should help. Otherwise, it may take more of my time digging around.&lt;/p&gt;</comment>
                            <comment id="13960308" author="swarnim" created="Fri, 4 Apr 2014 19:16:52 +0000"  >&lt;p&gt;I think part of that came from merging of my patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6290&lt;/a&gt; which added a support for filter pushdown for structs.&lt;/p&gt;</comment>
                            <comment id="13960976" author="xuefuz" created="Sat, 5 Apr 2014 05:24:20 +0000"  >&lt;p&gt;Actually I was referring to the changes made on the second page of review diff, such as serialization a filter object. I also saw some seemingly dead code. I guess I just need to spend a little bit more time understanding this.&lt;/p&gt;</comment>
                            <comment id="13975374" author="swarnim" created="Mon, 21 Apr 2014 04:08:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Should we move ahead with this or is there something blocking us?&lt;/p&gt;</comment>
                            <comment id="13975809" author="xuefuz" created="Mon, 21 Apr 2014 18:12:16 +0000"  >&lt;p&gt;I believe there are some minor items to be resolved on review board.&lt;/p&gt;</comment>
                            <comment id="13984718" author="swarnim" created="Tue, 29 Apr 2014 20:01:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Please do let me know if there is anything that I can help out with. I think we should move ahead with this soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13984727" author="xuefuz" created="Tue, 29 Apr 2014 20:10:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; If you look at the latest review comment, you will see one main item on which your help might be helpful. It&apos;s about the changes made when processing exprnode. I don&apos;t quite follow the change, so some documentation might help.&lt;/p&gt;</comment>
                            <comment id="13984782" author="swarnim" created="Tue, 29 Apr 2014 21:02:11 +0000"  >&lt;p&gt;I added comments on the RB.&lt;/p&gt;</comment>
                            <comment id="13986858" author="swarnim" created="Thu, 1 May 2014 18:41:38 +0000"  >&lt;p&gt;Is it possible for us to get this in by the end of the week or so? The only reason I ask is I have a bunch of other patches as well that I wanted to submit but are currently blocked by this JIRA. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Thanks!&lt;/p&gt;</comment>
                            <comment id="13986972" author="xuefuz" created="Thu, 1 May 2014 20:47:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; It seems Navis might not be available for this at the moment. If you wish, you could help update the patch. Please communicate if you choose to do so.&lt;/p&gt;</comment>
                            <comment id="13987318" author="swarnim" created="Fri, 2 May 2014 04:41:15 +0000"  >&lt;p&gt;Sounds good to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Please do let me know if you will get a chance to look at it or else I can pick it up over the weekend and start addressing remaining comments on the RB. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13991322" author="swarnim" created="Tue, 6 May 2014 23:23:20 +0000"  >&lt;p&gt;Updated patch to address &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&apos;s review comments and also rebased with the current master.&lt;/p&gt;</comment>
                            <comment id="13991332" author="swarnim" created="Tue, 6 May 2014 23:30:01 +0000"  >&lt;p&gt;Unfortunately since I couldn&apos;t update the old RB, I created a new one&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; I think I addressed all concerns on the patch that you had with this new one. Please let me know if I missed something.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://reviews.apache.org/r/21138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/21138/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13991518" author="hiveqa" created="Wed, 7 May 2014 03:48:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643656/HIVE-6411.10.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12643656/HIVE-6411.10.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 5497 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket_map_join_tez1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_stats_counter_partitioned
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/134/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/134/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/134/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/134/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12643656&lt;/p&gt;</comment>
                            <comment id="13992184" author="swarnim" created="Wed, 7 May 2014 20:22:42 +0000"  >&lt;p&gt;The above test failures don&apos;t seem related to any of my changes with the new patch.&lt;/p&gt;</comment>
                            <comment id="13992358" author="xuefuz" created="Wed, 7 May 2014 23:28:36 +0000"  >&lt;p&gt;I left a few comments on review board, mostly about documentation or code comments that help me understand the changes.&lt;/p&gt;</comment>
                            <comment id="13992854" author="swarnim" created="Thu, 8 May 2014 15:41:42 +0000"  >&lt;p&gt;Comments addressed.&lt;/p&gt;</comment>
                            <comment id="13992856" author="swarnim" created="Thu, 8 May 2014 15:45:12 +0000"  >&lt;p&gt;RB updated.&lt;/p&gt;</comment>
                            <comment id="13994317" author="hiveqa" created="Sat, 10 May 2014 22:02:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643959/HIVE-6411.11.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12643959/HIVE-6411.11.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5438 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/166/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/166/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/166/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/166/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12643959&lt;/p&gt;</comment>
                            <comment id="13994808" author="swarnim" created="Mon, 12 May 2014 04:59:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; I have responded to your comments on the RB.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; If you get a chance, would you mind telling us about your choice of a FamilyFilter here&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Use of family filter for row key scans doesn&apos;t seem appropriate to us.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://reviews.apache.org/r/21138/diff/1/?file=575776#file575776line132&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/21138/diff/1/?file=575776#file575776line132&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13995423" author="xuefuz" created="Mon, 12 May 2014 18:34:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;@Swarnim K Please log a followup JIRA to track the FamilyFilter issue and link it here.&lt;/p&gt;</comment>
                            <comment id="13995651" author="swarnim" created="Mon, 12 May 2014 21:23:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Done. I have also linked to this newly created issue.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7048&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-7048&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13996738" author="xuefuz" created="Tue, 13 May 2014 18:26:40 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks to Navis and Swarnim for working on the patch.&lt;/p&gt;</comment>
                            <comment id="13996823" author="swarnim" created="Tue, 13 May 2014 19:55:46 +0000"  >&lt;p&gt;Thanks for the review Xuefu. I think we can now mark &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6290&quot; title=&quot;Add support for hbase filters for composite keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6290&quot;&gt;&lt;del&gt;HIVE-6290&lt;/del&gt;&lt;/a&gt; as resolved as well as the patch for that was included as a part of this JIRA.&lt;/p&gt;</comment>
                            <comment id="14030506" author="lefty@hortonworks.com" created="Fri, 13 Jun 2014 11:16:06 +0000"  >&lt;p&gt;The release note says this should be documented at the Hive-HBase Integration page, which is in the Design Docs:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Design Docs &amp;#8211; Completed:  Hive HBase Integration &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14065302" author="gautamkowshik" created="Thu, 17 Jul 2014 18:24:41 +0000"  >&lt;p&gt;Have we tried to back port this to Hive .13 .. This is a very useful feature to have for hive over hbase in the current stable version as well. If not i can try looking into this in a separate jira.&lt;/p&gt;</comment>
                            <comment id="14210731" author="thejas" created="Thu, 13 Nov 2014 19:42:17 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14576663" author="lefty@hortonworks.com" created="Mon, 8 Jun 2015 06:39:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amains12&quot; class=&quot;user-hover&quot; rel=&quot;amains12&quot;&gt;Andrew Mains&lt;/a&gt; documented this in the wiki so I&apos;m removing the TODOC14 label.  Thanks Andrew!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration#HBaseIntegration-ComplexCompositeRowKeysandHBaseKeyFactory&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBaseIntegration &amp;#8211; Complex Composite Row Keys and HBaseKeyFactory &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that the doc has a TODO (so maybe the TODOC14 label should be restored):&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;hbase.composite.key.factory&quot; should be the fully qualified class name of a class implementing HBaseKeyFactory. See SampleHBaseKeyFactory2 for a fixed length example in the same package. This class must be on your classpath in order for the above example to work. TODO: place these in an accessible place; they&apos;re currently only in test code.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683019">HBASE-10091</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12690856">HIVE-6290</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12857415">HIVE-11609</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12532034">HIVE-2599</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12713747">HIVE-7048</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615170">HIVE-3684</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12701618">HIVE-6677</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12713747">HIVE-7048</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628439" name="HIVE-6411.1.patch.txt" size="46612" author="navis" created="Wed, 12 Feb 2014 05:47:31 +0000"/>
                            <attachment id="12643656" name="HIVE-6411.10.patch.txt" size="193335" author="swarnim" created="Tue, 6 May 2014 23:23:20 +0000"/>
                            <attachment id="12643959" name="HIVE-6411.11.patch.txt" size="193779" author="swarnim" created="Thu, 8 May 2014 15:41:42 +0000"/>
                            <attachment id="12631672" name="HIVE-6411.2.patch.txt" size="53819" author="navis" created="Fri, 28 Feb 2014 05:19:26 +0000"/>
                            <attachment id="12632418" name="HIVE-6411.3.patch.txt" size="86911" author="navis" created="Tue, 4 Mar 2014 01:43:05 +0000"/>
                            <attachment id="12632761" name="HIVE-6411.4.patch.txt" size="95820" author="navis" created="Wed, 5 Mar 2014 03:45:52 +0000"/>
                            <attachment id="12632985" name="HIVE-6411.5.patch.txt" size="95514" author="navis" created="Thu, 6 Mar 2014 00:39:49 +0000"/>
                            <attachment id="12633301" name="HIVE-6411.6.patch.txt" size="102042" author="navis" created="Fri, 7 Mar 2014 03:31:37 +0000"/>
                            <attachment id="12636552" name="HIVE-6411.7.patch.txt" size="175763" author="navis" created="Tue, 25 Mar 2014 07:58:38 +0000"/>
                            <attachment id="12637969" name="HIVE-6411.8.patch.txt" size="181904" author="navis" created="Tue, 1 Apr 2014 00:59:00 +0000"/>
                            <attachment id="12638202" name="HIVE-6411.9.patch.txt" size="192216" author="navis" created="Wed, 2 Apr 2014 06:27:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Feb 2014 10:20:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sb73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The new feature needs to be documented at Hive-HBase integration page.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6412] SMB join on Decimal columns causes cast exception in JoinUtil.computeKeys</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6412</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.io.HiveDecimalWritable cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.common.type.HiveDecimal
        at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaHiveDecimalObjectInspector.getPrimitiveWritableObject(JavaHiveDecimalObjectInspector.java:49)
        at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaHiveDecimalObjectInspector.getPrimitiveWritableObject(JavaHiveDecimalObjectInspector.java:27)
        at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.copyToStandardObject(ObjectInspectorUtils.java:281)
        at org.apache.hadoop.hive.ql.exec.JoinUtil.computeKeys(JoinUtil.java:143)
        at org.apache.hadoop.hive.ql.exec.SMBMapJoinOperator$MergeQueue.next(SMBMapJoinOperator.java:809)
        at org.apache.hadoop.hive.ql.exec.SMBMapJoinOperator$MergeQueue.nextHive(SMBMapJoinOperator.java:771)
        at org.apache.hadoop.hive.ql.exec.SMBMapJoinOperator$MergeQueue.setupContext(SMBMapJoinOperator.java:710)
        at org.apache.hadoop.hive.ql.exec.SMBMapJoinOperator.setUpFetchContexts(SMBMapJoinOperator.java:538)
        at org.apache.hadoop.hive.ql.exec.SMBMapJoinOperator.processOp(SMBMapJoinOperator.java:248)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:790)
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:92)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:790)
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:524)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Repro:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table vsmb_bucket_1(key decimal(9,0), value decimal(38,10)) 
  CLUSTERED BY (key) 
  SORTED BY (key) INTO 1 BUCKETS 
  STORED AS ORC;
create table vsmb_bucket_2(key decimal(19,3), value decimal(28,0)) 
  CLUSTERED BY (key) 
  SORTED BY (key) INTO 1 BUCKETS 
  STORED AS ORC;
  
insert into table vsmb_bucket_1 
  select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(cint as decimal(9,0)) as key, 
    &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(cfloat as decimal(38,10)) as value 
  from alltypesorc limit 2;
insert into table vsmb_bucket_2 
  select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(cint as decimal(19,3)) as key, 
    &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(cfloat as decimal(28,0)) as value 
  from alltypesorc limit 2;

set hive.optimize.bucketmapjoin = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.optimize.bucketmapjoin.sortedmerge = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.auto.convert.sortmerge.join.noconditionaltask = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.input.format = org.apache.hadoop.hive.ql.io.BucketizedHiveInputFormat;

explain
select &lt;span class=&quot;code-comment&quot;&gt;/*+MAPJOIN(a)*/&lt;/span&gt; * from vsmb_bucket_1 a join vsmb_bucket_2 b on a.key = b.key;
select &lt;span class=&quot;code-comment&quot;&gt;/*+MAPJOIN(a)*/&lt;/span&gt; * from vsmb_bucket_1 a join vsmb_bucket_2 b on a.key = b.key;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694724">HIVE-6412</key>
            <summary>SMB join on Decimal columns causes cast exception in JoinUtil.computeKeys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 11:52:54 +0000</created>
                <updated>Tue, 25 Feb 2014 14:59:57 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 14:59:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13910779" author="xuefuz" created="Mon, 24 Feb 2014 20:36:13 +0000"  >&lt;p&gt;I tried the queries in the latest trunk and wasn&apos;t able to reproduce the problem. Presumably the problem is fixed. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rusanu&quot; class=&quot;user-hover&quot; rel=&quot;rusanu&quot;&gt;Remus Rusanu&lt;/a&gt; Could you please verify?&lt;/p&gt;</comment>
                            <comment id="13911568" author="rusanu" created="Tue, 25 Feb 2014 13:38:44 +0000"  >&lt;p&gt;I concur, this seems to no longer repro in current trunk.&lt;/p&gt;</comment>
                            <comment id="13911642" author="xuefuz" created="Tue, 25 Feb 2014 14:59:57 +0000"  >&lt;p&gt;Close the issue as non-reproducible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Feb 2014 20:36:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sbj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6413] Use of relative paths for data load in .q files breaks on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6413</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Eg. partition_type_check.q:&lt;/p&gt;

&lt;p&gt;FAILED: SemanticException Line 2:23 Invalid path &apos;&apos;../../data/files/T1.txt&apos;&apos;: Relative path in absolute URI: &lt;a href=&quot;file:E:/HW/project/hive-monarch/data/files/T1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:E:/HW/project/hive-monarch/data/files/T1.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This happens because the path is constructed in LoadSemanticAnalizer.initializeFromUri by appending the &quot;user.dir&quot; system property:  path = new Path(System.getProperty(&quot;user.dir&quot;), fromPath).toString(); . The resulted path is missing the leading &quot;/&quot; in front the drive letter.&lt;/p&gt;

&lt;p&gt;This was fixed in the past with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3126&quot; title=&quot;Generate &amp;amp; build the velocity based Hive tests on windows by fixing the path issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3126&quot;&gt;&lt;del&gt;HIVE-3126&lt;/del&gt;&lt;/a&gt; (change 39fbb41e3e96858391646c0e20897e848616e8e2) but was reverted with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6048&quot; title=&quot;Hive load data command rejects file with &amp;#39;+&amp;#39; in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6048&quot;&gt;&lt;del&gt;HIVE-6048&lt;/del&gt;&lt;/a&gt; (change c6f3bcccda986498ecb1e8070594961203038a8b)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694746">HIVE-6413</key>
            <summary>Use of relative paths for data load in .q files breaks on Windows</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 14:22:53 +0000</created>
                <updated>Thu, 13 Feb 2014 08:09:54 +0000</updated>
                                                                            <component>Build Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sbnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6414] ParquetInputFormat provides data values that do not match the object inspectors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6414</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5998&quot; title=&quot;Add vectorized reader for Parquet files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5998&quot;&gt;&lt;del&gt;HIVE-5998&lt;/del&gt;&lt;/a&gt; I noticed that the ParquetRecordReader returns IntWritable for all &apos;int like&apos; types, in disaccord with the row object inspectors. I though fine, and I worked my way around it. But I see now that the issue trigger failuers in other places, eg. in aggregates:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row {&quot;cint&quot;:528534767,&quot;ctinyint&quot;:31,&quot;csmallint&quot;:4963,&quot;cfloat&quot;:31.0,&quot;cdouble&quot;:4963.0,&quot;cstring1&quot;:&quot;cvLH6Eat2yFsyy7p&quot;}
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:534)
        at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:177)
        ... 8 more
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.ClassCastException: org.apache.hadoop.io.IntWritable cannot be cast to java.lang.Short
        at org.apache.hadoop.hive.ql.exec.GroupByOperator.processOp(GroupByOperator.java:808)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:790)
        at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:87)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:790)
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:92)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:790)
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:524)
        ... 9 more
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.IntWritable cannot be cast to java.lang.Short
        at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaShortObjectInspector.get(JavaShortObjectInspector.java:41)
        at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.compare(ObjectInspectorUtils.java:671)
        at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.compare(ObjectInspectorUtils.java:631)
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDAFMin$GenericUDAFMinEvaluator.merge(GenericUDAFMin.java:109)
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDAFMin$GenericUDAFMinEvaluator.iterate(GenericUDAFMin.java:96)
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDAFEvaluator.aggregate(GenericUDAFEvaluator.java:183)
        at org.apache.hadoop.hive.ql.exec.GroupByOperator.updateAggregations(GroupByOperator.java:641)
        at org.apache.hadoop.hive.ql.exec.GroupByOperator.processHashAggr(GroupByOperator.java:838)
        at org.apache.hadoop.hive.ql.exec.GroupByOperator.processKey(GroupByOperator.java:735)
        at org.apache.hadoop.hive.ql.exec.GroupByOperator.processOp(GroupByOperator.java:803)
        ... 15 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My test is (I&apos;m writing a test .q from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5998&quot; title=&quot;Add vectorized reader for Parquet files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5998&quot;&gt;&lt;del&gt;HIVE-5998&lt;/del&gt;&lt;/a&gt;, but the repro does not involve vectorization):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create table if not exists alltypes_parquet (
  cint int,
  ctinyint tinyint,
  csmallint smallint,
  cfloat float,
  cdouble double,
  cstring1 string) stored as parquet;

insert overwrite table alltypes_parquet
  select cint,
    ctinyint,
    csmallint,
    cfloat,
    cdouble,
    cstring1
  from alltypesorc;

explain select * from alltypes_parquet limit 10; select * from alltypes_parquet limit 10;

explain select ctinyint,
  max(cint),
  min(csmallint),
  count(cstring1),
  avg(cfloat),
  stddev_pop(cdouble)
  from alltypes_parquet
  group by ctinyint;
select ctinyint,
  max(cint),
  min(csmallint),
  count(cstring1),
  avg(cfloat),
  stddev_pop(cdouble)
  from alltypes_parquet
  group by ctinyint;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694778">HIVE-6414</key>
            <summary>ParquetInputFormat provides data values that do not match the object inspectors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcoffey">Justin Coffey</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                            <label>Parquet</label>
                    </labels>
                <created>Wed, 12 Feb 2014 16:50:56 +0000</created>
                <updated>Mon, 10 Mar 2014 18:22:41 +0000</updated>
                            <resolved>Sat, 8 Mar 2014 00:57:25 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13899273" author="brocknoland" created="Wed, 12 Feb 2014 16:56:33 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcoffey&quot; class=&quot;user-hover&quot; rel=&quot;jcoffey&quot;&gt;Justin Coffey&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13899284" author="jcoffey" created="Wed, 12 Feb 2014 17:04:00 +0000"  >&lt;p&gt;I&apos;ll investigate.&lt;/p&gt;</comment>
                            <comment id="13910296" author="jcoffey" created="Mon, 24 Feb 2014 13:34:36 +0000"  >&lt;p&gt;the patch was developed against this commit: b05004a863b09cbe5f4b734c5474092f328f0c41&lt;/p&gt;

&lt;p&gt;unit tests and qtests run fine against this commit.&lt;/p&gt;

&lt;p&gt;the latest commit (as of today): 1a3608d8b1f8cf41e9ba2fc7e9bacdecf271bb92&lt;/p&gt;

&lt;p&gt;Appears to have broken qtests (none will run) and so I can&apos;t verify the patch specific qtest.  Unit tests, however, execute without error.&lt;/p&gt;</comment>
                            <comment id="13910297" author="jcoffey" created="Mon, 24 Feb 2014 13:35:23 +0000"  >&lt;p&gt;Credit should be given to Remy Pecqueur &amp;lt;r.pecqueur@criteo.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13910685" author="szehon" created="Mon, 24 Feb 2014 19:16:04 +0000"  >&lt;p&gt;Hi, for aggregator functions we saw the issue as well and I made a fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6477&quot; title=&quot;Aggregation functions for tiny/smallint broken with parquet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6477&quot;&gt;&lt;del&gt;HIVE-6477&lt;/del&gt;&lt;/a&gt;, I guess it is the same fix.&lt;/p&gt;
</comment>
                            <comment id="13910810" author="szehon" created="Mon, 24 Feb 2014 21:07:19 +0000"  >&lt;p&gt;Hi Justin, I think this version of the fix looks more complete than mine, let&apos;s go with this one if it works.  &lt;/p&gt;

&lt;p&gt;But just some comments.  Which version of the branch did you create the branch from?  There are some late changes that added new output to all q.out file in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;, and this might need to regenerate based on that.  &lt;/p&gt;

&lt;p&gt;Also does the query need a &quot;sort by&quot; after &quot;group by&quot; to guarantee deterministic result of the q.out file?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13910822" author="szehon" created="Mon, 24 Feb 2014 21:13:13 +0000"  >&lt;p&gt;Sorry, I meant &quot;order by&quot;.&lt;/p&gt;</comment>
                            <comment id="13911585" author="jcoffey" created="Tue, 25 Feb 2014 13:50:20 +0000"  >&lt;p&gt;Hi Szehon, I worked off of the trunk on this.  We are applying cleanly to the latest commit and unit tests pass, but our qtest fails after the commit for #&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.  qtests for parquet_create.q work just fine though.&lt;/p&gt;

&lt;p&gt;We&apos;re digging into it.&lt;/p&gt;</comment>
                            <comment id="13911587" author="jcoffey" created="Tue, 25 Feb 2014 13:51:24 +0000"  >&lt;p&gt;Oh, and we don&apos;t appear to need the order by for deterministic tests, but I have added it and will submit an updated patch with it (once we have gotten to the bottom of these failures).&lt;/p&gt;

&lt;p&gt;btw are your qtests passing in #&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6477&quot; title=&quot;Aggregation functions for tiny/smallint broken with parquet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6477&quot;&gt;&lt;del&gt;HIVE-6477&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13911601" author="jcoffey" created="Tue, 25 Feb 2014 14:12:44 +0000"  >&lt;p&gt;Updated patch with working unit and qtests applicable to trunk commit: 6010e22bd24d5004990c63f0aeb232d75693dd94 (#&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5954&quot; title=&quot;SQL std auth - get_privilege_set should check role hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5954&quot;&gt;&lt;del&gt;HIVE-5954&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13911974" author="szehon" created="Tue, 25 Feb 2014 19:53:17 +0000"  >&lt;p&gt;Hmm, I applied your patch on trunk, and new test (parquet_types) still fails for me with missing output due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.  Let&apos;s see how pre-commit tests go.  Yea my tests pass pre-commit test in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6477&quot; title=&quot;Aggregation functions for tiny/smallint broken with parquet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6477&quot;&gt;&lt;del&gt;HIVE-6477&lt;/del&gt;&lt;/a&gt;, I had added regeneration of output.&lt;/p&gt;

&lt;p&gt;Other than that, +1 (non-binding).  Thanks for doing order-by, from my experience its useful for group by, as each group goes to one reducer, and no guarantee from MR framework that they wont run in parallel.&lt;/p&gt;
</comment>
                            <comment id="13912318" author="xuefuz" created="Wed, 26 Feb 2014 00:30:15 +0000"  >&lt;p&gt;Quick comment on the code change:&lt;/p&gt;

&lt;p&gt;Hive doesn&apos;t throw runtime exception when the data isn&apos;t right. In terms of error handling, Hive returns null for data errors, including data-out-of-bound as in this case.&lt;/p&gt;</comment>
                            <comment id="13912320" author="hiveqa" created="Wed, 26 Feb 2014 00:32:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630955/HIVE-6414.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630955/HIVE-6414.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5196 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_types
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1491/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1491/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1491/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1491/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630955&lt;/p&gt;</comment>
                            <comment id="13912643" author="jcoffey" created="Wed, 26 Feb 2014 08:36:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; ok will recheck qtest and resubmit with nulls and not exceptions.  I wasn&apos;t sure what the behavior should be in the case of an overflow.&lt;/p&gt;</comment>
                            <comment id="13914750" author="jcoffey" created="Thu, 27 Feb 2014 17:15:19 +0000"  >&lt;p&gt;Update patch based on comments from Xuefu.&lt;/p&gt;</comment>
                            <comment id="13920048" author="szehon" created="Tue, 4 Mar 2014 21:29:48 +0000"  >&lt;p&gt;Hi Justin, thanks for taking care of it.  Do you want resubmit the patch for testing for this issue?  There had been an issue where the pre-commit test queue got lost.&lt;/p&gt;</comment>
                            <comment id="13920071" author="xuefuz" created="Tue, 4 Mar 2014 21:46:42 +0000"  >&lt;p&gt;+1 to the patch #3.&lt;/p&gt;</comment>
                            <comment id="13922905" author="szehon" created="Thu, 6 Mar 2014 19:09:52 +0000"  >&lt;p&gt;Re-submitting the patch, on behalf of Justin, to retrigger the pre-commit test.&lt;/p&gt;</comment>
                            <comment id="13923269" author="hiveqa" created="Thu, 6 Mar 2014 23:50:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633208/HIVE-6414.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633208/HIVE-6414.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5371 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1641/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1641/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1641/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1641/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633208&lt;/p&gt;</comment>
                            <comment id="13924095" author="jcoffey" created="Fri, 7 Mar 2014 17:40:23 +0000"  >&lt;p&gt;hello, I don&apos;t think these are related to the patch, so resubmitting for retesting.&lt;/p&gt;</comment>
                            <comment id="13924579" author="xuefuz" created="Sat, 8 Mar 2014 00:46:23 +0000"  >&lt;p&gt;TestMinimrCliDriver.testCliDriver_bucket_num_reducers is flaky. Other failures are appearing in other test runs as well.&lt;/p&gt;</comment>
                            <comment id="13924599" author="xuefuz" created="Sat, 8 Mar 2014 00:57:25 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks to Justin for the contribution.&lt;/p&gt;</comment>
                            <comment id="13925998" author="rhbutani" created="Mon, 10 Mar 2014 18:22:41 +0000"  >&lt;p&gt;ported to 0.13 branch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12696416">HIVE-6477</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12630955" name="HIVE-6414.2.patch" size="17037" author="jcoffey" created="Tue, 25 Feb 2014 14:12:44 +0000"/>
                            <attachment id="12633406" name="HIVE-6414.3.patch" size="15438" author="jcoffey" created="Fri, 7 Mar 2014 17:42:07 +0000"/>
                            <attachment id="12633208" name="HIVE-6414.3.patch" size="15438" author="szehon" created="Thu, 6 Mar 2014 19:09:52 +0000"/>
                            <attachment id="12631559" name="HIVE-6414.3.patch" size="15438" author="jcoffey" created="Thu, 27 Feb 2014 17:15:19 +0000"/>
                            <attachment id="12630660" name="HIVE-6414.patch" size="16957" author="jcoffey" created="Mon, 24 Feb 2014 13:35:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Feb 2014 16:56:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sbv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6415] Disallow transform clause in sql std authorization mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6415</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12694793">HIVE-6415</key>
            <summary>Disallow transform clause in sql std authorization mode</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 17:46:00 +0000</created>
                <updated>Mon, 12 May 2014 06:18:25 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 22:06:38 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13899975" author="thejas" created="Thu, 13 Feb 2014 03:18:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13900255" author="hiveqa" created="Thu, 13 Feb 2014 11:51:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628524/HIVE-6415.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628524/HIVE-6415.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 5090 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_1_sql_std
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_create_table_owner_privs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_grant_table_priv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_set_show_current_role
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_drop_role_no_admin
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_grant_table_allpriv
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_grant_table_fail1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_grant_table_fail_nogrant
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_invalid_priv_v2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_revoke_table_fail1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_revoke_table_fail2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_cycles1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_cycles2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1306/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1306/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1306/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1306/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628524&lt;/p&gt;</comment>
                            <comment id="13900898" author="ashutoshc" created="Thu, 13 Feb 2014 23:41:09 +0000"  >&lt;p&gt;Re-upload for Hive QA to run.&lt;/p&gt;</comment>
                            <comment id="13900966" author="thejas" created="Fri, 14 Feb 2014 00:38:51 +0000"  >&lt;p&gt;+1 for updated patch &lt;/p&gt;</comment>
                            <comment id="13901812" author="hiveqa" created="Fri, 14 Feb 2014 19:18:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628897/HIVE-6415.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628897/HIVE-6415.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5120 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1324/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1324/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1324/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1324/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628897&lt;/p&gt;</comment>
                            <comment id="13902013" author="ashutoshc" created="Fri, 14 Feb 2014 22:06:38 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13902024" author="lefty@hortonworks.com" created="Fri, 14 Feb 2014 22:15:23 +0000"  >&lt;p&gt;When SQL standard authorization mode is available, this needs to be documented in the wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Transform&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Language Manual &amp;#8211; Transform &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Language Manual &amp;#8211; Authorization &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13994845" author="lefty@hortonworks.com" created="Mon, 12 May 2014 06:18:25 +0000"  >&lt;p&gt;It&apos;s documented in the wiki now:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Transform#LanguageManualTransform-SQLStandardBasedAuthorizationDisallowsTRANSFORM&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Language Manual &amp;#8211; Transform &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-RestrictionsonHiveCommandsandStatements&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SQL Standard Based Hive Authorization &amp;#8211; Restrictions &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12658677">HIVE-4887</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628803" name="HIVE-6415.1.patch" size="5085" author="ashutoshc" created="Thu, 13 Feb 2014 17:46:00 +0000"/>
                            <attachment id="12628897" name="HIVE-6415.2.patch" size="5085" author="ashutoshc" created="Thu, 13 Feb 2014 23:41:09 +0000"/>
                            <attachment id="12628524" name="HIVE-6415.patch" size="4926" author="ashutoshc" created="Wed, 12 Feb 2014 17:50:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Feb 2014 03:18:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sbyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6416] Vectorized mathematical functions for decimal type.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6416</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Vectorized mathematical functions for decimal type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694819">HIVE-6416</key>
            <summary>Vectorized mathematical functions for decimal type.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 19:34:55 +0000</created>
                <updated>Thu, 20 Feb 2014 06:07:48 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 06:07:47 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13902373" author="jnp" created="Sat, 15 Feb 2014 10:11:37 +0000"  >&lt;p&gt;An early version of the patch. A new patch with tests will be uploaded very soon.&lt;/p&gt;</comment>
                            <comment id="13902635" author="jnp" created="Sun, 16 Feb 2014 04:29:39 +0000"  >&lt;p&gt;Updated patch, ready for review. However the patch is blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5759&quot; title=&quot;Implement vectorized support for COALESCE conditional expression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5759&quot;&gt;&lt;del&gt;HIVE-5759&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13903516" author="hiveqa" created="Mon, 17 Feb 2014 21:36:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629253/HIVE-6416.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629253/HIVE-6416.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5135 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1365/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1365/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1365/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1365/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629253&lt;/p&gt;</comment>
                            <comment id="13903842" author="jnp" created="Tue, 18 Feb 2014 07:06:47 +0000"  >&lt;p&gt;Review board entry: &lt;a href=&quot;https://reviews.apache.org/r/18184/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18184/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13904829" author="ehans" created="Tue, 18 Feb 2014 23:47:20 +0000"  >&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;+1 conditional on addressing my review comments (all of which are minor)&lt;/p&gt;</comment>
                            <comment id="13905504" author="jnp" created="Wed, 19 Feb 2014 14:42:47 +0000"  >&lt;p&gt;The update patch fixes the review comments and addresses the test failure.&lt;/p&gt;</comment>
                            <comment id="13905862" author="jnp" created="Wed, 19 Feb 2014 18:55:29 +0000"  >&lt;p&gt;Patch re-based against the latest trunk.&lt;/p&gt;</comment>
                            <comment id="13906427" author="hiveqa" created="Thu, 20 Feb 2014 01:19:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629848/HIVE-6416.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629848/HIVE-6416.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5156 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1420/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1420/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1420/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1420/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629848&lt;/p&gt;</comment>
                            <comment id="13906517" author="jnp" created="Thu, 20 Feb 2014 02:38:24 +0000"  >&lt;p&gt;The failed test is not related to the patch.&lt;/p&gt;</comment>
                            <comment id="13906655" author="jnp" created="Thu, 20 Feb 2014 06:07:48 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12677823">HIVE-5759</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12694076">HIVE-6396</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12629217" name="HIVE-6416.1.patch" size="37915" author="jnp" created="Sat, 15 Feb 2014 10:11:37 +0000"/>
                            <attachment id="12629253" name="HIVE-6416.2.patch" size="52094" author="jnp" created="Sun, 16 Feb 2014 04:29:39 +0000"/>
                            <attachment id="12629775" name="HIVE-6416.3.patch" size="60065" author="jnp" created="Wed, 19 Feb 2014 14:42:47 +0000"/>
                            <attachment id="12629848" name="HIVE-6416.4.patch" size="60339" author="jnp" created="Wed, 19 Feb 2014 18:55:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Feb 2014 21:36:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sc47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6417] sql std auth - new users in admin role config should get added</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6417</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;if metastore is started with hive.users.in.admin.role=user1, then user1 is added admin role to metastore.&lt;br/&gt;
If the value is changed to hive.users.in.admin.role=user2, then user2 should get added to the role in metastore. Right now, if the admin role exists, new users don&apos;t get added.&lt;br/&gt;
A work-around is -  user1 adding user2 to the admin role using grant role statement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694838">HIVE-6417</key>
            <summary>sql std auth - new users in admin role config should get added</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 21:09:02 +0000</created>
                <updated>Fri, 7 Mar 2014 19:37:46 +0000</updated>
                            <resolved>Fri, 7 Mar 2014 15:59:11 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13921294" author="ashutoshc" created="Wed, 5 Mar 2014 19:41:42 +0000"  >&lt;p&gt;Problem is both role creation and adding users in a role is governed by same flag. We need to separate these two tasks such that they are governed by two different flags. Patch forthcoming.&lt;/p&gt;</comment>
                            <comment id="13921339" author="ashutoshc" created="Wed, 5 Mar 2014 20:06:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="13921341" author="thejas" created="Wed, 5 Mar 2014 20:11:15 +0000"  >&lt;p&gt;sure, can you add an rb link ?&lt;/p&gt;</comment>
                            <comment id="13921378" author="ashutoshc" created="Wed, 5 Mar 2014 20:49:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18793/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18793/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13922839" author="ashutoshc" created="Thu, 6 Mar 2014 18:22:42 +0000"  >&lt;p&gt;Re-attach for Hive QA to pick up.&lt;/p&gt;</comment>
                            <comment id="13923144" author="hiveqa" created="Thu, 6 Mar 2014 22:07:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633196/HIVE-6417.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633196/HIVE-6417.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5359 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1640/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1640/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1640/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1640/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633196&lt;/p&gt;</comment>
                            <comment id="13923543" author="thejas" created="Fri, 7 Mar 2014 04:40:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13923988" author="ashutoshc" created="Fri, 7 Mar 2014 15:59:11 +0000"  >&lt;p&gt;Committed to trunk. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Since its a bug on newly introduced feature in 0.13, it will be good to have this on 0.13 as well.&lt;/p&gt;</comment>
                            <comment id="13924171" author="rhbutani" created="Fri, 7 Mar 2014 18:30:35 +0000"  >&lt;p&gt;yes; do you want me to commit this to 0.13 branch?&lt;/p&gt;</comment>
                            <comment id="13924180" author="ashutoshc" created="Fri, 7 Mar 2014 18:39:05 +0000"  >&lt;p&gt;I can do it. No worries!&lt;/p&gt;</comment>
                            <comment id="13924255" author="ashutoshc" created="Fri, 7 Mar 2014 19:37:46 +0000"  >&lt;p&gt;Committed to 0.13 as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12633196" name="HIVE-6417.1.patch" size="7139" author="ashutoshc" created="Thu, 6 Mar 2014 18:22:42 +0000"/>
                            <attachment id="12632907" name="HIVE-6417.patch" size="7600" author="ashutoshc" created="Wed, 5 Mar 2014 20:06:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Mar 2014 19:41:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sc8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6418] MapJoinRowContainer has large memory overhead in typical cases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6418</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12694840">HIVE-6418</key>
            <summary>MapJoinRowContainer has large memory overhead in typical cases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 21:14:13 +0000</created>
                <updated>Mon, 30 Jun 2014 04:02:35 +0000</updated>
                            <resolved>Thu, 27 Feb 2014 19:58:25 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13899591" author="sershe" created="Wed, 12 Feb 2014 21:20:45 +0000"  >&lt;p&gt;First cut.&lt;br/&gt;
Introduces an alternative container that basically has an array. Initially that just stores context and all the un-serialized writables.&lt;br/&gt;
On access, it deserializes the writables. It knows the row count at that point and can determine row length from the first deserialized row (assumes its the same), so array represents a matrix with this row length.&lt;br/&gt;
For simple case of one row, it also serves as a list, so it can return itself as that &quot;row&quot;. Otherwise it returns a readonly sublist.&lt;br/&gt;
Works for Tez, because Tez doesn&apos;t have to serialize/deserialize the hashtable. I am not sure the lazy part can be made to work for MR with its extra stage, probably not, so MR uses old container.&lt;/p&gt;

&lt;p&gt;WIP:&lt;br/&gt;
Need to get rid of index stored in each row, since unless rowCount is made short it will round to 8 bytes I presume and it&apos;s really useless. &lt;br/&gt;
Also need to run more tests, I ran some tez tests&lt;/p&gt;</comment>
                            <comment id="13899598" author="sershe" created="Wed, 12 Feb 2014 21:26:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; fyi&lt;/p&gt;</comment>
                            <comment id="13899600" author="sershe" created="Wed, 12 Feb 2014 21:27:08 +0000"  >&lt;p&gt;oh, MJRC became an interface and I renamed the original one into &quot;Eager&quot; because I can&apos;t come up with a good interface name otherwise&lt;/p&gt;</comment>
                            <comment id="13900082" author="sershe" created="Thu, 13 Feb 2014 07:06:14 +0000"  >&lt;p&gt;Fix some issues. Need to figure out whether the &quot;lazy&quot; part provides benefits, now that it requires byte array copy. It would really depend on how many entries actually get used, perhaps it could be configurable&lt;/p&gt;</comment>
                            <comment id="13900090" author="sershe" created="Thu, 13 Feb 2014 07:23:45 +0000"  >&lt;p&gt;please ignore q file changes&lt;/p&gt;</comment>
                            <comment id="13900092" author="sershe" created="Thu, 13 Feb 2014 07:25:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18061/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18061/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13900991" author="sershe" created="Fri, 14 Feb 2014 01:26:11 +0000"  >&lt;p&gt;Added correct handling on 0-length rows (main issue), got rid of some array allocations when deserializing, other minor changes and fixes. I have run minitez tests and they passed except for mapjoin_mapjoin; with this patch, that passes, I am rerunning all tests now.&lt;/p&gt;</comment>
                            <comment id="13901083" author="sershe" created="Fri, 14 Feb 2014 03:37:42 +0000"  >&lt;p&gt;tiny fix to serde to make last tez tests pass&lt;/p&gt;</comment>
                            <comment id="13901456" author="hiveqa" created="Fri, 14 Feb 2014 14:08:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628945/HIVE-6418.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628945/HIVE-6418.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5095 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1321/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1321/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1321/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1321/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628945&lt;/p&gt;</comment>
                            <comment id="13904707" author="sershe" created="Tue, 18 Feb 2014 22:25:05 +0000"  >&lt;p&gt;Added config setting&lt;/p&gt;</comment>
                            <comment id="13906340" author="sershe" created="Thu, 20 Feb 2014 00:15:09 +0000"  >&lt;p&gt;From applying this patch on my test, I get the following savings... HashMap with 1M entries, key is double, row is double and string (strings are short); one row per container (savings with multiple rows per key will be lower).&lt;br/&gt;
Lazy part is disabled.&lt;/p&gt;


&lt;p&gt;Before (sorted by shallow size):&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;80000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;232384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32384000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;328384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.ArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;208384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinEagerRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;232384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinEagerRowContainer$NoCopyingArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;160384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKey&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;64000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8388624&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;336772624&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;336772672&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;After:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;184384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32384000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;264384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.LazyFlatRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKey&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;64000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8388624&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;272772624&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;272772672&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;Savings of 19~%&lt;/p&gt;
</comment>
                            <comment id="13906368" author="sershe" created="Thu, 20 Feb 2014 00:30:38 +0000"  >&lt;p&gt;Lazy deserialization-enabled table (before any activity, so no rows are deserialized) looks like this:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;49968000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;49968000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;121968000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;201968000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.LazyFlatRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;105968000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKey&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;64000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8388624&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;210356624&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;210356672&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Savings of further 23% compared to fully eager table (at the cost of byte copying)&lt;/p&gt;</comment>
                            <comment id="13906369" author="sershe" created="Thu, 20 Feb 2014 00:31:53 +0000"  >&lt;p&gt;Remaining writable come from the key in that case, that is addressed in separate jira&lt;/p&gt;</comment>
                            <comment id="13907550" author="sershe" created="Thu, 20 Feb 2014 21:42:49 +0000"  >&lt;p&gt;Hmm, 8 more bytes per value can be shaved, it seems that new class inherits some useless member from abstractlist&lt;/p&gt;</comment>
                            <comment id="13907892" author="hagleitn" created="Fri, 21 Feb 2014 02:45:31 +0000"  >&lt;p&gt;Minor nitpicks on RB. Otherwise LGTM +1. Are you planning to provide a new patch for the 8 additional bytes?&lt;/p&gt;</comment>
                            <comment id="13907898" author="sershe" created="Fri, 21 Feb 2014 02:52:17 +0000"  >&lt;p&gt;will update this patch&lt;/p&gt;</comment>
                            <comment id="13907916" author="sershe" created="Fri, 21 Feb 2014 03:24:49 +0000"  >&lt;p&gt;update, remove abstractlist&lt;br/&gt;
one tez test passed, will run the rest&lt;/p&gt;</comment>
                            <comment id="13909819" author="hiveqa" created="Sun, 23 Feb 2014 17:56:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630238/HIVE-6418.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630238/HIVE-6418.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5175 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_mapjoin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1457/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1457/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1457/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1457/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630238&lt;/p&gt;</comment>
                            <comment id="13910030" author="sershe" created="Mon, 24 Feb 2014 05:24:40 +0000"  >&lt;p&gt;add changes to non-tez out file. I think someone forgot to update tez files cause there are small unrelated changes in all outputs (database name pre/post hook), but they all pass&lt;/p&gt;</comment>
                            <comment id="13911542" author="hiveqa" created="Tue, 25 Feb 2014 13:02:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630604/HIVE-6418.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630604/HIVE-6418.05.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5170 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.org.apache.hive.service.cli.thrift.TestThriftHttpCLIService
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1488/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1488/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1488/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1488/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630604&lt;/p&gt;</comment>
                            <comment id="13913234" author="sershe" created="Wed, 26 Feb 2014 17:55:13 +0000"  >&lt;p&gt;Cannot repro either query or test failure. It looks like the query is flaky, judging by failures in other jiras.&lt;/p&gt;</comment>
                            <comment id="13913489" author="hagleitn" created="Wed, 26 Feb 2014 20:54:51 +0000"  >&lt;p&gt;Looked at the changes since last review. Still looks good +1.&lt;/p&gt;</comment>
                            <comment id="13913730" author="sershe" created="Wed, 26 Feb 2014 23:26:57 +0000"  >&lt;p&gt;Will commit in 24 hours...&lt;/p&gt;</comment>
                            <comment id="13913813" author="lefty@hortonworks.com" created="Thu, 27 Feb 2014 00:45:28 +0000"  >&lt;p&gt;This introduces a new config parameter, &lt;b&gt;hive.mapjoin.lazy.hashtable&lt;/b&gt;, which needs documentation.&lt;/p&gt;

&lt;p&gt;But don&apos;t document it in hive-default.xml.template because that&apos;s going to be overwritten after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; commits.  You could document it in a comment in HiveConf.java but most of the parameter comments will go away with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; and the descriptions will be incorporated into the parameter definitions.&lt;/p&gt;

&lt;p&gt;So maybe the best course is to document it here in a release note, then it can be added to HiveConf.java either before or after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; commits.  (I&apos;ll make a note there about this new parameter.)&lt;/p&gt;</comment>
                            <comment id="13914980" author="sershe" created="Thu, 27 Feb 2014 19:58:25 +0000"  >&lt;p&gt;committed to trunk&lt;/p&gt;</comment>
                            <comment id="14047351" author="lefty@hortonworks.com" created="Mon, 30 Jun 2014 04:02:35 +0000"  >&lt;p&gt;&lt;b&gt;hive.mapjoin.lazy.hashtable&lt;/b&gt; is documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.lazy.hashtable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties:  hive.mapjoin.lazy.hashtable &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12698095">HIVE-6530</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12695140">HIVE-6430</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628917" name="HIVE-6418.01.patch" size="56210" author="sershe" created="Fri, 14 Feb 2014 01:26:11 +0000"/>
                            <attachment id="12628945" name="HIVE-6418.02.patch" size="57791" author="sershe" created="Fri, 14 Feb 2014 03:37:42 +0000"/>
                            <attachment id="12629657" name="HIVE-6418.03.patch" size="61953" author="sershe" created="Tue, 18 Feb 2014 22:25:05 +0000"/>
                            <attachment id="12630238" name="HIVE-6418.04.patch" size="63361" author="sershe" created="Fri, 21 Feb 2014 03:26:15 +0000"/>
                            <attachment id="12630237" name="HIVE-6418.04.patch" size="63437" author="sershe" created="Fri, 21 Feb 2014 03:24:49 +0000"/>
                            <attachment id="12630604" name="HIVE-6418.05.patch" size="64727" author="sershe" created="Mon, 24 Feb 2014 05:24:40 +0000"/>
                            <attachment id="12628566" name="HIVE-6418.WIP.patch" size="45356" author="sershe" created="Wed, 12 Feb 2014 21:20:45 +0000"/>
                            <attachment id="12628689" name="HIVE-6418.patch" size="63572" author="sershe" created="Thu, 13 Feb 2014 07:06:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Feb 2014 14:08:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sc8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6419] Update people page as discussed on dev@</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6419</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12694860">HIVE-6419</key>
            <summary>Update people page as discussed on dev@</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 22:17:21 +0000</created>
                <updated>Thu, 13 Feb 2014 02:10:48 +0000</updated>
                            <resolved>Wed, 12 Feb 2014 22:38:23 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13899693" author="hagleitn" created="Wed, 12 Feb 2014 22:31:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13899702" author="brocknoland" created="Wed, 12 Feb 2014 22:38:23 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="13899934" author="lefty@hortonworks.com" created="Thu, 13 Feb 2014 02:10:48 +0000"  >&lt;p&gt;+1 (just for good measure)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628582" name="HIVE-6419.patch" size="9257" author="brocknoland" created="Wed, 12 Feb 2014 22:17:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Feb 2014 22:31:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1scdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6420] upgrade script for Hive 13 is missing for Derby</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6420</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There&apos;s an upgrade script for all DSes but not for Derby. Nothing needs to be done in that script but I&apos;m being told that some tools might break if there&apos;s no matching file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694872">HIVE-6420</key>
            <summary>upgrade script for Hive 13 is missing for Derby</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 23:08:04 +0000</created>
                <updated>Sat, 22 Mar 2014 06:29:47 +0000</updated>
                            <resolved>Tue, 18 Feb 2014 18:01:30 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13900985" author="sershe" created="Fri, 14 Feb 2014 01:20:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; fyi&lt;/p&gt;</comment>
                            <comment id="13904286" author="alangates" created="Tue, 18 Feb 2014 17:28:12 +0000"  >&lt;p&gt;My patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5843&quot; title=&quot;Transaction manager for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5843&quot;&gt;&lt;del&gt;HIVE-5843&lt;/del&gt;&lt;/a&gt; fixes this already.  Are you ok with me marking this as duplicate of that?&lt;/p&gt;</comment>
                            <comment id="13904322" author="sershe" created="Tue, 18 Feb 2014 18:01:16 +0000"  >&lt;p&gt;sure&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12679785">HIVE-5843</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628915" name="HIVE-6420.patch" size="325" author="sershe" created="Fri, 14 Feb 2014 01:20:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Feb 2014 17:28:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1scfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6421] abs() should preserve precision/scale of decimal input</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6421</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe dec1;
OK
c1                  	decimal(10,2)       	None 

hive&amp;gt; explain select c1, abs(c1) from dec1;
 ...
            Select Operator
              expressions: c1 (type: decimal(10,2)), abs(c1) (type: decimal(38,18))

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Given that abs() is a GenericUDF it should be possible for the return type precision/scale to match the input precision/scale.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694876">HIVE-6421</key>
            <summary>abs() should preserve precision/scale of decimal input</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 23:24:06 +0000</created>
                <updated>Thu, 12 Feb 2015 23:40:39 +0000</updated>
                            <resolved>Mon, 1 Dec 2014 22:55:17 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14218672" author="jdere" created="Wed, 19 Nov 2014 23:02:02 +0000"  >&lt;p&gt;re-upload to run precommit tests&lt;/p&gt;</comment>
                            <comment id="14219186" author="hiveqa" created="Thu, 20 Nov 2014 09:49:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12682515/HIVE-6421.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12682515/HIVE-6421.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 6655 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_math_funcs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_math_funcs
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1846/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1846/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1846/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1846/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1846/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1846/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12682515 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14223816" author="jdere" created="Tue, 25 Nov 2014 00:17:13 +0000"  >&lt;p&gt;Fix test failures&lt;/p&gt;</comment>
                            <comment id="14225812" author="hiveqa" created="Wed, 26 Nov 2014 06:10:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12683449/HIVE-6421.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12683449/HIVE-6421.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6683 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1903/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1903/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1903/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1903/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1903/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1903/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12683449 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14226551" author="jdere" created="Wed, 26 Nov 2014 18:08:58 +0000"  >&lt;p&gt;Failure has been occurring in other precommit runs and does not appear to be related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, does this one look ok?&lt;/p&gt;</comment>
                            <comment id="14226659" author="ashutoshc" created="Wed, 26 Nov 2014 19:04:01 +0000"  >&lt;p&gt;yup. +1&lt;/p&gt;</comment>
                            <comment id="14230629" author="jdere" created="Mon, 1 Dec 2014 22:55:17 +0000"  >&lt;p&gt;Committed to trunk. Thanks for review Ashutosh&lt;/p&gt;</comment>
                            <comment id="14231061" author="lefty@hortonworks.com" created="Tue, 2 Dec 2014 06:27:52 +0000"  >&lt;p&gt;No doc needed?&lt;/p&gt;</comment>
                            <comment id="14231105" author="jdere" created="Tue, 2 Dec 2014 07:25:48 +0000"  >&lt;p&gt;Not really, more of a bug fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628644" name="HIVE-6421.1.txt" size="6048" author="jdere" created="Thu, 13 Feb 2014 01:44:50 +0000"/>
                            <attachment id="12682515" name="HIVE-6421.2.patch" size="6048" author="jdere" created="Wed, 19 Nov 2014 23:02:02 +0000"/>
                            <attachment id="12683449" name="HIVE-6421.3.patch" size="14115" author="jdere" created="Tue, 25 Nov 2014 00:17:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Nov 2014 09:49:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1scgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6422] SQL std auth - revert change for view keyword in grant statement</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6422</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SQL standard does not support view keyword in grant statement. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6181&quot; title=&quot;support grant/revoke on views - parser changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6181&quot;&gt;&lt;del&gt;HIVE-6181&lt;/del&gt;&lt;/a&gt; which was added as part of sql standard changes, needs to be reverted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694877">HIVE-6422</key>
            <summary>SQL std auth - revert change for view keyword in grant statement</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Feb 2014 23:29:31 +0000</created>
                <updated>Thu, 20 Feb 2014 19:37:58 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 19:37:49 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13906050" author="ashutoshc" created="Wed, 19 Feb 2014 20:44:56 +0000"  >&lt;p&gt;It will be good to retain the test case here.&lt;/p&gt;</comment>
                            <comment id="13906108" author="thejas" created="Wed, 19 Feb 2014 21:27:14 +0000"  >&lt;p&gt;Good point about test coverage. I have enhanced the authorization_view_sqlstd.q test to add more coverage and also remove the view keyword used there. It now also tests the grant/revoke statements on views with and without the table keyword.&lt;/p&gt;</comment>
                            <comment id="13906112" author="ashutoshc" created="Wed, 19 Feb 2014 21:29:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13906959" author="hiveqa" created="Thu, 20 Feb 2014 13:52:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629892/HIVE-6422.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629892/HIVE-6422.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5167 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1424/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1424/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1424/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1424/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629892&lt;/p&gt;</comment>
                            <comment id="13907382" author="thejas" created="Thu, 20 Feb 2014 19:37:49 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the review Ashutosh!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629876" name="HIVE-6422.1.patch" size="13434" author="thejas" created="Wed, 19 Feb 2014 19:54:42 +0000"/>
                            <attachment id="12629892" name="HIVE-6422.2.patch" size="20964" author="thejas" created="Wed, 19 Feb 2014 21:27:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Feb 2014 20:44:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sch3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6423] Read Timestamps and Dates from Avro files (stored as Strings in ISO format)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6423</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Avro doesn&apos;t have native timestamp or date data types. Some tools (e.g. apache Sqoop) work around this by adding the java.sql.Types type number as an &quot;sqlType&quot; attribute to the Avro schema JSON field element. The attached patch makes the Avro SerDe look for an sqlType attribute, and if it is a Hive primitive type that&apos;s not an Avro primitive type (i.e. timestamp and date) it returns the appropriate Hive type (the one corresponding to the SQL type).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694888">HIVE-6423</key>
            <summary>Read Timestamps and Dates from Avro files (stored as Strings in ISO format)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="njw45">Nick White</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 00:12:15 +0000</created>
                <updated>Tue, 16 Sep 2014 15:42:19 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13900635" author="hiveqa" created="Thu, 13 Feb 2014 19:25:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628618/HIVE-6423.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628618/HIVE-6423.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5094 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1311/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1311/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1311/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1311/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628618&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12741826">HIVE-8130</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12741829">HIVE-8131</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12741825">HIVE-8129</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628618" name="HIVE-6423.patch" size="17521" author="njw45" created="Thu, 13 Feb 2014 00:13:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Feb 2014 19:25:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sciv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6424] webhcat.jar no longer includes webhcat-lo4j.properties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6424</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;pre Maven switch, webhcat-log4j.properties and webhcat-default.xml were at the root of hive-webhcat-0.13.0-SNAPSHOT.jar.  They are no longer there.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694897">HIVE-6424</key>
            <summary>webhcat.jar no longer includes webhcat-lo4j.properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 01:25:53 +0000</created>
                <updated>Fri, 8 May 2015 19:13:29 +0000</updated>
                            <resolved>Fri, 8 May 2015 19:13:29 +0000</resolved>
                                    <version>0.13.0</version>
                                                    <component>Build Infrastructure</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14535304" author="ekoifman" created="Fri, 8 May 2015 19:13:29 +0000"  >&lt;p&gt;The same changes as in the attached patch are already present in the codebase.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628848" name="hive6424.patch" size="454" author="ekoifman" created="Thu, 13 Feb 2014 20:52:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sckv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6425] Unable to create external table with 3000+ columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6425</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While creating an external table in Hive to a table in HBase with 3000+ columns, Hive shows up an error:&lt;/p&gt;

&lt;p&gt;FAILED: Error in metadata: MetaException(message:javax.jdo.JDODataStoreException: Put request failed : INSERT INTO &quot;SERDE_PARAMS&quot; (&quot;PARAM_VALUE&quot;,&quot;SERDE_ID&quot;,&quot;PARAM_KEY&quot;) VALUES (?,?,?)&lt;br/&gt;
NestedThrowables:&lt;br/&gt;
org.datanucleus.store.rdbms.exceptions.MappedDatastoreException: INSERT INTO &quot;SERDE_PARAMS&quot; (&quot;PARAM_VALUE&quot;,&quot;SERDE_ID&quot;,&quot;PARAM_KEY&quot;) VALUES (?,?,?) )&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, CDH 4.2.0&lt;/p&gt;</environment>
        <key id="12694940">HIVE-6425</key>
            <summary>Unable to create external table with 3000+ columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anurag.pv">Anurag</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 13 Feb 2014 08:17:22 +0000</created>
                <updated>Fri, 16 Dec 2016 04:29:17 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14124864" author="michalisk" created="Sun, 7 Sep 2014 11:07:42 +0000"  >&lt;p&gt;Hive metastore &quot;SERDE_PARAMS.PARAM_VALUE&quot; column limits to &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.14.0.mysql.sql#L455&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;varchar 4000&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15058043" author="veve" created="Tue, 15 Dec 2015 13:22:18 +0000"  >&lt;p&gt;I got the same error for a an external table with 185 columns. &lt;/p&gt;</comment>
                            <comment id="15058173" author="veve" created="Tue, 15 Dec 2015 15:03:45 +0000"  >&lt;p&gt;In fact the limit was not on the number of columns but on the number of characters in &lt;br/&gt;
SERDEPROPERTIES(&quot;hbase.columns.mapping&quot;= &quot;a field that has maximum 4000 characters&quot;).&lt;/p&gt;

&lt;p&gt;So this bug is due to the error: ERROR: value too long for type character varying(4000)&lt;br/&gt;
workaround: &lt;a href=&quot;https://support.pivotal.io/hc/en-us/articles/203422043-ERROR-value-too-long-for-type-character-varying-4000-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://support.pivotal.io/hc/en-us/articles/203422043-ERROR-value-too-long-for-type-character-varying-4000-&lt;/a&gt;&lt;/p&gt;



</comment>
                            <comment id="15118294" author="boggavarapu" created="Tue, 26 Jan 2016 23:42:10 +0000"  >&lt;p&gt;Getting the same error for an external table with 250+ columns.&lt;br/&gt;
Any help ?&lt;/p&gt;</comment>
                            <comment id="15538571" author="mszurap" created="Sat, 1 Oct 2016 13:58:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9815&quot; title=&quot;Metastore column&amp;quot;SERDE_PARAMS&amp;quot;.&amp;quot;PARAM_VALUE&amp;quot;  limited to 4000 bytes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9815&quot;&gt;&lt;del&gt;HIVE-9815&lt;/del&gt;&lt;/a&gt;&#160;and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12274&quot; title=&quot;Increase width of columns used for general configuration in the metastore.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12274&quot;&gt;&lt;del&gt;HIVE-12274&lt;/del&gt;&lt;/a&gt; are also addressing this issue.&lt;/p&gt;</comment>
                            <comment id="15753400" author="satapathysangita@gmail.com" created="Fri, 16 Dec 2016 04:29:17 +0000"  >&lt;p&gt;I was facing the same issue. It was resolved by doing following changes in hive meta store.&lt;/p&gt;

&lt;p&gt;&amp;#8211; log into Hive Metastore DB&lt;/p&gt;

&lt;p&gt;&amp;#8211; &amp;gt;alter table SERDE_PARAMS MODIFY PARAM_VALUE VARCHAR(400000000);&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://community.hortonworks.com/questions/33311/number-column-limitations-in-hive-over-hbase-table.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://community.hortonworks.com/questions/33311/number-column-limitations-in-hive-over-hbase-table.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628697" name="Hive_Script.txt" size="203932" author="anurag.pv" created="Thu, 13 Feb 2014 08:19:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Sep 2014 11:07:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1scuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive, Metadata, HBase</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6426] Metastore Doesn&apos;t Log Reason for Datastore Failure when Retrying</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6426</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The metastore only logs a messages like &quot;JDO datastore error. Retrying metastore command after %d ms (attempt %d of %d)&quot;, but doesn&apos;t include the reason why the command failed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694964">HIVE-6426</key>
            <summary>Metastore Doesn&apos;t Log Reason for Datastore Failure when Retrying</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="njw45">Nick White</assignee>
                                    <reporter username="njw45">Nick White</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 11:41:58 +0000</created>
                <updated>Fri, 21 Mar 2014 05:24:11 +0000</updated>
                            <resolved>Fri, 21 Mar 2014 05:24:11 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13942796" author="ashutoshc" created="Fri, 21 Mar 2014 05:10:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13942809" author="ashutoshc" created="Fri, 21 Mar 2014 05:24:11 +0000"  >&lt;p&gt;RetryingRawStore got deleted. So, no longer an issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628729" name="HIVE-6426.patch" size="943" author="njw45" created="Thu, 13 Feb 2014 11:42:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Mar 2014 05:10:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sczr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6427] Hive Server2 should reopen Metastore client in case of any Thrift exceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6427</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In case of metastore restart hive server doesn&apos;t reopen connection to metastore. Any command gives broken pipe or similar exceptions.&lt;br/&gt;
&lt;a href=&quot;http://paste.ubuntu.com/6926215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://paste.ubuntu.com/6926215/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any subsequent command doesn&apos;t reestablish connection and tries to use stale (closed) connection.&lt;/p&gt;

&lt;p&gt;Looks like we shouldn&apos;t blindly convert any MetaException to HiveSQLException, but should distinguish between fatal exceptions and logical exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695033">HIVE-6427</key>
            <summary>Hive Server2 should reopen Metastore client in case of any Thrift exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="octo47">Andrey Stepachev</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 16:19:43 +0000</created>
                <updated>Wed, 12 Nov 2014 01:56:27 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13900792" author="octo47" created="Thu, 13 Feb 2014 22:08:00 +0000"  >&lt;p&gt;I make a patch against cloudera branch cdh5-0.12.0_5.0.0b2 which somehow solves that problem. &lt;br/&gt;
It is copy&amp;amp;paste of RetryingMetaStoreClient initialisation. Also, for properly working proxy code I&apos;ve removed unnecessary exception mangling.&lt;/p&gt;</comment>
                            <comment id="13918055" author="octo47" created="Mon, 3 Mar 2014 13:43:56 +0000"  >&lt;p&gt;Patch was updated.&lt;/p&gt;</comment>
                            <comment id="13966030" author="ashutoshc" created="Thu, 10 Apr 2014 23:54:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=octo47&quot; class=&quot;user-hover&quot; rel=&quot;octo47&quot;&gt;Andrey Stepachev&lt;/a&gt; Can you create a RB request on &lt;a href=&quot;https://reviews.apache.org/r/new/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/new/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13972527" author="octo47" created="Thu, 17 Apr 2014 08:55:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/20444/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/20444/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14094192" author="hiveqa" created="Tue, 12 Aug 2014 15:48:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12640599/HIVE-6427.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12640599/HIVE-6427.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/272/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/272/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/272/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/272/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-272/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-272/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/test/results/clientpositive/union20.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/annotate_stats_join.q.out&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/stats/annotation/StatsRulesProcFactory.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1617512.

At revision 1617512.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12640599&lt;/p&gt;</comment>
                            <comment id="14207519" author="ashutoshc" created="Wed, 12 Nov 2014 01:56:27 +0000"  >&lt;p&gt;patch needs a rebase&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640599" name="HIVE-6427.patch" size="9793" author="octo47" created="Thu, 17 Apr 2014 07:27:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Apr 2014 23:54:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sdev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6428] concat_ws mangles non-ASCII characters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6428</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Marked critical because this results in data loss from using built-in functionality. I think the issue is &lt;tt&gt;concat_ws&lt;/tt&gt;, though I suppose it could be the VIEW as well.&lt;/p&gt;

&lt;p&gt;Hive is losing the distinction between non-ASCII characters, folding distinct values into the same value. Here are steps to reproduce, and I&apos;ve attached a small sample containing 3 distinct lines from the larger input file.&lt;/p&gt;

&lt;p&gt;Grab sample data, confirm the number of total records and the number of unique combinations of the first two columns match.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mkdir /tmp/pagecounts
$ cd /tmp/pagecounts
$ wget http://dumps.wikimedia.org/other/pagecounts-raw/2008/2008-10/pagecounts-20081001-000000.gz
$ gzcat pagecounts-20081001-000000.gz | cut -d\  -f1,2 | wc -l
 4268675
$ gzcat pagecounts-20081001-000000.gz | cut -d\  -f1,2 | sort | uniq | wc -l
 4268675
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create hive table over input data.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE EXTERNAL TABLE pagecounts (projectcode STRING, pagename STRING, pageviews STRING, bytes STRING)
ROW FORMAT
  DELIMITED FIELDS TERMINATED BY &apos; &apos;
  LINES TERMINATED BY &apos;\n&apos;
STORED AS TEXTFILE
LOCATION &apos;/tmp/pagecounts/&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;confirm number of unique combinations of the first two columns&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT count(DISTINCT projectcode, pagename) FROM pagecounts;
=&amp;gt; 4268675
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a view over the raw data, concatenating first two columns. Distinct count does not match.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE VIEW pgc_simple (rowkey, pageviews, bytes) AS
SELECT concat_ws(&apos;/&apos;, projectcode, pagename), pageviews, bytes
FROM pagecounts;

SELECT count(DISTINCT rowkey) FROM pgc_simple;
=&amp;gt; 4268561
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Perform same &quot;view&quot; from shell. distinct count is retained.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ gzcat pagecounts-20081001-000000.gz | awk &apos;{print $1 &quot;/&quot; $2}&apos; | wc -l
 4268675
$ gzcat pagecounts-20081001-000000.gz | awk &apos;{print $1 &quot;/&quot; $2}&apos; | sort | uniq | wc -l                                                                                                       
 4268675
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Look at some data.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ hive -e &quot;SELECT i.* FROM (SELECT rowkey, count(*) AS nbr FROM pgc_simple GROUP BY rowkey) i WHERE i.nbr &amp;gt; 1;&quot; | tail
OK
Time taken: 40.493 seconds, Fetched: 37 row(s)
ru/?&#65533;N  2
ru/&#65533;    3
zh/?&#65533;&#65533;  2
zh/Category:&#65533;&#65533;  2
zh/Wikipedia:&#65533;&#65533; 5
zh/&#65533;    2
zh/&#65533;&#65533;   11
zh/&#65533;&#65533;&#761;&#65533;&#65533;        2
zh/&#65533;&#65533;&#65533;&#65533; 17
zh/&#65533;&#65533;&#65533;&#65533;&#65533;&#65533;       15
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Choose 2nd line of output to inspect on the shell. My locale isn&apos;t able to find a character for the codepoints, but sort | uniq identify them as different.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ gzcat pagecounts-20081001-000000.gz | egrep &apos;^ru \?. &apos; | cut -d\  -f1,2 | sort | uniq
ru ??
ru ??
ru ??
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print them as C-escape codes. They are indeed distinct.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat pagecounts-20081001-000000 | egrep &apos;^ru \?. &apos; | cut -d\  -f1,2 | od -c
0000000    r   u       ? 240  \n   r   u       ? 244  \n   r   u       ?
0000020  247  \n
0000022
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12695098">HIVE-6428</key>
            <summary>concat_ws mangles non-ASCII characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2014 23:05:03 +0000</created>
                <updated>Thu, 13 Feb 2014 23:05:20 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                            <attachment id="12628882" name="ru.txt" size="18" author="ndimiduk" created="Thu, 13 Feb 2014 23:05:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sdtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6429] MapJoinKey has large memory overhead in typical cases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6429</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The only thing that MJK really needs it hashCode and equals (well, and construction), so there&apos;s no need to have array of writables in there. Assuming all the keys for a table have the same structure, for the common case where keys are primitive types, we can store something like a byte array combination of keys to reduce the memory usage. Will probably speed up compares too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695139">HIVE-6429</key>
            <summary>MapJoinKey has large memory overhead in typical cases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 04:29:40 +0000</created>
                <updated>Mon, 30 Jun 2014 00:33:26 +0000</updated>
                            <resolved>Sun, 2 Mar 2014 23:44:05 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13903787" author="sershe" created="Tue, 18 Feb 2014 05:12:07 +0000"  >&lt;p&gt;WIP patch. Some tests appear to pass, but it cannot deal with lazy primitive serdes as I have just discovered. I will address this tomorrow.&lt;br/&gt;
Safety config to disable this (enabled by default) is probably needed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jnp&quot; class=&quot;user-hover&quot; rel=&quot;jnp&quot;&gt;Jitendra Nath Pandey&lt;/a&gt; fyi&lt;/p&gt;</comment>
                            <comment id="13904400" author="sershe" created="Tue, 18 Feb 2014 18:50:55 +0000"  >&lt;p&gt;Tez tests are halfway and passing so far.&lt;br/&gt;
I still need to add a config setting &lt;/p&gt;</comment>
                            <comment id="13904404" author="sershe" created="Tue, 18 Feb 2014 18:54:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18230/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18230/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13904499" author="sershe" created="Tue, 18 Feb 2014 20:01:40 +0000"  >&lt;p&gt;added config setting, other minor fixes&lt;/p&gt;</comment>
                            <comment id="13904502" author="sershe" created="Tue, 18 Feb 2014 20:03:27 +0000"  >&lt;p&gt;all tez tests passed with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; backed out&lt;/p&gt;</comment>
                            <comment id="13905010" author="hiveqa" created="Wed, 19 Feb 2014 02:07:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629611/HIVE-6429.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629611/HIVE-6429.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1391/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1391/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1391/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1391/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1391/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
++ awk &apos;{print $2}&apos;
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1569607.

At revision 1569607.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629611&lt;/p&gt;</comment>
                            <comment id="13906497" author="sershe" created="Thu, 20 Feb 2014 02:18:54 +0000"  >&lt;p&gt;Measured memory savings; 1 million row hashtable; option one - double+int key, double+string value.&lt;/p&gt;

&lt;p&gt;Before (not sure why there&apos;s one less key, might be heap dump or profiler glitch)&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2999997&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;79999920&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;256383712&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2999997&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;71999928&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;71999928&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32383968&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32383968&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;31999968&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;352383616&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.ArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;208383760&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;232383736&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinRowContainer$NoCopyingArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;160383808&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.LongWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;23999976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56383912&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKey&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;999999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;15999984&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;87999912&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8388624&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;360772272&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;360772320&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;After&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72384000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;72384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;184384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;320384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.ArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;208384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;232384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinRowContainer$NoCopyingArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;160384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56384000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKeyBytes&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;16000000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8388624&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;328772016&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;328772064&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Savings are ~9%.&lt;br/&gt;
Not as large as expected, as apparently Java has large overhead for byte arrays, 9-byte array takes 32 bytes and 17-byte one has 40.&lt;br/&gt;
Still, reasonably good, perhaps the patch can be extended.&lt;br/&gt;
Or different hashtable used...&lt;/p&gt;</comment>
                            <comment id="13907396" author="sershe" created="Thu, 20 Feb 2014 19:46:26 +0000"  >&lt;p&gt;one fix and one small change&lt;/p&gt;</comment>
                            <comment id="13907953" author="hagleitn" created="Fri, 21 Feb 2014 04:45:19 +0000"  >&lt;p&gt;partial review on rb.&lt;/p&gt;</comment>
                            <comment id="13909178" author="sershe" created="Sat, 22 Feb 2014 02:38:27 +0000"  >&lt;p&gt;Grafting this onto binarysortableserde will take a little bit of effort... will attach patch late evening today, or on Sunday evening&lt;/p&gt;</comment>
                            <comment id="13909268" author="lefty@hortonworks.com" created="Sat, 22 Feb 2014 06:41:33 +0000"  >&lt;p&gt;&lt;b&gt;hive.mapjoin.optimized.keys&lt;/b&gt; needs a definition ... but I&apos;m not sure where, because that depends on the state of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; which will put the config param definitions into HiveConf.java and then generate hive-default.xml.template from HiveConf.java.&lt;/p&gt;

&lt;p&gt;See comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6455&quot; title=&quot;Scalable dynamic partitioning and bucketing optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6455&quot;&gt;&lt;del&gt;HIVE-6455&lt;/del&gt;&lt;/a&gt; for details (but note that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; has been reopened):  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6455?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13903744#comment-13903744&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;17 Feb 2014 22:26 comment &lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So if this commits before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt;, &lt;b&gt;hive.mapjoin.optimized.keys&lt;/b&gt; should be documented in hive-default.xml.template as usual but if it commits after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; a definition should be added to the patched version of HiveConf.java.  In any case, I&apos;ll add it to the wiki with a release note.&lt;/p&gt;
</comment>
                            <comment id="13909287" author="sershe" created="Sat, 22 Feb 2014 07:34:27 +0000"  >&lt;p&gt;for now address the other feedback... I will have separate patch to use BinarySortableSerDe, just need to hack around vectorized path, but I don&apos;t think it&apos;s worth it, it&apos;s convoluted and still has to keep type array and separate path for vectorization; there&lt;br/&gt;
s also additional changes because for example hasAnyNulls would be complicated and expensive with BSSD format, so it has to be additionally retrieved at key creation time for the big table key in MJO.&lt;/p&gt;</comment>
                            <comment id="13909683" author="hiveqa" created="Sun, 23 Feb 2014 06:02:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630468/HIVE-6429.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630468/HIVE-6429.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5175 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1448/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1448/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1448/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1448/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630468&lt;/p&gt;</comment>
                            <comment id="13910042" author="sershe" created="Mon, 24 Feb 2014 06:10:29 +0000"  >&lt;p&gt;05 contains changes to move to BinarySortableSerde encoding... imho it&apos;s not such a good idea.&lt;/p&gt;</comment>
                            <comment id="13910682" author="hiveqa" created="Mon, 24 Feb 2014 19:14:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630607/HIVE-6429.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630607/HIVE-6429.05.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 137 failed/errored test(s), 5175 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join14_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join27
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join29
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_filters
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_nulls
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_without_localtask
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketizedhiveinputformat_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_column_access_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cp_mj_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_convert_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join27
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join29
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32_lessSize
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join35
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join36
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join37
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join38
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join39
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join40
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_filters
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_filters_overlap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_map_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nulls
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nullsafe
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_star
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_filter_on_outerjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonblock_op_deduplicate
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_transform_hint
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_semijoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_table_access_keys_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_left_outer_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_context
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_rank
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin7
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1475/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1475/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1475/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1475/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 137 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630607&lt;/p&gt;</comment>
                            <comment id="13911247" author="sershe" created="Tue, 25 Feb 2014 04:47:15 +0000"  >&lt;p&gt;Fixed bugs&lt;/p&gt;</comment>
                            <comment id="13911249" author="sershe" created="Tue, 25 Feb 2014 05:00:43 +0000"  >&lt;p&gt;note that I also rearranged code so diff with trunk would be easier, as I was diffing looking for bugs. Diff between iterations might be harder. Timestamp serialization was broken, some null checks were missing.&lt;/p&gt;</comment>
                            <comment id="13911669" author="hiveqa" created="Tue, 25 Feb 2014 15:39:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630885/HIVE-6429.06.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630885/HIVE-6429.06.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5178 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_left_outer_join
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1489/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1489/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1489/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1489/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630885&lt;/p&gt;</comment>
                            <comment id="13913607" author="sershe" created="Wed, 26 Feb 2014 22:17:19 +0000"  >&lt;p&gt;fix the vectorization test&lt;/p&gt;</comment>
                            <comment id="13915411" author="sershe" created="Fri, 28 Feb 2014 03:16:26 +0000"  >&lt;p&gt;after some more discussion, we decided to rewrite once again using LazyBinarySerde. I preserved some refactoring done to BinarySortableSerde.&lt;/p&gt;

&lt;p&gt;So here&apos;s a 3rd way to do this. There are many more untapped serde-s out there... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve ran a few tests that failed previously and a couple Tez tests, they all pass. I will run all tez tests now, and all tests overnight if I don&apos;t forget&lt;/p&gt;</comment>
                            <comment id="13916477" author="sershe" created="Fri, 28 Feb 2014 22:03:53 +0000"  >&lt;p&gt;removed leftover BSS changes, filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6526&quot; title=&quot;clean up BinarySortableSerde a bit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6526&quot;&gt;HIVE-6526&lt;/a&gt;.&lt;br/&gt;
Should be ready to go... would be nice to have HiveQA too&lt;/p&gt;</comment>
                            <comment id="13916746" author="sershe" created="Sat, 1 Mar 2014 03:05:06 +0000"  >&lt;p&gt;RB feedback + some internal discussion; mostly moving some key-specific stuff to key, and changing the vectorization path to go thru the elaborate writer/writable/oi path, and not raw values. Few tez tests appear to pass, I&apos;ll run the rest&lt;/p&gt;</comment>
                            <comment id="13916755" author="hagleitn" created="Sat, 1 Mar 2014 03:24:34 +0000"  >&lt;p&gt;+1 (assuming tests pass)&lt;/p&gt;</comment>
                            <comment id="13916968" author="sershe" created="Sat, 1 Mar 2014 07:04:50 +0000"  >&lt;p&gt;tez tests pass for me&lt;/p&gt;</comment>
                            <comment id="13917140" author="jnp" created="Sat, 1 Mar 2014 18:08:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13917299" author="hiveqa" created="Sun, 2 Mar 2014 06:27:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12631905/HIVE-6429.10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12631905/HIVE-6429.10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5200 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1580/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1580/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1580/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1580/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12631905&lt;/p&gt;</comment>
                            <comment id="13917611" author="sershe" created="Sun, 2 Mar 2014 23:44:05 +0000"  >&lt;p&gt;committed to trunk&lt;/p&gt;</comment>
                            <comment id="14021158" author="lefty@hortonworks.com" created="Sun, 8 Jun 2014 08:55:12 +0000"  >&lt;p&gt;Just for the record, &lt;b&gt;hive.mapjoin.optimized.keys&lt;/b&gt; is documented in the wiki with the description added to hive-default.xml.template by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6188&quot; title=&quot;Document hive.metastore.try.direct.sql &amp;amp; hive.metastore.try.direct.sql.ddl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6188&quot;&gt;&lt;del&gt;HIVE-6188&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Whether MapJoin hashtable should use optimized (size-wise) keys, allowing the table to take less memory. Depending on key, the memory savings for entire table can be 5-15% or so.&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637478/HIVE-6188.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;patch for HIVE-6188 &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.optimized.keys&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.mapjoin.optimized.keys &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14047295" author="lefty@hortonworks.com" created="Mon, 30 Jun 2014 00:33:26 +0000"  >&lt;p&gt;Added comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; so the description of &lt;b&gt;hive.mapjoin.optimized.keys&lt;/b&gt; won&apos;t get lost in the shuffle when &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; changes HiveConf.java.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12695140">HIVE-6430</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12698033">HIVE-6526</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12688444">HIVE-6188</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12629611" name="HIVE-6429.01.patch" size="50931" author="sershe" created="Tue, 18 Feb 2014 20:01:40 +0000"/>
                            <attachment id="12630136" name="HIVE-6429.02.patch" size="51104" author="sershe" created="Thu, 20 Feb 2014 19:46:26 +0000"/>
                            <attachment id="12630350" name="HIVE-6429.03.patch" size="52614" author="sershe" created="Fri, 21 Feb 2014 18:40:21 +0000"/>
                            <attachment id="12630468" name="HIVE-6429.04.patch" size="55097" author="sershe" created="Sat, 22 Feb 2014 07:34:27 +0000"/>
                            <attachment id="12630607" name="HIVE-6429.05.patch" size="76382" author="sershe" created="Mon, 24 Feb 2014 06:10:29 +0000"/>
                            <attachment id="12630885" name="HIVE-6429.06.patch" size="77626" author="sershe" created="Tue, 25 Feb 2014 04:47:15 +0000"/>
                            <attachment id="12631367" name="HIVE-6429.07.patch" size="77699" author="sershe" created="Wed, 26 Feb 2014 22:17:19 +0000"/>
                            <attachment id="12631660" name="HIVE-6429.08.patch" size="80163" author="sershe" created="Fri, 28 Feb 2014 03:16:26 +0000"/>
                            <attachment id="12631853" name="HIVE-6429.09.patch" size="60543" author="sershe" created="Fri, 28 Feb 2014 22:03:53 +0000"/>
                            <attachment id="12631905" name="HIVE-6429.10.patch" size="57669" author="sershe" created="Sat, 1 Mar 2014 03:05:06 +0000"/>
                            <attachment id="12629479" name="HIVE-6429.WIP.patch" size="49916" author="sershe" created="Tue, 18 Feb 2014 05:12:07 +0000"/>
                            <attachment id="12629592" name="HIVE-6429.patch" size="50138" author="sershe" created="Tue, 18 Feb 2014 18:50:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Feb 2014 02:07:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6430] MapJoin hash table has large memory overhead</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6430</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now, in some queries, I see that storing e.g. 4 ints (2 for key and 2 for row) can take several hundred bytes, which is ridiculous. I am reducing the size of MJKey and MJRowContainer in other jiras, but in general we don&apos;t need to have java hash table there.  We can either use primitive-friendly hashtable like the one from HPPC (Apache-licenced), or some variation, to map primitive keys to single row storage structure without an object per row (similar to vectorization).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695140">HIVE-6430</key>
            <summary>MapJoin hash table has large memory overhead</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 04:34:08 +0000</created>
                <updated>Tue, 13 Feb 2018 22:17:25 +0000</updated>
                            <resolved>Wed, 14 May 2014 20:55:29 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13907758" author="sershe" created="Fri, 21 Feb 2014 00:11:07 +0000"  >&lt;p&gt;Here&apos;s the summary of the overhead per entry /after both of the above patches go in/ (before, the overhead in key and value is significantly bigger).&lt;/p&gt;

&lt;p&gt;HashTable&lt;br/&gt;
Entry array: 8+ bytes&lt;br/&gt;
Entry: 32 bytes&lt;br/&gt;
Key and value objects: 32 bytes&lt;/p&gt;


&lt;p&gt;Key&lt;br/&gt;
Byte array object + length: 20 bytes.&lt;br/&gt;
Field count and null mask: 1 byte.&lt;br/&gt;
Rounding to 8 bytes: 0-7 bytes.&lt;/p&gt;

&lt;p&gt;Row&lt;br/&gt;
Fields: 8 bytes.&lt;br/&gt;
Object array object + length: 24 bytes.&lt;br/&gt;
Per-column, writable object: 16 bytes (assuming all the other fields in writables are useful data).&lt;/p&gt;

&lt;p&gt;&quot;Guaranteed&quot; overhead per entry: 125 bytes, plus writables for row values and padding on key.&lt;br/&gt;
Example double key, row with one field: additional 21 bytes per entry, ~146 total&lt;br/&gt;
Example int key, row with 5 fields: additional 87 bytes per entry, ~212 total&lt;br/&gt;
+ some overhead depending on HashMap fullness.&lt;/p&gt;

&lt;p&gt;So that&apos;s a lot of overhead (depends on the data of course, if row contains cat photos in binary then 150-200 bytes is not much).&lt;/p&gt;


&lt;p&gt;The approach to get rid of per-entry overhead in general involves a hashtable implemented on top of array, with open addressing, and storing the actual variable-length keys and rows in big flat array(s) of byte[]-s or objects. That would get rid of key and rowe object overhead, most of hashmap overhead, most of key overhead, and most/some (see below) of row overhead.&lt;/p&gt;

&lt;p&gt;The good thing about the table is that it&apos;s R/O after initial creation and we never delete, so we don&apos;t have to worry about many scenarios.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Details (scroll down for estimates)&lt;/b&gt;&lt;br/&gt;
Simple case, assuming we can convert both key and row into bytes:&lt;br/&gt;
Allocate largish fixed size byte arrays to have an infinite write buffer (or array can be reallocated if needed, or combination). Have a flat, custom-made hash table similar to HPPC one, that would store offsets into that array in the key array (of longs), and would have no value or state arrays. Some additional stuff, for example lengths or null bitmasks can be fit into key array values also.&lt;br/&gt;
When loading, incoming writables would write the keys and values into the write buffer.  We know the schema so we don&apos;t have to worry about storing types, field offsets etc. Then write a fixed-size tail with e.g. length of key and value, to know what to compare and where value starts, etc. Because there&apos;s no requirement to allocate some number of bytes like there is now, v-length format can be used if needed to save space... but it shouldn&apos;t be too complicated. Probably it shouldn&apos;t use ORC there &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Then, key array uses standard hashtable put to store the offset to the postfix.&lt;br/&gt;
When getting, the key can still be compared same as now, as a byte array. One extra &quot;dereference&quot; from key array to get to the actual key by index.&lt;br/&gt;
For values, writables will have to be re-created when the row is requested because everything depends on writables now. Writables will trivially read from byte array at offset. Obviously this has performance cost.&lt;br/&gt;
Note that this is not like current lazy deserialization:&lt;br/&gt;
1) We do not deserialize on demand - final writables are just written to/read from byte array, so  creating them should be cheaper than deserializing.&lt;br/&gt;
2) Writables are not preserved for future use and are created every time row is accessed, which has perf cost but saves memory.&lt;br/&gt;
Total overhead per entry would be around 14-16 bytes, plus some fixed or semi-fixed overhead depending on the write buffer allocation scheme.&lt;br/&gt;
In the above examples overhead will go from 146 and 212 bytes to 16 and 16.&lt;/p&gt;

&lt;p&gt;Another alternative is similar, but with only keys in byte array, and values in a separate large Object array operating on the same principles, in writables with all their glory.&lt;br/&gt;
Key array can store indices and length to both, probably 2-3 longs per entry depending on what limitations we can accept.&lt;br/&gt;
So the total overhead will be around 16-24 bytes + 16 per field in the row, but writables wouldn&apos;t need to be re-created.&lt;br/&gt;
In the above examples overhead will go from 146 and 212 bytes to 32 and 96.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Tl;dr and estimates&lt;/b&gt;&lt;br/&gt;
The bad thing obviously is that w/o key and row objects all the interfaces around them would cease to exist. This is esp. bad for MR due to convoluted HashTable path with write and read, so in the first cut I think we should go Tez-only and preserve legacy path with objects for MR.&lt;/p&gt;

&lt;p&gt;There are several good things... &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;We can essentially copy-paste HPPC long-long hashmap. It probably doesn&apos;t fit by itself and we don&apos;t need all the features, but it must be simple to convert to above. So we don&apos;t need to code up the open-addressing hashmap.&lt;/li&gt;
	&lt;li&gt;W.r.t. interface difference, I looked at the divergent paths; Tez HT loader obviously would be able to do whatever. MapJoinOperator is the only place where there will be problems - it currently creates the key and then calls get(key). Get can be changed to take the row, so that it would create the key for get as necessary.&lt;/li&gt;
	&lt;li&gt;Code for byte key creation, compare, validation etc.; and some other code from the above two patches can be reused; plus I know all I need to know and what needs to be done about writables and bytes from them.&lt;/li&gt;
&lt;/ul&gt;






</comment>
                            <comment id="13907761" author="sershe" created="Fri, 21 Feb 2014 00:12:21 +0000"  >&lt;p&gt;&quot;all the other fields in writables&quot; should be &quot;all the fields in writables&quot;, cannot edit&lt;/p&gt;</comment>
                            <comment id="13918914" author="sershe" created="Tue, 4 Mar 2014 01:46:30 +0000"  >&lt;p&gt;attempt #2... presumably not only TableScans can be valid parents, because if I remove all other operators (as in the initial version) the tests fail. The input from someone with better knowledge of the original path would be helpful&lt;/p&gt;</comment>
                            <comment id="13918915" author="sershe" created="Tue, 4 Mar 2014 01:47:07 +0000"  >&lt;p&gt;wrong jira&lt;/p&gt;</comment>
                            <comment id="13922151" author="sershe" created="Thu, 6 Mar 2014 08:28:31 +0000"  >&lt;p&gt;New code probably has tons of bugs, but some old tests I ran have passed, let&apos;s try HiveQA. I will run tez tests&lt;/p&gt;</comment>
                            <comment id="13923168" author="sershe" created="Thu, 6 Mar 2014 22:21:55 +0000"  >&lt;p&gt;Reattaching the patch, with some fixes in new code (not working yet). Looks like QA didn&apos;t pick it up&lt;/p&gt;</comment>
                            <comment id="13924233" author="hiveqa" created="Fri, 7 Mar 2014 19:16:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633240/HIVE-6430.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633240/HIVE-6430.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1649/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1649/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1649/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1649/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1649/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;metastore/scripts/upgrade/derby/upgrade.order.derby&apos;
Reverted &apos;metastore/scripts/upgrade/mysql/upgrade.order.mysql&apos;
Reverted &apos;metastore/scripts/upgrade/mysql/hive-schema-0.13.0.mysql.sql&apos;
Reverted &apos;metastore/scripts/upgrade/oracle/upgrade.order.oracle&apos;
Reverted &apos;metastore/scripts/upgrade/postgres/upgrade.order.postgres&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target metastore/scripts/upgrade/derby/upgrade-0.13.0-to-0.14.0.derby.sql metastore/scripts/upgrade/derby/hive-schema-0.14.0.derby.sql metastore/scripts/upgrade/mysql/upgrade-0.13.0-to-0.14.0.mysql.sql metastore/scripts/upgrade/mysql/hive-schema-0.14.0.mysql.sql metastore/scripts/upgrade/oracle/upgrade-0.13.0-to-0.14.0.oracle.sql metastore/scripts/upgrade/oracle/hive-schema-0.14.0.oracle.sql metastore/scripts/upgrade/postgres/upgrade-0.13.0-to-0.14.0.postgres.sql metastore/scripts/upgrade/postgres/hive-schema-0.14.0.postgres.sql itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    ql/src/test/queries/clientpositive/mapjoin_mapjoin.q
U    ql/src/test/results/clientpositive/mapjoin_mapjoin.q.out
U    ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapredLocalTask.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/mr/HashTableLoader.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1575376.

Updated to revision 1575376.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633240&lt;/p&gt;</comment>
                            <comment id="13924553" author="sershe" created="Sat, 8 Mar 2014 00:22:59 +0000"  >&lt;p&gt;Ran some regular and some tez tests, they passed. Will wait for QA and run more tez tests&lt;/p&gt;</comment>
                            <comment id="13924668" author="sershe" created="Sat, 8 Mar 2014 02:26:21 +0000"  >&lt;p&gt;all tez tests passed, some explain plans changed in details that should be unrelated (like column names), and ordering changed in one file.&lt;br/&gt;
I will see if trunk files need to be updated again, and/or if ordering needs to be enforced&lt;/p&gt;</comment>
                            <comment id="13924669" author="sershe" created="Sat, 8 Mar 2014 02:27:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; this patch is ready for review... if you were looking for good weekend reading &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13925357" author="hiveqa" created="Sun, 9 Mar 2014 23:19:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633496/HIVE-6430.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633496/HIVE-6430.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5373 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1682/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1682/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1682/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1682/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633496&lt;/p&gt;</comment>
                            <comment id="13926438" author="sershe" created="Mon, 10 Mar 2014 23:31:12 +0000"  >&lt;p&gt;Both of these tests pass for me... looks unrelated. After review feedback update they can rerun&lt;/p&gt;</comment>
                            <comment id="13931299" author="sershe" created="Wed, 12 Mar 2014 02:30:05 +0000"  >&lt;p&gt;most of RB feedback except for refactor, need to discuss... also added ascii art to comments and one more memory optimization to truncate the array, after initial tests.&lt;/p&gt;</comment>
                            <comment id="13932094" author="sershe" created="Wed, 12 Mar 2014 18:04:43 +0000"  >&lt;p&gt;the test changes were not intentional... merged wrong branch&lt;/p&gt;</comment>
                            <comment id="13934692" author="sershe" created="Fri, 14 Mar 2014 06:56:38 +0000"  >&lt;p&gt;Addressed all CR feedback, but patch still fails some Tez tests. Will address tomorrow.&lt;/p&gt;

&lt;p&gt;Meanwhile, can you review common code (I may separate it into different patch), so that we could perhaps put this into Hive 13 in disabled form?&lt;/p&gt;</comment>
                            <comment id="13935915" author="sershe" created="Sat, 15 Mar 2014 01:16:30 +0000"  >&lt;p&gt;Addressed major review and discussion feedback. I kept the list bit in the ref though, because putting it in the array results in huge pita w/retrieval of the union. Removed the &quot;split&quot; long, now everything is in one place.&lt;br/&gt;
Probably need to write some unit tests, q files do not cover all cases. Will do so later today or maybe sunday&lt;/p&gt;</comment>
                            <comment id="13935916" author="sershe" created="Sat, 15 Mar 2014 01:17:13 +0000"  >&lt;p&gt;Some Tez tests passed, running others&lt;/p&gt;</comment>
                            <comment id="13935967" author="sershe" created="Sat, 15 Mar 2014 03:34:55 +0000"  >&lt;p&gt;forgot one todo, remove unnecessary method&lt;/p&gt;</comment>
                            <comment id="13936015" author="lefty@hortonworks.com" created="Sat, 15 Mar 2014 06:15:49 +0000"  >&lt;p&gt;This adds config parameter &lt;b&gt;hive.mapjoin.optimized.hashtable&lt;/b&gt; to HiveConf.java but doesn&apos;t give a description in hive-default.xml.template or a HiveConf.java comment.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; is going to change HiveConf.java and start generating hive-default.xml.template from HiveConf.java, so I suggest putting the parameter description in a jira release note.  Then it can be added to the new version of HiveConf.java after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; gets committed.&lt;/p&gt;</comment>
                            <comment id="13936130" author="hiveqa" created="Sat, 15 Mar 2014 10:39:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12634889/HIVE-6430.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12634889/HIVE-6430.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1825/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1825/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1825/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1825/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hwi/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hwi ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hwi ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hwi ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hwi ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/hive-hwi-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-hwi ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hwi ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/hwi/target/hive-hwi-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hwi/0.14.0-SNAPSHOT/hive-hwi-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/hwi/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hwi/0.14.0-SNAPSHOT/hive-hwi-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive ODBC 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-odbc ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/odbc (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-odbc ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-odbc ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-odbc ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/odbc/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/odbc/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/odbc/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/odbc/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-odbc ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-odbc ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/odbc/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-odbc/0.14.0-SNAPSHOT/hive-odbc-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Shims Aggregator 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-shims-aggregator ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/shims (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-shims-aggregator ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-shims-aggregator ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-shims-aggregator ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/shims/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-shims-aggregator ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-shims-aggregator ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-shims-aggregator/0.14.0-SNAPSHOT/hive-shims-aggregator-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive TestUtils 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-testutils ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/testutils (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-testutils ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-testutils ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/testutils/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-testutils ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-testutils ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-testutils ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/testutils/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-testutils ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-testutils ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-testutils ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-testutils ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/hive-testutils-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-testutils ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-testutils ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/testutils/target/hive-testutils-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-testutils/0.14.0-SNAPSHOT/hive-testutils-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/testutils/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-testutils/0.14.0-SNAPSHOT/hive-testutils-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Packaging 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/maven-metadata.xml
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/hive-hcatalog-hbase-storage-handler-0.14.0-SNAPSHOT.pom
[WARNING] The POM for org.apache.hive.hcatalog:hive-hcatalog-hbase-storage-handler:jar:0.14.0-SNAPSHOT is missing, no dependency information available
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/hive-hcatalog-hbase-storage-handler-0.14.0-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [8.715s]
[INFO] Hive Ant Utilities ................................ SUCCESS [5.435s]
[INFO] Hive Shims Common ................................. SUCCESS [3.745s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.563s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.273s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.567s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [7.933s]
[INFO] Hive Shims ........................................ SUCCESS [1.228s]
[INFO] Hive Common ....................................... SUCCESS [6.888s]
[INFO] Hive Serde ........................................ SUCCESS [10.418s]
[INFO] Hive Metastore .................................... SUCCESS [35.599s]
[INFO] Hive Query Language ............................... SUCCESS [1:10.690s]
[INFO] Hive Service ...................................... SUCCESS [7.930s]
[INFO] Hive JDBC ......................................... SUCCESS [3.004s]
[INFO] Hive Beeline ...................................... SUCCESS [2.789s]
[INFO] Hive CLI .......................................... SUCCESS [1.823s]
[INFO] Hive Contrib ...................................... SUCCESS [2.640s]
[INFO] Hive HBase Handler ................................ SUCCESS [2.594s]
[INFO] Hive HCatalog ..................................... SUCCESS [0.545s]
[INFO] Hive HCatalog Core ................................ SUCCESS [2.355s]
[INFO] Hive HCatalog Pig Adapter ......................... SUCCESS [2.462s]
[INFO] Hive HCatalog Server Extensions ................... SUCCESS [1.779s]
[INFO] Hive HCatalog Webhcat Java Client ................. SUCCESS [1.624s]
[INFO] Hive HCatalog Webhcat ............................. SUCCESS [9.865s]
[INFO] Hive HWI .......................................... SUCCESS [1.245s]
[INFO] Hive ODBC ......................................... SUCCESS [0.829s]
[INFO] Hive Shims Aggregator ............................. SUCCESS [0.209s]
[INFO] Hive TestUtils .................................... SUCCESS [0.640s]
[INFO] Hive Packaging .................................... FAILURE [1.763s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:28.664s
[INFO] Finished at: Sat Mar 15 06:39:11 EDT 2014
[INFO] Final Memory: 74M/461M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project hive-packaging: Could not resolve dependencies for project org.apache.hive:hive-packaging:pom:0.14.0-SNAPSHOT: Could not find artifact org.apache.hive.hcatalog:hive-hcatalog-hbase-storage-handler:jar:0.14.0-SNAPSHOT in apache.snapshots (http://repository.apache.org/snapshots) -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-packaging
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12634889&lt;/p&gt;</comment>
                            <comment id="13937540" author="sershe" created="Mon, 17 Mar 2014 08:22:21 +0000"  >&lt;p&gt;Add unit test, fixes&lt;/p&gt;</comment>
                            <comment id="13939024" author="hiveqa" created="Tue, 18 Mar 2014 09:55:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635047/HIVE-6430.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635047/HIVE-6430.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5417 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1867/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1867/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1867/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1867/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635047&lt;/p&gt;</comment>
                            <comment id="13940088" author="sershe" created="Wed, 19 Mar 2014 02:37:52 +0000"  >&lt;p&gt;rebase, incorporate not enabling for decimal&lt;/p&gt;</comment>
                            <comment id="13942504" author="sershe" created="Thu, 20 Mar 2014 23:23:17 +0000"  >&lt;p&gt;Finally fixed last glitches and got some memory numbers. Next, I will try on some queries on a real cluster...&lt;/p&gt;

&lt;p&gt;On standard tables (over10k data file), we join the entire table with 7k rows of the same, on one column, resulting in only 407 unique keys. Each row contains 3 columns from the joined table.&lt;br/&gt;
Note that the &quot;from&quot; case uses LazyFlatRowContainer, so this is on top of gain from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6418&quot; title=&quot;MapJoinRowContainer has large memory overhead in typical cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6418&quot;&gt;&lt;del&gt;HIVE-6418&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The usage goes from:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.HashMapWrapper&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;880632&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;880560&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;65632&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;880464&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;407&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13024&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;814832&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;810&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;101008&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;785488&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.LazyFlatRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;405&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9720&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;775768&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;394760&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7001&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;226776&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;226776&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.IntWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;112000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;112000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKeyObject&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;405&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6480&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;25920&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.LongWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;405&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9720&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9720&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.String&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;64&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;char[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.ByteStream$Output&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;To:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;340664&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.BytesBytesMultiHashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;340392&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.ArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;209344&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;152&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;209304&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.WriteBuffers&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;209256&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;209152&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;209152&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;long[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;131088&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;131088&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer$KeyValueWriter&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;40&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;b&gt;That is 61% reduction&lt;/b&gt; on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6418&quot; title=&quot;MapJoinRowContainer has large memory overhead in typical cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6418&quot;&gt;&lt;del&gt;HIVE-6418&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If the join is on 4 columns (to increase number of unique keys to 7000, one row per key), it goes from:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.HashMapWrapper&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;2196624&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2196552&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;65632&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2196456&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.HashMap$Entry&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7002&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;224064&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2130824&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;447968&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1626656&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.LazyFlatRowContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1066760&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinKeyObject&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111984&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;839880&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.Text&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;394760&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7001&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;226776&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;226776&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.IntWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;223984&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;223984&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;7000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.io.LongWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;167976&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;167976&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.ByteWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111984&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111984&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.io.ShortWritable&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6999&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111984&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;111984&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.String&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;64&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;char[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.ByteStream$Output&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;24&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;To:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Class&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Objects&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Shallow Size&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Retained Size&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;32&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;452976&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.BytesBytesMultiHashMap&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;48&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;452688&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.util.ArrayList&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;96&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;321648&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;java.lang.Object[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;321616&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.serde2.WriteBuffers&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;321552&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;byte[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;321448&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;321448&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;long[]&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;131088&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;131088&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer$KeyValueWriter&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;40&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;216&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;b&gt;That is 79% reduction&lt;/b&gt; on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6418&quot; title=&quot;MapJoinRowContainer has large memory overhead in typical cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6418&quot;&gt;&lt;del&gt;HIVE-6418&lt;/del&gt;&lt;/a&gt;, or roughly 5 times smaller (this is a rather favorable case though).&lt;/p&gt;</comment>
                            <comment id="13942505" author="sershe" created="Thu, 20 Mar 2014 23:25:24 +0000"  >&lt;p&gt;Fix missing call to seal, some minor stuff&lt;/p&gt;</comment>
                            <comment id="13943994" author="hiveqa" created="Sat, 22 Mar 2014 10:37:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635910/HIVE-6430.06.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635910/HIVE-6430.06.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5445 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_disable_merge_for_bucketing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1900/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1900/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1900/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1900/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635910&lt;/p&gt;</comment>
                            <comment id="13955969" author="sershe" created="Tue, 1 Apr 2014 01:06:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; do you want to finish review when you have time?&lt;/p&gt;</comment>
                            <comment id="13963192" author="sershe" created="Tue, 8 Apr 2014 17:24:08 +0000"  >&lt;p&gt;Tested the patch on real queries. I do see huge memory reduction (modified TPCDS query 72, worst map task goes from 7Gb to ~1.2Gb dump after populating hash tables, I&apos;ll need to download the dumps to analyze but it&apos;s pretty clear cut); and GC time counter goes down from ~1min total to few seconds, as expected, but I also see huge wall clock time increase (without corresponding CPU time increase it looks like) during processing. I would expect some tradeoff but not as much as I&apos;m seeing... will profile more.&lt;/p&gt;</comment>
                            <comment id="13970244" author="sershe" created="Wed, 16 Apr 2014 00:16:21 +0000"  >&lt;p&gt;Resize has an epic bug, cannot rely on slot being part of the hash because of probing... that was pretty silly.&lt;br/&gt;
I think this also causes some of perf degradation because table does get rehashed and it may screw it up completely (I ran the query that returns no results so it wouldn&apos;t clutter my shell, good thinking there).&lt;/p&gt;</comment>
                            <comment id="13972174" author="sershe" created="Thu, 17 Apr 2014 01:06:12 +0000"  >&lt;p&gt;Patch that fixes some issues, main thing is that Murmur hash from guava is used; hashing behavior is very bad with previous hash code method and perf suffers a lot.&lt;br/&gt;
There&apos;s also an issue with previously used expand method. To make expand fast, hash is now stored fully. This is not necessary for anything else so it&apos;s a tradeoff - more memory (+4 bytes per key) or expensive rehash. We may do it later.&lt;br/&gt;
Fast paths were added to WriteBuffers for the majority of cases where whatever we are doing is all in one buffer. There&apos;s some bug in there that causes some queries to fail, I&apos;ll investigate... want to UL patch with what is done, the queries with large map joins that do work now run approximately as fast as before (will later measure more precisely) in a fraction of memory.&lt;/p&gt;</comment>
                            <comment id="13972288" author="gopalv" created="Thu, 17 Apr 2014 04:06:27 +0000"  >&lt;p&gt;This is an excellent find!&lt;/p&gt;

&lt;p&gt;The hash collision scenario seems to be affecting the regular hashmap cases as well.&lt;/p&gt;

&lt;p&gt;I flipped over the MapJoinKeyBytes::hashCode() to an inlined murmur, which resulted in a ~2 seconds savings to my map tasks.&lt;/p&gt;</comment>
                            <comment id="13973180" author="sershe" created="Thu, 17 Apr 2014 17:42:23 +0000"  >&lt;p&gt;We should probably do the same in actual codebase... I&apos;ll file a JIRA&lt;/p&gt;</comment>
                            <comment id="13973652" author="sershe" created="Fri, 18 Apr 2014 00:59:10 +0000"  >&lt;p&gt;Fixed bugs, improved tests; TPCDS q27 now can run on the cluster I have access to (fails with OOM even with 8Gb containers). Profiling the results are actually much better now, little own time for the hashmap.&lt;/p&gt;</comment>
                            <comment id="13973660" author="sershe" created="Fri, 18 Apr 2014 01:07:41 +0000"  >&lt;p&gt;er, 72&lt;/p&gt;</comment>
                            <comment id="13979215" author="sershe" created="Thu, 24 Apr 2014 02:54:11 +0000"  >&lt;p&gt;This replaces guava murmurhash with inline one, and adds (untested) serialization bypass for serdes (testing fast query, hash and byte copies in serdes are the most prominent differences in my profiled runs). Unfortunately, for the latter I&apos;ve discovered that keys given to us are serialized using BinarySortableSerDe because they come from ReduceSinkOperator. Will need to sync w/Gunther tomorrow on this. Most likely outcome is that we&apos;ll change the tez hashtable output to lazy serde, so we could just copy bytes. Alternative would be to change key serialization to binarysortable, but that&apos;s ugly because values would stay on lazybinary so we will have two paths. Plus bunch of changes will be required to binarysortable to not have byte copies again, and use RandomAccessOutput instead of its OutputBuffer thing. Yet another alternative is to do bypass only for values, not keys.&lt;/p&gt;

&lt;p&gt;Regardless, I think we should be committing this patch soon (even if off by default), and doing additional improvements in separate jiras.&lt;br/&gt;
It&apos;s growing too big.&lt;/p&gt;</comment>
                            <comment id="13979230" author="gopalv" created="Thu, 24 Apr 2014 03:17:54 +0000"  >&lt;p&gt;LazySerde is not sortable, at least as far as I know - this is why the Reduce Sink produces binary sortables.&lt;/p&gt;</comment>
                            <comment id="13979238" author="gopalv" created="Thu, 24 Apr 2014 03:33:52 +0000"  >&lt;p&gt;That comment above probably didn&apos;t parse - but the usage of lazy keys make it impossible to generate a min-max range (or &amp;gt;1 ranges) from the hashtable.&lt;/p&gt;</comment>
                            <comment id="13980294" author="hiveqa" created="Thu, 24 Apr 2014 21:11:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12641640/HIVE-6430.09.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12641640/HIVE-6430.09.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/31/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/31/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/31/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/31/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_NULL BITWISEOR&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN CharSetName CharSetLiteral&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_NULL NOTEQUAL&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:115:5: 
Decision can match input such as &quot;KW_CLUSTER KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:127:5: 
Decision can match input such as &quot;KW_PARTITION KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:138:5: 
Decision can match input such as &quot;KW_DISTRIBUTE KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:149:5: 
Decision can match input such as &quot;KW_SORT KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:166:7: 
Decision can match input such as &quot;STAR&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_STRUCT&quot; using multiple alternatives: 4, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_ARRAY&quot; using multiple alternatives: 2, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_UNIONTYPE&quot; using multiple alternatives: 5, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_TRUE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_DATE StringLiteral&quot; using multiple alternatives: 2, 3

As a result, alternative(s) 3 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_NULL&quot; using multiple alternatives: 1, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_FALSE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;KW_BETWEEN KW_MAP LPAREN&quot; using multiple alternatives: 8, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:518:5: 
Decision can match input such as &quot;{AMPERSAND..BITWISEXOR, DIV..DIVIDE, EQUAL..EQUAL_NS, GREATERTHAN..GREATERTHANOREQUALTO, KW_AND, KW_ARRAY, KW_BETWEEN..KW_BOOLEAN, KW_CASE, KW_DOUBLE, KW_FLOAT, KW_IF, KW_IN, KW_INT, KW_LIKE, KW_MAP, KW_NOT, KW_OR, KW_REGEXP, KW_RLIKE, KW_SMALLINT, KW_STRING..KW_STRUCT, KW_TINYINT, KW_UNIONTYPE, KW_WHEN, LESSTHAN..LESSTHANOREQUALTO, MINUS..NOTEQUAL, PLUS, STAR, TILDE}&quot; using multiple alternatives: 1, 3

As a result, alternative(s) 3 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-exec ---
[INFO] Compiling 1687 source files to /data/hive-ptest/working/apache-svn-trunk-source/ql/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: Some input files use unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java:[242,27] cannot find symbol
symbol  : variable tmpSerDe
location: class org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java:[242,12] internal error; cannot instantiate org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.GetAdaptor.&amp;lt;init&amp;gt; at org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.GetAdaptor to ()
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [9.353s]
[INFO] Hive Ant Utilities ................................ SUCCESS [5.818s]
[INFO] Hive Shims Common ................................. SUCCESS [3.953s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.640s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.766s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.439s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [8.866s]
[INFO] Hive Shims ........................................ SUCCESS [1.196s]
[INFO] Hive Common ....................................... SUCCESS [13.038s]
[INFO] Hive Serde ........................................ SUCCESS [10.412s]
[INFO] Hive Metastore .................................... SUCCESS [34.091s]
[INFO] Hive Query Language ............................... FAILURE [53.832s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:35.321s
[INFO] Finished at: Thu Apr 24 17:10:24 EDT 2014
[INFO] Final Memory: 56M/629M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-exec: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java:[242,27] cannot find symbol
[ERROR] symbol  : variable tmpSerDe
[ERROR] location: class org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java:[242,12] internal error; cannot instantiate org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.GetAdaptor.&amp;lt;init&amp;gt; at org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.GetAdaptor to ()
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12641640&lt;/p&gt;</comment>
                            <comment id="13981835" author="sershe" created="Sat, 26 Apr 2014 01:52:36 +0000"  >&lt;p&gt;Make bypass work... still has a hack to remove ReduceSinkOp tag on hashtable side. Join-to-mapjoin conversion code is very convoluted, need to get hold of ReduceSink that feeds hashtable values and remove tag output from there reliably. Will read code later. And perf test with this&lt;/p&gt;</comment>
                            <comment id="13982132" author="hiveqa" created="Sat, 26 Apr 2014 23:17:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12642056/HIVE-6430.10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12642056/HIVE-6430.10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 46 failed/errored test(s), 5424 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_filter_numeric
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nullformatCTAS
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nullgroup3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_createas1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_join4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_dummy_source
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_alter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_tblproperties
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_symlink_text_input_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_column_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_current_database
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_unset_table_view_property
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_unset_table_property
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testPutGetMultiple
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/55/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/55/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/55/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/55/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 46 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12642056&lt;/p&gt;</comment>
                            <comment id="13982207" author="lefty@hortonworks.com" created="Sun, 27 Apr 2014 06:50:09 +0000"  >&lt;p&gt;This adds &lt;b&gt;hive.mapjoin.optimized.hashtable&lt;/b&gt; and &lt;b&gt;hive.mapjoin.optimized.hashtable.wbsize&lt;/b&gt; to HiveConf.java.  They both need descriptions &amp;#8211; I assume &quot;wb&quot; means write buffer.&lt;/p&gt;

&lt;p&gt;The descriptions can go in HiveConf comments or a release note for now, or you can patch hive-default.xml.template and I&apos;ll add a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; (for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt;, Synchronize HiveConf with hive-default.xml.template and support show conf).&lt;/p&gt;</comment>
                            <comment id="13983936" author="sershe" created="Tue, 29 Apr 2014 03:16:14 +0000"  >&lt;p&gt;ok, I found another dumb bug in this patch (this time in MJO wiring). It doesn&apos;t actually alter the results but causes lots of useless work it seems. I will fix it tomorrow probably.&lt;/p&gt;</comment>
                            <comment id="13983937" author="sershe" created="Tue, 29 Apr 2014 03:18:03 +0000"  >&lt;p&gt;Meanwhile the serialization bypass appears to work, no more arraycopy. Need to replace byte-removal hack with not tagging in ReduceSink, but after reading code creating reducesinks for this case I think I might have approached the limits of sanity... will also look tomorrow.&lt;/p&gt;</comment>
                            <comment id="13985070" author="sershe" created="Wed, 30 Apr 2014 02:02:25 +0000"  >&lt;p&gt;Fix all things. The skipTag path actually doesn&apos;t work all the time and warning is output in several tez tests. Debugging that code is very difficult, will continue tomorrow. Probably ready to checkin though, we can just remove the tag&lt;/p&gt;</comment>
                            <comment id="13985091" author="gopalv" created="Wed, 30 Apr 2014 02:47:18 +0000"  >&lt;p&gt;I will build for my nightly runs with this patch turned on.&lt;/p&gt;</comment>
                            <comment id="13985783" author="hiveqa" created="Wed, 30 Apr 2014 17:30:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12642582/HIVE-6430.11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12642582/HIVE-6430.11.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5430 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testPutGetMultiple
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/86/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/86/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/86/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/86/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12642582&lt;/p&gt;</comment>
                            <comment id="13986205" author="sershe" created="Wed, 30 Apr 2014 23:14:12 +0000"  >&lt;p&gt;Fix the tag issue, CR feedback&lt;/p&gt;</comment>
                            <comment id="13986300" author="sershe" created="Thu, 1 May 2014 02:27:36 +0000"  >&lt;p&gt;fix small bug&lt;/p&gt;</comment>
                            <comment id="13987252" author="hiveqa" created="Fri, 2 May 2014 01:40:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12642792/HIVE-6430.12.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12642792/HIVE-6430.12.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5433 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/98/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/98/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/98/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/98/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12642792&lt;/p&gt;</comment>
                            <comment id="13987458" author="lefty@hortonworks.com" created="Fri, 2 May 2014 07:15:22 +0000"  >&lt;p&gt;Thanks for the parameter descriptions in hive-default.xml.template.  But patch 12 has a duplicate description for hive.mapjoin.optimized.hashtable.&lt;/p&gt;</comment>
                            <comment id="13990758" author="sershe" created="Tue, 6 May 2014 15:36:34 +0000"  >&lt;p&gt;Will remove on commit. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; can you take a look? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=t3rmin4t0r&quot; class=&quot;user-hover&quot; rel=&quot;t3rmin4t0r&quot;&gt;Gopal V&lt;/a&gt; signed off on RB but he&apos;s not formally a committer&lt;/p&gt;</comment>
                            <comment id="13993307" author="hagleitn" created="Fri, 9 May 2014 02:01:07 +0000"  >&lt;p&gt;This is neat. Some comments on rb.&lt;/p&gt;</comment>
                            <comment id="13993920" author="sershe" created="Fri, 9 May 2014 21:13:54 +0000"  >&lt;p&gt;CR feedback. RB was never posted in the JIRA, apparently... it&apos;s at &lt;a href=&quot;https://reviews.apache.org/r/18936/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18936/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13994648" author="hiveqa" created="Sun, 11 May 2014 19:15:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12644187/HIVE-6430.13.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12644187/HIVE-6430.13.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5439 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/175/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/175/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/175/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/175/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12644187&lt;/p&gt;</comment>
                            <comment id="13995217" author="sershe" created="Mon, 12 May 2014 16:32:25 +0000"  >&lt;p&gt;ping?&lt;/p&gt;</comment>
                            <comment id="13996014" author="hagleitn" created="Tue, 13 May 2014 03:53:47 +0000"  >&lt;p&gt;+1 looks good!&lt;/p&gt;</comment>
                            <comment id="13996171" author="lefty@hortonworks.com" created="Tue, 13 May 2014 07:49:19 +0000"  >&lt;p&gt;+1 for parameter documentation.&lt;/p&gt;</comment>
                            <comment id="13996633" author="sershe" created="Tue, 13 May 2014 16:59:44 +0000"  >&lt;p&gt;will commit today evening&lt;/p&gt;</comment>
                            <comment id="13996869" author="gopalv" created="Tue, 13 May 2014 20:33:14 +0000"  >&lt;p&gt;Is there any solution for the partial build problem? I have to &quot;mvn clean&quot; for every build after this patch.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] /grid/5/dev/gopalv/tez-autobuild/hive/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkMapJoinProc.java:[224,35] method put in &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; java.util.Map&amp;lt;K,V&amp;gt; cannot be applied to given typ;
[ERROR] required: org.apache.hadoop.hive.ql.exec.Operator&amp;lt;?&amp;gt;,java.util.List&amp;lt;org.apache.hadoop.hive.ql.exec.Operator&amp;lt;?&amp;gt;&amp;gt;
[ERROR] found: org.apache.hadoop.hive.ql.exec.MapJoinOperator,java.util.List&amp;lt;org.apache.hadoop.hive.ql.exec.Operator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.hadoop.hive.ql.plan.OperatorDesc&amp;gt;&amp;gt;
[ERROR] reason: actual argument java.util.List&amp;lt;org.apache.hadoop.hive.ql.exec.Operator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.hadoop.hive.ql.plan.OperatorDesc&amp;gt;&amp;gt; cannot be converted to java.util.List&amp;lt;org.apache.hadoop.hiven
[ERROR] -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13996954" author="gopalv" created="Tue, 13 May 2014 22:02:12 +0000"  >&lt;p&gt;Seems to be only breaking on JDK7 javac. &lt;/p&gt;

&lt;p&gt;And only on rebuilds with modifications - never on &quot;mvn clean package&quot; builds.&lt;/p&gt;</comment>
                            <comment id="13997172" author="sershe" created="Wed, 14 May 2014 01:40:16 +0000"  >&lt;p&gt;Hmm... I cannot repro this... tried JDK 6 or 7, clean build or not, and with modifications. Can you make an addendum patch that fixes it? So I could apply on top&lt;/p&gt;</comment>
                            <comment id="13997185" author="gopalv" created="Wed, 14 May 2014 01:59:16 +0000"  >&lt;p&gt;I can confirm that if I do an &quot;mvn install&quot; once, this problem goes away for a day (always fails exactly only on the first build of the day with the patch). &lt;/p&gt;

&lt;p&gt;If I had to guess, that&apos;s because my maven update interval is once-a-day for snapshots. Once you commit this, the .m2/ version from apache-snapshots will match up and my builds won&apos;t break anymore (hopefully).&lt;/p&gt;

&lt;p&gt;Commit this and if it breaks again for me, I&apos;ll post an addendum as a new patch. &lt;/p&gt;</comment>
                            <comment id="13997983" author="sershe" created="Wed, 14 May 2014 20:21:31 +0000"  >&lt;p&gt;Reproed it on SVN. It is not related to this patch, fixing anyway. I&apos;m assuming +1 stands...&lt;/p&gt;</comment>
                            <comment id="13998014" author="sershe" created="Wed, 14 May 2014 20:55:29 +0000"  >&lt;p&gt;committed to trunk&lt;/p&gt;</comment>
                            <comment id="14030467" author="lefty@hortonworks.com" created="Fri, 13 Jun 2014 10:38:46 +0000"  >&lt;p&gt;The configuration parameters &lt;b&gt;hive.mapjoin.optimized.hashtable&lt;/b&gt; and &lt;b&gt;hive.mapjoin.optimized.hashtable.wbsize&lt;/b&gt; need to be documented in the wiki for release 0.14.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Configuration Properties &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14030807" author="sershe" created="Fri, 13 Jun 2014 16:28:04 +0000"  >&lt;p&gt;They are already documented in config template as far as I recall. Should we have that copied to wiki automatically somehow?&lt;/p&gt;</comment>
                            <comment id="14031334" author="lefty@hortonworks.com" created="Fri, 13 Jun 2014 23:32:28 +0000"  >&lt;p&gt;We don&apos;t have a way to add parameters to the wiki automatically.  Yes, they&apos;re in the template file and I&apos;ve got them on my wiki to-do list, but feel free to take care of them yourself if you have time.&lt;/p&gt;

&lt;p&gt;Mapjoin parameters don&apos;t have a section of their own, but they&apos;re listed together in order of Hive release (except for a couple of hive.skewjoin.mapjoin parameters) so these belong after hive.mapjoin.lazy.hashtable:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.lazy.hashtable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.mapjoin.lazy.hashtable &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14211075" author="thejas" created="Thu, 13 Nov 2014 19:43:59 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14233769" author="lefty@hortonworks.com" created="Thu, 4 Dec 2014 01:27:23 +0000"  >&lt;p&gt;Doc done, with links from the Tez parameter section:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.optimized.hashtable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.mapjoin.optimized.hashtable &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.mapjoin.optimized.hashtable.wbsize&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.mapjoin.optimized.hashtable.wbsize &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Tez&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Tez &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16362986" author="akolb" created="Tue, 13 Feb 2018 20:18:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=misha%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;misha@cloudera.com&quot;&gt;Misha Dmitriev&lt;/a&gt; FYI.&lt;/p&gt;</comment>
                            <comment id="16362992" author="sershe" created="Tue, 13 Feb 2018 20:21:15 +0000"  >&lt;p&gt;This has since been superseded by vectorized mapjoin that improves the hashtable further and specializes it for java types and special cases&lt;/p&gt;</comment>
                            <comment id="16363134" author="misha@cloudera.com" created="Tue, 13 Feb 2018 22:17:25 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akolb&quot; class=&quot;user-hover&quot; rel=&quot;akolb&quot;&gt;Alexander Kolbasov&lt;/a&gt;! This is nice work of the kind I wish I can do more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12694840">HIVE-6418</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12695139">HIVE-6429</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12634087" name="HIVE-6430.01.patch" size="152492" author="sershe" created="Wed, 12 Mar 2014 02:30:05 +0000"/>
                            <attachment id="12634880" name="HIVE-6430.02.patch" size="140138" author="sershe" created="Sat, 15 Mar 2014 01:16:30 +0000"/>
                            <attachment id="12634889" name="HIVE-6430.03.patch" size="152225" author="sershe" created="Sat, 15 Mar 2014 03:34:55 +0000"/>
                            <attachment id="12635047" name="HIVE-6430.04.patch" size="161286" author="sershe" created="Mon, 17 Mar 2014 08:22:21 +0000"/>
                            <attachment id="12635464" name="HIVE-6430.05.patch" size="165419" author="sershe" created="Wed, 19 Mar 2014 02:37:52 +0000"/>
                            <attachment id="12635910" name="HIVE-6430.06.patch" size="164932" author="sershe" created="Thu, 20 Mar 2014 23:25:24 +0000"/>
                            <attachment id="12640569" name="HIVE-6430.07.patch" size="173205" author="sershe" created="Thu, 17 Apr 2014 01:06:12 +0000"/>
                            <attachment id="12640755" name="HIVE-6430.08.patch" size="174273" author="sershe" created="Fri, 18 Apr 2014 00:59:10 +0000"/>
                            <attachment id="12641640" name="HIVE-6430.09.patch" size="182824" author="sershe" created="Thu, 24 Apr 2014 02:54:11 +0000"/>
                            <attachment id="12642056" name="HIVE-6430.10.patch" size="200035" author="sershe" created="Sat, 26 Apr 2014 01:52:36 +0000"/>
                            <attachment id="12642582" name="HIVE-6430.11.patch" size="206802" author="sershe" created="Wed, 30 Apr 2014 02:02:25 +0000"/>
                            <attachment id="12642792" name="HIVE-6430.12.patch" size="208839" author="sershe" created="Thu, 1 May 2014 02:27:36 +0000"/>
                            <attachment id="12642763" name="HIVE-6430.12.patch" size="208832" author="sershe" created="Wed, 30 Apr 2014 23:14:12 +0000"/>
                            <attachment id="12644187" name="HIVE-6430.13.patch" size="210229" author="sershe" created="Fri, 9 May 2014 21:13:54 +0000"/>
                            <attachment id="12644880" name="HIVE-6430.14.patch" size="211669" author="sershe" created="Wed, 14 May 2014 20:21:31 +0000"/>
                            <attachment id="12633496" name="HIVE-6430.patch" size="137243" author="sershe" created="Sat, 8 Mar 2014 00:22:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 7 Mar 2014 19:16:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6431] Hive table name start with underscore (_)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6431</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When I create a hive table with table name start with underscore, I am able to create successfully. The command that I am using is as the following:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;CREATE TABLE `_testtable` AS SELECT * FROM `dimdate`;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Once created, I issue a command (as following) to query all records from that table.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;SELECT * FROM `_testtable`;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;However, I got the error as the following:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Failed with exception java.io.IOException:org.apache.hadoop.mapred.InvalidInputException: Input path does not exist: hdfs://sandbox:8020/apps/hive/warehouse/_testtable&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;When I run the hdfs command to list the file in directory &lt;b&gt;/apps/hive/warehouse/_testtable&lt;/b&gt;, I am able to get list of files in that directory.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12695157">HIVE-6431</key>
            <summary>Hive table name start with underscore (_)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kcyea83">Kuek Chiew Yea</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 08:00:02 +0000</created>
                <updated>Wed, 9 Aug 2017 20:40:34 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14072912" author="navis" created="Thu, 24 Jul 2014 07:01:53 +0000"  >&lt;p&gt;By default, FileInputFormat(which is the super class of various formats) in hadoop ignores file name starts with &quot;_&quot; or &quot;.&quot;, and hard to walk around this in hive codebase.&lt;/p&gt;</comment>
                            <comment id="16120628" author="chris55427" created="Wed, 9 Aug 2017 20:40:34 +0000"  >&lt;p&gt;Why on earth are _filenames prohibited??&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Jul 2014 07:01:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6432] Remove deprecated methods in HCatalog</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6432</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are a lot of methods in HCatalog that have been deprecated in HCatalog 0.5, and some that were recently deprecated in Hive 0.11 (joint release with HCatalog).&lt;/p&gt;

&lt;p&gt;The goal for HCatalog deprecation is that in general, after something has been deprecated, it is expected to stay around for 2 releases, which means hive-0.13 will be the last release to ship with all the methods that were deprecated in hive-0.11 (the org.apache.hcatalog.* files should all be removed afterwards), and it is also good for us to clean out and nuke all other older deprecated methods.&lt;/p&gt;

&lt;p&gt;We should take this on early in a dev/release cycle to allow us time to resolve all fallout, so I propose that we remove all HCatalog deprecated methods after we branch out 0.13 and 0.14 becomes trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695320">HIVE-6432</key>
            <summary>Remove deprecated methods in HCatalog</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 00:02:54 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:00 +0000</updated>
                            <resolved>Mon, 14 Apr 2014 15:56:40 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13902210" author="ekoifman" created="Sat, 15 Feb 2014 00:42:19 +0000"  >&lt;p&gt;+1 on the idea.  we&apos;ll also be able to remove a may of unit tests that cover old API&lt;/p&gt;</comment>
                            <comment id="13920442" author="sushanth" created="Wed, 5 Mar 2014 03:34:17 +0000"  >&lt;p&gt;Now that 0.13 has forked out, and 0.14 is trunk, it&apos;s time for mass destruction!&lt;/p&gt;

&lt;p&gt;I&apos;m uploading a first attempt work-in-progress patch, which removes all org.apache.hcatalog entries. This is not backward-compatible, and removes the storage-handlers directory in hcat altogether.&lt;/p&gt;

&lt;p&gt;I still need to remove deprecated functions and api points in various classes.&lt;/p&gt;</comment>
                            <comment id="13920697" author="sushanth" created="Wed, 5 Mar 2014 09:34:15 +0000"  >&lt;p&gt;Patch updated to remove function endpoints that have been deprecated before 0.13.&lt;/p&gt;

&lt;p&gt;Those functions that were deprecated in 0.13 are still maintained, and comments have been added to clarify that they will be gone by 0.15. I think we should generally take it as practice from now on that any deprecation markings must include version that it is intended to last till. So far, these only exist in HCatFieldSchema and HCatInputFormat.&lt;/p&gt;

&lt;p&gt;I think I&apos;m mostly done with this patch, this is the last wip candidate, I think. I&apos;m going to run a full batch of tests, and once that completes, this should be ready to shift to patch-available for 0.14 (trunk)&lt;/p&gt;</comment>
                            <comment id="13920742" author="sushanth" created="Wed, 5 Mar 2014 11:08:55 +0000"  >&lt;p&gt;Okay, the patch is good, tests succed, attaching as final version. Also attaching test output.&lt;/p&gt;</comment>
                            <comment id="13921189" author="ashutoshc" created="Wed, 5 Mar 2014 18:44:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13936025" author="ashutoshc" created="Sat, 15 Mar 2014 06:25:40 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13936175" author="yhuai" created="Sat, 15 Mar 2014 12:44:55 +0000"  >&lt;p&gt;I tried to generate the tarball with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; -DskipTests -Phadoop-1 -Pdist
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and got the following error&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal on project hive-packaging: Could not resolve dependencies &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; project org.apache.hive:hive-packaging:pom:0.14.0-SNAPSHOT: Failure to find org.apache.hive.hcatalog:hive-hcatalog-hbase-storage-handler:jar:0.14.0-SNAPSHOT in http:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/snapshots was cached in the local repository, resolution will not be reattempted until the update interval of apache.snapshots has elapsed or updates are forced -&amp;gt; [Help 1]&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I removed this entry (&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/packaging/pom.xml#L135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/packaging/pom.xml#L135&lt;/a&gt;) and this entry (&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/packaging/src/main/assembly/bin.xml#L57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/packaging/src/main/assembly/bin.xml#L57&lt;/a&gt;) to make the packing work. Is there any other update needed?&lt;/p&gt;</comment>
                            <comment id="13936260" author="szehon" created="Sat, 15 Mar 2014 17:45:10 +0000"  >&lt;p&gt;All the pre commit builds have been failing with the same error.   It builds with -Phadoop-1 with clean repo.  Is it related to this change, and can you revert if it is?  I&apos;ll also take a look.&lt;/p&gt;</comment>
                            <comment id="13936261" author="szehon" created="Sat, 15 Mar 2014 17:49:44 +0000"  >&lt;p&gt;Yea looks like this is the culprit, I cleaned my maven repo and got the same issue using mvn install -Phadoop-1, can you take a look?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13936305" author="xuefuz" created="Sat, 15 Mar 2014 21:05:35 +0000"  >&lt;p&gt;Previous commit was reverted to fix the build. Please resolve the issue and commit again.&lt;/p&gt;</comment>
                            <comment id="13937103" author="sushanth" created="Sun, 16 Mar 2014 12:11:09 +0000"  >&lt;p&gt;Good catch, Yin &amp;amp; Szehon, yes, my mvn repo still had an older copy of the hbase storage handler in it when I tested the packaging. I&apos;ve fixed that now.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching up a few more files for this patch.&lt;/p&gt;

&lt;p&gt;6432-addendum.patch : A patch that applies on top of current trunk (git hash 73ca6021628cfb7ae3eaa13122e28f1980756da1 ) to fix this issue.&lt;/p&gt;

&lt;p&gt;6432-full.patch : A patch that applies if the current 6432 commits on trunk are rolled back&lt;/p&gt;

&lt;p&gt;(I have not named these in a manner that allows the precommit tests to automatically pick them up yet, because I&apos;m not certain which state to apply them to, since Xuefu says he&apos;s reverted the commit, but I currently see this patch still committed in. I&apos;ll edit/re-upload as necessary to fit what&apos;s needed.)&lt;/p&gt;</comment>
                            <comment id="13938525" author="sushanth" created="Mon, 17 Mar 2014 23:01:11 +0000"  >&lt;p&gt;Renaming 6432-full.patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6432&quot; title=&quot;Remove deprecated methods in HCatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6432&quot;&gt;&lt;del&gt;HIVE-6432&lt;/del&gt;&lt;/a&gt;.2.patch and setting as patch available now that the earlier patch has been reverted.&lt;/p&gt;</comment>
                            <comment id="13943056" author="hiveqa" created="Fri, 21 Mar 2014 13:40:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635189/HIVE-6432.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635189/HIVE-6432.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1881/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1881/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1881/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1881/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1881/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;hcatalog/webhcat/svr/src/main/bin/webhcat_server.sh&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1579940.

At revision 1579940.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635189&lt;/p&gt;</comment>
                            <comment id="13945511" author="ashutoshc" created="Mon, 24 Mar 2014 18:44:37 +0000"  >&lt;p&gt;Seems like patch needs a rebase.&lt;/p&gt;</comment>
                            <comment id="13967100" author="sushanth" created="Fri, 11 Apr 2014 21:12:58 +0000"  >&lt;p&gt;Attached latest rebased patch.&lt;/p&gt;</comment>
                            <comment id="13967119" author="ashutoshc" created="Fri, 11 Apr 2014 21:27:19 +0000"  >&lt;p&gt;+1 Lets see how tests go!&lt;/p&gt;</comment>
                            <comment id="13967186" author="hiveqa" created="Fri, 11 Apr 2014 22:37:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639868/HIVE-6432.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639868/HIVE-6432.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2224/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2224/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2224/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2224/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-testutils ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Packaging 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-packaging ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-packaging ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-packaging ---
[INFO] Executing tasks

main:
   [delete] Deleting directory /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/tmp
   [delete] Deleting directory /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/packaging/target/tmp/conf
[INFO] Executed tasks
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [4.411s]
[INFO] Hive Ant Utilities ................................ SUCCESS [3.790s]
[INFO] Hive Shims Common ................................. SUCCESS [3.082s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.231s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [2.274s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.764s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [5.358s]
[INFO] Hive Shims ........................................ SUCCESS [0.720s]
[INFO] Hive Common ....................................... SUCCESS [4.632s]
[INFO] Hive Serde ........................................ SUCCESS [1.604s]
[INFO] Hive Metastore .................................... SUCCESS [6.245s]
[INFO] Hive Query Language ............................... SUCCESS [23.350s]
[INFO] Hive Service ...................................... SUCCESS [3.951s]
[INFO] Hive JDBC ......................................... SUCCESS [1.662s]
[INFO] Hive Beeline ...................................... SUCCESS [1.982s]
[INFO] Hive CLI .......................................... SUCCESS [1.371s]
[INFO] Hive Contrib ...................................... SUCCESS [1.964s]
[INFO] Hive HBase Handler ................................ SUCCESS [2.993s]
[INFO] Hive HCatalog ..................................... SUCCESS [0.318s]
[INFO] Hive HCatalog Core ................................ SUCCESS [0.993s]
[INFO] Hive HCatalog Pig Adapter ......................... SUCCESS [2.272s]
[INFO] Hive HCatalog Server Extensions ................... SUCCESS [1.434s]
[INFO] Hive HCatalog Webhcat Java Client ................. SUCCESS [1.632s]
[INFO] Hive HCatalog Webhcat ............................. SUCCESS [10.408s]
[INFO] Hive HCatalog Streaming ........................... SUCCESS [1.733s]
[INFO] Hive HWI .......................................... SUCCESS [1.074s]
[INFO] Hive ODBC ......................................... SUCCESS [0.958s]
[INFO] Hive Shims Aggregator ............................. SUCCESS [0.368s]
[INFO] Hive TestUtils .................................... SUCCESS [0.411s]
[INFO] Hive Packaging .................................... SUCCESS [1.178s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:40.924s
[INFO] Finished at: Fri Apr 11 18:36:32 EDT 2014
[INFO] Final Memory: 52M/146M
[INFO] ------------------------------------------------------------------------
+ cd itests
+ mvn -B clean install -DskipTests -Dmaven.repo.local=/data/hive-ptest/working/maven -Phadoop-1
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] Hive Integration - Parent
[INFO] Hive Integration - Custom Serde
[INFO] Hive Integration - HCatalog Unit Tests
[INFO] Hive Integration - Testing Utilities
[INFO] Hive Integration - Unit Tests
[INFO] Hive Integration - Test Serde
[INFO] Hive Integration - QFile Tests
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Parent 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-it ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-it ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it/0.14.0-SNAPSHOT/hive-it-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Custom Serde 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-custom-serde ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-it-custom-serde ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-it-custom-serde ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-custom-serde ---
[INFO] Compiling 8 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-it-custom-serde ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-custom-serde ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-custom-serde ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-custom-serde ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-it-custom-serde ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-custom-serde ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.14.0-SNAPSHOT/hive-it-custom-serde-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.14.0-SNAPSHOT/hive-it-custom-serde-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - HCatalog Unit Tests 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/maven-metadata.xml
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/hive-hcatalog-hbase-storage-handler-0.14.0-SNAPSHOT.pom
[WARNING] The POM for org.apache.hive.hcatalog:hive-hcatalog-hbase-storage-handler:jar:tests:0.14.0-SNAPSHOT is missing, no dependency information available
Downloading: http://repository.apache.org/snapshots/org/apache/hive/hcatalog/hive-hcatalog-hbase-storage-handler/0.14.0-SNAPSHOT/hive-hcatalog-hbase-storage-handler-0.14.0-SNAPSHOT-tests.jar
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [9.810s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [12.058s]
[INFO] Hive Integration - HCatalog Unit Tests ............ FAILURE [2.418s]
[INFO] Hive Integration - Testing Utilities .............. SKIPPED
[INFO] Hive Integration - Unit Tests ..................... SKIPPED
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 26.047s
[INFO] Finished at: Fri Apr 11 18:37:00 EDT 2014
[INFO] Final Memory: 27M/65M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project hive-hcatalog-it-unit: Could not resolve dependencies for project org.apache.hive:hive-hcatalog-it-unit:jar:0.14.0-SNAPSHOT: Could not find artifact org.apache.hive.hcatalog:hive-hcatalog-hbase-storage-handler:jar:tests:0.14.0-SNAPSHOT in apache.snapshots (http://repository.apache.org/snapshots) -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hcatalog-it-unit
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639868&lt;/p&gt;</comment>
                            <comment id="13967225" author="sushanth" created="Fri, 11 Apr 2014 23:16:26 +0000"  >&lt;p&gt;Missed removing one more dependency in the qtest dir. Updated.&lt;/p&gt;</comment>
                            <comment id="13967358" author="hiveqa" created="Sat, 12 Apr 2014 02:42:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639883/HIVE-6432.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639883/HIVE-6432.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2228/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2228/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2228/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2228/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-hcatalog-it-unit ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-hcatalog-it-unit ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 4 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/mapreduce/TestSequenceFileReadWrite.java uses or overrides a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[59,49] cannot find symbol
symbol: class SkeletonHBaseTest
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[71,33] cannot find symbol
symbol  : method getClass()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[71,16] internal error; cannot instantiate org.apache.hadoop.hive.conf.HiveConf.&amp;lt;init&amp;gt; at org.apache.hadoop.hive.conf.HiveConf to ()
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[74,17] cannot find symbol
symbol  : method getFileSystem()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[76,9] cannot find symbol
symbol  : method getTestDir()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[83,41] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[96,31] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[138,24] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[139,27] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[142,52] cannot find symbol
symbol  : method getTestDir()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[165,40] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[193,24] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[194,27] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[197,52] cannot find symbol
symbol  : method getTestDir()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[220,40] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[226,44] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[226,26] internal error; cannot instantiate Configuration(boolean) at org.apache.hadoop.conf.Configuration to ()
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[255,24] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[256,27] cannot find symbol
symbol  : method newTableName(java.lang.String)
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[259,52] cannot find symbol
symbol  : method getTestDir()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[288,40] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[316,44] cannot find symbol
symbol  : method getHbaseConf()
location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[316,26] internal error; cannot instantiate Configuration(boolean) at org.apache.hadoop.conf.Configuration to ()
[INFO] 23 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [9.552s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [13.272s]
[INFO] Hive Integration - HCatalog Unit Tests ............ FAILURE [7.244s]
[INFO] Hive Integration - Testing Utilities .............. SKIPPED
[INFO] Hive Integration - Unit Tests ..................... SKIPPED
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 31.924s
[INFO] Finished at: Fri Apr 11 22:42:00 EDT 2014
[INFO] Final Memory: 32M/77M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-hcatalog-it-unit: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[59,49] cannot find symbol
[ERROR] symbol: class SkeletonHBaseTest
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[71,33] cannot find symbol
[ERROR] symbol  : method getClass()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[71,16] internal error; cannot instantiate org.apache.hadoop.hive.conf.HiveConf.&amp;lt;init&amp;gt; at org.apache.hadoop.hive.conf.HiveConf to ()
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[74,17] cannot find symbol
[ERROR] symbol  : method getFileSystem()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[76,9] cannot find symbol
[ERROR] symbol  : method getTestDir()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[83,41] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[96,31] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[138,24] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[139,27] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[142,52] cannot find symbol
[ERROR] symbol  : method getTestDir()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[165,40] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[193,24] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[194,27] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[197,52] cannot find symbol
[ERROR] symbol  : method getTestDir()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[220,40] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[226,44] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[226,26] internal error; cannot instantiate Configuration(boolean) at org.apache.hadoop.conf.Configuration to ()
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[255,24] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[256,27] cannot find symbol
[ERROR] symbol  : method newTableName(java.lang.String)
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[259,52] cannot find symbol
[ERROR] symbol  : method getTestDir()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[288,40] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[316,44] cannot find symbol
[ERROR] symbol  : method getHbaseConf()
[ERROR] location: class org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/java/org/apache/hive/hcatalog/hbase/TestPigHBaseStorageHandler.java:[316,26] internal error; cannot instantiate Configuration(boolean) at org.apache.hadoop.conf.Configuration to ()
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hcatalog-it-unit
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639883&lt;/p&gt;</comment>
                            <comment id="13967457" author="sushanth" created="Sat, 12 Apr 2014 09:47:42 +0000"  >&lt;p&gt;One more attempt, this should catch all the stragglers.&lt;/p&gt;</comment>
                            <comment id="13967524" author="hiveqa" created="Sat, 12 Apr 2014 14:44:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639928/HIVE-6432.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639928/HIVE-6432.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5401 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2236/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2236/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2236/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2236/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639928&lt;/p&gt;</comment>
                            <comment id="13967573" author="sushanth" created="Sat, 12 Apr 2014 16:40:47 +0000"  >&lt;p&gt;Yay, fifth time&apos;s the charm.&lt;/p&gt;</comment>
                            <comment id="13967574" author="sushanth" created="Sat, 12 Apr 2014 16:41:35 +0000"  >&lt;p&gt;(and by that, I mean the failures reported now are unrelated to this patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13968466" author="ashutoshc" created="Mon, 14 Apr 2014 15:56:40 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13998603" author="lefty@hortonworks.com" created="Thu, 15 May 2014 09:06:23 +0000"  >&lt;p&gt;Does this need any userdoc other than &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7010&quot; title=&quot;templeton/v1/queue REST method has been removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7010&quot;&gt;HIVE-7010&lt;/a&gt; (templeton/v1/queue REST method has been removed)?&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7010&quot; title=&quot;templeton/v1/queue REST method has been removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7010&quot;&gt;HIVE-7010&lt;/a&gt; doc changes are done: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;WebHCat Reference &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+JobIDs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GET queue &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+JobInfo&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GET queue/:jobid &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+DeleteJob&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DELETE queue/:jobid &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+Jobs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GET jobs &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+Job&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GET jobs/:jobid &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+DeleteJobID&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DELETE jobs/:jobid &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210673" author="thejas" created="Thu, 13 Nov 2014 19:42:00 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12712040">HIVE-7010</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12709628">HIVE-6944</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12634970" name="6432-addendum.patch" size="1459" author="sushanth" created="Sun, 16 Mar 2014 12:11:09 +0000"/>
                            <attachment id="12634969" name="6432-full.patch" size="2247285" author="sushanth" created="Sun, 16 Mar 2014 12:11:09 +0000"/>
                            <attachment id="12635189" name="HIVE-6432.2.patch" size="2247285" author="sushanth" created="Mon, 17 Mar 2014 23:01:11 +0000"/>
                            <attachment id="12639868" name="HIVE-6432.3.patch" size="2405509" author="sushanth" created="Fri, 11 Apr 2014 21:12:57 +0000"/>
                            <attachment id="12639883" name="HIVE-6432.4.patch" size="2406185" author="sushanth" created="Fri, 11 Apr 2014 23:16:26 +0000"/>
                            <attachment id="12639928" name="HIVE-6432.5.patch" size="2425663" author="sushanth" created="Sat, 12 Apr 2014 09:47:42 +0000"/>
                            <attachment id="12632807" name="HIVE-6432.patch" size="2222040" author="sushanth" created="Wed, 5 Mar 2014 11:08:55 +0000"/>
                            <attachment id="12632755" name="HIVE-6432.wip.1.patch" size="2197964" author="sushanth" created="Wed, 5 Mar 2014 03:34:17 +0000"/>
                            <attachment id="12632801" name="HIVE-6432.wip.2.patch" size="2222040" author="sushanth" created="Wed, 5 Mar 2014 09:34:15 +0000"/>
                            <attachment id="12632808" name="hcat.6432.test.out" size="128708" author="sushanth" created="Wed, 5 Mar 2014 11:08:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Feb 2014 00:42:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sf6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Removes all org.apache.hcatalog.* components, removes all functions and methods that were deprecated on and before hive-0.12.&lt;br/&gt;
&lt;br/&gt;
Warning note : especially removes HBaseHCatStorageHandler altogether.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6433] SQL std auth - allow grant/revoke roles if user has ADMIN OPTION</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6433</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Follow up jira for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5952&quot; title=&quot;SQL std auth - authorize grant/revoke roles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5952&quot;&gt;&lt;del&gt;HIVE-5952&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
If a user/role has admin option on a role, then user should be able to grant /revoke other users to/from the role.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695323">HIVE-6433</key>
            <summary>SQL std auth - allow grant/revoke roles if user has ADMIN OPTION</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 00:14:18 +0000</created>
                <updated>Wed, 5 Mar 2014 03:32:09 +0000</updated>
                            <resolved>Fri, 21 Feb 2014 00:48:34 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13904865" author="ashutoshc" created="Wed, 19 Feb 2014 00:24:33 +0000"  >&lt;p&gt;Patch which implements this.&lt;/p&gt;</comment>
                            <comment id="13904869" author="ashutoshc" created="Wed, 19 Feb 2014 00:29:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18250/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13905374" author="hiveqa" created="Wed, 19 Feb 2014 12:47:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629687/HIVE-6433.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629687/HIVE-6433.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5106 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_truncate_column_buckets
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1407/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1407/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1407/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1407/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629687&lt;/p&gt;</comment>
                            <comment id="13906150" author="ashutoshc" created="Wed, 19 Feb 2014 21:52:03 +0000"  >&lt;p&gt;Incorporated Thejas feedback.&lt;/p&gt;</comment>
                            <comment id="13906414" author="ashutoshc" created="Thu, 20 Feb 2014 01:08:13 +0000"  >&lt;p&gt;Incorporating more feedback.&lt;/p&gt;</comment>
                            <comment id="13906500" author="thejas" created="Thu, 20 Feb 2014 02:23:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13907495" author="hiveqa" created="Thu, 20 Feb 2014 21:04:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629953/HIVE-6433.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629953/HIVE-6433.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5166 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into6
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1427/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1427/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1427/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1427/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629953&lt;/p&gt;</comment>
                            <comment id="13907782" author="ashutoshc" created="Fri, 21 Feb 2014 00:30:15 +0000"  >&lt;p&gt;&lt;tt&gt;testNegativeCliDriver_insert_into5&lt;/tt&gt; &amp;amp;&amp;amp; &lt;tt&gt;testNegativeCliDriver_insert_into6&lt;/tt&gt; are not related to this patch. They are failing because these .q files didn&apos;t get updated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt; commit. Subsequent build like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6375?focusedCommentId=13907770&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13907770&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6375?focusedCommentId=13907770&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13907770&lt;/a&gt; also failed because of it.&lt;/p&gt;</comment>
                            <comment id="13907802" author="ashutoshc" created="Fri, 21 Feb 2014 00:48:34 +0000"  >&lt;p&gt;Committed to trunk. Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6479&quot; title=&quot;Few .q.out files need to be updated post HIVE-5958&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6479&quot;&gt;&lt;del&gt;HIVE-6479&lt;/del&gt;&lt;/a&gt; for 2 trunk failures.&lt;/p&gt;</comment>
                            <comment id="13920084" author="lefty@hortonworks.com" created="Tue, 4 Mar 2014 21:53:23 +0000"  >&lt;p&gt;Does this need any documentation, besides general docs for the parent &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13920439" author="thejas" created="Wed, 5 Mar 2014 03:31:33 +0000"  >&lt;p&gt;I will comb through the issues and create a consolidated doc for parent &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;. This change is specific to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629899" name="HIVE-6433.1.patch" size="11002" author="ashutoshc" created="Wed, 19 Feb 2014 21:52:03 +0000"/>
                            <attachment id="12629953" name="HIVE-6433.2.patch" size="11327" author="ashutoshc" created="Thu, 20 Feb 2014 01:08:13 +0000"/>
                            <attachment id="12629687" name="HIVE-6433.patch" size="6877" author="ashutoshc" created="Wed, 19 Feb 2014 00:24:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Feb 2014 00:24:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sf73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>If a user/role has admin option on a role, then user should be able to grant /revoke other users to/from the role.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6434] Restrict function create/drop to admin roles</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6434</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Restrict function create/drop to admin roles, if sql std auth is enabled. This would include temp/permanent functions, as well as macros.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695326">HIVE-6434</key>
            <summary>Restrict function create/drop to admin roles</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 00:39:02 +0000</created>
                <updated>Fri, 14 Mar 2014 04:53:53 +0000</updated>
                            <resolved>Fri, 14 Mar 2014 04:50:54 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13902246" author="jdere" created="Sat, 15 Feb 2014 01:34:29 +0000"  >&lt;p&gt;patch v1.&lt;/p&gt;</comment>
                            <comment id="13902254" author="jdere" created="Sat, 15 Feb 2014 01:41:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18162/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18162/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13902290" author="jdere" created="Sat, 15 Feb 2014 02:46:45 +0000"  >&lt;p&gt;Some qfile diffs changed due to extra precook/posthook output, patch v2 includes those changes.&lt;/p&gt;</comment>
                            <comment id="13904281" author="alangates" created="Tue, 18 Feb 2014 17:25:30 +0000"  >&lt;p&gt;Is this for the new non temporary create only?&lt;/p&gt;</comment>
                            <comment id="13904361" author="jdere" created="Tue, 18 Feb 2014 18:23:25 +0000"  >&lt;p&gt;This restricts temp functions/macros, as well &quot;permanent&quot; functions defined in the metastore.&lt;/p&gt;</comment>
                            <comment id="13904375" author="alangates" created="Tue, 18 Feb 2014 18:32:07 +0000"  >&lt;p&gt;In that case what about backward compatibility, since this is definitely a change?&lt;/p&gt;</comment>
                            <comment id="13904402" author="jdere" created="Tue, 18 Feb 2014 18:52:19 +0000"  >&lt;p&gt;This would only be in effect if the new authorization in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt; is enabled, but it is true that this does restrict what was previously an unrestricted behavior with the temp functions/macros.  We could just restrict creation of metastore-defined functions here if that is more appropriate, and look into restricting temp funcs/macros later as the privilege support in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt; improves. We will need to revisit this later anyway to allow non-admin roles ability to add metastore functions.&lt;/p&gt;</comment>
                            <comment id="13909066" author="jdere" created="Sat, 22 Feb 2014 00:52:50 +0000"  >&lt;p&gt;rebased with trunk - patch v3&lt;/p&gt;</comment>
                            <comment id="13909068" author="jdere" created="Sat, 22 Feb 2014 00:53:47 +0000"  >&lt;p&gt;patch v3 also only restricts create/drop of metastore functions&lt;/p&gt;</comment>
                            <comment id="13910407" author="hiveqa" created="Mon, 24 Feb 2014 15:36:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630426/HIVE-6434.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630426/HIVE-6434.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5178 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1471/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1471/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1471/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1471/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630426&lt;/p&gt;</comment>
                            <comment id="13910687" author="jdere" created="Mon, 24 Feb 2014 19:17:15 +0000"  >&lt;p&gt;Not sure if this test failure is related to the patch - unable to reproduce on either MacOS or Linux.&lt;/p&gt;</comment>
                            <comment id="13912352" author="thejas" created="Wed, 26 Feb 2014 01:02:00 +0000"  >&lt;p&gt;I think we should require admin privileges for temporary functions as well. This is not a backward compatibility issue as the requirement would apply only if the new sql standard auth is enabled.&lt;/p&gt;</comment>
                            <comment id="13912391" author="jdere" created="Wed, 26 Feb 2014 01:45:25 +0000"  >&lt;p&gt;Ok, I can add the restriction on temp functions/macros back to the patch. &lt;/p&gt;</comment>
                            <comment id="13912427" author="jdere" created="Wed, 26 Feb 2014 02:09:17 +0000"  >&lt;p&gt;Patch v4 adds back the restricting of create temp function/macro to admin roles. This is only in effect if sql standard auth is enabled.&lt;/p&gt;</comment>
                            <comment id="13921408" author="jdere" created="Wed, 5 Mar 2014 21:10:22 +0000"  >&lt;p&gt;Rebase patch with trunk&lt;/p&gt;</comment>
                            <comment id="13922877" author="thejas" created="Thu, 6 Mar 2014 18:48:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13926116" author="jdere" created="Mon, 10 Mar 2014 19:50:19 +0000"  >&lt;p&gt;re-upload to kick off precommit tests&lt;/p&gt;</comment>
                            <comment id="13930019" author="thejas" created="Tue, 11 Mar 2014 06:38:43 +0000"  >&lt;p&gt;Jira needs to be made patch available again for pre-commit tests to pick them up.&lt;/p&gt;</comment>
                            <comment id="13931894" author="hiveqa" created="Wed, 12 Mar 2014 15:56:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633760/HIVE-6434.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633760/HIVE-6434.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 17 failed/errored test(s), 5386 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_dboutput
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_lateral_view_explode2
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_avg
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_group_concat
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_max
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_max_n
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_min
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_min_n
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udf_example_add
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udf_example_arraymapstruct
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udf_example_format
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udf_row_sequence
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udtf_explode2
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udtf_output_on_close
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_case_with_row_sequence
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_udtf_explode2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1709/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1709/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1709/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1709/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 17 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633760&lt;/p&gt;</comment>
                            <comment id="13932205" author="jdere" created="Wed, 12 Mar 2014 19:03:13 +0000"  >&lt;p&gt;fix more unit test failures.&lt;/p&gt;</comment>
                            <comment id="13932961" author="thejas" created="Thu, 13 Mar 2014 07:56:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Can you also upload the updated patch to review board ?&lt;/p&gt;</comment>
                            <comment id="13933602" author="jdere" created="Thu, 13 Mar 2014 17:38:26 +0000"  >&lt;p&gt;re-upload patch to kick off tests&lt;/p&gt;</comment>
                            <comment id="13933611" author="jdere" created="Thu, 13 Mar 2014 17:42:17 +0000"  >&lt;p&gt;RB link isn&apos;t responsive at the moment, will try to update the diff a little later.  The changes were a few additional qfiles from TestContribCliDriver tests&lt;/p&gt;</comment>
                            <comment id="13933840" author="thejas" created="Thu, 13 Mar 2014 18:31:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13934208" author="hiveqa" created="Thu, 13 Mar 2014 22:18:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12634490/HIVE-6434.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12634490/HIVE-6434.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5392 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1766/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1766/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1766/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1766/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12634490&lt;/p&gt;</comment>
                            <comment id="13934599" author="thejas" created="Fri, 14 Mar 2014 04:50:54 +0000"  >&lt;p&gt;Patch committed to trunk and 0.13  branch (It is one of the jiras in the list of 0.13 maintained by Harish).&lt;/p&gt;</comment>
                            <comment id="13934605" author="thejas" created="Fri, 14 Mar 2014 04:53:53 +0000"  >&lt;p&gt;Thanks for the contribution Jason!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629177" name="HIVE-6434.1.patch" size="14448" author="jdere" created="Sat, 15 Feb 2014 01:34:29 +0000"/>
                            <attachment id="12629187" name="HIVE-6434.2.patch" size="48272" author="jdere" created="Sat, 15 Feb 2014 02:46:45 +0000"/>
                            <attachment id="12630426" name="HIVE-6434.3.patch" size="14621" author="jdere" created="Sat, 22 Feb 2014 00:52:50 +0000"/>
                            <attachment id="12631134" name="HIVE-6434.4.patch" size="48182" author="jdere" created="Wed, 26 Feb 2014 02:09:17 +0000"/>
                            <attachment id="12632912" name="HIVE-6434.5.patch" size="48246" author="jdere" created="Wed, 5 Mar 2014 21:10:22 +0000"/>
                            <attachment id="12633760" name="HIVE-6434.6.patch" size="48246" author="jdere" created="Mon, 10 Mar 2014 19:50:19 +0000"/>
                            <attachment id="12634230" name="HIVE-6434.7.patch" size="68477" author="jdere" created="Wed, 12 Mar 2014 19:03:13 +0000"/>
                            <attachment id="12634490" name="HIVE-6434.8.patch" size="68477" author="jdere" created="Thu, 13 Mar 2014 17:38:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Feb 2014 17:25:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sf7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6435] Allow specification of alternate metastore in WebHCat job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6435</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Allow a user to specify with their WebHCat Hive and Pig jobs a metastore database JDBC connection string. For the job, this overrides the default metastore configured for the cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695333">HIVE-6435</key>
            <summary>Allow specification of alternate metastore in WebHCat job</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ehans">Eric Hanson</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 01:30:10 +0000</created>
                <updated>Sat, 15 Feb 2014 18:13:19 +0000</updated>
                                                                            <component>CLI</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12695334">HIVE-6436</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sf9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6436] Allow specification of one or more additional Windows Azure storage accounts in WebHCat job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6436</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Allow a user to specify one or more additional Windows Azure storage accounts, including account name and key, in a WebHCat Hive job submission. These would be in addition to any that were specified in the default cluster configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695334">HIVE-6436</key>
            <summary>Allow specification of one or more additional Windows Azure storage accounts in WebHCat job</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ehans">Eric Hanson</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 01:36:06 +0000</created>
                <updated>Sat, 15 Feb 2014 01:37:59 +0000</updated>
                                                                            <component>CLI</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12695333">HIVE-6435</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sf9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6437] DefaultHiveAuthorizationProvider should not initialize a new HiveConf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6437</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;During a HS2 connection, every SessionState got initializes a new DefaultHiveAuthorizationProvider object (on stock configs).&lt;/p&gt;

&lt;p&gt;In turn, DefaultHiveAuthorizationProvider carries a &lt;tt&gt;new HiveConf(&#8230;)&lt;/tt&gt; that may prove too expensive, and unnecessary to do, since SessionState itself sends in a fully applied HiveConf to it in the first place.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695347">HIVE-6437</key>
            <summary>DefaultHiveAuthorizationProvider should not initialize a new HiveConf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 06:59:18 +0000</created>
                <updated>Sat, 22 Oct 2016 00:35:48 +0000</updated>
                            <resolved>Thu, 31 Jul 2014 16:11:12 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13902343" author="qwertymaniac" created="Sat, 15 Feb 2014 07:08:45 +0000"  >&lt;p&gt;This appears to be done cause &lt;tt&gt;Hive#get(&#8230;)&lt;/tt&gt; expects a HiveConf parameter and not a Configuration one.&lt;/p&gt;

&lt;p&gt;I don&apos;t see &lt;tt&gt;Hive#get(&#8230;)&lt;/tt&gt; particularly relying on a HiveConf specific method, but since the change is deeper than what I envisioned earlier, I&apos;ll leave it to the more knowledgeable folks to decide here.&lt;/p&gt;</comment>
                            <comment id="14073554" author="hiveqa" created="Thu, 24 Jul 2014 19:31:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12657557/HIVE-6437.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12657557/HIVE-6437.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5756 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_url_hook
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/43/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/43/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/43/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/43/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-43/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-43/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12657557&lt;/p&gt;</comment>
                            <comment id="14074089" author="navis" created="Fri, 25 Jul 2014 05:31:19 +0000"  >&lt;p&gt;Changed to reconnect automatically on any meta conf changes, removing test only configuration &quot;hive.metastore.force.reload.conf&quot;&lt;/p&gt;</comment>
                            <comment id="14074286" author="hiveqa" created="Fri, 25 Jul 2014 11:14:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12657776/HIVE-6437.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12657776/HIVE-6437.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 103 failed/errored test(s), 5756 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_1_sql_std
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_admin_almighty1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_admin_almighty2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_create_func1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_create_macro1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_insert
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_owner_actions_db
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_set_show_current_role
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_show_grant
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_view_sqlstd
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lb_fs_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_multiskew_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_multiskew_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_multiskew_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_addjar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_tblproperty
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_union_remove_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_column_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_9
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_handler_bulk
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_single_sourced_multi_insert
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_generatehfiles_require_family_path
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_hash
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_input16_cc
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_list_bucket_dml_10
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_cannot_create_all_role
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_cannot_create_default_role
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_cannot_create_none_role
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_caseinsensitivity
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_drop_db_cascade
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_drop_db_empty
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_drop_role_no_admin
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_priv_current_role_neg
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_cycles1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_cycles2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_grant
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_grant2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_grant_nosuchrole
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_grant_otherrole
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_role_grant_otheruser
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_rolehierarchy_privs
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_set_role_neg2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_show_grant_otherrole
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dyn_part_max
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_truncate_column_list_bucketing
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_cluster_tasklog_retrieval
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testDefaults
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testMetastoreVersion
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMatching
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMisMatch
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionRestriction
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshOnConfChange
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshOnConfChange
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/55/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/55/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/55/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/55/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-55/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-55/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 103 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12657776&lt;/p&gt;</comment>
                            <comment id="14075924" author="lefty@hortonworks.com" created="Mon, 28 Jul 2014 05:58:29 +0000"  >&lt;p&gt;&lt;b&gt;hive.metastore.force.reload.conf&lt;/b&gt; was introduced in Hive 0.6.0 (default false) but isn&apos;t documented in the wiki.  Even though it&apos;s going to be removed, it should probably be documented with version information &amp;#8211; I suggest the Test Properties section, not the Metastore section even though it&apos;s a hive.metastore.* property.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-TestProperties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Test Properties &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Metastore &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14075931" author="navis" created="Mon, 28 Jul 2014 06:09:59 +0000"  >&lt;p&gt;It was needed only for a test case (url_hook.q), which seemed not useful and should not be used in any other cases. I think it should be removed from wiki rather than make new description.&lt;/p&gt;</comment>
                            <comment id="14075946" author="lefty@hortonworks.com" created="Mon, 28 Jul 2014 06:33:12 +0000"  >&lt;p&gt;Okay, it never got documented and it will stay undocumented.  Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14075996" author="hiveqa" created="Mon, 28 Jul 2014 07:41:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658073/HIVE-6437.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12658073/HIVE-6437.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/74/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/74/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/74/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/74/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-74/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-74/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-74/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;conf/hive-default.xml.template&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/HivePrivilegeObject.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/Driver.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/authorization itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    .gitignore
D    conf/hive-default.xml.template
U    common/pom.xml

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1613903.

Updated to revision 1613903.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12658073&lt;/p&gt;</comment>
                            <comment id="14076001" author="navis" created="Mon, 28 Jul 2014 07:46:42 +0000"  >&lt;p&gt;fixed conflict on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7496&quot; title=&quot;Exclude conf/hive-default.xml.template in version control and include it dist profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7496&quot;&gt;&lt;del&gt;HIVE-7496&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14076258" author="hiveqa" created="Mon, 28 Jul 2014 14:27:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658101/HIVE-6437.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12658101/HIVE-6437.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 5770 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample_islocalmode_hook
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testDefaults
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testMetastoreVersion
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMatching
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMisMatch
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionRestriction
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshOnConfChange
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshOnConfChange
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/77/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/77/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/77/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/77/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-77/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-77/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12658101&lt;/p&gt;</comment>
                            <comment id="14077407" author="hiveqa" created="Tue, 29 Jul 2014 05:42:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658319/HIVE-6437.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12658319/HIVE-6437.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5787 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/87/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/87/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/87/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/87/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-87/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12658319&lt;/p&gt;</comment>
                            <comment id="14077853" author="ashutoshc" created="Tue, 29 Jul 2014 15:47:00 +0000"  >&lt;p&gt;This seems like a useful change. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; would you like to review this one?&lt;/p&gt;</comment>
                            <comment id="14078163" author="thejas" created="Tue, 29 Jul 2014 18:54:27 +0000"  >&lt;p&gt;Added comments to review board.&lt;/p&gt;</comment>
                            <comment id="14079334" author="hiveqa" created="Wed, 30 Jul 2014 14:55:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658572/HIVE-6437.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12658572/HIVE-6437.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5838 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/103/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/103/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/103/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/103/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-103/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12658572&lt;/p&gt;</comment>
                            <comment id="14079544" author="thejas" created="Wed, 30 Jul 2014 17:12:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; The latest patch also has this change in SQLStdHiveAccessController.java to make admin role comparison case sensitive. But role names are not case sensitive in sql std auth mode (also documented in the wiki).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!HiveMetaStore.ADMIN.equalsIgnoreCase(role.getRoleName())) {
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!HiveMetaStore.ADMIN.equals(role.getRoleName())) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14079594" author="thejas" created="Wed, 30 Jul 2014 17:29:37 +0000"  >&lt;p&gt;Can you also please update the reviewboard with new patch ?&lt;/p&gt;</comment>
                            <comment id="14080395" author="navis" created="Thu, 31 Jul 2014 02:06:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Updated the patch, thanks.&lt;/p&gt;</comment>
                            <comment id="14080994" author="hiveqa" created="Thu, 31 Jul 2014 15:24:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658819/HIVE-6437.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12658819/HIVE-6437.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5842 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/120/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/120/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/120/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/120/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-120/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-120/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12658819&lt;/p&gt;</comment>
                            <comment id="14081046" author="thejas" created="Thu, 31 Jul 2014 16:11:12 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the contribution Navis!&lt;/p&gt;</comment>
                            <comment id="14210710" author="thejas" created="Thu, 13 Nov 2014 19:42:10 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="15596795" author="lefty@hortonworks.com" created="Sat, 22 Oct 2016 00:35:48 +0000"  >&lt;p&gt;Doc note:  This adds &quot;hive.users.in.admin.role&quot; to the default value of &lt;b&gt;hive.conf.restricted.list&lt;/b&gt; which was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt; in release 0.11.0 and changed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt; in 0.13.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.conf.restricted.list&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.conf.restricted.list &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The default value is changed again by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13853&quot; title=&quot;Add X-XSRF-Header filter to HS2 HTTP mode and WebHCat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13853&quot;&gt;&lt;del&gt;HIVE-13853&lt;/del&gt;&lt;/a&gt; (2.1.0) and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14099&quot; title=&quot;Hive security authorization can be disabled by users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14099&quot;&gt;&lt;del&gt;HIVE-14099&lt;/del&gt;&lt;/a&gt; (2.2.0).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12983438">HIVE-14099</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12657557" name="HIVE-6437.1.patch.txt" size="4210" author="navis" created="Thu, 24 Jul 2014 06:51:06 +0000"/>
                            <attachment id="12657776" name="HIVE-6437.2.patch.txt" size="27513" author="navis" created="Fri, 25 Jul 2014 05:31:19 +0000"/>
                            <attachment id="12658073" name="HIVE-6437.3.patch.txt" size="51823" author="navis" created="Mon, 28 Jul 2014 05:03:12 +0000"/>
                            <attachment id="12658101" name="HIVE-6437.4.patch.txt" size="50957" author="navis" created="Mon, 28 Jul 2014 07:46:42 +0000"/>
                            <attachment id="12658319" name="HIVE-6437.5.patch.txt" size="52844" author="navis" created="Tue, 29 Jul 2014 01:12:58 +0000"/>
                            <attachment id="12658572" name="HIVE-6437.6.patch.txt" size="53429" author="navis" created="Wed, 30 Jul 2014 02:17:29 +0000"/>
                            <attachment id="12658819" name="HIVE-6437.7.patch.txt" size="55415" author="navis" created="Thu, 31 Jul 2014 02:05:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Jul 2014 19:31:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6438] Sort query result for test, removing order by clause </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6438</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For acquiring conformed output in various hadoop versions, most queries have order-by clause. If we support test declaration similar to SORT_BEFORE_DIFF which is for sorting output per query. We can remove order-by clauses and reduce the test time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695349">HIVE-6438</key>
            <summary>Sort query result for test, removing order by clause </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 08:48:39 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:35 +0000</updated>
                            <resolved>Fri, 30 May 2014 17:37:22 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13902354" author="navis" created="Sat, 15 Feb 2014 08:57:33 +0000"  >&lt;p&gt;With join_filters.q, it took 418 seconds after removing order-bys, which was 556 sec.&lt;/p&gt;</comment>
                            <comment id="13903053" author="navis" created="Mon, 17 Feb 2014 08:26:20 +0000"  >&lt;p&gt;Now supports three declarations.&lt;br/&gt;
1. SORT_QUERY_RESULTS : sort in descending oder&lt;br/&gt;
2. HASH_QUERY_RESULTS :  MD5 digest&lt;br/&gt;
3. SORT_AND_HASH_QUERY_RESULTS : sort and MD5 digest&lt;/p&gt;

&lt;p&gt;Currently, we uses subset of table only for reducing output size. In those cases, we can use HASH_QUERY_RESULTS or SORT_AND_HASH_QUERY_RESULTS for further removing of preparation insert queries.&lt;/p&gt;</comment>
                            <comment id="13903376" author="brocknoland" created="Mon, 17 Feb 2014 17:08:20 +0000"  >&lt;p&gt;Hi Navis,&lt;/p&gt;

&lt;p&gt;This looks great! The one question I did have was around the HASH keyword. You are correct in that it would reduce the number of preparation queries... However, if we encounter a failing test which used the HASH keyword, I wonder if it would make it hard to debug?&lt;/p&gt;
</comment>
                            <comment id="13903712" author="navis" created="Tue, 18 Feb 2014 02:34:49 +0000"  >&lt;p&gt;Yes, I realized that after it&apos;s implemented. SORT_QUERY_RESULTS would be sole viable option in practical measure.&lt;/p&gt;</comment>
                            <comment id="13906756" author="navis" created="Thu, 20 Feb 2014 08:34:14 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; test  &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; before &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; after  &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; ratio &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; alter_char1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 27.326 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.149 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 33% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; alter_varchar1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 25.821 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.855 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 38% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; auto_join26 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.073 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.049 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; auto_smb_mapjoin_14 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 85.175 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 70.442 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 83% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; auto_sortmerge_join_13 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 37.496 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 19.933 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 53% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; auto_sortmerge_join_9 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 130.548 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 118.524 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 91% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; avro_evolved_schemas &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.495 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0.539 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; avro_joins &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.613 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.723 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 56% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; avro_partitioned &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.64 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.66 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 69% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; avro_sanity_test &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.561 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0.625 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ba_table1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.828 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.822 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 56% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ba_table2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.806 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.905 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ba_table_udfs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.683 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.426 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 98% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; bucket1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.736 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.905 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 58% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; bucket2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.056 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.772 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 96% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; bucket3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.037 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.75 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 97% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; char_1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 29.825 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 30.381 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 102% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; char_join1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.498 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.91 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 54% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; column_access_stats &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 80.685 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64.514 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 80% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; columnarserde_create_shortcut &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22.87 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 14.333 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 63% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; combine1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.546 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.599 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 101% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; combine2_hadoop20 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.043 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.086 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer10 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 48.366 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 31.195 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer13 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.985 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.84 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 96% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer15 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.137 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.084 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 67% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer5 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 33.904 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 33.383 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 98% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer6 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 182.366 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 131.649 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 72% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer7 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 24.664 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.585 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer8 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 37.466 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 25.747 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 69% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; correlationoptimizer9 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 40.926 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 28.451 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 70% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; create_like_view &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 14.246 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 8.53 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 60% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ctas_colname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 49.982 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 29.768 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 60% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; custom_input_output_format &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.788 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.116 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 42% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; database &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 41.216 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 41.189 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby7_noskew_multi_single_reducer &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.472 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.73 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 65% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_complex_types_multi_single_reducer &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 19.168 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.564 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 71% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_cube1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 39.928 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 29.051 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 73% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_grouping_sets4 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 29.973 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 24.499 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 82% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_multi_single_reducer &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 42.596 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.881 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 44% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_rollup1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 39.786 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 28.719 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 72% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 146.289 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 89.08 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 61% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.793 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.812 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 72% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.082 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.575 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 68% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_4 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.563 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.685 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 67% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_5 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 32.027 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 23.319 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 73% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_6 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 21.132 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.791 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 56% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_7 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.995 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 8.234 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; groupby_sort_skew_1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 168.438 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 115.564 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 69% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 19.104 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 19.767 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 103% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_file_format &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.21 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15.927 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 98% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_mult_tables &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 38.724 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 33.041 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 85% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_mult_tables_compact &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 41.608 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 35.675 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 86% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_multiple &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.963 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 14.107 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 101% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_partitioned &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 25.066 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 25.048 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_self_join &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22.586 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.444 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 73% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_auto_unused &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 27.822 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 27.41 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 99% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 59.568 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57.727 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 97% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15.728 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.16 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 84% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 23.171 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.92 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 77% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap_auto_partitioned &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 21.868 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22.339 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 102% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap_compression &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.998 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.741 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 117% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_bitmap_rc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 77.58 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 74.744 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 96% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_compact &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64.632 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 61.943 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 96% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_compact_1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15.935 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.709 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 80% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_compact_2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 84.556 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 77.335 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 91% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_compact_3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 19.41 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.588 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 85% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_compression &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.991 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.945 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; index_serde &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.411 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.184 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 98% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; innerjoin &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.636 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.655 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 76% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input11_limit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.782 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.864 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input1_limit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.376 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.594 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input40 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.889 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.149 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input42 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.744 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.861 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 70% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input_lazyserde &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 23.163 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.42 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; input_part9 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.477 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.312 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 95% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; insert1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 24.575 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.72 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 76% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join18_multi_distinct &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.342 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.309 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join25 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.704 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.821 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join26 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.149 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.06 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join27 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.759 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.167 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 62% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join28 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.808 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.026 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 59% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join29 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.951 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 9.743 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join30 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.123 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.996 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 56% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join31 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.105 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.895 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 80% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join32 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.132 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.18 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 59% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join32_lessSize &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 60.27 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 41.925 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 70% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join33 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.991 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.247 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 61% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join34 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.98 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.19 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 60% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join35 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.66 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 81% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join36 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.841 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.159 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 81% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join37 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.745 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.867 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join39 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 8.657 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5.801 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 67% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_1to1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 175.384 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 91.698 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 52% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_casesensitive &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.262 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3.45 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 55% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_filters_overlap &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 38.889 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 39.421 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 101% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_map_ppr &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 20.85 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15.375 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 74% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_nulls &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 206.852 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 148.439 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 72% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; join_nullsafe &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 97.615 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 72.651 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 74% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; leftsemijoin &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 12.525 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.248 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 90% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; load_dyn_part14 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 18.488 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.752 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 91% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; load_dyn_part2 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11.011 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5.552 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 50% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mapjoin_subquery &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.541 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6.764 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 103% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; merge3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 35.447 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 27.505 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 78% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; merge_dynamic_partition &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22.097 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 14.232 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; merge_dynamic_partition3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.612 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 15.203 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 86% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; multi_insert &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 134.546 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 65.842 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 49% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; multi_insert_gby &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 20.426 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 8.363 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 41% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; multi_insert_lateral_view &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 86.077 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 46.963 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 55% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; multi_insert_move_tasks_share_dependencies &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 235.024 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 145.677 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 62% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; newline &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 57.86 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 45.289 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 78% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; nonblock_op_deduplicate &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 16.403 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.925 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 85% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; orc_diff_part_cols &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 13.177 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.586 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 80% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; orc_empty_strings &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.205 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7.607 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 75% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; orc_split_elimination &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 96.17 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 93.675 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 97% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; parallel &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 33.535 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 17.761 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 53% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3968.875 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 2902.296 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 73% &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="13983522" author="ashutoshc" created="Mon, 28 Apr 2014 20:49:33 +0000"  >&lt;p&gt;There are lot more queries with order-by now which not only lengthen test execution time, but also alter query plan (which may not be intended when test was written). I think there is definitely a value in SORT_QUERY_RESULTS. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; would you like to rebase the patch?&lt;/p&gt;</comment>
                            <comment id="13991577" author="navis" created="Wed, 7 May 2014 06:00:52 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="13992600" author="hiveqa" created="Thu, 8 May 2014 08:48:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643697/HIVE-6438.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12643697/HIVE-6438.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 33 failed/errored test(s), 5428 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_map_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_map_ppr_multi_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input42
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32_lessSize
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join35
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_filters_overlap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_map_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonblock_op_deduplicate
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union24
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/143/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/143/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/143/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/143/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 33 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12643697&lt;/p&gt;</comment>
                            <comment id="14007762" author="ashutoshc" created="Fri, 23 May 2014 21:56:28 +0000"  >&lt;p&gt;Looks like need to update .q.out for failed tests. Also, post on RB latest patch.&lt;/p&gt;</comment>
                            <comment id="14008600" author="navis" created="Mon, 26 May 2014 06:09:41 +0000"  >&lt;p&gt;Rerun test&lt;/p&gt;</comment>
                            <comment id="14009486" author="hiveqa" created="Tue, 27 May 2014 08:17:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12646744/HIVE-6438.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12646744/HIVE-6438.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/307/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/307/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/307/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/307/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-307/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-307/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-307/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;conf/hive-default.xml.template&apos;
Reverted &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/OperationState.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/session/HiveSession.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/session/HiveSessionImpl.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/session/HiveSessionBase.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/session/SessionManager.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/operation/Operation.java&apos;
Reverted &apos;service/src/java/org/apache/hive/service/cli/operation/OperationManager.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesWritableOutput.java
U    contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesRecordInput.java
U    contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesInput.java
U    contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesRecordOutput.java
U    contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesOutput.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1597716.

Updated to revision 1597716.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12646744&lt;/p&gt;</comment>
                            <comment id="14012271" author="hiveqa" created="Thu, 29 May 2014 10:47:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12647070/HIVE-6438.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12647070/HIVE-6438.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 32 failed/errored test(s), 5541 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_oneskew_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_custom_input_output_format
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.common.metrics.TestMetrics.testScopeConcurrency
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimal
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalX
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalXY
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/326/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/326/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/326/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/326/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-326/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-326/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 32 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12647070&lt;/p&gt;</comment>
                            <comment id="14013923" author="ashutoshc" created="Fri, 30 May 2014 16:47:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14013985" author="ashutoshc" created="Fri, 30 May 2014 17:37:22 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="14210785" author="thejas" created="Thu, 13 Nov 2014 19:42:35 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629214" name="HIVE-6438.1.patch.txt" size="206973" author="navis" created="Sat, 15 Feb 2014 08:54:53 +0000"/>
                            <attachment id="12629334" name="HIVE-6438.2.patch.txt" size="227429" author="navis" created="Mon, 17 Feb 2014 08:26:20 +0000"/>
                            <attachment id="12630019" name="HIVE-6438.3.patch.txt" size="1588581" author="navis" created="Thu, 20 Feb 2014 08:27:06 +0000"/>
                            <attachment id="12643697" name="HIVE-6438.4.patch.txt" size="2143199" author="navis" created="Wed, 7 May 2014 06:00:52 +0000"/>
                            <attachment id="12645525" name="HIVE-6438.5.patch.txt" size="2382220" author="navis" created="Mon, 19 May 2014 08:13:23 +0000"/>
                            <attachment id="12646744" name="HIVE-6438.6.patch.txt" size="2458226" author="navis" created="Mon, 26 May 2014 06:09:16 +0000"/>
                            <attachment id="12647070" name="HIVE-6438.7.patch.txt" size="2444666" author="navis" created="Wed, 28 May 2014 06:26:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Feb 2014 17:08:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6439] Introduce CBO step in Semantic Analyzer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6439</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This patch introduces CBO step in SemanticAnalyzer. For now the CostBasedOptimizer is an empty shell. &lt;br/&gt;
The contract between SemAly and CBO is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CBO step  is controlled by the &apos;hive.enable.cbo.flag&apos;.&lt;/li&gt;
	&lt;li&gt;When true Hive SemAly will hand CBO a Hive Operator tree (with operators annotated with stats). If it can CBO will return a better plan in Hive AST form.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12695380">HIVE-6439</key>
            <summary>Introduce CBO step in Semantic Analyzer</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12678031">HIVE-5775</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 21:32:25 +0000</created>
                <updated>Tue, 24 Jun 2014 21:41:21 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 21:41:21 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13902553" author="thejas" created="Sat, 15 Feb 2014 22:31:52 +0000"  >&lt;p&gt;Can you please create a reviewboard link ? Can you also add the config parameters to hive-default.xml.template and give a description there ? Indentation seems to be off at some places, can you also please fix that ?&lt;/p&gt;</comment>
                            <comment id="13902557" author="brocknoland" created="Sat, 15 Feb 2014 22:44:50 +0000"  >&lt;p&gt;1) There are many tabs and spacing issues in this patch&lt;br/&gt;
2) We are catching throwable and logging at debug. We should &lt;b&gt;never&lt;/b&gt; do this.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;} catch (Throwable t) {
LOG.debug(&quot;CBO failed, skipping CBO&quot;, t);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13902603" author="jpullokkaran" created="Sun, 16 Feb 2014 01:15:15 +0000"  >&lt;p&gt;@Brock #2 Is the concern that we are swallowing the exception or is it that the log level should be info or warning instead of debug?&lt;/p&gt;</comment>
                            <comment id="13902828" author="rhbutani" created="Sun, 16 Feb 2014 20:40:46 +0000"  >&lt;p&gt;Review at &lt;a href=&quot;https://reviews.apache.org/r/18172/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18172/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13902860" author="hiveqa" created="Sun, 16 Feb 2014 22:30:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629280/HIVE-6439.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629280/HIVE-6439.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5120 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1348/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1348/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1348/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1348/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629280&lt;/p&gt;</comment>
                            <comment id="13902903" author="brocknoland" created="Mon, 17 Feb 2014 01:38:45 +0000"  >&lt;p&gt;Hi Laljo,&lt;/p&gt;

&lt;p&gt;Essentially that is correct. The problem with that code is that it catches Throwable and logs at debug. This means nasty errors such as OOM or internal JVM errors which occur and will not be logged since most users do not log at the debug level in production. I&apos;d suggest not catching throwable and instead catching exception. Catching exception is still a poor coding practice as you will catch all kinds of runtime errors which you do not expect. I am guessing the author is looking to &quot;try CBO&quot; and fail back if a bug is hit. Even in that case, catching exception, we should be logging at a ERROR level unless there is a very good reason not to.&lt;/p&gt;</comment>
                            <comment id="13903367" author="hiveqa" created="Mon, 17 Feb 2014 16:58:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629326/HIVE-6439.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629326/HIVE-6439.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5127 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1362/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1362/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1362/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1362/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629326&lt;/p&gt;</comment>
                            <comment id="13903762" author="rhbutani" created="Tue, 18 Feb 2014 04:08:56 +0000"  >&lt;p&gt;AS requested by John:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;raise default for &apos;hive.cbo.max.joins.supported&apos; to 10&lt;/li&gt;
	&lt;li&gt;fix name in hive-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13904073" author="hiveqa" created="Tue, 18 Feb 2014 14:10:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629471/HIVE-6439.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629471/HIVE-6439.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1379/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1379/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1379/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1379/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1379/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1569331.

At revision 1569331.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629471&lt;/p&gt;</comment>
                            <comment id="13904946" author="rhbutani" created="Wed, 19 Feb 2014 01:20:38 +0000"  >&lt;p&gt;revert to .5 patch as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; has been reverted.&lt;/p&gt;</comment>
                            <comment id="13904970" author="thejas" created="Wed, 19 Feb 2014 01:38:34 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="13909040" author="ashutoshc" created="Sat, 22 Feb 2014 00:28:28 +0000"  >&lt;p&gt;Is plan to get CBO optimizer work in 0.13 timeframe? If no, I think we may want to delay this till branching 0.13 Otherwise, this will go in 0.13 release with a config which doesn&apos;t do anything and thus will be confusing for end users.&lt;/p&gt;</comment>
                            <comment id="13909075" author="rhbutani" created="Sat, 22 Feb 2014 00:58:07 +0000"  >&lt;p&gt;yes agreed, let&apos;s add this post hive 0.13 branching.&lt;/p&gt;</comment>
                            <comment id="14042733" author="rhbutani" created="Tue, 24 Jun 2014 21:41:21 +0000"  >&lt;p&gt;This has been invalidated by the creation of the cbo branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629240" name="HIVE-6439.1.patch" size="14207" author="rhbutani" created="Sat, 15 Feb 2014 21:33:13 +0000"/>
                            <attachment id="12629280" name="HIVE-6439.2.patch" size="14976" author="rhbutani" created="Sun, 16 Feb 2014 20:40:28 +0000"/>
                            <attachment id="12629326" name="HIVE-6439.4.patch" size="15716" author="rhbutani" created="Mon, 17 Feb 2014 07:36:28 +0000"/>
                            <attachment id="12629708" name="HIVE-6439.5.patch" size="15731" author="rhbutani" created="Wed, 19 Feb 2014 01:19:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Feb 2014 22:31:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6440] sql std auth - add command to change owner of database</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6440</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It should be possible to change the owner of a database once it is created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695432">HIVE-6440</key>
            <summary>sql std auth - add command to change owner of database</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 00:49:50 +0000</created>
                <updated>Mon, 12 May 2014 23:41:33 +0000</updated>
                            <resolved>Mon, 3 Mar 2014 12:46:19 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13914116" author="thejas" created="Thu, 27 Feb 2014 06:00:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6440&quot; title=&quot;sql std auth - add command to change owner of database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6440&quot;&gt;&lt;del&gt;HIVE-6440&lt;/del&gt;&lt;/a&gt;.1.patch&lt;br/&gt;
Also includes a small change to authorize drop database, as it is better tested with this alter-db-owner functionality.&lt;/p&gt;</comment>
                            <comment id="13915175" author="ashutoshc" created="Thu, 27 Feb 2014 23:14:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13917246" author="thejas" created="Sun, 2 Mar 2014 00:53:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6440&quot; title=&quot;sql std auth - add command to change owner of database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6440&quot;&gt;&lt;del&gt;HIVE-6440&lt;/del&gt;&lt;/a&gt;.3.patch - more q.out file updates.&lt;/p&gt;</comment>
                            <comment id="13917988" author="hiveqa" created="Mon, 3 Mar 2014 11:57:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12631983/HIVE-6440.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12631983/HIVE-6440.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5190 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_input16_cc
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1601/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1601/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1601/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1601/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12631983&lt;/p&gt;</comment>
                            <comment id="13918019" author="thejas" created="Mon, 3 Mar 2014 12:46:19 +0000"  >&lt;p&gt;The 2 test failures are unrelated. I verified that the tests pass locally.&lt;br/&gt;
Patch committed to trunk.&lt;br/&gt;
Thanks for the review Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13925308" author="lefty@hortonworks.com" created="Sun, 9 Mar 2014 19:57:09 +0000"  >&lt;p&gt;The wiki should document this with a release note here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterDatabase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Language Manual DDL:  Alter Database &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, shall I put it in or do you want to do it yourself?&lt;/p&gt;

&lt;p&gt;Presumably user|group|role are keywords and username is the name of the user or role.  But why is username in brackets &amp;#8211; can it really be omitted?  And what happens if someone specifies group?  One more nit:  does this also work for &quot;alter schema&quot;?&lt;/p&gt;</comment>
                            <comment id="13925673" author="thejas" created="Mon, 10 Mar 2014 11:31:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;But why is username in brackets &#8211; can it really be omitted? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, it can&apos;t be omitted. It should not be in brackets.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;does this also work for &quot;alter schema&quot;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I just checked the code, the existing &quot;ALTER (DATABASE|SCHEMA) database_name SET DBPROPERTIES&quot; as well as this one don&apos;t work with &quot;schema&quot; keyword. Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6601&quot; title=&quot;alter database commands should support schema synonym keyword&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6601&quot;&gt;&lt;del&gt;HIVE-6601&lt;/del&gt;&lt;/a&gt; to track that.&lt;/p&gt;

&lt;p&gt;Thanks for bringing up these issues!&lt;/p&gt;

&lt;p&gt;Please go ahead and update the wiki if you can. &lt;/p&gt;</comment>
                            <comment id="13994903" author="lefty@hortonworks.com" created="Mon, 12 May 2014 07:48:10 +0000"  >&lt;p&gt;Added to the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27362034#LanguageManualDDL-AlterDatabase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Alter Database &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But the two ALTER DB statements differ in the use of parentheses around the DATABASE keyword.  Is that correct?&lt;/p&gt;</comment>
                            <comment id="13995424" author="thejas" created="Mon, 12 May 2014 18:34:28 +0000"  >&lt;p&gt;The alter-database set properties command also does not support SCHEMA keyword (the parenthesis also goes away without the optional keyword) Though I added this command as part of the sql std auth, it works even without having sql std auth disabled. I have made the edits in wiki.&lt;br/&gt;
Thanks for bringing it up!&lt;/p&gt;</comment>
                            <comment id="13995820" author="lefty@hortonworks.com" created="Mon, 12 May 2014 23:41:33 +0000"  >&lt;p&gt;Thanks for fixing my errors, Thejas.  (It&apos;s good to know you&apos;ve got my back.)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12693751">HIVE-6386</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12699763">HIVE-6601</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12631460" name="HIVE-6440.1.patch" size="44405" author="thejas" created="Thu, 27 Feb 2014 06:00:07 +0000"/>
                            <attachment id="12631603" name="HIVE-6440.2.patch" size="49043" author="thejas" created="Thu, 27 Feb 2014 21:32:53 +0000"/>
                            <attachment id="12631983" name="HIVE-6440.3.patch" size="52660" author="thejas" created="Sun, 2 Mar 2014 00:53:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Feb 2014 23:14:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Adds support for following statement that can be used to set owner of a database:&lt;br/&gt;
&lt;br/&gt;
alter database [dbname] set owner [user|group|role] [username]&lt;br/&gt;
&lt;br/&gt;
Note that &amp;#39;group&amp;#39; in above command is for parity with grant/revoke statement syntax. But the concept of group is not supported with the new sql standard authorization (only user/role are ).&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6441] Unmappable character for encoding UTF-8 in Operation2Privilege</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6441</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; /home/navis/apache/oss-hive/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/Operation2Privilege.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;85,94&amp;#93;&lt;/span&gt; warning: unmappable character for encoding UTF-8&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695444">HIVE-6441</key>
            <summary>Unmappable character for encoding UTF-8 in Operation2Privilege</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 04:38:13 +0000</created>
                <updated>Fri, 21 Mar 2014 00:08:57 +0000</updated>
                            <resolved>Fri, 21 Mar 2014 00:08:57 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13902951" author="brocknoland" created="Mon, 17 Feb 2014 04:45:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13942558" author="ashutoshc" created="Fri, 21 Mar 2014 00:08:57 +0000"  >&lt;p&gt;Seems like this got fixed elsewhere.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629303" name="HIVE-6441.1.patch.txt" size="1115" author="navis" created="Mon, 17 Feb 2014 04:39:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Feb 2014 04:45:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6442] load_dyn_part1 is flaky on Tez because it doesn&apos;t have the stage re-arranger</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6442</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Need to use the stage re-arranger on tez as well. That will give predictable order of the stages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695456">HIVE-6442</key>
            <summary>load_dyn_part1 is flaky on Tez because it doesn&apos;t have the stage re-arranger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 08:00:18 +0000</created>
                <updated>Thu, 27 Feb 2014 19:20:47 +0000</updated>
                            <resolved>Thu, 27 Feb 2014 19:20:47 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13914930" author="hagleitn" created="Thu, 27 Feb 2014 19:20:47 +0000"  >&lt;p&gt;Committed to branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12693000">HIVE-6360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12630829" name="HIVE-6442.1.patch" size="4713" author="hagleitn" created="Mon, 24 Feb 2014 23:00:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6443] Need to remove unnecessary stats gathering/merging with unions on tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6443</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12695457">HIVE-6443</key>
            <summary>Need to remove unnecessary stats gathering/merging with unions on tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 08:01:54 +0000</created>
                <updated>Thu, 27 Feb 2014 19:58:30 +0000</updated>
                            <resolved>Thu, 27 Feb 2014 19:58:30 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13914981" author="hagleitn" created="Thu, 27 Feb 2014 19:58:30 +0000"  >&lt;p&gt;Turns out I have trouble reading conditional tasks... things are actually working.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12693000">HIVE-6360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6444] Create unique dag id for tez 0.3</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6444</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;DagID is abbreviated query right now. Need to switch to real id.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695458">HIVE-6444</key>
            <summary>Create unique dag id for tez 0.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 08:03:39 +0000</created>
                <updated>Mon, 24 Feb 2014 21:52:33 +0000</updated>
                            <resolved>Mon, 24 Feb 2014 21:52:33 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13903120" author="hagleitn" created="Mon, 17 Feb 2014 10:06:54 +0000"  >&lt;p&gt;.1 adds dag id related to query id.&lt;/p&gt;</comment>
                            <comment id="13910861" author="hagleitn" created="Mon, 24 Feb 2014 21:52:33 +0000"  >&lt;p&gt;Committed to branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12693000">HIVE-6360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12629356" name="HIVE-6444.1.patch" size="48324" author="hagleitn" created="Mon, 17 Feb 2014 10:06:54 +0000"/>
                            <attachment id="12630808" name="HIVE-6444.2.patch" size="45166" author="hagleitn" created="Mon, 24 Feb 2014 21:51:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6445] Add qop support for kerberos over http in HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6445</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add qop support for kerberos over http similar to sasl qop, for integrity + confidentiality support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695470">HIVE-6445</key>
            <summary>Add qop support for kerberos over http in HiveServer2</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12653568">HIVE-4752</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 09:31:47 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:13 +0000</updated>
                            <resolved>Tue, 7 Oct 2014 07:50:02 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14161606" author="vgumashta" created="Tue, 7 Oct 2014 07:50:02 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8377&quot; title=&quot;Enable Kerberized SSL for HiveServer2 in http mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8377&quot;&gt;&lt;del&gt;HIVE-8377&lt;/del&gt;&lt;/a&gt; as this is a more efficient way to support encryption in a kerberized setup in HTTP transport mode. &lt;/p&gt;</comment>
                            <comment id="14210918" author="thejas" created="Thu, 13 Nov 2014 19:43:13 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12746342">HIVE-8377</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Nov 2014 19:43:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6446] Ability to specify hadoop.bin.path from command line -D</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6446</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;the surefire plugin configures hadoop.bin.path as a system property:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;hadoop.bin.path&amp;gt;${basedir}/${hive.path.to.root}/testutils/hadoop&amp;lt;/hadoop.bin.path&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On Windows testing, this should be: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;hadoop.bin.path&amp;gt;${basedir}/${hive.path.to.root}/testutils/hadoop.cmd&amp;lt;/hadoop.bin.path&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Additionally, it would be useful to be able to  specify the Hadoop CLI location from -D mvn command line.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695477">HIVE-6446</key>
            <summary>Ability to specify hadoop.bin.path from command line -D</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 10:16:31 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:14 +0000</updated>
                            <resolved>Thu, 6 Mar 2014 16:28:11 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13903129" author="rusanu" created="Mon, 17 Feb 2014 10:20:17 +0000"  >&lt;p&gt;Made hadoop.bin.path a POM property, used this in the surefire plugin systemPropertyVariables. This way it has the same default as before, but it can be explicitly overwritten with -D&lt;/p&gt;</comment>
                            <comment id="13903132" author="rusanu" created="Mon, 17 Feb 2014 10:22:50 +0000"  >&lt;p&gt;moved the property in the right place in alphabetic order&lt;/p&gt;</comment>
                            <comment id="13903334" author="brocknoland" created="Mon, 17 Feb 2014 16:01:47 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="13903593" author="hiveqa" created="Mon, 17 Feb 2014 23:07:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629359/HIVE-6446.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629359/HIVE-6446.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5127 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1366/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1366/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1366/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1366/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629359&lt;/p&gt;</comment>
                            <comment id="13922708" author="ashutoshc" created="Thu, 6 Mar 2014 16:28:11 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Remus!&lt;/p&gt;</comment>
                            <comment id="14210719" author="thejas" created="Thu, 13 Nov 2014 19:42:14 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629358" name="HIVE-6446.1.patch" size="955" author="rusanu" created="Mon, 17 Feb 2014 10:20:17 +0000"/>
                            <attachment id="12629359" name="HIVE-6446.2.patch" size="1123" author="rusanu" created="Mon, 17 Feb 2014 10:22:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Feb 2014 16:01:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6447] Bucket map joins in hive-tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6447</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Support bucket map joins in tez.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695480">HIVE-6447</key>
            <summary>Bucket map joins in hive-tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 10:54:53 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:21 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 06:13:42 +0000</resolved>
                                    <version>tez-branch</version>
                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13903146" author="vikram.dixit" created="Mon, 17 Feb 2014 11:02:43 +0000"  >&lt;p&gt;Cannot create a review request at this time for some reason. Will try again and update the jira.&lt;/p&gt;</comment>
                            <comment id="13903874" author="vikram.dixit" created="Tue, 18 Feb 2014 08:34:21 +0000"  >&lt;p&gt;Wrong file.&lt;/p&gt;</comment>
                            <comment id="13929959" author="vikram.dixit" created="Tue, 11 Mar 2014 05:08:12 +0000"  >&lt;p&gt;Updated golden test file results and minor changes.&lt;/p&gt;</comment>
                            <comment id="13932388" author="hiveqa" created="Wed, 12 Mar 2014 21:15:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633855/HIVE-6447.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633855/HIVE-6447.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5387 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testBuildDag
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testClose
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testEmptyWork
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hadoop.hive.ql.plan.TestTezWork.testBroadcastConnect
org.apache.hadoop.hive.ql.plan.TestTezWork.testConnect
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1714/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1714/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1714/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1714/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633855&lt;/p&gt;</comment>
                            <comment id="13933677" author="vikram.dixit" created="Thu, 13 Mar 2014 18:13:34 +0000"  >&lt;p&gt;Address failing tests.&lt;/p&gt;</comment>
                            <comment id="13933678" author="vikram.dixit" created="Thu, 13 Mar 2014 18:14:07 +0000"  >&lt;p&gt;Fix failing tests.&lt;/p&gt;</comment>
                            <comment id="13936125" author="hiveqa" created="Sat, 15 Mar 2014 10:30:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12634499/HIVE-6447.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12634499/HIVE-6447.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1823/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1823/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1823/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1823/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1823/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1577820.

At revision 1577820.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12634499&lt;/p&gt;</comment>
                            <comment id="13941475" author="vikram.dixit" created="Thu, 20 Mar 2014 07:11:54 +0000"  >&lt;p&gt;Address review comments.&lt;/p&gt;</comment>
                            <comment id="13944475" author="hiveqa" created="Sun, 23 Mar 2014 16:52:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635732/HIVE-6447.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635732/HIVE-6447.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5440 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1921/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1921/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1921/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1921/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635732&lt;/p&gt;</comment>
                            <comment id="13944803" author="vikram.dixit" created="Mon, 24 Mar 2014 08:09:47 +0000"  >&lt;p&gt;Addressed review comments.&lt;/p&gt;</comment>
                            <comment id="13946148" author="vikram.dixit" created="Tue, 25 Mar 2014 04:26:59 +0000"  >&lt;p&gt;Address review comments.&lt;/p&gt;</comment>
                            <comment id="13946241" author="sseth" created="Tue, 25 Mar 2014 07:03:47 +0000"  >&lt;p&gt;The tez side of things in the CustomEdge and CustomVertex look good. +1. Left some minor comments.&lt;/p&gt;</comment>
                            <comment id="13946381" author="vikram.dixit" created="Tue, 25 Mar 2014 11:13:34 +0000"  >&lt;p&gt;Address Harish and Sid&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13947280" author="vikram.dixit" created="Tue, 25 Mar 2014 22:33:06 +0000"  >&lt;p&gt;More tests added and some minor fixes.&lt;/p&gt;</comment>
                            <comment id="13947330" author="rhbutani" created="Tue, 25 Mar 2014 23:26:24 +0000"  >&lt;p&gt;lgtm, +1 for the traits propagation and Join conversion pieces.&lt;/p&gt;</comment>
                            <comment id="13947456" author="vikram.dixit" created="Wed, 26 Mar 2014 02:02:00 +0000"  >&lt;p&gt;During run-time, there is an error without setting up the edge property correctly in the &quot;sub-query as big table&quot; case.&lt;/p&gt;</comment>
                            <comment id="13947588" author="alangates" created="Wed, 26 Mar 2014 06:20:08 +0000"  >&lt;p&gt;Saw following failures when running tests:&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer1&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer10&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer11&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer14&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer15&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer2&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer3&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer5&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer7&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer8&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer9&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_innerjoin&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input20&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input33&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into3&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_limit_pushdown_negative&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce1&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce3&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce4&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce5&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce6&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce7&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce8&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_insert_gby&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_skew&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt1&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt10&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt11&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt12&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt14&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt15&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt16&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt17&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt19&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt2&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt20&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt3&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt4&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt5&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt6&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt7&lt;br/&gt;
2014-03-26 02:40:03 WARN  PTest:205 - org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt8&lt;/p&gt;</comment>
                            <comment id="13948074" author="hiveqa" created="Wed, 26 Mar 2014 16:38:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636844/HIVE-6447.10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636844/HIVE-6447.10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 49 failed/errored test(s), 5457 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_innerjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_limit_pushdown_negative
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_insert_gby
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt8
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket5
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1965/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1965/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1965/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1965/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 49 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636844&lt;/p&gt;</comment>
                            <comment id="13948443" author="vikram.dixit" created="Wed, 26 Mar 2014 20:52:47 +0000"  >&lt;p&gt;Fix failing tests.&lt;/p&gt;</comment>
                            <comment id="13948862" author="hiveqa" created="Thu, 27 Mar 2014 04:09:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637022/HIVE-6447.12.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637022/HIVE-6447.12.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5491 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1974/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1974/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1974/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1974/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637022&lt;/p&gt;</comment>
                            <comment id="13948917" author="vikram.dixit" created="Thu, 27 Mar 2014 05:31:46 +0000"  >&lt;p&gt;Failures unrelated. They pass locally.&lt;/p&gt;</comment>
                            <comment id="13950137" author="vikram.dixit" created="Thu, 27 Mar 2014 23:35:56 +0000"  >&lt;p&gt;Fix for final stage reducer having no #reducer settings.&lt;/p&gt;</comment>
                            <comment id="13950243" author="rhbutani" created="Fri, 28 Mar 2014 01:20:31 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13950271" author="thejas" created="Fri, 28 Mar 2014 01:55:14 +0000"  >&lt;p&gt;Ran tests in my setup and the tests passed.&lt;/p&gt;</comment>
                            <comment id="13950427" author="vikram.dixit" created="Fri, 28 Mar 2014 06:13:26 +0000"  >&lt;p&gt;Committed to trunk and branch-0.13. Thanks for the reviews &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; for the test runs.&lt;/p&gt;</comment>
                            <comment id="13951707" author="lefty@hortonworks.com" created="Sat, 29 Mar 2014 02:05:12 +0000"  >&lt;p&gt;This adds &lt;b&gt;hive.convert.join.bucket.mapjoin.tez&lt;/b&gt; to HiveConf.java without a description.  If you write a release note and include the description, I&apos;ll put it in the wiki and make sure it&apos;s added to the new HiveConf.java &amp;amp; hive-default.xml.template via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; gets committed.&lt;/p&gt;</comment>
                            <comment id="13959765" author="vikram.dixit" created="Fri, 4 Apr 2014 08:35:32 +0000"  >&lt;p&gt;Hi Lefty,&lt;/p&gt;

&lt;p&gt;This would be the change to the template file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hive.convert.join.bucket.mapjoin.tez&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;
  &amp;lt;description&amp;gt;Whether joins can be automatically converted to bucket map joins in hive when tez is used as the execution engine.&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13967256" author="cdrome" created="Fri, 11 Apr 2014 23:53:44 +0000"  >&lt;p&gt;A method call in ql/src/java/org/apache/hadoop/hive/ql/exec/tez/CustomPartitionVertex.java is mispelled causing a compilation failure when building against Hadoop-2.x.&lt;/p&gt;

&lt;p&gt;Line 681 of the patch is:&lt;/p&gt;

&lt;p&gt;+    int totalResource = context.getTotalAVailableResource().getMemory();&lt;/p&gt;

&lt;p&gt;but should be:&lt;/p&gt;

&lt;p&gt;+    int totalResource = context.getTotalAvailableResource().getMemory();&lt;/p&gt;</comment>
                            <comment id="13967266" author="vikram.dixit" created="Sat, 12 Apr 2014 00:02:35 +0000"  >&lt;p&gt;Hi Chris,&lt;/p&gt;

&lt;p&gt;I completely cleaned my .m2 and built this and it passes. I think the tez folks fixed this spelling issue in 0.4.0-incubating-SNAPSHOT and beyond. Hive is currently dependent on 0.4.0-incubating only. This works with that version of tez.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13967268" author="vikram.dixit" created="Sat, 12 Apr 2014 00:04:20 +0000"  >&lt;p&gt;Hi Chris,&lt;/p&gt;

&lt;p&gt;I completely cleaned my .m2 and built this and it passes. I think the tez&lt;br/&gt;
folks fixed this spelling issue in 0.4.0-incubating-SNAPSHOT and beyond.&lt;br/&gt;
Hive is currently dependent on 0.4.0-incubating only. This works with that&lt;br/&gt;
version of tez.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;






&lt;p&gt;&amp;#8211; &lt;br/&gt;
Nothing better than when appreciated for hard work.&lt;br/&gt;
-Mark&lt;/p&gt;</comment>
                            <comment id="13967287" author="cdrome" created="Sat, 12 Apr 2014 00:24:54 +0000"  >&lt;p&gt;Thanks for the clarification. We are using a newer version of Tez, which caused the problem.&lt;/p&gt;</comment>
                            <comment id="13977945" author="lefty@hortonworks.com" created="Wed, 23 Apr 2014 07:39:50 +0000"  >&lt;p&gt;&lt;b&gt;hive.convert.join.bucket.mapjoin.tez&lt;/b&gt; is documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.convert.join.bucket.mapjoin.tez&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Tez &amp;#8211; hive.convert.join.bucket.mapjoin.tez &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210344" author="thejas" created="Thu, 13 Nov 2014 19:40:21 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12633788" name="HIVE-6447.1.patch" size="144303" author="vikram.dixit" created="Mon, 10 Mar 2014 21:58:29 +0000"/>
                            <attachment id="12636844" name="HIVE-6447.10.patch" size="237047" author="vikram.dixit" created="Wed, 26 Mar 2014 02:02:00 +0000"/>
                            <attachment id="12637003" name="HIVE-6447.11.patch" size="237659" author="vikram.dixit" created="Wed, 26 Mar 2014 20:52:47 +0000"/>
                            <attachment id="12637022" name="HIVE-6447.12.patch" size="237604" author="vikram.dixit" created="Wed, 26 Mar 2014 22:06:13 +0000"/>
                            <attachment id="12637287" name="HIVE-6447.13.patch" size="238979" author="vikram.dixit" created="Thu, 27 Mar 2014 23:35:56 +0000"/>
                            <attachment id="12633855" name="HIVE-6447.2.patch" size="119485" author="vikram.dixit" created="Tue, 11 Mar 2014 05:08:12 +0000"/>
                            <attachment id="12634499" name="HIVE-6447.3.patch" size="122461" author="vikram.dixit" created="Thu, 13 Mar 2014 18:14:07 +0000"/>
                            <attachment id="12635732" name="HIVE-6447.4.patch" size="128117" author="vikram.dixit" created="Thu, 20 Mar 2014 07:11:43 +0000"/>
                            <attachment id="12636317" name="HIVE-6447.5.patch" size="185400" author="vikram.dixit" created="Mon, 24 Mar 2014 09:49:36 +0000"/>
                            <attachment id="12636519" name="HIVE-6447.6.patch" size="188639" author="vikram.dixit" created="Tue, 25 Mar 2014 04:26:59 +0000"/>
                            <attachment id="12636662" name="HIVE-6447.7.patch" size="218833" author="vikram.dixit" created="Tue, 25 Mar 2014 11:13:34 +0000"/>
                            <attachment id="12636729" name="HIVE-6447.8.patch" size="218903" author="vikram.dixit" created="Tue, 25 Mar 2014 16:56:56 +0000"/>
                            <attachment id="12636799" name="HIVE-6447.9.patch" size="236671" author="vikram.dixit" created="Tue, 25 Mar 2014 22:33:06 +0000"/>
                            <attachment id="12629495" name="HIVE-6447.WIP.patch" size="72317" author="vikram.dixit" created="Tue, 18 Feb 2014 08:36:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Mar 2014 21:15:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sg5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6448] Java heap space pasring a query with many union all</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6448</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;too many union all statements in a single query require massive amount of memory to process.&lt;br/&gt;
Under default HiveServer Xmx (256) we can run ~50 union alls.&lt;br/&gt;
It seems to be rather linear as increasing the Xmx to 1024 we can run ~200.&lt;br/&gt;
The error is :&lt;/p&gt;

&lt;p&gt;java.lang.OutOfMemoryError: Java heap space&lt;br/&gt;
        at java.util.Arrays.copyOf(Arrays.java:2882)&lt;br/&gt;
        at java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:100)&lt;br/&gt;
        at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:390)&lt;br/&gt;
        at java.lang.StringBuilder.append(StringBuilder.java:119)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.QueryPlan.getJSONKeyValue(QueryPlan.java:453)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.QueryPlan.getJSONQuery(QueryPlan.java:598)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.QueryPlan.toString(QueryPlan.java:609)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.history.HiveHistory.logPlanProgress(HiveHistory.java:499)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:136)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.run(TaskRunner.java:47)&lt;/p&gt;

&lt;p&gt;Query example :&lt;br/&gt;
select * &lt;br/&gt;
from (&lt;br/&gt;
select count( * ) from default.dual union all&lt;br/&gt;
select count ( * ) from default.dual union all&lt;br/&gt;
......&lt;br/&gt;
select count( * ) from default.dual) z&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12695508">HIVE-6448</key>
            <summary>Java heap space pasring a query with many union all</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dimamah">dima machlin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 13:20:20 +0000</created>
                <updated>Mon, 17 Feb 2014 13:22:34 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>HiveServer2</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6449] EXPLAIN has diffs in Statistics in tests generated on Windows vs. test generated on Linux</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6449</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When .q.out files are generated on Windows the statistics in EXPLAIN differ from ones generated on Linux. Eg:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running: diff -a /root/hive/itests/qtest/../../itests/qtest/target/qfile-results/clientpositive/vectorized_parquet.q.out /root/hive/itests/qtest/../../ql/src/test/results/clientpositive/vectorized_parquet.q.out
72c72
&amp;lt;             Statistics: Num rows: 12288 Data size: 73728 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;             Statistics: Num rows: 2072 Data size: 257046 Basic stats: COMPLETE Column stats: NONE
75c75
&amp;lt;               Statistics: Num rows: 6144 Data size: 36864 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;               Statistics: Num rows: 1036 Data size: 128523 Basic stats: COMPLETE Column stats: NONE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12695538">HIVE-6449</key>
            <summary>EXPLAIN has diffs in Statistics in tests generated on Windows vs. test generated on Linux</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 15:40:03 +0000</created>
                <updated>Tue, 18 Feb 2014 14:57:05 +0000</updated>
                                                                            <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13903610" author="prasanth_j" created="Tue, 18 Feb 2014 00:01:14 +0000"  >&lt;p&gt;Hi Resmus&lt;/p&gt;

&lt;p&gt;One reason for this to happen is that parquet SerDe does not implement SerDeStats interface or parquet record writers does not implement StatsProvidingRecordWriter interface. The implementation of these interfaces are required for gathering raw data size. Statistics in explain will try to use the raw data size from the metastore. Raw data size should not be dependent on the operating system since its equivalent deserialized row size * number of rows. So I believe that parquet does not implement these interface and hence do not provide raw data size, in which case, file size is shown as the &quot;Data size:&quot;. If the file size return by metastore or returned by filesystem.getContentSummary() api call is different then the statistics reported will be different. My suspicion is that the file sizes for the table are different for Windows vs Linux. Can you verify if the file size in windows is same as the file size in linux?&lt;/p&gt;</comment>
                            <comment id="13904009" author="rusanu" created="Tue, 18 Feb 2014 12:50:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; thanks for the guidance. Since the difference reproes on ORC files, I focused on them now to eliminate any Parquet related problem. For my test ORC file, created as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE decimal_mapjoin STORED AS ORC AS 
  SELECT cdouble, CAST (((cdouble*22.1)/37) AS DECIMAL(20,10)) AS cdecimal1, 
  CAST (((cdouble*9.3)/13) AS DECIMAL(23,14)) AS cdecimal2,
  cint
  FROM alltypesorc;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get the following stats in describe extended:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;describe extended decimal_mapjoin;
...
Windows: {numFiles=1, COLUMN_STATS_ACCURATE=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, transient_lastDdlTime=1392727196, numRows=0, totalSize=126087, rawDataSize=0}
Linux:       {numFiles=1, transient_lastDdlTime=1392722507, COLUMN_STATS_ACCURATE=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, totalSize=126087, numRows=12288, rawDataSize=2165060} ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So the problem is that neither ROW_COUNT nor RAW_DATA_SIZE are initialized properly. I&apos;m investigating.&lt;/p&gt;</comment>
                            <comment id="13904082" author="rusanu" created="Tue, 18 Feb 2014 14:19:11 +0000"  >&lt;p&gt;In Windows .q tests FileSinkOperator.publishStats fails silently because of JDBC error java.lang.ClassNotFoundException: org.apache.derby.jdbc.EmbeddedDriver. this causes all subsequent problems because stats are 0/0&lt;/p&gt;</comment>
                            <comment id="13904112" author="rusanu" created="Tue, 18 Feb 2014 14:57:05 +0000"  >&lt;p&gt;Fixed by adding Derby jar into the CLASSPATH, right there in hadoop.cmd. Just one more hack to get .q tests to run on Windows... I wish the whole pom-&amp;gt;surefire-&amp;gt;driver-&amp;gt;hadoopCLI-&amp;gt;task chain would work correctly vis-a-vis execution on a Windows environment, but is beyond my bandwith to fix it now. I&apos;m explaining my hack fix for the unfortunate soul running into this later... and that includes myself 2 months later when I forgot what I did.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Feb 2014 00:01:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6450] Potential deadlock caused by unlock exceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6450</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the following two code snippets, unlock might fail with LockException. This&lt;br/&gt;
exception is not handled and thus the program might go on without releasing the lock, causing potential deadlock or starvations.&lt;/p&gt;

&lt;p&gt;Line: 197, File: &quot;org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;194:       try {
195:         unlock(locked, numRetriesForUnLock, sleepTime);
196:       } catch (LockException e) {
197:         LOG.info(e);
198:       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Line: 276, File: &quot;org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;271:         try {
272:           LOG.info(&quot; about to release lock for &quot; + hiveLock.getHiveLockObject().getName());
273:           unlock(hiveLock);
274:         } catch (LockException e) {
275:           // The lock may have been released. Ignore and continue
276:           LOG.warn(&quot;Error when releasing lock&quot;, e);
277:         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12695567">HIVE-6450</key>
            <summary>Potential deadlock caused by unlock exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="d.yuan">Ding Yuan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 18:32:02 +0000</created>
                <updated>Thu, 10 Apr 2014 11:47:06 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13965251" author="d.yuan" created="Thu, 10 Apr 2014 11:47:06 +0000"  >&lt;p&gt;Ping. Is there anything else I can help from my side?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6451] Exception handling improvements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6451</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I am reporting a few cases where the exception handling could be improved. Attaching a proposed patch against trunk for review. Below are some explanations for two of the cases. Other cases are trivial by looking at the patch.&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 1:&lt;br/&gt;
The code below might throw many kinds of exceptions. While some reflection-related&lt;br/&gt;
exceptions such as ClassNotFoundException are expected to occur, some others, such&lt;br/&gt;
as InvocationTargetException, should be silently swallowed. A good practice is&lt;br/&gt;
to differentiate different exceptions.&lt;/p&gt;

&lt;p&gt;Line: 1463, File: &quot;org/apache/hive/beeline/BeeLine.java&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1450:       try {
1451:         Class c = Class.forName(className, false,
1452:             Thread.currentThread().getContextClassLoader());
1453:         if (!Driver.class.isAssignableFrom(c)) {
1454:           continue;
1455:         }
1456:
1457:         if (Modifier.isAbstract(c.getModifiers())) {
1458:           continue;
1459:         }
1460:
1461:         // now instantiate and initialize it
1462:         driverClasses.add(c.newInstance());
1463:       } catch (Throwable t) {
1464:       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A similar snippet is at line 1522.&lt;br/&gt;
=========================&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 2:&lt;br/&gt;
getField(String name) will not thrown IOException, but is declared with throws IOException.&lt;/p&gt;

&lt;p&gt;hcatalog/webhcat/svr/src/main/java/org/apache/hive/hcatalog/templeton/tool/JobState.java    (revision 1568587)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-  public String getField(String name)
-    throws IOException {
+  public String getField(String name) {
     return storage.getField(type, id, name);
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;=========================&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695573">HIVE-6451</key>
            <summary>Exception handling improvements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="d.yuan">Ding Yuan</assignee>
                                    <reporter username="d.yuan">Ding Yuan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 19:32:11 +0000</created>
                <updated>Tue, 25 Mar 2014 02:30:44 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>HCatalog</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13932176" author="ashutoshc" created="Wed, 12 Mar 2014 18:50:11 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=d.yuan&quot; class=&quot;user-hover&quot; rel=&quot;d.yuan&quot;&gt;Ding Yuan&lt;/a&gt; Patch looks good. Can you reupload with naming convention per &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing&lt;/a&gt; so that Hive QA bot picks it up for testing.&lt;/p&gt;</comment>
                            <comment id="13933546" author="d.yuan" created="Thu, 13 Mar 2014 17:07:36 +0000"  >&lt;p&gt;Thanks&lt;span class=&quot;error&quot;&gt;&amp;#91;~ ashutoshc&amp;#93;&lt;/span&gt; for the review. Attaching the same patch renamed according to convention. &lt;/p&gt;</comment>
                            <comment id="13935882" author="hiveqa" created="Sat, 15 Mar 2014 00:30:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12634474/HIVE-6451.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12634474/HIVE-6451.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1778/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1778/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1778/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1778/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests exited with: ExecutionException: java.lang.IllegalArgumentException: resource batch-exec.vm not found.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12634474&lt;/p&gt;</comment>
                            <comment id="13945509" author="ashutoshc" created="Mon, 24 Mar 2014 18:43:39 +0000"  >&lt;p&gt;Sorry, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=d.yuan&quot; class=&quot;user-hover&quot; rel=&quot;d.yuan&quot;&gt;Ding Yuan&lt;/a&gt; Seems like patch went stale again. Need to rebase it.&lt;/p&gt;</comment>
                            <comment id="13946048" author="d.yuan" created="Tue, 25 Mar 2014 02:29:42 +0000"  >&lt;p&gt;Of course. Attaching a rebased patch. Please let me know if it looks good. thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636505" name="HIVE-6451.2.patch.txt" size="14156" author="d.yuan" created="Tue, 25 Mar 2014 02:29:42 +0000"/>
                            <attachment id="12634474" name="HIVE-6451.patch" size="13369" author="d.yuan" created="Thu, 13 Mar 2014 17:07:36 +0000"/>
                            <attachment id="12629420" name="hive-6451.patch" size="13369" author="d.yuan" created="Mon, 17 Feb 2014 19:33:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Mar 2014 18:50:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6452] fix bug in UnsignedInt128.multiplyArrays4And4To8 and revert temporary fix in Decimal128.multiplyDestructive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6452</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UnsignedInt128.multiplyArrays4And4To8 has a bug that causes rare multiply failures, one of which appears in TestDecimal128.testKnownPriorErrors.&lt;/p&gt;

&lt;p&gt;Fix the bug by finishing the TODO section in UnsignedInt128.multiplyArrays4And4To8 in the provided multiplyArrays4And4To8-start.patch. Make it fast and make it work with no per-operation storage allocations.&lt;/p&gt;

&lt;p&gt;Retain the rest of the work (the new tests) in multiplyArrays4And4To8-start.patch as much as possible.&lt;/p&gt;

&lt;p&gt;Revert the changes to Decimal128.multiplyDestructive so it doesn&apos;t use the short-term, slow fix based on HiveDecimal. I.e. use the implementation in multiplyDestructiveNativeDecimal128.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695587">HIVE-6452</key>
            <summary>fix bug in UnsignedInt128.multiplyArrays4And4To8 and revert temporary fix in Decimal128.multiplyDestructive</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 21:44:14 +0000</created>
                <updated>Mon, 17 Feb 2014 21:49:40 +0000</updated>
                                            <version>0.13.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12629428" name="multiplyArrays4And4To8-start.patch" size="10308" author="ehans" created="Mon, 17 Feb 2014 21:49:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6453] Update TezProrcessors to work with Tez API changes (TEZ-668, TEZ-837)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6453</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12695598">HIVE-6453</key>
            <summary>Update TezProrcessors to work with Tez API changes (TEZ-668, TEZ-837)</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="sseth">Siddharth Seth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Feb 2014 22:56:54 +0000</created>
                <updated>Tue, 18 Feb 2014 03:31:34 +0000</updated>
                            <resolved>Tue, 18 Feb 2014 03:31:34 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13903587" author="sseth" created="Mon, 17 Feb 2014 22:57:25 +0000"  >&lt;p&gt;Trivial patch.&lt;/p&gt;</comment>
                            <comment id="13903746" author="hagleitn" created="Tue, 18 Feb 2014 03:31:34 +0000"  >&lt;p&gt;Committed to branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629437" name="HIVE-6453.txt" size="2356" author="sseth" created="Mon, 17 Feb 2014 22:57:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Feb 2014 03:31:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sgvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
