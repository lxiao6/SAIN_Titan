<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:15:33 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-3-17+AND+created+%3C%3D+2010-3-24+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="25" total="25"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1250] when MapOperator fails to log a row-level failure in a pretty way, at least log it in an ugly way</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1250</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Refinement on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1216&quot; title=&quot;Show the row with error in mapper/reducer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1216&quot;&gt;&lt;del&gt;HIVE-1216&lt;/del&gt;&lt;/a&gt;.  I did it for MapOperator, but then realized ExecReducer needs the same treatment, so I&apos;ll need to factor out a common utility method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459338">HIVE-1250</key>
            <summary>when MapOperator fails to log a row-level failure in a pretty way, at least log it in an ugly way</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2010 00:22:08 +0000</created>
                <updated>Wed, 16 Jun 2010 01:59:52 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12846233" author="jvs" created="Wed, 17 Mar 2010 00:24:35 +0000"  >&lt;p&gt;Just uploading my patch so I don&apos;t lose it.  I haven&apos;t come up with an automated negative test, but did some manual testing with a case I was debugging.  Here&apos;s an example of &quot;ugly&quot;.&lt;/p&gt;

&lt;p&gt; ]; raw bytes = &lt;/p&gt;
{ 3f 8a 5a f3 22 0c f6 77 00 00 00 00 0d 36 30 30 32 32 30 38 30 35 36 39 33 30 0d 36 30 30 32 32 30 38 30 35 38 39 33 30 0a 32 30 31 30 2d 30 31 2d 31 35 }
&lt;p&gt; using org.apache.hadoop.hive.serde2.lazybinary.objectinspector.LazyBinaryStructObjectInspector&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableLongObjectInspector@3b3e0aba,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableIntObjectInspector@663257b8,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableIntObjectInspector@663257b8,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableLongObjectInspector@3b3e0aba,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableShortObjectInspector@731d2572,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableShortObjectInspector@731d2572,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220,org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@6ce53220&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12438986" name="HIVE-1250.notyetready.patch" size="1392" author="jvs" created="Wed, 17 Mar 2010 00:22:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1251] TRANSFORM should allow piping or allow cross-subquery assumptions.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1251</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many traditional transforms can be accomplished via simple unix commands chained together. For example, the &quot;sort&quot; phase is an instance of &quot;cut -f 1 | sort&quot;. However, the TRANSFORM command in Hive doesn&apos;t allow for unix-style piping to occur.&lt;/p&gt;

&lt;p&gt;One classic case where I wish there was piping is when I want to &quot;stack&quot; a column into several rows:&lt;/p&gt;

&lt;p&gt;SELECT TRANSFORM(key, col0, col1, col2) USING &apos;python stacker.py | python reducer.py&apos; AS key, value&lt;/p&gt;

&lt;p&gt;...in this case, stacker.py would produce output of this form:&lt;br/&gt;
key col0&lt;br/&gt;
key col1&lt;br/&gt;
key col2&lt;br/&gt;
...and then the reducer would reduce the above down to one item per key. In this case, the current workaround is this:&lt;/p&gt;

&lt;p&gt;SELECT TRANSFORM(a.key, a.col) USING &apos;python reducer.py&apos; AS key, value FROM&lt;br/&gt;
    (SELECT TRANSFORM(key, col0, col1, col2) USING &apos;python stacker.py&apos; AS key, col FROM table)&lt;/p&gt;

&lt;p&gt;...the problem here is that for the above to work (and it should, indeed, work in a map-only MR task), I must assume that the data output from one subquery will be passed in EXACTLY THE SAME FORMAT to the outer query--i.e., I must assume that Hive will not cut a map or reduce phase in between, or &quot;fan out&quot; data from the inner query into different mappers in the outer query.&lt;/p&gt;

&lt;p&gt;As a user, &lt;b&gt;I should not be allowed to assume&lt;/b&gt; that data coming out of a subquery goes into the nodes for a superquery in the same order...ESPECIALLY in the map phase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459412">HIVE-1251</key>
            <summary>TRANSFORM should allow piping or allow cross-subquery assumptions.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2010 18:30:21 +0000</created>
                <updated>Tue, 26 Jul 2011 23:19:10 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08obj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48539</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1252] Task breaking bug when breaking after a filter operator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1252</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The plan for this query has a bug,&lt;br/&gt;
SELECT f.key, g.value  FROM srcpart f JOIN srcpart m ON( f.key = m.key AND f.ds=&apos;2008-04-08&apos; AND m.ds=&apos;2008-04-08&apos; ) JOIN srcpart g ON(g.value = m.value AND g.ds=&apos;2008-04-08&apos; AND m.ds=&apos;2008-04-08&apos;);&lt;br/&gt;
The first file sink operator&apos;s table desc contains all columns.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12459422">HIVE-1252</key>
            <summary>Task breaking bug when breaking after a filter operator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2010 20:16:45 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:34 +0000</updated>
                            <resolved>Fri, 19 Mar 2010 18:08:11 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12846748" author="namit" created="Thu, 18 Mar 2010 05:22:01 +0000"  >&lt;p&gt;Can you reduce the test data size - I mean create a new table with fewer rows - or you can use src1 to show the same problem&lt;/p&gt;</comment>
                            <comment id="12846754" author="he yongqiang" created="Thu, 18 Mar 2010 05:37:25 +0000"  >&lt;p&gt;A new patch integrated Namit&apos;s comments. Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12846988" author="namit" created="Thu, 18 Mar 2010 16:38:23 +0000"  >&lt;p&gt;Can you change the test to add:&lt;/p&gt;

&lt;p&gt;m.value is not null in the second join - it is painful to verify the results.&lt;/p&gt;</comment>
                            <comment id="12846993" author="he yongqiang" created="Thu, 18 Mar 2010 16:52:14 +0000"  >&lt;p&gt;a new patch added m.value is not null and m.value!=&apos;&apos;  &lt;/p&gt;</comment>
                            <comment id="12847485" author="namit" created="Fri, 19 Mar 2010 18:08:11 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439069" name="hive-1252.1.patch" size="527593" author="he yongqiang" created="Wed, 17 Mar 2010 20:41:14 +0000"/>
                            <attachment id="12439119" name="hive-1252.2.patch" size="255124" author="he yongqiang" created="Thu, 18 Mar 2010 05:37:24 +0000"/>
                            <attachment id="12439190" name="hive-1252.3.patch" size="255757" author="he yongqiang" created="Thu, 18 Mar 2010 16:52:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Mar 2010 05:22:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1253] Fix Date_sub and Date_add in case of daylight saving</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1253</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;date_sub(&apos;2010-03-15&apos;, 7) returns &apos;2010-03-07&apos;. This is because we have time shifts on 2010-03-14 for daylight saving time.&lt;/p&gt;

&lt;p&gt;Looking at ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java, it is getting a calendar instance in UTC time zone.&lt;/p&gt;

&lt;p&gt;def calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));&lt;/p&gt;

&lt;p&gt;And use calendar.add() to substract 7 days, then conver the time to &apos;yyyy-MM-dd&apos; format.&lt;/p&gt;

&lt;p&gt;If it simply uses default timezone, the problem is solved: &quot;def calendar = Calendar.getInstance());&quot;&lt;/p&gt;

&lt;p&gt;When people use date_sub(&apos;2010-03-15&apos;, 7), I think they mean substract 7 days, instead of substracting 7*24 hours. So it should be an easy fix. The same changes should go to date_add and date_diff&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12459451">HIVE-1253</key>
            <summary>Fix Date_sub and Date_add in case of daylight saving</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="batalbot">Bryan Talbot</assignee>
                                    <reporter username="miwang">mingran wang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Mar 2010 23:00:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:03 +0000</updated>
                            <resolved>Thu, 1 Apr 2010 22:26:48 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12846669" author="miwang" created="Wed, 17 Mar 2010 23:30:26 +0000"  >&lt;p&gt;To get to the bottom of this, the formatter (SimpleDateFormat) interprets the time string as local time zone, when it sets the calendar, it is PDT time zone (7 hours difference from UTC), and when it substracts 7 days and convert back to formatter string, it converts UTC to PST (still the local time zone, but different time zone now, and 8 hours difference from UTC).&lt;/p&gt;

&lt;p&gt;For the purpose of this function, since it is doing simple date_sub function, there is no need to consider time zone at all, and all time zone should give the same result for this kind of computation. For this reason, using default time zone would be fine, and we have to use default time zone because formatter is using it.&lt;/p&gt;</comment>
                            <comment id="12847663" author="batalbot" created="Sat, 20 Mar 2010 00:11:05 +0000"  >&lt;p&gt;date_sub and date_add used both a Calendar and a SimpleDateFormat object; however, the UTC timezone was only set for the Calendar object.  This causes the computation to sometimes be incorrect when the date ranges cross daylight savings time changes.&lt;/p&gt;

&lt;p&gt;The patch removes specifying the UTC timezone for the Calendar object so that both Calendar and the SimpleDateFormat will use the default timezone.  This should allow the date math to be consistent with other potential date math functions as long as they all use the default timezone.&lt;/p&gt;

&lt;p&gt;If the user wishes to use a specific timezone that is not the system default, it can be set using the normal java ways (e.g. setting user.timezone, etc.).&lt;/p&gt;</comment>
                            <comment id="12847665" author="batalbot" created="Sat, 20 Mar 2010 00:12:26 +0000"  >&lt;p&gt;Patch includes new JUnit tests for UDFDateSub, UDFDateAdd and UDFDateDiff to test correctness over daylight savings time changes.&lt;/p&gt;</comment>
                            <comment id="12852279" author="zshao" created="Thu, 1 Apr 2010 08:07:57 +0000"  >&lt;p&gt;+1. Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12852581" author="zshao" created="Thu, 1 Apr 2010 22:26:48 +0000"  >&lt;p&gt;Committed. Thanks Bryan!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439339" name="HIVE-1253.patch" size="10487" author="batalbot" created="Sat, 20 Mar 2010 00:12:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Mar 2010 00:11:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1254] CTAS creates column names starting with &quot;_&quot; while the grammar does not allow column names starting with &quot;_&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1254</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE tmp_table AS 
SELECT adid, min(timestamp)
FROM ads
GROUP BY adid;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The second column name is &quot;_c1&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459472">HIVE-1254</key>
            <summary>CTAS creates column names starting with &quot;_&quot; while the grammar does not allow column names starting with &quot;_&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Mar 2010 02:54:17 +0000</created>
                <updated>Thu, 18 Mar 2010 02:54:17 +0000</updated>
                                                                                <due></due>
                            <votes>3</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1255] Add mathematical UDFs PI, E, degrees, radians, tan, sign, and atan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1255</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add support for PI, E, degrees, radians, tan, sign and atan&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459538">HIVE-1255</key>
            <summary>Add mathematical UDFs PI, E, degrees, radians, tan, sign, and atan</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Mar 2010 16:56:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:41 +0000</updated>
                            <resolved>Wed, 16 Jun 2010 21:51:31 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12849438" author="zshao" created="Wed, 24 Mar 2010 21:09:24 +0000"  >&lt;p&gt;Edward, can you add back the (unnecessary) type casts in FunctionRegistry.java?&lt;br/&gt;
These are required to get hive compilable with hadoop 0.17.&lt;/p&gt;</comment>
                            <comment id="12849457" author="appodictic" created="Wed, 24 Mar 2010 21:35:36 +0000"  >&lt;p&gt;Fixes the casts. I noticed had &quot;helped&quot; me by doing that. I thought it did not matter. Good catch!&lt;/p&gt;</comment>
                            <comment id="12849724" author="appodictic" created="Thu, 25 Mar 2010 15:25:36 +0000"  >&lt;p&gt;Fixed test cases&lt;/p&gt;</comment>
                            <comment id="12879212" author="pauly" created="Wed, 16 Jun 2010 00:47:19 +0000"  >&lt;p&gt;Taking a look.&lt;/p&gt;</comment>
                            <comment id="12879216" author="pauly" created="Wed, 16 Jun 2010 01:10:14 +0000"  >&lt;p&gt;Can you update show_functions.q? That test will fail with the addition of new UDF&apos;s.&lt;/p&gt;</comment>
                            <comment id="12879230" author="appodictic" created="Wed, 16 Jun 2010 02:05:09 +0000"  >&lt;p&gt;show_functions.q is patched&lt;/p&gt;</comment>
                            <comment id="12879423" author="pauly" created="Wed, 16 Jun 2010 17:58:24 +0000"  >&lt;p&gt;Looks good +1&lt;/p&gt;</comment>
                            <comment id="12879456" author="jvs" created="Wed, 16 Jun 2010 18:53:28 +0000"  >&lt;p&gt;+1.  Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12879526" author="jvs" created="Wed, 16 Jun 2010 21:51:31 +0000"  >&lt;p&gt;Committed.  Thanks Edward!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12437212">HIVE-867</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12439710" name="hive-1255-patch-2.txt" size="46087" author="appodictic" created="Wed, 24 Mar 2010 21:35:36 +0000"/>
                            <attachment id="12439783" name="hive-1255-patch-3.txt" size="50005" author="appodictic" created="Thu, 25 Mar 2010 15:25:35 +0000"/>
                            <attachment id="12447198" name="hive-1255-patch-4.txt" size="50777" author="appodictic" created="Wed, 16 Jun 2010 02:05:09 +0000"/>
                            <attachment id="12439369" name="hive-1255-patch.txt" size="34381" author="appodictic" created="Sat, 20 Mar 2010 17:43:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Mar 2010 21:09:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1256] fix Hive logo img tag to avoid stretching</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1256</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-422&quot; title=&quot;Logo for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-422&quot;&gt;&lt;del&gt;HIVE-422&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Aaron Newton added a comment - 17/Mar/10 02:32 AM&lt;br/&gt;
Hey guys,&lt;/p&gt;

&lt;p&gt;I saw this article on TC today:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://techcrunch.com/2010/03/16/big-data-freedom/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://techcrunch.com/2010/03/16/big-data-freedom/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and noticed the hive logo was all out of whack - all stretched out. Then I noticed it&apos;s like that on the Hive home page. Can someone fix the dimensions of the image tag? It looks kinda bad (and people are apparently using it like that elsewhere as seen on the TC article).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoop.apache.org/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/hive/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459567">HIVE-1256</key>
            <summary>fix Hive logo img tag to avoid stretching</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Mar 2010 20:33:27 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:28 +0000</updated>
                            <resolved>Thu, 25 Mar 2010 07:40:53 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12847095" author="jvs" created="Thu, 18 Mar 2010 20:33:49 +0000"  >&lt;p&gt;Zheng, do you know where the Hive website sources live, and how we can update those?&lt;/p&gt;</comment>
                            <comment id="12849607" author="zshao" created="Thu, 25 Mar 2010 07:40:53 +0000"  >
&lt;p&gt;&amp;gt; svn info; svn commit -m &quot;Fixed hive_logo_medium.jpg&quot;&lt;br/&gt;
Path: .&lt;br/&gt;
URL: &lt;a href=&quot;https://svn.apache.org/repos/asf/hadoop/hive/site&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/hadoop/hive/site&lt;/a&gt;&lt;br/&gt;
Repository Root: &lt;a href=&quot;https://svn.apache.org/repos/asf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf&lt;/a&gt;&lt;br/&gt;
Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68&lt;br/&gt;
Revision: 915946&lt;br/&gt;
Node Kind: directory&lt;br/&gt;
Schedule: normal&lt;br/&gt;
Last Changed Author: zshao&lt;br/&gt;
Last Changed Rev: 915691&lt;br/&gt;
Last Changed Date: 2010-02-23 21:54:01 -0800 (Tue, 23 Feb 2010)&lt;/p&gt;

&lt;p&gt;Sending        author/src/documentation/content/xdocs/hive_logo_medium.jpg&lt;br/&gt;
Sending        publish/images/hive_logo_medium.jpg&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 927292.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Mar 2010 07:40:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1257] joins between HBase tables and other tables (whether HBase or not) are broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1257</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Details in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hadoop-hive-user/201003.mbox/%3C9A53DDE1FE082F4D952FDF20AC87E21F021F3EBC@exchange2.t8design.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hadoop-hive-user/201003.mbox/%3C9A53DDE1FE082F4D952FDF20AC87E21F021F3EBC@exchange2.t8design.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459590">HIVE-1257</key>
            <summary>joins between HBase tables and other tables (whether HBase or not) are broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                            <label>HiveHBase</label>
                    </labels>
                <created>Thu, 18 Mar 2010 22:57:12 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:26 +0000</updated>
                            <resolved>Tue, 23 Mar 2010 22:35:02 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12847155" author="jvs" created="Thu, 18 Mar 2010 22:57:57 +0000"  >&lt;p&gt;Copying details from mailing list thread:&lt;/p&gt;

&lt;p&gt;From  	&quot;Daniel Pruckler&quot; &amp;lt;Daniel.Pruck...@t8webware.com&amp;gt;&lt;br/&gt;
Subject 	Problem when joining hbase tables in hive&lt;br/&gt;
Date 	Thu, 18 Mar 2010 16:50:22 GMT&lt;/p&gt;

&lt;p&gt;We&apos;re just starting with the HBaseIntegration, and are really excited about it, great work&lt;br/&gt;
on this.  Thanks&lt;/p&gt;



&lt;p&gt;We are running into a problem when joining two hbase tables.  It seems to usually work when&lt;br/&gt;
joining one hbase table with one hive table, but not always.  Let me know if I&apos;m doing something&lt;br/&gt;
wrong.&lt;/p&gt;



&lt;p&gt;My workaround for right now is to create new tables in hive and overwrite that table with&lt;br/&gt;
the external hbase table, and then join from the new tables.  In our situation this is working&lt;br/&gt;
as the one large table we&apos;ve got seems to work just fine in hbase, we just need to overwrite&lt;br/&gt;
the smaller join tables before doing a join.  I have one join example at the end of this email&lt;br/&gt;
that fails when joining an hbase and hive table.&lt;/p&gt;









&lt;p&gt;Here&apos;s what I did:&lt;/p&gt;



&lt;p&gt;Create the HBase tables:&lt;/p&gt;



&lt;p&gt;create &apos;users&apos;, &apos;info&apos;&lt;/p&gt;

&lt;p&gt;put &apos;users&apos;, &apos;user1&apos;, &apos;info:state&apos;, &apos;IA&apos;&lt;/p&gt;

&lt;p&gt;put &apos;users&apos;, &apos;user1&apos;, &apos;info:country&apos;, &apos;USA&apos;&lt;/p&gt;

&lt;p&gt;put &apos;users&apos;, &apos;user1&apos;, &apos;info:country_id&apos;, &apos;0&apos;&lt;/p&gt;



&lt;p&gt;create &apos;states&apos;, &apos;state&apos;&lt;/p&gt;

&lt;p&gt;put &apos;states&apos;, &apos;IA&apos;, &apos;state:name&apos;, &apos;Iowa&apos;&lt;/p&gt;



&lt;p&gt;create &apos;countries&apos;, &apos;info&apos;&lt;/p&gt;

&lt;p&gt;put &apos;countries&apos;, &apos;USA&apos;, &apos;info:name&apos;, &apos;United States&apos;&lt;/p&gt;

&lt;p&gt;put &apos;countries&apos;, &apos;USA&apos;, &apos;info:country&apos;, &apos;USA&apos;&lt;/p&gt;

&lt;p&gt;put &apos;countries&apos;, &apos;USA&apos;, &apos;info:country_id&apos;, &apos;1&apos;&lt;/p&gt;







&lt;p&gt;Create the hive tables:&lt;/p&gt;



&lt;p&gt;CREATE EXTERNAL TABLE users(key string, state string, country string, country_id int) &lt;/p&gt;

&lt;p&gt;STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/p&gt;

&lt;p&gt;WITH SERDEPROPERTIES (&lt;/p&gt;

&lt;p&gt;&quot;hbase.key.type&quot; = &quot;string&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.columns.mapping&quot; = &quot;info:state,info:country,info:country_id&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.table.name&quot; = &quot;users&quot;&lt;/p&gt;

&lt;p&gt;);&lt;/p&gt;



&lt;p&gt;CREATE EXTERNAL TABLE states(key string, name string) &lt;/p&gt;

&lt;p&gt;STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/p&gt;

&lt;p&gt;WITH SERDEPROPERTIES (&lt;/p&gt;

&lt;p&gt;&quot;hbase.key.type&quot; = &quot;string&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.columns.mapping&quot; = &quot;state:name&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.table.name&quot; = &quot;states&quot;&lt;/p&gt;

&lt;p&gt;);&lt;/p&gt;



&lt;p&gt;CREATE EXTERNAL TABLE countries(key string, name string, country string, country_id int) &lt;/p&gt;

&lt;p&gt;STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/p&gt;

&lt;p&gt;WITH SERDEPROPERTIES (&lt;/p&gt;

&lt;p&gt;&quot;hbase.key.type&quot; = &quot;string&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.columns.mapping&quot; = &quot;info:name,info:country,info:country_id&quot;,&lt;/p&gt;

&lt;p&gt;&quot;hbase.table.name&quot; = &quot;countries&quot;&lt;/p&gt;

&lt;p&gt;);&lt;/p&gt;





&lt;p&gt;Then try to join, this returns no results:&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name, c.key FROM users u JOIN countries c ON (u.country = c.key);&lt;/p&gt;

&lt;p&gt;OK&lt;/p&gt;

&lt;p&gt;Time taken: 26.75 seconds&lt;/p&gt;





&lt;p&gt;This returns results, but not what&apos;s expected, it seems like it joins the user table with&lt;br/&gt;
itself&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name, c.key FROM users u JOIN countries c ON (u.country = c.country);&lt;/p&gt;

&lt;p&gt;OK&lt;/p&gt;

&lt;p&gt;user1     USA        NULL      user1&lt;/p&gt;

&lt;p&gt;Time taken: 24.867 seconds&lt;/p&gt;





&lt;p&gt;This also returns results (it should not as the country_ids do not match)&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name, c.key FROM users u JOIN countries c ON (u.country_id = c.country_id);&lt;/p&gt;

&lt;p&gt;OK&lt;/p&gt;

&lt;p&gt;user1     USA        NULL      user1&lt;/p&gt;

&lt;p&gt;Time taken: 22.868 seconds&lt;/p&gt;









&lt;p&gt;I would guess this is part of the same issue, trying to join anything in state with user results&lt;br/&gt;
in an error (state does not have an &apos;info&apos; column family)&lt;/p&gt;

&lt;p&gt;hive&amp;gt; SELECT u.key, u.state, s.name FROM users u JOIN states s ON (u.state = s.key);&lt;/p&gt;

&lt;p&gt;Total MapReduce jobs = 1&lt;/p&gt;

&lt;p&gt;Launching Job 1 out of 1&lt;/p&gt;

&lt;p&gt;Number of reduce tasks not specified. Estimated from input data size: 1&lt;/p&gt;

&lt;p&gt;In order to change the average load for a reducer (in bytes):&lt;/p&gt;

&lt;p&gt;  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;/p&gt;

&lt;p&gt;In order to limit the maximum number of reducers:&lt;/p&gt;

&lt;p&gt;  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;/p&gt;

&lt;p&gt;In order to set a constant number of reducers:&lt;/p&gt;

&lt;p&gt;  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;/p&gt;

&lt;p&gt;Starting Job = job_201003150937_0096, Tracking URL = &lt;a href=&quot;http://localhost:50030/jobdetails.jsp?jobid=job_201003150937_0096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/jobdetails.jsp?jobid=job_201003150937_0096&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Kill Command = /usr/lib/hadoop/bin/../bin/hadoop job  -Dmapred.job.tracker=localhost:9001&lt;br/&gt;
-kill job_201003150937_0096&lt;/p&gt;

&lt;p&gt;2010-03-18 10:43:28,730 Stage-1 map = 0%,  reduce = 0%&lt;/p&gt;

&lt;p&gt;2010-03-18 10:43:34,908 Stage-1 map = 50%,  reduce = 0%&lt;/p&gt;

&lt;p&gt;2010-03-18 10:43:44,020 Stage-1 map = 50%,  reduce = 17%&lt;/p&gt;

&lt;p&gt;2010-03-18 10:44:02,146 Stage-1 map = 100%,  reduce = 100%&lt;/p&gt;

&lt;p&gt;Ended Job = job_201003150937_0096 with errors&lt;/p&gt;



&lt;p&gt;Task with the most failures(4): &lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Task ID:&lt;/p&gt;

&lt;p&gt;  task_201003150937_0096_m_000001&lt;/p&gt;



&lt;p&gt;URL:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://localhost:50030/taskdetails.jsp?jobid=job_201003150937_0096&amp;amp;tipid=task_201003150937_0096_m_000001&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/taskdetails.jsp?jobid=job_201003150937_0096&amp;amp;tipid=task_201003150937_0096_m_000001&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;



&lt;p&gt;FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;/p&gt;



&lt;p&gt;org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException:&lt;br/&gt;
Column family state does not exist in region users,,1268926579188 in table {NAME =&amp;gt; &apos;users&apos;,&lt;br/&gt;
FAMILIES =&amp;gt; [&lt;/p&gt;
{NAME =&amp;gt; &apos;info&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, TTL =&amp;gt;
&apos;2147483647&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, IN_MEMORY =&amp;gt; &apos;false&apos;, BLOCKCACHE =&amp;gt; &apos;true&apos;}
&lt;p&gt;]}&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.regionserver.HRegion.checkFamily(HRegion.java:2476)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:1107)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:1095)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.regionserver.HRegionServer.openScanner(HRegionServer.java:1846)&lt;/p&gt;

&lt;p&gt;                at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)&lt;/p&gt;

&lt;p&gt;                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;/p&gt;

&lt;p&gt;                at java.lang.reflect.Method.invoke(Method.java:597)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:657)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:915)&lt;/p&gt;



&lt;p&gt;                at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;/p&gt;

&lt;p&gt;                at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;/p&gt;

&lt;p&gt;                at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;/p&gt;

&lt;p&gt;                at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.RemoteExceptionHandler.decodeRemoteException(RemoteExceptionHandler.java:94)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.getRegionServerWithRetries(HConnectionManager.java:1041)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.client.HTable$ClientScanner.nextScanner(HTable.java:1935)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.client.HTable$ClientScanner.initialize(HTable.java:1855)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.client.HTable.getScanner(HTable.java:376)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.mapred.TableInputFormatBase$TableRecordReader.restart(TableInputFormatBase.java:129)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.mapred.TableInputFormatBase$TableRecordReader.init(TableInputFormatBase.java:139)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.mapred.TableInputFormatBase.getRecordReader(TableInputFormatBase.java:260)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hive.hbase.HiveHBaseTableInputFormat.getRecordReader(HiveHBaseTableInputFormat.java:119)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:229)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:338)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;/p&gt;







&lt;p&gt;Here&apos;s my workaround that allows me to be able to join.&lt;/p&gt;



&lt;p&gt;CREATE TABLE hive_users(key string, state string, country string, country_id int);&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE hive_users SELECT key, state, country, country_id FROM users;&lt;/p&gt;



&lt;p&gt;CREATE TABLE hive_states(key string, name string);&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE hive_states SELECT key, name FROM states;&lt;/p&gt;



&lt;p&gt;CREATE TABLE hive_countries(key string, name string, country string, country_id int);&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE hive_countries SELECT key, name, country, country_id FROM countries;&lt;/p&gt;





&lt;p&gt;Any of my selects work just fine:&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.state, s.name FROM hive_users u JOIN hive_states s ON (u.state = s.key);&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name FROM hive_users u JOIN hive_countries c ON (u.country = c.key);&lt;/p&gt;







&lt;p&gt;When joining one hbase table it will work with some tables, and give errors with others, I&apos;m&lt;br/&gt;
not seeing anything I&apos;m doing wrong with the select.&lt;/p&gt;



&lt;p&gt;This works:&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name FROM users u JOIN hive_countries c ON (u.country = c.key);&lt;/p&gt;



&lt;p&gt;However while trying other things, I found that this query does not work, and cannot figure&lt;br/&gt;
out why it&apos;d be any different, maybe I&apos;m doing something wrong.&lt;/p&gt;

&lt;p&gt;SELECT u.key, u.country, c.name FROM hive_users u JOIN countries c ON (u.country = c.key);&lt;/p&gt;



&lt;p&gt;Ended Job = job_201003150937_0118 with errors&lt;/p&gt;



&lt;p&gt;Task with the most failures(4): &lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Task ID:&lt;/p&gt;

&lt;p&gt;  task_201003150937_0118_m_000001&lt;/p&gt;



&lt;p&gt;URL:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://localhost:50030/taskdetails.jsp?jobid=job_201003150937_0118&amp;amp;tipid=task_201003150937_0118_m_000001&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/taskdetails.jsp?jobid=job_201003150937_0118&amp;amp;tipid=task_201003150937_0118_m_000001&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;



&lt;p&gt;FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;/p&gt;





&lt;p&gt;java.lang.IllegalArgumentException: string cannot be null&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hbase.util.Bytes.toBytes(Bytes.java:390)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hive.hbase.HiveHBaseTableInputFormat.getRecordReader(HiveHBaseTableInputFormat.java:68)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:229)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:338)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;/p&gt;

&lt;p&gt;                at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;/p&gt;











&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Daniel&lt;/p&gt;





</comment>
                            <comment id="12847183" author="jvs" created="Fri, 19 Mar 2010 01:05:55 +0000"  >&lt;p&gt;Preliminary patch which fixes the test queries; I haven&apos;t run through regression tests yet.&lt;/p&gt;</comment>
                            <comment id="12847184" author="jvs" created="Fri, 19 Mar 2010 01:07:49 +0000"  >&lt;p&gt;I also need to add new tests for the real patch submission.&lt;/p&gt;</comment>
                            <comment id="12848298" author="jvs" created="Mon, 22 Mar 2010 19:30:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1257&quot; title=&quot;joins between HBase tables and other tables (whether HBase or not) are broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1257&quot;&gt;&lt;del&gt;HIVE-1257&lt;/del&gt;&lt;/a&gt;.1.patch is the real fix.&lt;/p&gt;

&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1236&quot; title=&quot;test HBase input format plus CombinedHiveInputFormat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1236&quot;&gt;&lt;del&gt;HIVE-1236&lt;/del&gt;&lt;/a&gt;, I made it work both with and without CombineHiveInputFormat, but only by making CombineHiveInputFormat punt in the case where it sees a non-native table.  This is not a good long-term solution, so I&apos;m opening a separate issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1267&quot; title=&quot;Make CombineHiveInputFormat work with non-native tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1267&quot;&gt;HIVE-1267&lt;/a&gt; for that.&lt;/p&gt;</comment>
                            <comment id="12848543" author="namit" created="Tue, 23 Mar 2010 04:33:38 +0000"  >&lt;p&gt;Can you add a test (or run the sane test) with CombineHiveInputFormat also ?&lt;/p&gt;</comment>
                            <comment id="12848878" author="jvs" created="Tue, 23 Mar 2010 19:43:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1257&quot; title=&quot;joins between HBase tables and other tables (whether HBase or not) are broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1257&quot;&gt;&lt;del&gt;HIVE-1257&lt;/del&gt;&lt;/a&gt;.2.patch repeats the test with CombineHiveInputFormat&lt;/p&gt;</comment>
                            <comment id="12848886" author="namit" created="Tue, 23 Mar 2010 20:16:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12848939" author="namit" created="Tue, 23 Mar 2010 22:35:02 +0000"  >&lt;p&gt;Committed. Thanks John&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431664">HIVE-705</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12439492" name="HIVE-1257.1.patch" size="10864" author="jvs" created="Mon, 22 Mar 2010 19:30:17 +0000"/>
                            <attachment id="12439602" name="HIVE-1257.2.patch" size="14193" author="jvs" created="Tue, 23 Mar 2010 19:43:52 +0000"/>
                            <attachment id="12439230" name="HIVE-1257.prelim.patch" size="2193" author="jvs" created="Fri, 19 Mar 2010 01:05:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Mar 2010 04:33:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1258] set merge files to files when bucketing/sorting is being enforced</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1258</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12459600">HIVE-1258</key>
            <summary>set merge files to files when bucketing/sorting is being enforced</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Mar 2010 01:20:18 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:02 +0000</updated>
                            <resolved>Tue, 23 Mar 2010 22:35:46 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12848888" author="namit" created="Tue, 23 Mar 2010 20:19:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12848940" author="namit" created="Tue, 23 Mar 2010 22:35:46 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439600" name="hive-1258.1.patch" size="15219" author="he yongqiang" created="Tue, 23 Mar 2010 19:05:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1259] Contrib test directories don&apos;t have a positive or negative </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1259</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are the following directories:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;clientnegative&lt;/li&gt;
	&lt;li&gt;clientpositive&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The build.xml tries to use non existant directories:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;positive&lt;/li&gt;
	&lt;li&gt;negative&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Patch just pulls those.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459690">HIVE-1259</key>
            <summary>Contrib test directories don&apos;t have a positive or negative </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="metcalfc">Chad Metcalf</assignee>
                                    <reporter username="metcalfc">Chad Metcalf</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Mar 2010 18:16:53 +0000</created>
                <updated>Tue, 21 Aug 2012 23:07:29 +0000</updated>
                            <resolved>Tue, 21 Aug 2012 23:07:29 +0000</resolved>
                                    <version>0.4.1</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                            <attachment id="12439309" name="HIVE-1259.patch" size="1510" author="metcalfc" created="Fri, 19 Mar 2010 18:17:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1260] from_unixtime should implment a overloading function to accept only bigint type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1260</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive&amp;gt; select from_unixtime(cast(0 as bigint)) from nzhang_tt_bigint;&lt;br/&gt;
FAILED: Error in semantic analysis: line 1:7 Wrong Arguments a: No matching method for class org.apache.hadoop.hive.ql.udf.UDFFromUnixTime with (bigint). Possible choices: &lt;em&gt;FUNC&lt;/em&gt;(int) &lt;em&gt;FUNC&lt;/em&gt;(bigint, string) &lt;em&gt;FUNC&lt;/em&gt;(int, string) &lt;/p&gt;

&lt;p&gt;hive&amp;gt; select from_unixtime(cast(0 as nt)) from nzhang_tt_bigint;&lt;/p&gt;

&lt;p&gt;succeeded. We should implement a similar overloading function for bigint as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459739">HIVE-1260</key>
            <summary>from_unixtime should implment a overloading function to accept only bigint type</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Mar 2010 05:06:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:52 +0000</updated>
                            <resolved>Tue, 20 Apr 2010 06:24:24 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12847722" author="nzhang" created="Sat, 20 Mar 2010 06:18:24 +0000"  >&lt;p&gt;attaching a patch. &lt;/p&gt;</comment>
                            <comment id="12849276" author="namit" created="Wed, 24 Mar 2010 16:55:45 +0000"  >&lt;p&gt;Can you add a test ?&lt;/p&gt;</comment>
                            <comment id="12858736" author="nzhang" created="Tue, 20 Apr 2010 00:41:41 +0000"  >&lt;p&gt;Added a new unit test and refreshed to the latest trunk.&lt;/p&gt;</comment>
                            <comment id="12858764" author="namit" created="Tue, 20 Apr 2010 05:26:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12858768" author="namit" created="Tue, 20 Apr 2010 06:24:24 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442248" name="HIVE-1260.2.patch" size="6800" author="nzhang" created="Tue, 20 Apr 2010 00:41:41 +0000"/>
                            <attachment id="12439353" name="HIVE-1260.patch" size="797" author="nzhang" created="Sat, 20 Mar 2010 06:18:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Mar 2010 16:55:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1261] ql.metadata.Hive#close() should check for null metaStoreClient</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1261</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;tt&gt;ql.metadata.Hive#close()&lt;/tt&gt; always does a &lt;tt&gt;metaStoreClient.close()&lt;/tt&gt;, even though it might be null.&lt;/p&gt;

&lt;p&gt;I&apos;d like to reuse the same thread for multiple queries from different users. Since it&apos;s a different user, &lt;tt&gt;HiveConf&lt;/tt&gt; has a new ugi. But it&apos;s not easy to get rid of (or update) the cached &lt;tt&gt;ql.metadata.Hive&lt;/tt&gt;. The cleanest way seems to be &lt;tt&gt;Hive.closeCurrent()&lt;/tt&gt;, which unfortunately doesn&apos;t check for the &lt;tt&gt;metaStoreClient&lt;/tt&gt; being &lt;tt&gt;null&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459746">HIVE-1261</key>
            <summary>ql.metadata.Hive#close() should check for null metaStoreClient</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bcwalrus">bc Wong</assignee>
                                    <reporter username="bcwalrus">bc Wong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Mar 2010 09:05:16 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:23 +0000</updated>
                            <resolved>Tue, 23 Mar 2010 18:48:03 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12847750" author="bcwalrus" created="Sat, 20 Mar 2010 09:11:04 +0000"  >&lt;p&gt;The new test in the patch would currently fail.&lt;/p&gt;</comment>
                            <comment id="12848345" author="bcwalrus" created="Mon, 22 Mar 2010 21:25:24 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1261&quot; title=&quot;ql.metadata.Hive#close() should check for null metaStoreClient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1261&quot;&gt;&lt;del&gt;HIVE-1261&lt;/del&gt;&lt;/a&gt;-2.patch, which fixes some style issues.&lt;/p&gt;</comment>
                            <comment id="12848378" author="cwsteinbach" created="Mon, 22 Mar 2010 21:53:13 +0000"  >&lt;p&gt;+1 Looks good to me.&lt;/p&gt;</comment>
                            <comment id="12848824" author="namit" created="Tue, 23 Mar 2010 17:57:42 +0000"  >&lt;p&gt;will commit after the tests pass&lt;/p&gt;</comment>
                            <comment id="12848846" author="namit" created="Tue, 23 Mar 2010 18:48:03 +0000"  >&lt;p&gt;Committed. Thanks bc Wong&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439359" name="HIVE-1261-1.patch" size="1369" author="bcwalrus" created="Sat, 20 Mar 2010 09:09:00 +0000"/>
                            <attachment id="12439505" name="HIVE-1261-2.patch" size="1389" author="bcwalrus" created="Mon, 22 Mar 2010 21:25:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Mar 2010 21:53:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1262] Add security/checksum UDFs sha,crc32,md5,aes_encrypt, and aes_decrypt</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1262</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add security/checksum UDFs sha,crc32,md5,aes_encrypt, and aes_decrypt&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459767">HIVE-1262</key>
            <summary>Add security/checksum UDFs sha,crc32,md5,aes_encrypt, and aes_decrypt</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Mar 2010 20:42:55 +0000</created>
                <updated>Tue, 18 Aug 2015 06:34:46 +0000</updated>
                            <resolved>Tue, 18 Aug 2015 06:34:46 +0000</resolved>
                                    <version>0.6.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12974795" author="jvs" created="Thu, 23 Dec 2010 23:58:31 +0000"  >&lt;p&gt;Review comments added in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/192/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/192/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13029893" author="ghoward@apache.org" created="Fri, 6 May 2011 11:23:33 +0000"  >&lt;p&gt;There is a bug in the implementation of GenericUDFSha in the evaluate method.  In the for loop that converts the hashed bytes back out to the string representation the use of Integer.toHexString(0xFF &amp;amp; digested&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;) will miss leading zeroes for hex values less than 0x10.  You can see this in the udf_sha.q.out file in the patch.  The correct SHA-1 has of &quot;hive rules!&quot; is:&lt;br/&gt;
e0b2715219b30234f0aef56786f81046a366699f but the output of this function is:&lt;br/&gt;
e0b2715219b3234f0aef56786f81046a366699f&lt;/p&gt;

&lt;p&gt;The seventh byte is 0x02, but is output as string &quot;2&quot;.&lt;/p&gt;

&lt;p&gt;The typical fix is to force the pad with code as follows: &lt;/p&gt;

&lt;p&gt;Integer.toString((0xFF &amp;amp; digested&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;) + 0x100, 16).substring(1) &lt;/p&gt;

&lt;p&gt;but that creates an extra String object and I prefer the following:&lt;/p&gt;

&lt;p&gt;int j = 0xFF &amp;amp; digested&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;;&lt;br/&gt;
if (j &amp;lt; 0x10) hexString.append(&apos;0&apos;);&lt;br/&gt;
hexString.append(Integer.toHexString(j));&lt;/p&gt;

&lt;p&gt;I can upload a new patch but don&apos;t currently have the source code checked out, so I&apos;m hoping someone beats me to it... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13029937" author="appodictic" created="Fri, 6 May 2011 13:57:25 +0000"  >&lt;p&gt;@Geoff&lt;br/&gt;
This is held back on my end. John added some review board comments to my latest patch and I have been occupied by other things. Since you are interested in using this I will finalize the patch today and it should get committed to trunk soon.&lt;/p&gt;</comment>
                            <comment id="13029943" author="ghoward@apache.org" created="Fri, 6 May 2011 14:06:29 +0000"  >&lt;p&gt;That&apos;s great - thanks.  I forgot to mention that the same bug will affect the MD5 implementation as well, with the same trivial fix obviously.&lt;/p&gt;</comment>
                            <comment id="13040649" author="appodictic" created="Sat, 28 May 2011 18:18:32 +0000"  >&lt;p&gt;@Sichi We can not move the &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   try {
      digest = java.security.MessageDigest.getInstance(&quot;MD5&quot;);
    } catch (NoSuchAlgorithmException e) {
      LOG.error(e);
    //  throw new HiveException(e);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because initialize can not throw a hive exception. I am not sure what you want me to do. &lt;/p&gt;</comment>
                            <comment id="13043044" author="jvs" created="Thu, 2 Jun 2011 20:59:36 +0000"  >&lt;p&gt;Throwing RuntimeException instead should be fine.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12856823">HIVE-11593</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12827903">HIVE-10639</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12827940">HIVE-10641</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12828066">HIVE-10644</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12823966">HIVE-10485</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12465172" name="hive-1262-1.patch.txt" size="38032" author="appodictic" created="Thu, 2 Dec 2010 21:39:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Dec 2010 23:58:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d29r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1263] Is it time for INSERT APPEND?</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1263</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It seems to me that for someone who did not want to wipe an existing table but just wanted to add rows to it, that an INSERT APPEND may be desirable. I would expect that the mechanism by which this would take place is the whole normal mapreduce step as if an OVERWRITE were taking place, but the end result would be adding files to the hdfs directory rather than wiping the directory and replacing it with a new one.&lt;/p&gt;

&lt;p&gt;Or failing that, INSERT APPEND could be syntactic sugar for an INSERT OVERWRITE on the same table, but with the SELECT statement replaced with the user-specified SELECT and UNION ALL&apos;d on select * for the existing table...which is my current workaround, but seems like an inelegant query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459769">HIVE-1263</key>
            <summary>Is it time for INSERT APPEND?</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Mar 2010 21:58:27 +0000</created>
                <updated>Fri, 24 Feb 2012 20:51:43 +0000</updated>
                            <resolved>Fri, 8 Apr 2011 18:24:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12873361" author="hammer" created="Sun, 30 May 2010 03:04:18 +0000"  >&lt;p&gt;Seems like a dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;; should one of these be closed?&lt;/p&gt;</comment>
                            <comment id="13017584" author="akramer" created="Fri, 8 Apr 2011 18:24:08 +0000"  >&lt;p&gt;Closing in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13017585" author="akramer" created="Fri, 8 Apr 2011 18:24:43 +0000"  >&lt;p&gt;Hive-306&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12415536">HIVE-306</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433882">HIVE-787</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 May 2010 03:04:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1264] Make Hive work with Hadoop security</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1264</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12459773">HIVE-1264</key>
            <summary>Make Hive work with Hadoop security</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tlipcon">Todd Lipcon</assignee>
                                    <reporter username="hammer">Jeff Hammerbacher</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Mar 2010 00:37:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:21 +0000</updated>
                            <resolved>Mon, 11 Oct 2010 23:41:54 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="12890838" author="svenkat" created="Wed, 21 Jul 2010 19:24:33 +0000"  >&lt;p&gt;Patch for H20S&lt;/p&gt;</comment>
                            <comment id="12890846" author="cwsteinbach" created="Wed, 21 Jul 2010 19:31:07 +0000"  >&lt;p&gt;@Venkatesh: It doesn&apos;t look like you attached a patch file.&lt;/p&gt;</comment>
                            <comment id="12890877" author="cwsteinbach" created="Wed, 21 Jul 2010 20:34:59 +0000"  >&lt;p&gt;@Venkatesh: I looked at your patch. Your changes break the build when compiled against any version of Hadoop that does not include the new security APIs. Hive is currently designed to maintain backward compatibility with Hadoop 0.17, 0.18, 0.19 and 0.20 using a shim layer. In order to get this patch committed you will need to modify the shim layer and ensure that you have not broken compatibility with any of these older versions of Hadoop.&lt;/p&gt;</comment>
                            <comment id="12891002" author="svenkat" created="Thu, 22 Jul 2010 05:05:08 +0000"  >&lt;p&gt;This will work against 20.1xx branch. You need to include the 20.1xx hadoop dependency and it does compile and run. The interface contract does not change and hence not sure if I need to change the shim. UGI has changed in 20S and UnixUGI class is no more.&lt;/p&gt;

&lt;p&gt;Please suggest how to proceed with this incompatible change.&lt;/p&gt;</comment>
                            <comment id="12892517" author="athusoo" created="Mon, 26 Jul 2010 22:40:25 +0000"  >&lt;p&gt;Can these changes be packed in the shims layer. So all the calls can be replaced with a call to shims with the shim for 20.1xx doing the right thing. &lt;/p&gt;</comment>
                            <comment id="12905153" author="tlipcon" created="Wed, 1 Sep 2010 18:51:01 +0000"  >&lt;p&gt;Here&apos;s a patch against trunk which adds shims for secure hadoop.&lt;/p&gt;

&lt;p&gt;Since there hasn&apos;t been a public tarball release of secure hadoop quite yet, I&apos;ve pointed it at a snapshot of CDH3b3 (not yet released) from my apache.org web directory.&lt;/p&gt;

&lt;p&gt;I haven&apos;t run the unit test suite against secure hadoop yet, but I did a very brief test on a secure cluster by creating a table and running a simple MR query.&lt;/p&gt;</comment>
                            <comment id="12905156" author="tlipcon" created="Wed, 1 Sep 2010 18:54:07 +0000"  >&lt;p&gt;(btw, if you want to test this against a different tarball, you can use &lt;tt&gt;-Dhadoop.security.url=&lt;a href=&quot;http://url/of/your/tarball&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://url/of/your/tarball&lt;/a&gt; -Dhadoop.security.version=0.20.104 or whatever.&lt;/tt&gt;)&lt;/p&gt;</comment>
                            <comment id="12910346" author="jvs" created="Thu, 16 Sep 2010 22:02:39 +0000"  >&lt;p&gt;Hey Todd,&lt;/p&gt;

&lt;p&gt;I think you mentioned at the contributor meetup the other day that this is ready for review.  If so, click the Submit Patch button and create a reviewboard entry.&lt;/p&gt;

&lt;p&gt;I just did a quick check to verify that I could apply the patch and run ant package+test (without changing hadoop.version) and ivy was able to fetch the dependency from your snapshot successfully.&lt;/p&gt;

&lt;p&gt;If we commit it as is, every hive developer is going to automatically start pulling from that snapshot by default.  Is that OK, or should I try to get a copy hosted at &lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12910373" author="tlipcon" created="Thu, 16 Sep 2010 22:37:29 +0000"  >&lt;p&gt;Submitted to RB: &lt;a href=&quot;https://review.cloudera.org/r/860/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://review.cloudera.org/r/860/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Regarding the snapshot - it&apos;s fine by me to pull from there, I think the people.apache.org web server is reasonably stable. If it turns out to be flaky it&apos;s also cool if you want to mirror it - FB is probably more reliable than ASF.&lt;/p&gt;</comment>
                            <comment id="12910376" author="jvs" created="Thu, 16 Sep 2010 22:48:16 +0000"  >&lt;p&gt;OK, can you add a checksum file to your directory, and then I&apos;ll ask our ops to create the mirror?  Once that&apos;s done, we&apos;ll need one more patch which references the FB location as default.&lt;/p&gt;</comment>
                            <comment id="12910377" author="jvs" created="Thu, 16 Sep 2010 22:49:39 +0000"  >&lt;p&gt;See here for existing checksum file conventions:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12910381" author="hbasereviewboard" created="Thu, 16 Sep 2010 22:58:04 +0000"  >&lt;p&gt;Message from: &quot;Todd Lipcon&quot; &amp;lt;todd@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/860/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/860/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Hive Developers and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds a shim layer for secure Hadoop, currently pulling a secure CDH3b3 prerelease snapshot&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1264&quot; title=&quot;Make Hive work with Hadoop security&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1264&quot;&gt;&lt;del&gt;HIVE-1264&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-1264&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-1264&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  build-common.xml 0b76688 &lt;br/&gt;
  build.properties 3e392f7 &lt;br/&gt;
  build.xml 4b345b5 &lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java d2c7123 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java b2966de &lt;br/&gt;
  shims/build.xml b339871 &lt;br/&gt;
  shims/ivy.xml de56e4f &lt;br/&gt;
  shims/src/0.17/java/org/apache/hadoop/hive/shims/Hadoop17Shims.java 17110ab &lt;br/&gt;
  shims/src/0.18/java/org/apache/hadoop/hive/shims/Hadoop18Shims.java 9cc8d56 &lt;br/&gt;
  shims/src/0.19/java/org/apache/hadoop/hive/shims/Hadoop19Shims.java c643108 &lt;br/&gt;
  shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java 0675a79 &lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java PRE-CREATION &lt;br/&gt;
  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Jetty20SShims.java PRE-CREATION &lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java 4310942 &lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java c847d69 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/860/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/860/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Able to run MR jobs on our secure cluster with standalone (ie no separate metastore, etc)&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Todd&lt;/p&gt;

</comment>
                            <comment id="12910389" author="hbasereviewboard" created="Thu, 16 Sep 2010 23:21:56 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/860/#review1251&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/860/#review1251&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;+1 Looks good to me.&lt;/p&gt;


&lt;p&gt;build.properties&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/860/#comment4223&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/860/#comment4223&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    If this is the convention going forward then it&apos;s probably more appropriate to rename the old style as &quot;oldstyle-name&quot; instead of introducing a &quot;newstyle-name&quot;.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12912686" author="jvs" created="Mon, 20 Sep 2010 20:11:15 +0000"  >&lt;p&gt;Todd has added the .md5/.asc files; I&apos;m working on getting the mirror set up.&lt;/p&gt;</comment>
                            <comment id="12913886" author="jvs" created="Thu, 23 Sep 2010 02:43:34 +0000"  >&lt;p&gt;Mirror is up; Todd, could you test it and then update the patch with the location?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.3-CDH3-SNAPSHOT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.3-CDH3-SNAPSHOT&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12914306" author="jvs" created="Fri, 24 Sep 2010 01:06:49 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12914573" author="jvs" created="Fri, 24 Sep 2010 18:22:17 +0000"  >&lt;p&gt;Todd, I&apos;m getting one test failure when running ant test.  Probably hbase-handler/build.xml needs a fix.  You should be able to repro it with&lt;/p&gt;

&lt;p&gt;ant test -Dtestcase=TestHBaseMinimrCliDriver&lt;/p&gt;


&lt;p&gt;testCliDriver_hbase_bulk	Error	org/apache/hadoop/hdfs/MiniDFSCluster &lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: org/apache/hadoop/hdfs/MiniDFSCluster&lt;br/&gt;
at org.apache.hadoop.hive.shims.Hadoop20Shims.getMiniDfs(Hadoop20Shims.java:90)&lt;br/&gt;
at org.apache.hadoop.hive.ql.QTestUtil.&amp;lt;init&amp;gt;(QTestUtil.java:224)&lt;br/&gt;
at org.apache.hadoop.hive.hbase.HBaseQTestUtil.&amp;lt;init&amp;gt;(HBaseQTestUtil.java:30)&lt;br/&gt;
at org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.setUp(TestHBaseMinimrCliDriver.java:43)&lt;br/&gt;
at junit.framework.TestCase.runBare(TestCase.java:125)&lt;br/&gt;
at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:422)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:931)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:785)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hdfs.MiniDFSCluster&lt;br/&gt;
at java.net.URLClassLoader$1.run(URLClassLoader.java:200)&lt;br/&gt;
at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
at java.net.URLClassLoader.findClass(URLClassLoader.java:188)&lt;br/&gt;
at java.lang.ClassLoader.loadClass(ClassLoader.java:307)&lt;br/&gt;
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)&lt;br/&gt;
at java.lang.ClassLoader.loadClass(ClassLoader.java:252)&lt;br/&gt;
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)&lt;/p&gt;</comment>
                            <comment id="12916624" author="ashutoshc" created="Thu, 30 Sep 2010 19:45:13 +0000"  >&lt;p&gt;@Todd,&lt;/p&gt;

&lt;p&gt;Any progress on this? Some of the utility methods introduced in this patch will be useful for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1667&quot; title=&quot;Store the group of the owner of the table in metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1667&quot;&gt;HIVE-1667&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12916678" author="tlipcon" created="Thu, 30 Sep 2010 21:32:04 +0000"  >&lt;p&gt;Good catch. This patch updates the build.xml for hbase-handler to include the hadoop test jar.&lt;/p&gt;</comment>
                            <comment id="12919929" author="pradeepkth" created="Mon, 11 Oct 2010 18:13:41 +0000"  >&lt;p&gt;The new patch does address the failed test - TestHBaseMinimrCliDriver. I have used this patch against a certain version of hadoop security and have had success running queries. It would be good if this patch can be committed soon since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1526&quot; title=&quot;Hive should depend on a release version of Thrift&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1526&quot;&gt;&lt;del&gt;HIVE-1526&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-842&quot; title=&quot;Authentication Infrastructure for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-842&quot;&gt;&lt;del&gt;HIVE-842&lt;/del&gt;&lt;/a&gt; also depend on this. Aside from that, it would be a great feature to be able to work with hadoop security. Any chance this can be committed soon? Thanks!&lt;/p&gt;</comment>
                            <comment id="12919953" author="jvs" created="Mon, 11 Oct 2010 19:17:49 +0000"  >&lt;p&gt;I&apos;m back from vacation; I&apos;ll retry tests with the latest patch.&lt;/p&gt;</comment>
                            <comment id="12920028" author="jvs" created="Mon, 11 Oct 2010 23:41:54 +0000"  >&lt;p&gt;Committed.  Thanks Todd!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12409037">HIVE-78</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12436081">HIVE-842</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12459740">PIG-1312</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12450086" name="HiveHadoop20S_patch.patch" size="3576" author="svenkat" created="Wed, 21 Jul 2010 19:35:03 +0000"/>
                            <attachment id="12455443" name="hive-1264-fb-mirror.txt" size="35849" author="tlipcon" created="Thu, 23 Sep 2010 23:03:21 +0000"/>
                            <attachment id="12456063" name="hive-1264.txt" size="35977" author="tlipcon" created="Thu, 30 Sep 2010 21:32:04 +0000"/>
                            <attachment id="12453607" name="hive-1264.txt" size="33228" author="tlipcon" created="Wed, 1 Sep 2010 18:51:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Jul 2010 19:24:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06akf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1265] Function Registry should should auto-detect UDFs  from UDF Description</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1265</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should be able to register functions dynamically.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459781">HIVE-1265</key>
            <summary>Function Registry should should auto-detect UDFs  from UDF Description</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Mar 2010 03:05:27 +0000</created>
                <updated>Fri, 28 May 2010 14:21:38 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12847870" author="appodictic" created="Sun, 21 Mar 2010 03:16:37 +0000"  >&lt;p&gt;This is my first attempt. This is working somewhat but it is picking up the test classpath. ql/test/org.apache.hadoop.hive.ql.udf not ql/org.apache.hadoop.hive.ql.udf  . Any hints?&lt;/p&gt;</comment>
                            <comment id="12872993" author="athusoo" created="Fri, 28 May 2010 14:14:12 +0000"  >&lt;p&gt;Can you explain more what you mean by it is picking up the test class path? When you get the classes for a package, it should return you all the classes in that package irrespective of the location. &lt;/p&gt;

&lt;p&gt;+1 to the general approach here.&lt;/p&gt;</comment>
                            <comment id="12872996" author="appodictic" created="Fri, 28 May 2010 14:21:38 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; public static List&amp;lt;Class&amp;gt; getClassesForPackage(String packageName, Class classType){
+    List&amp;lt;Class&amp;gt; matchingClasses = new ArrayList&amp;lt;Class&amp;gt;();
+    File directory = null;
+    System.out.println(packageName.replace(&apos;.&apos;, File.separatorChar));
+    URL u = Thread.currentThread().getContextClassLoader()
+    //URL u = new Object().getClass().c
+    .getResource(packageName.replace(&apos;.&apos;, File.separatorChar));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems like this section of code only picks up classes in ql/test/org.apache.hadoop.hive.ql.udf. This must have something to do with classloaders/threads/ and getResource(). It seems like getResource is unaware that two folders could be responsible for the same resource. Or I have to find a better way to do this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439392" name="hive-1265-patch.diff" size="13945" author="appodictic" created="Sun, 21 Mar 2010 03:16:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 May 2010 14:14:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1266] partitioning pruing should be more intelligent</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1266</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Copying the mail from Adam:&lt;/p&gt;

&lt;p&gt;A badly written query:&lt;/p&gt;

&lt;p&gt;select .. from T where partitioning_colmn = &apos;p1&apos; AND c1 = 100 or c2 = 200&lt;/p&gt;

&lt;p&gt;...is a command I just foolishly ran: I should have put the disjunction in parentheses.&lt;/p&gt;

&lt;p&gt;But the command actually touched every partition of T without a warning. Is that a bug? When we force people to state a partition predicate, it seems we are just looking for it to be referenced in the WHERE or ON clause, when maybe we should be looking at conjuncts?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459819">HIVE-1266</key>
            <summary>partitioning pruing should be more intelligent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Mar 2010 05:04:17 +0000</created>
                <updated>Thu, 21 Apr 2011 00:03:08 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12848837" author="he yongqiang" created="Tue, 23 Mar 2010 18:32:45 +0000"  >&lt;p&gt;Discussed with Namit, and the idea here is to generate a probe pruner expr to see if the partition predicate has effect or not.&lt;br/&gt;
The method to generate the probe pruner expr is to 1) set the partition predicate to be always false, 2) set non-partition predicate always be true. &lt;/p&gt;

&lt;p&gt;For example, &lt;br/&gt;
&quot;ds=&apos;2009&apos; or key&amp;gt;20&quot; will &quot;false or true&quot;, and the result will be true. So the partition predicate has no effect.&lt;/p&gt;</comment>
                            <comment id="12879141" author="namit" created="Tue, 15 Jun 2010 22:10:23 +0000"  >&lt;p&gt;The patch does not apply cleanly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439598" name="hive-1266.1.patch" size="50008" author="he yongqiang" created="Tue, 23 Mar 2010 18:16:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Mar 2010 18:32:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1267] Make CombineHiveInputFormat work with non-native tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1267</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As part of fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1257&quot; title=&quot;joins between HBase tables and other tables (whether HBase or not) are broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1257&quot;&gt;&lt;del&gt;HIVE-1257&lt;/del&gt;&lt;/a&gt;, I am making CombineHiveInputFormat punt when it sees a non-native table.  I need to come up with a real fix to allow CombineHiveInputFormat to deal with native and non-native tables at the same time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459904">HIVE-1267</key>
            <summary>Make CombineHiveInputFormat work with non-native tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                            <label>HiveHBase</label>
                    </labels>
                <created>Mon, 22 Mar 2010 19:29:52 +0000</created>
                <updated>Wed, 16 Jun 2010 01:59:56 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>HBase Handler</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431664">HIVE-705</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1268] Cannot start metastore thrift server on a specific port</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1268</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The code to get the port number is broken. Doh.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;14:07:55[dsom:dist]$ METASTORE_PORT=12345 bin/hive --service metastore
Starting Hive Metastore Server
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NullPointerException
        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:960)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12459912">HIVE-1268</key>
            <summary>Cannot start metastore thrift server on a specific port</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bcwalrus">bc Wong</assignee>
                                    <reporter username="bcwalrus">bc Wong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Mar 2010 21:20:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:54 +0000</updated>
                            <resolved>Tue, 23 Mar 2010 20:13:47 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12848838" author="pauly" created="Tue, 23 Mar 2010 18:32:46 +0000"  >&lt;p&gt;Looks good +1&lt;/p&gt;

&lt;p&gt;Tested on port 12345&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;METASTORE_PORT=12345 hive --service metastore
Starting Hive Metastore Server
10/03/23 11:30:45 INFO metastore.HiveMetaStore: Started the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; metaserver on port [12345]...
10/03/23 11:30:45 INFO metastore.HiveMetaStore: Options.minWorkerThreads = 200
10/03/23 11:30:45 INFO metastore.HiveMetaStore: Options.maxWorkerThreads = 2147483647
10/03/23 11:30:52 INFO metastore.HiveMetaStore: 0: get_table : db=&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; tbl=tmp_pyang_t
10/03/23 11:30:52 INFO metastore.HiveMetaStore: 0: Opening raw store with implemenation &lt;span class=&quot;code-keyword&quot;&gt;class:&lt;/span&gt;org.apache.hadoop.hive.metastore.ObjectStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12848885" author="namit" created="Tue, 23 Mar 2010 20:13:47 +0000"  >&lt;p&gt;Committed. Thanks bc Wong&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439504" name="HIVE-1268-1.patch" size="626" author="bcwalrus" created="Mon, 22 Mar 2010 21:23:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Mar 2010 18:32:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1269] Support Date/Datetime/Time/Timestamp Primitive Types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1269</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add support for SQL Date, DateTime, Time and TimeStamp primitive types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459949">HIVE-1269</key>
            <summary>Support Date/Datetime/Time/Timestamp Primitive Types</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 05:13:09 +0000</created>
                <updated>Wed, 12 Nov 2014 23:40:26 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12884559" author="russell.jurney" created="Fri, 2 Jul 2010 06:19:22 +0000"  >&lt;p&gt;See proposal in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1314&quot; title=&quot;Add DateTime Support to Pig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1314&quot;&gt;&lt;del&gt;PIG-1314&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12884561" author="russell.jurney" created="Fri, 2 Jul 2010 06:20:31 +0000"  >&lt;p&gt;I suck at JIRA.  See proposal in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1430&quot; title=&quot;ISODateTime -&amp;gt; DateTime: DateTime UDFs Should Also Support int/second Unix Times in All Operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1430&quot;&gt;PIG-1430&lt;/a&gt;, not &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1314&quot; title=&quot;Add DateTime Support to Pig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1314&quot;&gt;&lt;del&gt;PIG-1314&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12633560">HIVE-4055</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12513173">HIVE-2272</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12434803">HIVE-814</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12445715">HIVE-1059</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12459893">PIG-1314</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411177">HIVE-192</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12416719">HIVE-345</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12552223">HIVE-2974</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12466060">HIVE-1386</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Jul 2010 06:19:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>date time datetime timestamp </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1270] Thread pool size in Thrift metastore server should be configurable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1270</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the worker thread pool size in the Thrift metastore server is fixed to have a minimum of 200 threads and no maximum. These limits should be set through a configuration variable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459957">HIVE-1270</key>
            <summary>Thread pool size in Thrift metastore server should be configurable</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 07:32:52 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:33 +0000</updated>
                            <resolved>Wed, 24 Mar 2010 16:54:33 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12849061" author="namit" created="Wed, 24 Mar 2010 05:35:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12849275" author="namit" created="Wed, 24 Mar 2010 16:54:33 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439634" name="HIVE-1270.1.patch" size="3419" author="pauly" created="Wed, 24 Mar 2010 04:26:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Mar 2010 05:35:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1271] Case sensitiveness of type information specified when using custom reducer causes type mismatch</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1271</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Type information specified  while using a custom reduce script is converted to lower case, and causes type mismatch during query semantic analysis .  The following REDUCE query where field name =  &quot;userId&quot; failed.&lt;/p&gt;

&lt;p&gt;hive&amp;gt; CREATE TABLE SS (&lt;br/&gt;
   &amp;gt;                     a INT,&lt;br/&gt;
   &amp;gt;                     b INT,&lt;br/&gt;
   &amp;gt;                     vals ARRAY&amp;lt;STRUCT&amp;lt;userId:INT, y:STRING&amp;gt;&amp;gt;&lt;br/&gt;
   &amp;gt;                 );&lt;br/&gt;
OK&lt;/p&gt;

&lt;p&gt;hive&amp;gt; FROM (select * from srcTable DISTRIBUTE BY id SORT BY id) s&lt;br/&gt;
   &amp;gt;     INSERT OVERWRITE TABLE SS&lt;br/&gt;
   &amp;gt;     REDUCE *&lt;br/&gt;
   &amp;gt;         USING &apos;myreduce.py&apos;&lt;br/&gt;
   &amp;gt;         AS&lt;br/&gt;
   &amp;gt;                     (a INT,&lt;br/&gt;
   &amp;gt;                     b INT,&lt;br/&gt;
   &amp;gt;                     vals ARRAY&amp;lt;STRUCT&amp;lt;userId:INT, y:STRING&amp;gt;&amp;gt;&lt;br/&gt;
   &amp;gt;                     )&lt;br/&gt;
   &amp;gt;         ;&lt;br/&gt;
FAILED: Error in semantic analysis: line 2:27 Cannot insert into&lt;br/&gt;
target table because column number/types are different SS: Cannot&lt;br/&gt;
convert column 2 from array&amp;lt;struct&amp;lt;userId:int,y:string&amp;gt;&amp;gt; to&lt;br/&gt;
array&amp;lt;struct&amp;lt;userid:int,y:string&amp;gt;&amp;gt;.&lt;/p&gt;

&lt;p&gt;The same query worked fine after changing &quot;userId&quot; to &quot;userid&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12460017">HIVE-1271</key>
            <summary>Case sensitiveness of type information specified when using custom reducer causes type mismatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aprabhakar">Arvind Prabhakar</assignee>
                                    <reporter username="dilipjoseph">Dilip Joseph</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 16:27:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:36 +0000</updated>
                            <resolved>Fri, 25 Jun 2010 23:30:40 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12850463" author="aprabhakar" created="Sat, 27 Mar 2010 02:39:30 +0000"  >&lt;p&gt;&lt;b&gt;Summary&lt;/b&gt;&lt;br/&gt;
The implementation of &lt;tt&gt;equals()&lt;/tt&gt; method of &lt;tt&gt;StructTypeInfo&lt;/tt&gt; was comparing field names as part of the comparison. This is not valid since field namess do not contitute the definition of a type. This patch refactors the &lt;tt&gt;TypedInfo&lt;/tt&gt; hierarchy to address this issue.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Implementation Details&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified the &lt;tt&gt;TypedInfo&lt;/tt&gt; and removed its implementation of the &lt;tt&gt;equals()&lt;/tt&gt; method.&lt;/li&gt;
	&lt;li&gt;Modified all specialized subclasses to make them &lt;tt&gt;final&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Modified all subclass implementation of &lt;tt&gt;equals()&lt;/tt&gt; to skip category comparison.&lt;/li&gt;
	&lt;li&gt;Modified &lt;tt&gt;StructTypeInfo&lt;/tt&gt; implementation of &lt;tt&gt;equals()&lt;/tt&gt; to not compare field names.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Testing Done&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Built and tested the usecase identified in this issue. It works now.&lt;/li&gt;
	&lt;li&gt;Ran full set of tests. Out of these two tests - clientpositive for input20.q and input33.q failed for unrelated reasons (these tests are failing on the trunk as well). All other tests passed.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12850785" author="aprabhakar" created="Mon, 29 Mar 2010 03:56:22 +0000"  >&lt;p&gt;Changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1271&quot; title=&quot;Case sensitiveness of type information specified when using custom reducer causes type mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1271&quot;&gt;&lt;del&gt;HIVE-1271&lt;/del&gt;&lt;/a&gt; (patch updated)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Summary:&lt;/b&gt;&lt;br/&gt;
The previously submitted patch removed the dependence of &lt;tt&gt;StructTypeInfo&lt;/tt&gt; on field names for equivalence comparison. This patch reverts that change and addresses the type equivalence by canonical testing of field names.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Details:&lt;/b&gt;&lt;br/&gt;
The changes to &lt;tt&gt;TypeInfo&lt;/tt&gt; hierarchy made by previous patch assumed that the field names should not be considered part of the &lt;tt&gt;StructTypeInfo&lt;/tt&gt; for testing equivalence. This conflicts with the implementation of &lt;tt&gt;LazyBinarySerDe&lt;/tt&gt; (and others perhaps) which rely on field name distinction for caching purposes. This update changes the implementation so that field names are used as before, but are compared using case-insensitive comparison when testing the equivalence of two {{StructTypeInfo}}s.    &lt;/p&gt;

&lt;p&gt;&lt;b&gt;Testing Done:&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Built and tested the usecase identified in this issue - it works now.&lt;/li&gt;
	&lt;li&gt;Ran complete set of tests with the previously reported unrelated failures only.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12879962" author="hbasereviewboard" created="Thu, 17 Jun 2010 22:03:13 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/200/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/200/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Hive Developers.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Review for &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12440030/HIVE-1271-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12440030/HIVE-1271-1.patch&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1271&quot; title=&quot;Case sensitiveness of type information specified when using custom reducer causes type mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1271&quot;&gt;&lt;del&gt;HIVE-1271&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-1271&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-1271&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java cb2fa57 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java a426e74 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/PrimitiveTypeInfo.java 3d1c68e &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java 87179aa &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfo.java 0344718 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/package-info.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/200/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/200/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Carl&lt;/p&gt;

</comment>
                            <comment id="12881024" author="aprabhakar" created="Tue, 22 Jun 2010 02:23:27 +0000"  >&lt;p&gt;Is anyone reviewing this change? Thanks.&lt;/p&gt;</comment>
                            <comment id="12881306" author="athusoo" created="Tue, 22 Jun 2010 19:10:24 +0000"  >&lt;p&gt;I am looking at this.&lt;/p&gt;</comment>
                            <comment id="12881319" author="athusoo" created="Tue, 22 Jun 2010 19:33:40 +0000"  >&lt;p&gt;Looks good to me. However, why remove the check on Category? Also why drop the default implementation of the equals method for TypeInfo? &lt;/p&gt;</comment>
                            <comment id="12881368" author="aprabhakar" created="Tue, 22 Jun 2010 21:28:25 +0000"  >&lt;p&gt;@Ashish: Thanks for looking at the patch. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;why remove the check on Category?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I modified all the specialized type infos to be &lt;tt&gt;final&lt;/tt&gt; - which in turn ensures that if the test on &lt;tt&gt;instanceof&lt;/tt&gt; succeeds, then they have to be the same category type. Therefore, the check on category was redundant going forward.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also why drop the default implementation of the equals method for TypeInfo?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I did this for two main reasons - first that fact that it was implementing the &lt;tt&gt;equals()&lt;/tt&gt; but not &lt;tt&gt;hashCode()&lt;/tt&gt; method. This could lead to unexpected behavior when &lt;tt&gt;TypeInfo&lt;/tt&gt; instances were put in collections. Second, the implementation was modified to make both &lt;tt&gt;equals()&lt;/tt&gt; and &lt;tt&gt;hashCode()&lt;/tt&gt; methods to be made abstract in order to force any (new) child classes to make sure that they implement both consistently.&lt;/p&gt;

&lt;p&gt;Let me know if you would like to tweak this change as necessary.&lt;/p&gt;</comment>
                            <comment id="12881767" author="athusoo" created="Wed, 23 Jun 2010 17:21:07 +0000"  >&lt;p&gt;sounds good to me. Thanks for the explanations.&lt;/p&gt;

&lt;p&gt;+1. Will commit after running the tests.&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;</comment>
                            <comment id="12881998" author="athusoo" created="Thu, 24 Jun 2010 01:37:07 +0000"  >&lt;p&gt;I have committed this to trunk and will commit to 0.6.0 soon. One thing I did overlook though. We should add a test case for this. Can you do that as part of another JIRA as this one is already partially committed.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Ashish&lt;/p&gt;</comment>
                            <comment id="12882048" author="aprabhakar" created="Thu, 24 Jun 2010 05:21:02 +0000"  >&lt;p&gt;@Ashish: I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1432&quot; title=&quot;Create a test case for case sensitive comparison done during field comparison&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1432&quot;&gt;HIVE-1432&lt;/a&gt; to track the test case creation. I will be submitting a patch for that soon. Thanks for pointing this out.&lt;/p&gt;</comment>
                            <comment id="12882758" author="athusoo" created="Fri, 25 Jun 2010 23:30:40 +0000"  >&lt;p&gt;Committed. Thanks Arvind!&lt;/p&gt;</comment>
                            <comment id="12883051" author="zshao" created="Mon, 28 Jun 2010 07:35:51 +0000"  >&lt;p&gt;I might be too late for the party, but I have a question on removing the field name comparison for struct type info.&lt;/p&gt;

&lt;p&gt;We have 3 choices:&lt;br/&gt;
C1: Compare field names case sensitively.&lt;br/&gt;
C2: Compare field names case insensitively.&lt;br/&gt;
C3: Don&apos;t compare field names at all.&lt;/p&gt;

&lt;p&gt;The old implementation was following C1, and the new one is following C3.&lt;br/&gt;
Is there any reason that we don&apos;t do C2? C2 seems to provide some minimal sanity checks that users will need in practice.&lt;/p&gt;

</comment>
                            <comment id="12883214" author="aprabhakar" created="Mon, 28 Jun 2010 16:56:36 +0000"  >&lt;p&gt;@Zheng: Please see the second comment. This patch uses C2 method - comparing field names in a case insensitive manner.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12440030" name="HIVE-1271-1.patch" size="8370" author="aprabhakar" created="Mon, 29 Mar 2010 03:54:29 +0000"/>
                            <attachment id="12439946" name="HIVE-1271.patch" size="6653" author="aprabhakar" created="Sat, 27 Mar 2010 02:37:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Mar 2010 02:39:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1272] Add SymlinkTextInputFormat to Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1272</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We&apos;d like to add a symlink text input format so that we can specify the list of files for a table/partition based on the content of a text file.&lt;/p&gt;

&lt;p&gt;For example, the location of the table is &quot;/user/hive/mytable&quot;.&lt;br/&gt;
There is a file called &quot;/user/hive/mytable/myfile.txt&quot;.&lt;br/&gt;
Inside the file, there are 2 lines, &quot;/user/myname/textfile1.txt&quot; and &quot;/user/myname/textfile2.txt&quot;&lt;/p&gt;

&lt;p&gt;We can do:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE mytable (...) STORED AS INPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.io.SymlinkTextInputFormat&apos;&lt;/span&gt; LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;/user/hive/mytable&apos;&lt;/span&gt;;
SELECT * FROM mytable;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which will return the content of the 2 files: &quot;/user/myname/textfile1.txt&quot; and &quot;/user/myname/textfile2.txt&quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12460049">HIVE-1272</key>
            <summary>Add SymlinkTextInputFormat to Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sghao">Guanghao Shen</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 22:54:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:28 +0000</updated>
                            <resolved>Thu, 1 Apr 2010 18:35:31 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12851695" author="sghao" created="Wed, 31 Mar 2010 01:49:34 +0000"  >&lt;p&gt;This input format parses the symlink files and generates input split using parsed target paths.&lt;/p&gt;

&lt;p&gt;Symlink file is a text file which contains a list of target filename / dirname. The provided map input path will contain symlink files.&lt;/p&gt;</comment>
                            <comment id="12852015" author="zshao" created="Wed, 31 Mar 2010 18:18:30 +0000"  >&lt;p&gt;Can you add a test case? Take a look at the &quot;.q&quot; files in ql/src/test/clientpositive&lt;/p&gt;</comment>
                            <comment id="12852040" author="zshao" created="Wed, 31 Mar 2010 18:46:40 +0000"  >&lt;p&gt;We can add a file with name data/symlink.txt which contains the text &quot;../src/kv.txt&quot;&lt;br/&gt;
then in ql/src/test/clientpositive/mysymlink.q we can do this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE mysymlink (key STRING, value STRING) STORE AS INPUTFORMAT ...
dfs -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/symlink.txt&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;../build/ql/test/data/warehouse/mysymlink/symlink1.txt&quot;&lt;/span&gt;;
dfs -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/symlink.txt&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;../build/ql/test/data/warehouse/mysymlink/symlink2.txt&quot;&lt;/span&gt;;

SELECT * FROM mysymlink;
SELECT count(1) FROM mysymlink;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In order to test, run:&lt;br/&gt;
ant test -Doffline=true -Dtestcase=TestCliDriver -Dqfile=mysymlink.q -Doverwrite=true&lt;br/&gt;
And do &quot;svn add ql/.../mysymlink.q.out&quot;&lt;/p&gt;

&lt;p&gt;Run without -Doverwrite=true to verify the result.&lt;/p&gt;


</comment>
                            <comment id="12852067" author="appodictic" created="Wed, 31 Mar 2010 19:33:32 +0000"  >&lt;p&gt;Awesome. Great solution to a common problem. &lt;/p&gt;</comment>
                            <comment id="12852125" author="ted_yu" created="Wed, 31 Mar 2010 21:42:25 +0000"  >&lt;p&gt;How are we supposed to handle duplicate filenames in symlink file ?&lt;br/&gt;
I think we should only add unique filenames from symlink file.&lt;/p&gt;</comment>
                            <comment id="12852154" author="sghao" created="Wed, 31 Mar 2010 22:56:06 +0000"  >&lt;p&gt;@Ted: In current implementation, duplicated filenames will lead to duplicated input data. I thought that if duplicated input data is not what desired, the filename should not appear in symlink more than once at first place. No?&lt;/p&gt;</comment>
                            <comment id="12852174" author="sghao" created="Wed, 31 Mar 2010 23:34:36 +0000"  >&lt;p&gt;Added symlink_text_input_format.q test case to ql/src/test/query/clientpositive/.&lt;/p&gt;</comment>
                            <comment id="12852237" author="zshao" created="Thu, 1 Apr 2010 03:40:15 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12852497" author="zshao" created="Thu, 1 Apr 2010 18:35:31 +0000"  >&lt;p&gt;Committed. Thanks Guanghao!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12440302" name="HIVE-1272.1.patch" size="15017" author="sghao" created="Wed, 31 Mar 2010 01:49:34 +0000"/>
                            <attachment id="12440423" name="HIVE-1272.2.patch" size="24735" author="sghao" created="Wed, 31 Mar 2010 23:34:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Mar 2010 01:49:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1273] UDF_Percentile NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1273</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12460050">HIVE-1273</key>
            <summary>UDF_Percentile NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 23:09:44 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:54 +0000</updated>
                            <resolved>Wed, 24 Mar 2010 01:01:15 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12848961" author="zshao" created="Tue, 23 Mar 2010 23:28:27 +0000"  >&lt;p&gt;Ignore null in merge.&lt;/p&gt;</comment>
                            <comment id="12848962" author="namit" created="Tue, 23 Mar 2010 23:38:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12848992" author="namit" created="Wed, 24 Mar 2010 01:01:15 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439620" name="HIVE-1273.1.patch" size="8538" author="zshao" created="Tue, 23 Mar 2010 23:28:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Mar 2010 23:38:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1274] bug in sort merge join if the big table does not have any row</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1274</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12460051">HIVE-1274</key>
            <summary>bug in sort merge join if the big table does not have any row</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Mar 2010 23:33:28 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:35 +0000</updated>
                            <resolved>Wed, 24 Mar 2010 05:32:42 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12848994" author="namit" created="Wed, 24 Mar 2010 01:10:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12849060" author="namit" created="Wed, 24 Mar 2010 05:32:42 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439623" name="hive-1274.1.patch" size="40926" author="he yongqiang" created="Wed, 24 Mar 2010 00:49:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
