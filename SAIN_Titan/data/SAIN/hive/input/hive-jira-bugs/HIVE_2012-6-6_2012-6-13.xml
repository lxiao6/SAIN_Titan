<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:01 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-6-6+AND+created+%3C%3D+2012-6-13+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="33" total="33"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3090] Timestamp type values not having nano-second part breaks row</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3090</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Timestamp values are reading additional one byte if nano-sec part is zero, breaking following columns.  &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt;create table timestamp_1 (t timestamp, key string, value string);
&amp;gt;insert overwrite table timestamp_1 select cast(&apos;2011-01-01 01:01:01&apos; as timestamp), key, value from src limit 5;

&amp;gt;select t,key,value from timestamp_1;
2011-01-01 01:01:01		238
2011-01-01 01:01:01		86
2011-01-01 01:01:01		311
2011-01-01 01:01:01		27
2011-01-01 01:01:01		165

&amp;gt;select t,key,value from timestamp_1 distribute by t;
2011-01-01 01:01:01		
2011-01-01 01:01:01		
2011-01-01 01:01:01		
2011-01-01 01:01:01		
2011-01-01 01:01:01		
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12559481">HIVE-3090</key>
            <summary>Timestamp type values not having nano-second part breaks row</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 02:56:52 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:37 +0000</updated>
                            <resolved>Wed, 13 Jun 2012 15:38:46 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13289917" author="navis" created="Wed, 6 Jun 2012 03:01:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D3501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13294173" author="appodictic" created="Wed, 13 Jun 2012 05:42:47 +0000"  >&lt;p&gt;+1 will commit. Your a patch machine superstar.&lt;/p&gt;</comment>
                            <comment id="13294179" author="appodictic" created="Wed, 13 Jun 2012 05:53:01 +0000"  >&lt;p&gt;Are you sure you have the most recent patch? I am not seeing the expected results. Please upload the patch to Jira.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;edward@tablitha trunk&amp;#93;&lt;/span&gt;$ diff -y  /home/edward/hive/trunk/build/ql/test/logs/clientpositive/timestamp_lazy.q.out /home/edward/hive/trunk/ql/src/test/results/clientpositive/timestamp_lazy.q.out&lt;/p&gt;

&lt;p&gt;POSTHOOK: Lineage: timestamp_lazy.value SIMPLE [(src)src.Fiel	POSTHOOK: Lineage: timestamp_lazy.value SIMPLE [(src)src.Fiel&lt;br/&gt;
2011-01-01 01:01:01					      |	2011-01-01 01:01:01	238	val_238&lt;br/&gt;
2011-01-01 01:01:01					      |	2011-01-01 01:01:01	86	val_86&lt;br/&gt;
2011-01-01 01:01:01					      |	2011-01-01 01:01:01	311	val_311&lt;br/&gt;
2011-01-01 01:01:01					      |	2011-01-01 01:01:01	27	val_27&lt;br/&gt;
2011-01-01 01:01:01					      |	2011-01-01 01:01:01	165	val_165&lt;/p&gt;
</comment>
                            <comment id="13294241" author="navis" created="Wed, 13 Jun 2012 07:49:00 +0000"  >&lt;p&gt;I&apos;ve rebased to trunk, tested and confirmed that it works fine. Could you try it again after deleting hive-serde in local repository or cache?&lt;/p&gt;</comment>
                            <comment id="13294509" author="appodictic" created="Wed, 13 Jun 2012 14:58:22 +0000"  >&lt;p&gt;Your right the problem is that ivy cache issue. +1 will commit.&lt;/p&gt;</comment>
                            <comment id="13294521" author="appodictic" created="Wed, 13 Jun 2012 15:24:13 +0000"  >&lt;p&gt;Final patch for inclusion&lt;/p&gt;</comment>
                            <comment id="13294528" author="appodictic" created="Wed, 13 Jun 2012 15:38:46 +0000"  >&lt;p&gt;Thanks Navis. &lt;/p&gt;</comment>
                            <comment id="13294690" author="hudson" created="Wed, 13 Jun 2012 22:21:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1485 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1485/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1485/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3090&quot; title=&quot;Timestamp type values not having nano-second part breaks row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3090&quot;&gt;&lt;del&gt;HIVE-3090&lt;/del&gt;&lt;/a&gt; Timestamp types not having nano-second part breaks row (Navis via egc) (Revision 1349907)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349907&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_lazy.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_lazy.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548118" author="hudson" created="Wed, 9 Jan 2013 10:24:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3090&quot; title=&quot;Timestamp type values not having nano-second part breaks row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3090&quot;&gt;&lt;del&gt;HIVE-3090&lt;/del&gt;&lt;/a&gt; Timestamp types not having nano-second part breaks row (Navis via egc) (Revision 1349907)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349907&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_lazy.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_lazy.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550163" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:37 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12531983" name="hive-3090.1.patch.txt" size="5373" author="appodictic" created="Wed, 13 Jun 2012 15:34:06 +0000"/>
                            <attachment id="12531981" name="hive-3090.1.patch.txt" size="5373" author="appodictic" created="Wed, 13 Jun 2012 15:24:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jun 2012 05:42:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ud3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3091] Fix eclipse classpath for hadoop-2.0.1 support</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3091</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive support different versions of hadoop such as 0.20,0.20S(1.0.0) and 0.23.0(2.0.1). When we build hive with hadoop-0.23(2.0.1), we get compilation error in eclipse because it is refering to 0.20.0 hadoop jars.&lt;/p&gt;

&lt;p&gt;Currently, hive classpath is generated with pre-defined eclipse template.This template support only for 0.20 version of hadoop. This is causing compilation error in eclipse.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559488">HIVE-3091</key>
            <summary>Fix eclipse classpath for hadoop-2.0.1 support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 05:12:31 +0000</created>
                <updated>Wed, 6 Jun 2012 14:48:12 +0000</updated>
                                            <version>0.9.1</version>
                    <version>0.10.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13289966" author="rohithsharma" created="Wed, 6 Jun 2012 05:41:48 +0000"  >&lt;p&gt;I have 2 approached to handle this problem.&lt;/p&gt;

&lt;p&gt;1. Maitain differnt eclipse template for different version of hadoop.&lt;/p&gt;

&lt;p&gt;2. Make current eclipse template as generic such a way that all the tokens in the template is replaced with value.&lt;/p&gt;

&lt;p&gt;I suggest for first approach because different hadoop version require differnt version of dependent jar.&lt;br/&gt;
For example hadooop-0.20 require common-codec-1.3.jar where hadoop-0.23.0 require common-codec-1.4.jar.&lt;/p&gt;</comment>
                            <comment id="13290186" author="appodictic" created="Wed, 6 Jun 2012 14:48:12 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I do not think we want to version them unless we really have to. &lt;/p&gt;

&lt;p&gt;As it stands now the eclipse templates are already confusing so they can not get much worse. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jun 2012 14:48:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3092] Hive tests should load Hive classes from build directory, not Ivy cache</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3092</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-895&quot; title=&quot;Add SerDe for Avro serialized data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-895&quot;&gt;&lt;del&gt;HIVE-895&lt;/del&gt;&lt;/a&gt;, currently the tests pull in jars for other components rather from Ivy rather than using the built classes and jars in the build directory (bit.ly/LzndQU).  This means that absent a very-clean, one is testing against a previous version of the code and cross-component tests are invalid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559511">HIVE-3092</key>
            <summary>Hive tests should load Hive classes from build directory, not Ivy cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 10:38:22 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:14 +0000</updated>
                            <resolved>Fri, 15 Jun 2012 06:02:02 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13294715" author="kevinwilfong" created="Wed, 13 Jun 2012 23:24:56 +0000"  >&lt;p&gt;The attached patch attempts to solve the problem by adding the jars from build/dist/lib into the test classpath before the Ivy jars.&lt;/p&gt;</comment>
                            <comment id="13294755" author="namit" created="Thu, 14 Jun 2012 00:56:03 +0000"  >&lt;p&gt;This was a very serious bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;If anyone has any issues, please comment - I will start to run tests.&lt;/p&gt;</comment>
                            <comment id="13294880" author="cwsteinbach" created="Thu, 14 Jun 2012 08:02:32 +0000"  >&lt;p&gt;This patch will fix the problem in cases where new classes are added, or where the definition of a class has changed. However, it won&apos;t fix the situation where a class is removed but continues to show up on the classpath because Ivy is pulling an old copy out of the local cache.&lt;/p&gt;

&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3116&quot; title=&quot;Make very-clean Ant target more selective&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3116&quot;&gt;&lt;del&gt;HIVE-3116&lt;/del&gt;&lt;/a&gt; is a better way to fix the problem since it addresses all three of the cases I described above.&lt;/p&gt;</comment>
                            <comment id="13294888" author="cwsteinbach" created="Thu, 14 Jun 2012 08:10:58 +0000"  >&lt;p&gt;I also don&apos;t think this fix will stay in place for very long unless someone adds a comment explaining why the dist/lib directory has to go first on the classpath.&lt;/p&gt;</comment>
                            <comment id="13294894" author="kevinwilfong" created="Thu, 14 Jun 2012 08:23:24 +0000"  >&lt;p&gt;Carl, do you happen to know why these Hive artifacts are going into Ivy&apos;s cache in the first place? If we could remove them from there, or at least find some other way to ignore them, that would solve the problems as well.&lt;/p&gt;

&lt;p&gt;Having multiple checkouts of Hive store these jars in a common location and then use them makes it very difficult to work in multiple checkouts at the same time.  It also complicates testing multiple checkouts at the same time.&lt;/p&gt;

&lt;p&gt;Given that there isn&apos;t a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3116&quot; title=&quot;Make very-clean Ant target more selective&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3116&quot;&gt;&lt;del&gt;HIVE-3116&lt;/del&gt;&lt;/a&gt; yet, I&apos;d like to get this in, to help speed up development.  Having to run ant very-clean package which takes ~20 mins. every time you make a change is a real time sink.&lt;/p&gt;</comment>
                            <comment id="13295163" author="kevinwilfong" created="Thu, 14 Jun 2012 17:04:01 +0000"  >&lt;p&gt;Carl did have a good point, this patch did not fix the case where a class is removed.&lt;/p&gt;

&lt;p&gt;In my newly uploaded patch, when the test class path is constructed it adds the jars from build/dist/lib before the Ivy jars, and excludes all hive jars from Ivy.&lt;/p&gt;

&lt;p&gt;So now, for the 3 cases Carl mentioned, this patch fixes them for ant test.  It also means that we can run the tests after running the much faster ant clean rather than ant very-clean.  Finally, it means that different checkouts won&apos;t read their Hive jars from the common Ivy repo resulting in potentially picking up the changes in another checkout.  Given that, I would argue that for the case of running the command ant test, this patch is better than the fix proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3116&quot; title=&quot;Make very-clean Ant target more selective&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3116&quot;&gt;&lt;del&gt;HIVE-3116&lt;/del&gt;&lt;/a&gt;, although that has value for other cases.&lt;/p&gt;</comment>
                            <comment id="13295164" author="kevinwilfong" created="Thu, 14 Jun 2012 17:04:42 +0000"  >&lt;p&gt;Also added a comment.&lt;/p&gt;</comment>
                            <comment id="13295223" author="cwsteinbach" created="Thu, 14 Jun 2012 18:41:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13295469" author="namit" created="Fri, 15 Jun 2012 06:02:02 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13295623" author="hudson" created="Fri, 15 Jun 2012 12:28:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1488 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1488/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1488/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt; Hive tests should load Hive classes from build directory, not Ivy cache&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1350467)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350467&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13296054" author="kannakar@microsoft.com" created="Sat, 16 Jun 2012 00:51:09 +0000"  >&lt;p&gt;I am getting the following error on windows when I run the unit tests with these changes. Do you have any suggestions to make it work on windows?&lt;/p&gt;

&lt;p&gt;compile-test:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: ql&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 57 source files to D:\OSS\hive\build\ql\test\classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: error reading D:\OSS\hive\build\dist\lib\libfb303.jar; error in opening zip file&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: error reading D:\OSS\hive\build\dist\lib\libthrift.jar; error in opening zip file&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 2 errors&lt;/p&gt;</comment>
                            <comment id="13296057" author="kevinwilfong" created="Sat, 16 Jun 2012 01:08:57 +0000"  >&lt;p&gt;Have you tried running ant clean?&lt;/p&gt;

&lt;p&gt;If that doesn&apos;t work have you tried ant very-clean?&lt;/p&gt;</comment>
                            <comment id="13296058" author="cwsteinbach" created="Sat, 16 Jun 2012 01:28:59 +0000"  >&lt;p&gt;libfb303.jar and libthrift.jar are symlinks which were added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1962&quot; title=&quot;make a libthrift.jar and libfb303.jar in dist package for backward compatibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1962&quot;&gt;&lt;del&gt;HIVE-1962&lt;/del&gt;&lt;/a&gt;. Maybe we can remove them?&lt;/p&gt;

&lt;p&gt;@Kevin: Can you check with Ning and see if Facebook still has an internal dependency on these old JAR names?&lt;/p&gt;
</comment>
                            <comment id="13296073" author="kannakar@microsoft.com" created="Sat, 16 Jun 2012 02:52:47 +0000"  >&lt;p&gt;I am not sure with the implications of excluding lib*.jar from dist folder but this workaround is working on windows.&lt;/p&gt;</comment>
                            <comment id="13296107" author="cwsteinbach" created="Sat, 16 Jun 2012 05:02:17 +0000"  >&lt;p&gt;@Kanna: You can&apos;t exclude libfb303-0.7.0.jar or libthrift-0.7.0.jar from the dist/lib directory since these are required by different components of Hive. However, it&apos;s perfectly acceptable to remove the symlinks libfb303.jar and libthrift.jar. In fact, we should just remove the code in build.xml which creates these symlinks. The relevant code that needs to be removed starts on line 536 of build.xml.&lt;/p&gt;</comment>
                            <comment id="13296113" author="kannakar@microsoft.com" created="Sat, 16 Jun 2012 05:27:03 +0000"  >&lt;p&gt;Thanks Carl -  Sorry I think my original message was a bit ambiguous, I did the following under &#8220;test-classpath&#8221; in build-common.xml to unblock myself for now.&lt;br/&gt;
Original:&lt;br/&gt;
&amp;lt;fileset dir=&quot;${build.dir.hive}/dist/lib&quot; includes=&quot;&lt;b&gt;.jar&quot; erroronmissingdir=&quot;false&quot; excludes=&quot;&lt;/b&gt;&lt;b&gt;/hive_contrib&lt;/b&gt;.jar,*&lt;b&gt;/hive-contrib&lt;/b&gt;.jar &quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Modife:&lt;br/&gt;
&amp;lt;fileset dir=&quot;${build.dir.hive}/dist/lib&quot; includes=&quot;&lt;b&gt;.jar&quot; erroronmissingdir=&quot;false&quot; excludes=&quot;&lt;/b&gt;&lt;b&gt;/hive_contrib&lt;/b&gt;.jar,*&lt;b&gt;/hive-contrib&lt;/b&gt;.jar,*&lt;b&gt;/lib&lt;/b&gt;.jar&quot;/&amp;gt;&lt;/p&gt;


&lt;p&gt;I will try your suggestion tomorrow.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13396108" author="kannakar@microsoft.com" created="Mon, 18 Jun 2012 18:25:35 +0000"  >&lt;p&gt;@Carl - It is working after removing the symlinks from build.xml. Once Kevin confirm that they are no more required then we can remove them from build.xml&lt;/p&gt;</comment>
                            <comment id="13396110" author="kevinwilfong" created="Mon, 18 Jun 2012 18:26:56 +0000"  >&lt;p&gt;I&apos;ve attempted to contact Ning, still waiting on a reply.&lt;/p&gt;</comment>
                            <comment id="13399766" author="kannakar@microsoft.com" created="Sat, 23 Jun 2012 00:55:37 +0000"  >&lt;p&gt;Hi Kevin - Any update on this. Thanks&lt;/p&gt;</comment>
                            <comment id="13399789" author="kevinwilfong" created="Sat, 23 Jun 2012 01:37:35 +0000"  >&lt;p&gt;No, he never got back to me.&lt;/p&gt;

&lt;p&gt;I spoke with Namit Jain who worked with Ning, he didn&apos;t think it was needed anymore.&lt;/p&gt;

&lt;p&gt;If you can remove it and the tests still pass, it&apos;s probably ok, otherwise, we&apos;ll find a deficiency in our tests that should be fixed.&lt;/p&gt;</comment>
                            <comment id="13400191" author="kannakar@microsoft.com" created="Sun, 24 Jun 2012 18:06:15 +0000"  >&lt;p&gt;Thanks Kevin. All Unit Tests passed without lib*.jar symlinks. so I addressed it as part of overall windows build patch(&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3126&quot; title=&quot;Generate &amp;amp; build the velocity based Hive tests on windows by fixing the path issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3126&quot;&gt;&lt;del&gt;HIVE-3126&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13536061" author="kannakar@microsoft.com" created="Wed, 19 Dec 2012 15:55:12 +0000"  >&lt;p&gt;Hello, I am out of office on vacation and will return on Wed, Jan 2nd.&lt;/p&gt;

&lt;p&gt;For any urgent issues, please contact my manager.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Kanna&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13548116" author="hudson" created="Wed, 9 Jan 2013 10:24:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt; Hive tests should load Hive classes from build directory, not Ivy cache&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1350467)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350467&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550063" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:14 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12560267">HIVE-3117</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12560265">HIVE-3116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12534814">HIVE-2646</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12532024" name="HIVE-3092.1.patch.txt" size="836" author="kevinwilfong" created="Wed, 13 Jun 2012 23:23:51 +0000"/>
                            <attachment id="12532117" name="HIVE-3092.2.patch.txt" size="1411" author="kevinwilfong" created="Thu, 14 Jun 2012 17:00:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jun 2012 23:24:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lml3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3093] TABLESAMPLE doesnt work with LEFT OUTER JOIN</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3093</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SELECT * FROM (table1) a LEFT OUTER JOIN (table2) b ON (a.j1 = b.j2) TABLESAMPLE (BUCKET 1 OUT OF 512 ON a.col1) GROUP BY a.col1, b.col1 &lt;/p&gt;

&lt;p&gt;Got the error below.&lt;br/&gt;
Error in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:418 mismatched input &apos;tablesample&apos; expecting EOF near &apos;)&apos;&lt;/p&gt;

&lt;p&gt;Also tried the below for enfancing sub query &apos;x&apos;.&lt;br/&gt;
SELECT * FROM (SELECT * FROM (table1) a LEFT OUTER JOIN (table2) b ON (a.j1 = b.j2) GROUP BY a.col1, b.col1) x TABLESAMPLE (BUCKET 1 OUT OF 512 ON a.col1) &lt;/p&gt;

&lt;p&gt;Faild as below...&lt;br/&gt;
Error in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:100 cannot recognize input near &apos;(&apos; &apos;select&apos; in subquery source&lt;/p&gt;

&lt;p&gt;Anyone help for it?&lt;br/&gt;
I dont know how to open any attachment here, would be appriciated it if you fill in your comments directly here...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559519">HIVE-3093</key>
            <summary>TABLESAMPLE doesnt work with LEFT OUTER JOIN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mtanaka">Miki Tanaka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 11:39:58 +0000</created>
                <updated>Fri, 15 Jun 2012 21:01:07 +0000</updated>
                            <resolved>Fri, 15 Jun 2012 21:01:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13290089" author="navis" created="Wed, 6 Jun 2012 12:02:53 +0000"  >&lt;p&gt;You mean something like..&lt;/p&gt;

&lt;p&gt;SELECT * FROM (SELECT * FROM src TABLESAMPLE (BUCKET 1 OUT OF 512 ON key) a LEFT OUTER JOIN src b ON (a.key = b.key) GROUP BY a.key, b.key) x;&lt;/p&gt;</comment>
                            <comment id="13290093" author="mtanaka" created="Wed, 6 Jun 2012 12:16:14 +0000"  >&lt;p&gt;Thanks Navis.&lt;br/&gt;
Tried as your advice, but...&lt;br/&gt;
Error in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:282 mismatched input &apos;tablesample&apos; expecting Identifier near &apos;)&apos; in subquery source&lt;/p&gt;

&lt;p&gt;Do you have another ideas?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jun 2012 12:02:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3094] new partition files and directories should inherit file permissions from parent partition/table dir</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3094</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2936&quot; title=&quot;Warehouse table subdirectories should inherit the group permissions of the warehouse parent directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2936&quot;&gt;&lt;del&gt;HIVE-2936&lt;/del&gt;&lt;/a&gt; changes were made for warehouse table sub directories to inherit the permissions from parent directory. But this applies only to directories created by metastore. &lt;br/&gt;
When directories (in case of dynamic partitioning) or files are created from the MR job, it uses the default &lt;br/&gt;
But new partition files or directories created from the MR jobs don&apos;t inherit the permissions. &lt;br/&gt;
This means that even if the permissions have been granted on table directory for a group, the group will not have permissions on the new partitions. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12559557">HIVE-3094</key>
            <summary>new partition files and directories should inherit file permissions from parent partition/table dir</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="ctang.ma">Chaoyu Tang</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 16:19:38 +0000</created>
                <updated>Thu, 4 Jul 2013 01:07:34 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 01:07:34 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>Authorization</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13691248" author="ctang.ma" created="Sat, 22 Jun 2013 20:59:42 +0000"  >&lt;p&gt;see patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3756&quot; title=&quot;&amp;quot;LOAD DATA&amp;quot; does not honor permission inheritence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3756&quot;&gt;&lt;del&gt;HIVE-3756&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13699669" author="sushanth" created="Thu, 4 Jul 2013 01:07:34 +0000"  >&lt;p&gt;Marking as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3756&quot; title=&quot;&amp;quot;LOAD DATA&amp;quot; does not honor permission inheritence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3756&quot;&gt;&lt;del&gt;HIVE-3756&lt;/del&gt;&lt;/a&gt;, that solves the issue mentioned here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12618191">HIVE-3756</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12618191">HIVE-3756</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Jun 2013 20:59:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06amn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3095] Self-referencing Avro schema creates infinite loop on table creation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3095</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;An Avro schema which has a field reference to itself will create an infinite loop which eventually throws a StackOverflowError.&lt;/p&gt;

&lt;p&gt;To reproduce using the linked-list example from &lt;a href=&quot;http://avro.apache.org/docs/1.6.1/spec.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/docs/1.6.1/spec.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;create table linkedListTest row format serde &apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;&lt;br/&gt;
with serdeproperties (&apos;avro.schema.literal&apos;=&apos;&lt;br/&gt;
{&lt;br/&gt;
   &quot;type&quot;: &quot;record&quot;, &lt;br/&gt;
   &quot;name&quot;: &quot;LongList&quot;,&lt;br/&gt;
   &quot;aliases&quot;: &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;LinkedLongs&amp;quot;&amp;#93;&lt;/span&gt;,                      // old name for this&lt;br/&gt;
   &quot;fields&quot; : [&lt;br/&gt;
      &lt;/p&gt;
{&quot;name&quot;: &quot;value&quot;, &quot;type&quot;: &quot;long&quot;}
&lt;p&gt;,             // each element has a long&lt;br/&gt;
      &lt;/p&gt;
{&quot;name&quot;: &quot;next&quot;, &quot;type&quot;: [&quot;LongList&quot;, &quot;null&quot;]}
&lt;p&gt; // optional next element&lt;br/&gt;
   ]&lt;br/&gt;
}&lt;br/&gt;
&apos;)&lt;br/&gt;
stored as inputformat &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;&lt;br/&gt;
outputformat &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559576">HIVE-3095</key>
            <summary>Self-referencing Avro schema creates infinite loop on table creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kamrul">Mohammad Kamrul Islam</assignee>
                                    <reporter username="kmosley">Keegan Mosley</reporter>
                        <labels>
                            <label>avro</label>
                    </labels>
                <created>Wed, 6 Jun 2012 17:46:56 +0000</created>
                <updated>Mon, 23 Nov 2015 10:58:47 +0000</updated>
                                            <version>0.9.1</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15021945" author="nag9s" created="Mon, 23 Nov 2015 10:58:47 +0000"  >&lt;p&gt;i am just wondering if this issue is fixed ? I am still getting the issue with latest hive version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Nov 2015 10:58:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3096] Support for dynamic table links</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3096</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt; introduces the concept of table links. In this improvement, the plan is to complete the support for dynamic table links. &lt;br/&gt;
Dynamic links are a type of link where&lt;br/&gt;
a) if the source of the table link adds a partition, that partition is automatically added to all tables that link to it&lt;br/&gt;
b) if the source of the table link drops a partition, that partition is automatically dropped from all the tables that link to it&lt;br/&gt;
c) if the source of the table link has a metadata change via:&lt;br/&gt;
ALTER TABLE table CHANGE COLUMN column ...&lt;br/&gt;
ALTER TABLE table ADD/REPLACE COLUMN column ...&lt;br/&gt;
ALTER TABLE table_name &lt;span class=&quot;error&quot;&gt;&amp;#91;PARTITION partitionSpec&amp;#93;&lt;/span&gt; SET LOCATION &quot;new location&quot;&lt;br/&gt;
the links pointing to that table will also have their metadata correspondingly changed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559580">HIVE-3096</key>
            <summary>Support for dynamic table links</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sambavi">Sambavi Muthukrishnan</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 17:54:27 +0000</created>
                <updated>Thu, 2 May 2013 02:30:53 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Query Processor</component>
                        <due>Tue, 12 Jun 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                            <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3097] Handling drop and rename table when links point to it</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3097</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt; introduces the concept of table links into Hive.&lt;br/&gt;
In this improvement, we will continue the support for table links by handling cases where the source of the table link is dropped/renamed.&lt;/p&gt;

&lt;p&gt;When the source of a table link is dropped via DROP TABLE, the behavior will be that all table links that point to it, are dropped as well.&lt;/p&gt;

&lt;p&gt;When the source of a table link is renamed via ALTER TABLE ... RENAME ..., the behavior will be that all table links that point to it are renamed from T@Y to T1@Y where the table T was renamed to T1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559582">HIVE-3097</key>
            <summary>Handling drop and rename table when links point to it</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                            <label>TableLinks</label>
                    </labels>
                <created>Wed, 6 Jun 2012 18:00:27 +0000</created>
                <updated>Thu, 7 Jun 2012 18:53:00 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due>Tue, 12 Jun 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                            <timeestimate seconds="345600">96h</timeestimate>
                                            <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3098] Memory leak from large number of FileSystem instances in FileSystem.CACHE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3098</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The problem manifested from stress-testing HCatalog 0.4.1 (as part of testing the Oracle backend).&lt;/p&gt;

&lt;p&gt;The HCatalog server ran out of memory (-Xmx2048m) when pounded by 60-threads, in under 24 hours. The heap-dump indicates that hadoop::FileSystem.CACHE had 1000000 instances of FileSystem, whose combined retained-mem consumed the entire heap.&lt;/p&gt;

&lt;p&gt;It boiled down to hadoop::UserGroupInformation::equals() being implemented such that the &quot;Subject&quot; member is compared for equality (&quot;==&quot;), and not equivalence (&quot;.equals()&quot;). This causes equivalent UGI instances to compare as unequal, and causes a new FileSystem instance to be created and cached.&lt;/p&gt;

&lt;p&gt;The UGI.equals() is so implemented, incidentally, as a fix for yet another problem (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6670&quot; title=&quot;UserGroupInformation doesn&amp;#39;t support use in hash tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6670&quot;&gt;&lt;del&gt;HADOOP-6670&lt;/del&gt;&lt;/a&gt;); so it is unlikely that that implementation can be modified.&lt;/p&gt;

&lt;p&gt;The solution for this is to check for UGI equivalence in HCatalog (i.e. in the Hive metastore), using an cache for UGI instances in the shims.&lt;/p&gt;

&lt;p&gt;I have a patch to fix this. I&apos;ll upload it shortly. I just ran an overnight test to confirm that the memory-leak has been arrested.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Running with Hadoop 20.205.0.3+ / 1.0.x with security turned on.&lt;/p&gt;</environment>
        <key id="12559587">HIVE-3098</key>
            <summary>Memory leak from large number of FileSystem instances in FileSystem.CACHE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jun 2012 18:34:56 +0000</created>
                <updated>Wed, 8 Apr 2015 20:44:29 +0000</updated>
                            <resolved>Fri, 7 Sep 2012 14:23:08 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.1</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>17</watches>
                                                                <comments>
                            <comment id="13290328" author="mithun" created="Wed, 6 Jun 2012 18:38:04 +0000"  >&lt;p&gt;Caching for UGI instances.&lt;/p&gt;</comment>
                            <comment id="13291106" author="rohini" created="Thu, 7 Jun 2012 16:17:34 +0000"  >&lt;p&gt;Looks good. But depending on toString() of UGI might cause problems if it changes.&lt;/p&gt;

&lt;p&gt;&amp;lt;code&amp;gt;&lt;br/&gt;
private static String getKey(String user, UserGroupInformation realUgi) &lt;/p&gt;
{
         return user + &quot; via &quot; + realUgi.toString();
       }
&lt;p&gt;&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt; Can we construct it instead of calling toString(). Also the authentication method returned in the toString() is not required. Removing that will ensure we cache only one ugi for Kerberos(GSS-API) and delegation token(DIGEST-MD5) auth schemes cutting down on the number of FileSystem objects by half.&lt;/p&gt;</comment>
                            <comment id="13291234" author="mithun" created="Thu, 7 Jun 2012 19:24:06 +0000"  >&lt;p&gt;Must incorporate Rohini&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="13291235" author="mithun" created="Thu, 7 Jun 2012 19:25:07 +0000"  >&lt;p&gt;Removed dependency on UGI::toString(). Using a custom implementation in UGICache.&lt;/p&gt;</comment>
                            <comment id="13291236" author="mithun" created="Thu, 7 Jun 2012 19:25:40 +0000"  >&lt;p&gt;@Rohini: Point taken. Here&apos;s an update.&lt;/p&gt;</comment>
                            <comment id="13291373" author="rohini" created="Thu, 7 Jun 2012 22:11:58 +0000"  >&lt;p&gt;+1. Looks good.&lt;/p&gt;</comment>
                            <comment id="13291419" author="cwsteinbach" created="Thu, 7 Jun 2012 23:35:20 +0000"  >&lt;p&gt;@Mithun: Please post a review request on reviewboard or phabricator. Thanks.&lt;/p&gt;</comment>
                            <comment id="13291523" author="mithun" created="Fri, 8 Jun 2012 03:08:14 +0000"  >&lt;p&gt;Sure thing, Carl. Here it is:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D3543&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3543&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13396939" author="mithun" created="Tue, 19 Jun 2012 17:20:11 +0000"  >&lt;p&gt;Hello, folks. Does the patch look good?&lt;/p&gt;</comment>
                            <comment id="13397717" author="ashutoshc" created="Wed, 20 Jun 2012 18:23:11 +0000"  >&lt;p&gt;@Mithun,&lt;br/&gt;
is this similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3155&quot; title=&quot;Memory leak in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3155&quot;&gt;&lt;del&gt;HIVE-3155&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3545&quot; title=&quot;DFSClient leak due to malfunctioning of FileSystem Cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3545&quot;&gt;HDFS-3545&lt;/a&gt; ? &lt;/p&gt;</comment>
                            <comment id="13397749" author="mithun" created="Wed, 20 Jun 2012 18:40:26 +0000"  >&lt;p&gt;Hey, Ashutosh.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure about &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3155&quot; title=&quot;Memory leak in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3155&quot;&gt;&lt;del&gt;HIVE-3155&lt;/del&gt;&lt;/a&gt; (since it talks of the LeaseRenewer), but &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3545&quot; title=&quot;DFSClient leak due to malfunctioning of FileSystem Cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3545&quot;&gt;HDFS-3545&lt;/a&gt; is definitely related. The leak mentioned in this JIRA is seen in FileSystem.CACHE.&lt;/p&gt;

&lt;p&gt;Mithun&lt;/p&gt;</comment>
                            <comment id="13397757" author="mithun" created="Wed, 20 Jun 2012 18:45:29 +0000"  >&lt;p&gt;@Ashutosh: Thanks for the heads-up. I&apos;ve linked this to &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3545&quot; title=&quot;DFSClient leak due to malfunctioning of FileSystem Cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3545&quot;&gt;HDFS-3545&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As per Daryn&apos;s last comment, it&apos;s likely not solvable in HDFS, since a check for UGI/Subject-equivalence will not suffice, since they are mutable. That explains why Subjects are compared for equality/identity.&lt;/p&gt;</comment>
                            <comment id="13398040" author="rohini" created="Thu, 21 Jun 2012 01:07:01 +0000"  >&lt;p&gt;This patch will fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3155&quot; title=&quot;Memory leak in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3155&quot;&gt;&lt;del&gt;HIVE-3155&lt;/del&gt;&lt;/a&gt; too.&lt;/p&gt;</comment>
                            <comment id="13398058" author="ashutoshc" created="Thu, 21 Jun 2012 01:26:37 +0000"  >&lt;p&gt;Rohini,&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3155&quot; title=&quot;Memory leak in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3155&quot;&gt;&lt;del&gt;HIVE-3155&lt;/del&gt;&lt;/a&gt; is talking about leak in HiveServer (not HiveMetaStore). Further, they haven&apos;t specified if they are running in secure mode (I will ask on that ticket now).&lt;/p&gt;</comment>
                            <comment id="13398508" author="ashutoshc" created="Thu, 21 Jun 2012 15:52:18 +0000"  >&lt;p&gt;@Mithun,&lt;br/&gt;
According to analysis done by Daryn &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3545?focusedCommentId=13398502&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13398502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HDFS-3545?focusedCommentId=13398502&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13398502&lt;/a&gt; proper fix for application(Hive) is to call FileSystem.closeForAll(ugi) once ugi is no longer in use. &lt;/p&gt;</comment>
                            <comment id="13398711" author="rohini" created="Thu, 21 Jun 2012 18:31:36 +0000"  >&lt;p&gt;@Ashutosh,&lt;br/&gt;
   We would not hit the wrong token issue mentioned by Daryn, because hive metastore proxies as the user requesting the operation. The actual ugi with which the operation would be done is &quot;user via metastoreuser&quot;. The metastoreuser UGI is the RealUser and the kerberos TGT of it is used so there is never a issue of expired or wrong tokens. We have had the same fix in hdfsproxy and Oozie for 2 years now in production and we have not had issues with it. Hdfsproxy/Oozie UGI cache is slightly more advanced and they close unused filesystem objects from the cache after 30 mins or some configured time. Closing the FileSystem object immediately and not taking advantage of the cache is a bad thing as the fs init operation is costly. Not closing the filesystem and retaining it in the cache with this fix is not going to cause memory leak unless you have 10000s of users accessing the hivemetastore. Oozie was doing it for sometime before the cache expiry logic was added.&lt;/p&gt;</comment>
                            <comment id="13398868" author="daryn" created="Thu, 21 Jun 2012 21:21:30 +0000"  >&lt;p&gt;If I understand correctly, you essentially intend to only use the cached UGI in a &lt;tt&gt;doAs&lt;/tt&gt; to get a &lt;tt&gt;FileSystem&lt;/tt&gt;?  That should generally work so long as tokens are never allowed to be added to the cached UGIs.&lt;/p&gt;

&lt;p&gt;Even after the caching is fixed, you will have to age out and close fs instances.  Some like hftp and webhdfs will implicitly acquire tokens.  When those tokens eventually expire, the fs instance becomes useless and must be re-created.&lt;/p&gt;</comment>
                            <comment id="13398979" author="rohini" created="Thu, 21 Jun 2012 23:09:29 +0000"  >&lt;p&gt;@Daryn&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; UserGroupInformation createProxyUser(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; user,
      UserGroupInformation realUser) {
    Set&amp;lt;Principal&amp;gt; principals = subject.getPrincipals();
    principals.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; User(user));
    principals.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RealUser(realUser));
    UserGroupInformation result =&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UserGroupInformation(subject);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;  Since the new UGI refers to the realUser (which is UserGroupInformation.getLoginUser()), the tokens used for authentication would be that of the logged in user. Since TGT will be part of the logged in users tokens, it will always be used to do SASL authentication. Currently the filesystem fetched inside doAs in hive metastore is only hdfs:// and so only SASL will be done. &lt;/p&gt;

&lt;p&gt;The problem you mentioned with hftp:// and webhdfs:// is there. UGI does not get modified with addition of tokens, but the FileSystem class itself becomes unusable because they fetch the delegation tokens  in their constructors and store in private variables of the class. DelegationTokenRenewer in those classes take care of renewing the token. But after the renewal limit is over(7 days default), the local variable is not updated and so the FileSystem class becomes unusable. One way to get it working would be to fix the DelegationTokenRenewer to get a new token and update the local variable after token expiry.&lt;/p&gt;

&lt;p&gt;@Ashutosh,&lt;br/&gt;
   We need to add closing of the filesystem along with the cache if we are going to access hftp:// or webhdfs:// in hive metastore. hftp:// I am not sure as it readonly, but users might start specify partition location using webhdfs:// soon.&lt;/p&gt;
</comment>
                            <comment id="13401872" author="ashutoshc" created="Wed, 27 Jun 2012 01:51:25 +0000"  >&lt;p&gt;@Rohini,&lt;/p&gt;

&lt;p&gt;Another possibility is to disable fs cache altogether via &lt;tt&gt;fs.hdfs.impl.disable.cache&lt;/tt&gt; config parameter. I get that it will add to latency, but once we switch to &lt;tt&gt;FileContext&lt;/tt&gt; api in 2.0 line, this problem itself will no longer be there (since FileContext has no cache). So, instead of adding code to workaround underlying fs problem, we can live with the latency till we make that move. Does that sound reasonable?&lt;/p&gt;</comment>
                            <comment id="13401876" author="mithun" created="Wed, 27 Jun 2012 02:00:54 +0000"  >&lt;p&gt;As I remember it, testing with fs.cache disabled didn&apos;t help, for some odd reason. It&apos;s worth testing again.&lt;/p&gt;</comment>
                            <comment id="13402246" author="daryn" created="Wed, 27 Jun 2012 14:20:46 +0000"  >&lt;p&gt;I believe neither disabling the fs cache nor switching to &lt;tt&gt;FileContext&lt;/tt&gt; will help since Rohini stated earlier the desire to take advantage of the cache for performance, albeit w/o leaking.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;FileContext&lt;/tt&gt; isn&apos;t going to be a panacea for this issue.  I think it only implements hdfs, view, and ftp (not hftp).  It provides no &lt;tt&gt;close()&lt;/tt&gt; method, so there&apos;s no way to cleanup or shutdown clients until jvm shutdown, ie. aborting streams, deleting tmp files, closing the dfs client, etc.  The latter will lead to leaks such as the dfs socket cache leaks, dfs lease renewer threads, etc.&lt;/p&gt;

&lt;p&gt;Even with the fs cache disabled, leaks such as the aforementioned dfs leaks will still occur unless &lt;em&gt;all&lt;/em&gt; fs instances are explicitly closed.&lt;/p&gt;

&lt;p&gt;I&apos;d suggest either &lt;tt&gt;closeAllForUGI&lt;/tt&gt; which provides a cache boost for each request, but degrades performance across multiple requests.  Or do the oozie style UGI caching with a periodic cache purging.&lt;/p&gt;</comment>
                            <comment id="13402394" author="tucu00" created="Wed, 27 Jun 2012 17:45:11 +0000"  >&lt;p&gt;Or FIX Hadoop FileSystem caching, this issue is gremlin-ing all over as we have long running/multiuser systems that use Hadoop FileSystem.&lt;/p&gt;</comment>
                            <comment id="13402448" author="ashutoshc" created="Wed, 27 Jun 2012 18:39:39 +0000"  >&lt;p&gt;I think we are mixing two things here: Performance Vs Memory Leak.&lt;/p&gt;

&lt;p&gt;Patch is originally intended to plug memory leak, not the performance. It fixes the original leak, but will introduce a new one. It fixes the case when a limited number of users are contacting metastore(which was the original Mithun&apos;s test where same 60 clients keep hitting the metastore). But, if different users hit the metastore, leak is still there, rather more acute with a patch, since there are now two caches (ugi and fs) which both will grow, instead of just one (fs). &lt;/p&gt;

&lt;p&gt;Problem stems from the fact that there is no expiration policy either in fs or ugi cache. We need to design for UGI cache eviction policy. There, when we are expiring stale ugi&apos;s from ugi-cache we can do &lt;tt&gt;closeAllForUGI&lt;/tt&gt; for evicting ugi to evict cached FS objects from fs-cache.&lt;/p&gt;

</comment>
                            <comment id="13402525" author="daryn" created="Wed, 27 Jun 2012 20:15:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Or FIX Hadoop FileSystem caching&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I wanted to &quot;fix&quot; the cache for the NM, but after digging around, I think the cache is working as designed.  UGIs are mutable, so if two different requests share the same cached UGI, then tokens from one request will be shared with another request.  This contamination may lead to security issues and will cause bugs.&lt;/p&gt;</comment>
                            <comment id="13402530" author="tucu00" created="Wed, 27 Jun 2012 20:27:33 +0000"  >&lt;p&gt;But we have a bug, that not only affects clients creating UGIs on the fly for the same user and if caching is not off will choke the NN with open sockets. And the more clients doing that the more likely for the NM to choke. Could we make UGIs immutable (which they should have been in the first place)?&lt;/p&gt;</comment>
                            <comment id="13402716" author="daryn" created="Thu, 28 Jun 2012 00:28:30 +0000"  >&lt;p&gt;Unfortunately, no.  If you make a &lt;tt&gt;UGI&lt;/tt&gt; immutable, it really means marking the &lt;tt&gt;Subject&lt;/tt&gt; immutable.  Everything token-based breaks because they can&apos;t be added to the &lt;tt&gt;Subject&lt;/tt&gt;, you can&apos;t login from a keytab or relogin because you can&apos;t update the TGT in the &lt;tt&gt;Subject&lt;/tt&gt;, proxy users (any maybe spnego?) won&apos;t work because service tickets can&apos;t be added to the &lt;tt&gt;Subject&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;A &lt;tt&gt;Subject&lt;/tt&gt;/&lt;tt&gt;UGI&lt;/tt&gt; is an execution context with specific privileges.  Those contexts cannot be cached and shared w/o risking escalated privileges. Think of it this way:  If I entrust you with the keys to my home to pickup a delivery, I don&apos;t want you to make a copy of the keys and have the ability to enter anytime you want w/o my explicit permission.&lt;/p&gt;

&lt;p&gt;Without knowing the intricacies, I recommend: leaving the fs cache on, create a new ugi for connections, and &lt;tt&gt;closeAllForUGI&lt;/tt&gt; when the request is complete. &lt;/p&gt;</comment>
                            <comment id="13403290" author="jnp" created="Thu, 28 Jun 2012 17:48:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Problem stems from the fact that there is no expiration policy either in fs or ugi cache. We need to design for UGI cache eviction policy. There, when we are expiring stale ugi&apos;s from ugi-cache we can do closeAllForUGI for evicting ugi to evict cached FS objects from fs-cache.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1. It may be more tractable to have a cache expiration policy in ugi-cache based on the semantics of this particular use case. In FS-cache it gets trickier because of the general purpose nature of the file system.&lt;/p&gt;</comment>
                            <comment id="13403563" author="tucu00" created="Thu, 28 Jun 2012 23:07:50 +0000"  >&lt;p&gt;@Daryn,&lt;/p&gt;

&lt;p&gt;Your solution of closeAllForUGI means you have to keep the original UGI, if you keep recreating them you are back to square one.&lt;/p&gt;

&lt;p&gt;Thanks for the UGI mutability explanation. Still, I&apos;d argue that we could achieve UGI immutability if we create a new UGI everytime you add credentials to it by composing the old UGI and the new credentials. But this still would not solve the caching problem if we want to do it by user ID.&lt;/p&gt;

&lt;p&gt;Leaving UGI alone, it seem that one thing it would help is hadoop-common providing an (&amp;lt;KEY&amp;gt;, FileSystem) ExpirationCache implementation for others to use. This cache should return a FileSystemProxy wrapping the original filesystem instance which in turn wraps the IO stream returned by open()/create() to be able to detect streams in use to not start the eviction timer.&lt;/p&gt;

&lt;p&gt;thx&lt;/p&gt;</comment>
                            <comment id="13403579" author="owen.omalley" created="Thu, 28 Jun 2012 23:28:10 +0000"  >&lt;p&gt;Alejandro,&lt;br/&gt;
  Daryn is absolutely right that we can&apos;t make the Subjects immutable. We need to be able to update a Subject with update Kerberos tickets and Tokens and changing that would break a lot of other code.&lt;/p&gt;

&lt;p&gt;It would probably make sense to make a UGI.doAsAndCleanup that does a doAs and then removes all filesystems based on the ugi, since clearly most of the Hadoop ecosystem servers have related problems.&lt;/p&gt;</comment>
                            <comment id="13403592" author="tucu00" created="Thu, 28 Jun 2012 23:50:18 +0000"  >&lt;p&gt;Hi Owen, yeah, I do understand we are already hosed on how UGI works and we cannot change things. Not sure how you suggestion of doAsAndCleanup() would work as the usecase is a server based system that does not keep state for a user, not even the UGI but wants to benefit from an ExpirationCache of FS instances for performance. If the system creates a new UGI for the same user every time it needs to do something, then there will be a new FS instance every time and the doAsAndCleanup() will miss all the FS instances created before. In the case Oozie and HttpFS we need a cache based on the username, we don&apos;t playaround adding/removing credentials to the Subject.&lt;/p&gt;</comment>
                            <comment id="13403970" author="daryn" created="Fri, 29 Jun 2012 15:29:41 +0000"  >&lt;p&gt;You can&apos;t reasonably expect or know that any code called, now or in the future, by the request isn&apos;t going to implicitly alter the &lt;tt&gt;Subject&lt;/tt&gt; with the addition of tokens/TGT/service tickets/etc.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Your solution of closeAllForUGI means you have to keep the original UGI, if you keep recreating them you are back to square one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The UGI is basically a wrapper around the javax security context&apos;s &lt;tt&gt;Subject&lt;/tt&gt; which is created by the authentication process.  By design, the UGI/Subject is a context for a specific request/connection &amp;#8211; not for an indeterminate number of future requests.  A UGI should be created when a request comes in and used throughout the request rather than a new UGI created multiple times during the request.  If the request operates in a &lt;tt&gt;doAs&lt;/tt&gt; block, you don&apos;t have to explicitly remember the UGI.  You can simply do a &lt;tt&gt;FileSystem.closeAllForUGI(UserGroupInformation.currentUser()&lt;/tt&gt; when the request is done.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d argue that we could achieve UGI immutability if we create a new UGI everytime you add credentials to it by composing the old UGI and the new credentials.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I admire the thought, but it won&apos;t work.  If you mean creating a new UGI:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Login/relogin is completely broken.  It&apos;s not possible to propagate the new UGI to everything holding the old UGI reference in every thread.&lt;/li&gt;
	&lt;li&gt;Code operating in a &lt;tt&gt;doAs&lt;/tt&gt; block would have to add another nested &lt;tt&gt;doAs&lt;/tt&gt; to use the tokens/tickets it just acquired.&lt;/li&gt;
	&lt;li&gt;Similarly, code currently expects to create a UGI, perform a &lt;tt&gt;doAs&lt;/tt&gt; which may update the &lt;tt&gt;Subject&lt;/tt&gt; with tickets or tokens, exit the &lt;tt&gt;doAs&lt;/tt&gt; block, then call &lt;tt&gt;doAs&lt;/tt&gt; on the same UGI and expect the tokens to be in the UGI.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you mean swapping out the UGI&apos;s subject, it won&apos;t work either.  The hash code is based on the &lt;tt&gt;Subject&lt;/tt&gt;&apos;s identity hash.  Swapping out the &lt;tt&gt;Subject&lt;/tt&gt; when tokens are added fouls collections using the UGI.&lt;/p&gt;

&lt;p&gt;There might be some interesting things that could be done by moving the fs cache into the &lt;tt&gt;Subject&lt;/tt&gt;&apos;s credentials.  A finalizer could ensure that all &lt;tt&gt;Closable&lt;/tt&gt; objects (such as fs instances) in the &lt;tt&gt;Subject&lt;/tt&gt;&apos;s credentials are closed.  That still requires a UGI to be scoped to a request but could better ensure that everything is cleaned up for the security context.&lt;/p&gt;</comment>
                            <comment id="13411287" author="ashutoshc" created="Wed, 11 Jul 2012 07:08:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;Rohini Palaniswamy&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; : After reading through all the comments, my recommendation is to instead of adding more code (and complexity) in Hive to workaround underlying Filesystem issue, lets just disable the fs.cache via config parameter because:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;By disabling cache we are not making anything worse then its today, since we are already unable to reuse FS objects without this patch.&lt;/li&gt;
	&lt;li&gt;Disabling cache will plug the memory leak by not filling FS cache.&lt;/li&gt;
	&lt;li&gt;Once FSContext apis are declared stable for other projects to consume, we can switch over to those where the promise is that underlying problem is fixed.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13411712" author="daryn" created="Wed, 11 Jul 2012 16:45:33 +0000"  >&lt;p&gt;Possibly a reasonable approach.  Just make sure you aren&apos;t doing a lot of &lt;tt&gt;FileSystem.get&lt;/tt&gt; or &lt;tt&gt;path.getFileSystem&lt;/tt&gt; calls to avoid creating a bunch of fs &amp;amp; client objects.  I think &lt;tt&gt;DFSClient&lt;/tt&gt; and its renewal thread might have a cyclic dependency.  If so, all dfs instances will need to be explicitly closed to avoid another leak.&lt;/p&gt;

&lt;p&gt;According to another jira, &lt;tt&gt;FileContext&lt;/tt&gt; isn&apos;t going to offer a &lt;tt&gt;close&lt;/tt&gt; method so it may still leak &lt;tt&gt;DFSClient&lt;/tt&gt; instances.&lt;/p&gt;</comment>
                            <comment id="13411714" author="daryn" created="Wed, 11 Jul 2012 16:49:18 +0000"  >&lt;p&gt;Or, as mentioned earlier, if you are entirely operating within a &lt;tt&gt;doAs&lt;/tt&gt; (I don&apos;t know if you are), just add a single line of &lt;tt&gt;FileSystem.closeAllForUGI(UserGroupInformation.currentUser()&lt;/tt&gt; before you exit the &lt;tt&gt;doAs&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13411777" author="tucu00" created="Wed, 11 Jul 2012 18:00:51 +0000"  >&lt;p&gt;Then I guess that for a system like HttpFS which is all about proxying to a FS, the solution is to disable the Hadoop FS caching and do its own app level caching as proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3513&quot; title=&quot;HttpFS should cache filesystems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3513&quot;&gt;&lt;del&gt;HDFS-3513&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13411778" author="rohini" created="Wed, 11 Jul 2012 18:00:55 +0000"  >&lt;p&gt;@Ashutosh&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;to workaround underlying Filesystem issue, lets just disable the fs.cache via config parameter. Disabling cache will plug the memory leak by not filling FS cache.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Disabling fs.cache is not going to matter. We are already getting a new FileSystem object for every request and the fs.cache is not used at all. The newly created FileSystem objects are still going to be in memory until garbage collected. And they don&apos;t get garbage collected for some reason (We have not analyzed what else is holding reference to them) as the experiments Mithun ran with fs.cache disabled did not make any difference. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Once FSContext apis are declared stable for other projects to consume, we can switch over to those where the promise is that underlying problem is fixed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;   As Daryn had mentioned in previous comments, this is not going to solve the problem at all.&lt;/p&gt;

&lt;p&gt;We need to fix this. It is not good to have to restart the metastore server every week or two. I see two possible interim fixes until it is solved in core hadoop itself for all applications.&lt;br/&gt;
 1) Disable fs.cache and do fs.close() after every filesystem call in the code.  If there is a place to put the fs.close() after every request is executed it is easy. Or you might have to put fs.close() in too many places. Anyways it is not going to be good for performance.&lt;br/&gt;
  2) Add the fs.close() logic after a timeout to the current patch. Mithun was already working on this. I can&apos;t understand why you think it adds too much complexity. Other applications are already doing this. It will be difficult to answer to the Ops guys why we have a software that needs to be restarted often.&lt;/p&gt;</comment>
                            <comment id="13411808" author="mithun" created="Wed, 11 Jul 2012 18:20:37 +0000"  >&lt;p&gt;I should have the aging-cache +  FS.closeAllForUGI() code in a patch shortly. The approach is to have a clean-up thread toss out UGIs from the UGICache that are &quot;too old&quot;, after calling FS.closeAllForUGI(). The assumption is that a FileSystem instance is likely to be done with if it&apos;s been idle for 5 minutes. (The FS operations would have completed well before, given that they&apos;re largely directory-creation/listing operations.)&lt;/p&gt;

&lt;p&gt;It is probably worth a shot testing again with the FS.CACHE disabled, but as Rohini mentions, the last time I tried this, the problem persisted.&lt;/p&gt;</comment>
                            <comment id="13411828" author="tucu00" created="Wed, 11 Jul 2012 18:34:01 +0000"  >&lt;p&gt;@Mithun, if you are reading/writing a large file, you are still using the FS instance through the corresponding IN/OUT stream, you&apos;ll have to wrap those as well to check for FS activity. Futhermore, you should not close a FS is a stream is not closed.&lt;/p&gt;
</comment>
                            <comment id="13411835" author="ashutoshc" created="Wed, 11 Jul 2012 18:43:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tucu00&quot; class=&quot;user-hover&quot; rel=&quot;tucu00&quot;&gt;Alejandro Abdelnur&lt;/a&gt; : This is a metastore. So, in this context we only perform metadata operations, like create/rm dir/file. We never open/read/write files in this use-case.&lt;br/&gt;
Similarly, Daryn&apos;s point about cyclic dependency between dfsclient and renewal thread is moot here, since there are no write calls that we do.&lt;/p&gt;</comment>
                            <comment id="13411850" author="tucu00" created="Wed, 11 Jul 2012 18:53:59 +0000"  >&lt;p&gt;that makes sense, again this reinforces the point that apps have to do their own caching of FS as the one provided by Hadoop FS is not really useful &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13411872" author="rohini" created="Wed, 11 Jul 2012 19:08:55 +0000"  >&lt;p&gt;You are right. Since there is no way to track if a filesystem is actually still in use within hadoop (unless they start implementing reference counters for open IO and making a lot of things synchronized) and the knowledge lies with the application, the FSCache is not fully beneficial though its still very useful for client applications. Only server applications have this problem. Not having to track requests (unlike oozie and hdfsproxy) makes it a little more easy for metastore. &lt;/p&gt;</comment>
                            <comment id="13411908" author="daryn" created="Wed, 11 Jul 2012 19:58:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is a metastore. So, in this context we only perform metadata operations, like create/rm dir/file. We never open/read/write files in this use-case.  Similarly, Daryn&apos;s point about cyclic dependency between dfsclient and renewal thread is moot here, since there are no write calls that we do.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think you can create a file in dfs w/o creating a stream which starts the lease renewer.  I believe creation of an empty file involves an open/close.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;the FSCache is not fully beneficial though its still very useful for client applications. Only server applications have this problem&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The cache is actually useful for both clients and servers if used as designed.  In fact, &lt;tt&gt;closeAllForUGI&lt;/tt&gt; is specifically for servers.  Servers like the JT use it to avoid leaking filesystems like a sieve.  The general idea is to service a request something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;UserGroupInformation remoteUser = &amp;lt;get from somewhere or create it&amp;gt;;
remoteUser.doAs(...);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;followed by, or included at the end of the &lt;tt&gt;doAs&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileSystem.closeAllForUGI(remoteUser);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This pattern allows arbitrary code to freely obtain cached fs instances w/o requiring an explicit close.  When the request is finished, you know it&apos;s safe to close all the request&apos;s cached fs instances.  There&apos;s no need to track activity, etc.&lt;/p&gt;

&lt;p&gt;I&apos;m not going to tell anyone what to do.  I just think trying to roll a custom ugi/fs shared cache will add a lot of complexity and subtle edge-cases.&lt;/p&gt;</comment>
                            <comment id="13411960" author="rohini" created="Wed, 11 Jul 2012 20:30:37 +0000"  >&lt;p&gt;@Daryn&lt;br/&gt;
   The metastore only created directories. Does not create files. It only deletes them. So that should be ok. &lt;/p&gt;

&lt;p&gt;   When you have multiple parallel requests from same user, you cannot easily do a FileSystem.closeAllForUGI(remoteUser); The same FileSystem instance will be fetched by other threads from the cache and could still be in use. Only when you are certain that no other threads have reference to the FileSystem object, you can go ahead and close the filesystems.&lt;/p&gt;</comment>
                            <comment id="13412011" author="daryn" created="Wed, 11 Jul 2012 21:25:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;When you have multiple parallel requests from same user, you cannot easily do a FileSystem.closeAllForUGI(remoteUser); The same FileSystem instance will be fetched by other threads from the cache and could still be in use&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Correct, but it&apos;s only an issue when attempting to cache the ugi.  If you allow each request to continue to have its own ugi, then its completely safe to call &lt;tt&gt;FileSystem.closeAllForUGI&lt;/tt&gt; when the request is finished.  That one-liner should solve the leak.&lt;/p&gt;</comment>
                            <comment id="13413263" author="sanjay.radia" created="Thu, 12 Jul 2012 21:47:12 +0000"  >&lt;p&gt;&amp;gt; .. FileContext isn&apos;t going to offer a close method so it may still leak DFSClient instances.&lt;br/&gt;
We eliminated the cache completely in FileContext because the cache is a mess to deal with - however FileContext is not in active use and hence it still remains to be seen if it all works out in practice.&lt;/p&gt;</comment>
                            <comment id="13413726" author="daryn" created="Fri, 13 Jul 2012 13:32:32 +0000"  >&lt;p&gt;It&apos;s not the lack of a cache in &lt;tt&gt;FileContext&lt;/tt&gt; that causes the problem, but rather that it holds a reference to a fs, and possibly creates new fs instances on the fly, and there is no means to close them.  In the case of &lt;tt&gt;DFSClient&lt;/tt&gt; there are cyclic hard references that prevent the client from being gc-ed unless explicitly closed.  Even if those hard references are broken, the fs doesn&apos;t get a chance to abort streams and delete tmp files.&lt;/p&gt;</comment>
                            <comment id="13417698" author="mithun" created="Wed, 18 Jul 2012 21:27:32 +0000"  >&lt;p&gt;Here&apos;s an extension of the old patch, complete with FileSystem.closeAllForUGI() and cache-aging. This should address concerns about cache-cleanup and further memory-leaks.&lt;/p&gt;</comment>
                            <comment id="13417700" author="mithun" created="Wed, 18 Jul 2012 21:28:31 +0000"  >&lt;p&gt;(Re-upload, fixing the ASF license.)&lt;/p&gt;</comment>
                            <comment id="13417728" author="ashutoshc" created="Wed, 18 Jul 2012 21:54:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Thanks mithun for addressing the concerns. I will take a look shortly. Will it be easy for you to also update the phabricator link ?&lt;/p&gt;</comment>
                            <comment id="13417753" author="rohini" created="Wed, 18 Jul 2012 22:20:56 +0000"  >&lt;p&gt;Few comments: &lt;/p&gt;

&lt;p&gt;1) Better to have AGE_THRESHOLD configurable instead of a constant.&lt;/p&gt;

&lt;p&gt;2) LOG.debug(&quot;Cleaning up file-system handles for: &quot; + ugi); - Can be info&lt;/p&gt;

&lt;p&gt;3) if (ugi == null) ugi = newUgi; is redundant. There is no way ugi can be null after putIfAbsent call.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ugi = ugiCache.putIfAbsent(key, newUgi);
+           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ugi == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// New entry.
&lt;/span&gt;+             ugi = newUgi;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4) Would be good to move UGICache to a separate class.&lt;/p&gt;</comment>
                            <comment id="13417757" author="rohini" created="Wed, 18 Jul 2012 22:25:09 +0000"  >&lt;p&gt;Sorry. Ignore 3). That is valid. &lt;/p&gt;</comment>
                            <comment id="13418294" author="daryn" created="Thu, 19 Jul 2012 13:57:07 +0000"  >&lt;p&gt;It&apos;s probably safer to use the iterator&apos;s remove instead of a direct remove from the map.  Ie. change &lt;tt&gt;trashedUGIs.add(ugiCache.remove(entry.getKey())&lt;/tt&gt; to &lt;tt&gt;entry.remove(); trashedUGIs.add(entry.getKey)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;How does this protect against requests using trashed UGIs having their filesystems closed before the request is complete?  Is it assuming all requests will complete within the time interval between which the ugi is trashed and then purged?  If true, it seems fragile esp. when considering rpc retries, HA failover delays, etc.&lt;/p&gt;

&lt;p&gt;Has anyone benchmarked cached ugis to ensure this isn&apos;t a premature optimization?&lt;/p&gt;</comment>
                            <comment id="13418441" author="mithun" created="Thu, 19 Jul 2012 16:57:32 +0000"  >&lt;p&gt;Hey, All. First off, I&apos;m considering a rewrite, essentially identical but implemented via Guava caching. This will save on lines-of-code.&lt;/p&gt;

&lt;p&gt;@Ashutosh: Sure. I&apos;ll put a new patch on Phabricator, as soon as I&apos;ve incorporated Rohini&apos;s comments. The code could stand to be refactored.&lt;/p&gt;

&lt;p&gt;@Daryn: Thank you for reviewing.&lt;br/&gt;
1. If the concern is over ConcurrentModificationExceptions, that&apos;s not a problem since ugiCache is a ConcurrentHashMap. :]&lt;br/&gt;
2. Yes, that was the assumption, but you have a point. Perhaps a better way to deal with this is through WeakReferences (or some such).&lt;br/&gt;
3. I&apos;m not sure I follow your concern about premature-optimization. We&apos;re caching to avoid the creation of multiple FS instances. We&apos;ve seen from tests that this solves that problem. Would you please elaborate?&lt;/p&gt;</comment>
                            <comment id="13418485" author="daryn" created="Thu, 19 Jul 2012 17:40:41 +0000"  >&lt;p&gt;I think the large discussion has obscured the fact that there&apos;s nothing wrong with the fs api.  The leak is a result of hive misusing the fs api.  Simply calling &lt;tt&gt;FileSystem.closeAllForUGI(remoteUser)&lt;/tt&gt; at the end of a request will stop hive from leaking.  My guess, and I could be wrong, is that trying to cache UGIs will provide a negligible performance increase.  Hence why I question if this is premature optimization.&lt;/p&gt;</comment>
                            <comment id="13419908" author="ashutoshc" created="Sat, 21 Jul 2012 18:51:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Few comments on current patch.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;As Rohini suggested its a good idea to extract UGI in its own class, since HadoopThrift20SAuthBridge is already getting too big.&lt;/li&gt;
	&lt;li&gt;+1 on using Guava for this. &lt;tt&gt;CacheBuilder&lt;/tt&gt; class provides appropriate functionality for it.&lt;/li&gt;
	&lt;li&gt;I think configuring the size of cache with CacheBuilder::maximumSize(long size) might be better idea then time-based expiration. This way we can limit the cache size by memory rather time-based. What do you think?&lt;/li&gt;
	&lt;li&gt;Also, update HadoopShimsSecure::createRemoteUser() to do UGICache.getRemoteUser() from current UGI.createRemoteUser() so that it also benefits from ugi-cache.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13425007" author="mithun" created="Mon, 30 Jul 2012 17:01:27 +0000"  >&lt;p&gt;@Daryn: I was about to reply that calling FS.closeAllForUGI(remoteUser) would be dangerous if the UGI is shared across multiple requests, but that clearly can&apos;t be the case. :] Your suggestion warrants trying out. I&apos;ll post results as soon as I&apos;m done.&lt;/p&gt;

&lt;p&gt;@Ashutosh:&lt;br/&gt;
1. Yep. UGICache ballooned up more than expected. :]&lt;br/&gt;
2. Guava should be interesting.&lt;br/&gt;
3. You&apos;re right. We were considering the same, if only to do away with the cleanup thread.&lt;br/&gt;
4. I&apos;ll keep HadoopShimsSecure in mind. There&apos;s also HdfsAuthorizationProvider to be considered, in HCatalog code.&lt;/p&gt;

&lt;p&gt;I&apos;ll carry on with implementation iff Daryn&apos;s suggestion doesn&apos;t work out.&lt;/p&gt;</comment>
                            <comment id="13426796" author="mithun" created="Wed, 1 Aug 2012 18:28:14 +0000"  >&lt;p&gt;Good news.&lt;/p&gt;

&lt;p&gt;After applying the following change (i.e. to use FS.closeAllForUGI(), as was intended), I see that the memory footprint doesn&apos;t grow as before. The cleanup of FS handles is better. &lt;/p&gt;

&lt;p&gt;I left my stress-test running overnight. I see that the memory-footprint does grow when compared to running with the UGICache, (22MB vs 75MB). But it doesn&apos;t grow to the ludicrous proportions of the past (2GB). I&apos;m going to put the increase down to heap-fragmentation because of new object-creation (avoidable with the cache).&lt;/p&gt;

&lt;p&gt;Review, please?&lt;/p&gt;</comment>
                            <comment id="13427298" author="daryn" created="Thu, 2 Aug 2012 13:15:31 +0000"  >&lt;p&gt;+1 Looks great!  I see that 20S is in the class name.  The same behavior is needed for all releases so I&apos;m not sure if you need to add it to other files as well?&lt;/p&gt;</comment>
                            <comment id="13428381" author="mithun" created="Fri, 3 Aug 2012 21:03:14 +0000"  >&lt;p&gt;Thanks for reviewing, Daryn. Unless I&apos;m terribly mistaken, this is the only class that needs changing. &lt;/p&gt;

&lt;p&gt;Ashutosh, if this solution is acceptable, could this please be checked in?&lt;/p&gt;</comment>
                            <comment id="13430748" author="rohini" created="Tue, 7 Aug 2012 23:57:31 +0000"  >&lt;p&gt;Daryn,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;trying to cache UGIs will provide a negligible performance increase. Hence why I question if this is premature optimization.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;   Ran a small test. For a 10 node cluster with kerberos: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;First FileSystem.get() took 350-700ms. On one node it was ~350ms and other ~700ms. Did not spend time trying to analyze the reason behind the difference. Some of the time I assume is spent on fetching service ticket to NN, opening socket, etc.&lt;/li&gt;
	&lt;li&gt;Further FileSystem.get() for the same namenode took ~75ms (With fs.cache disabled or different UGIs with cache enabled).&lt;/li&gt;
	&lt;li&gt;If FileSystem is fetched from cache because of same UGI, it is 0-1 ms.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  Time might be slightly higher for a bigger cluster with namenode under heavy usage.&lt;/p&gt;

&lt;p&gt;  ~75ms is negligible at the moment. But as we move towards using hive for more realtime queries and we look at reducing the response times of the hive metastore operations, we can consider the UGI-FSCache patch as 75ms is ~25-40% of the response time for some hive metastore operations.&lt;/p&gt;

&lt;p&gt;  Hope this data is useful for &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7973&quot; title=&quot;DistributedFileSystem close has severe consequences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7973&quot;&gt;&lt;del&gt;HADOOP-7973&lt;/del&gt;&lt;/a&gt; too.   &lt;/p&gt;</comment>
                            <comment id="13444267" author="ashutoshc" created="Wed, 29 Aug 2012 18:05:55 +0000"  >&lt;p&gt;Mithun:&lt;/p&gt;

&lt;p&gt;Sorry for being late in getting back on this one. Patch looks good. There is a similar leak (and thus same fix) for unsecure case as well. It will be good to get that in too.&lt;/p&gt;</comment>
                            <comment id="13449930" author="mithun" created="Thu, 6 Sep 2012 18:45:23 +0000"  >&lt;p&gt;Posting updated patch for unsecure-Hadoop.&lt;/p&gt;</comment>
                            <comment id="13449934" author="mithun" created="Thu, 6 Sep 2012 18:48:37 +0000"  >&lt;p&gt;Updated patch that fixes the leak in TUGIBasedProcessor (alongside the fix in HadoopThriftAuthBridge20S.)&lt;/p&gt;</comment>
                            <comment id="13449937" author="mithun" created="Thu, 6 Sep 2012 18:49:16 +0000"  >&lt;p&gt;Thanks, Ashutosh and Alan. The new patch looks good.&lt;/p&gt;</comment>
                            <comment id="13450302" author="ashutoshc" created="Fri, 7 Sep 2012 03:37:39 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13450656" author="ashutoshc" created="Fri, 7 Sep 2012 14:23:08 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mithun &amp;amp; Rohini for your persistence on this one!&lt;/p&gt;</comment>
                            <comment id="13450978" author="hudson" created="Fri, 7 Sep 2012 21:02:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1654 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1654/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1654/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3098&quot; title=&quot;Memory leak from large number of FileSystem instances in FileSystem.CACHE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3098&quot;&gt;&lt;del&gt;HIVE-3098&lt;/del&gt;&lt;/a&gt; : Memory leak from large number of FileSystem instances in FileSystem.CACHE (Mithun R via Ashutosh Chauhan) (Revision 1382040)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382040&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/TUGIBasedProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13452481" author="mithun" created="Mon, 10 Sep 2012 21:46:35 +0000"  >&lt;p&gt;Gentlemen, would it be agreeable to get this fix into branch-0.9/? That would really help us.&lt;/p&gt;</comment>
                            <comment id="13455313" author="ashutoshc" created="Thu, 13 Sep 2012 21:21:57 +0000"  >&lt;p&gt;Committed to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13455465" author="hudson" created="Thu, 13 Sep 2012 23:57:15 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3098&quot; title=&quot;Memory leak from large number of FileSystem instances in FileSystem.CACHE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3098&quot;&gt;&lt;del&gt;HIVE-3098&lt;/del&gt;&lt;/a&gt; : Memory leak from large number of FileSystem instances in FileSystem.CACHE (Mithun Radhakrishnan via Ashutosh Chauhan) (Revision 1384541)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384541&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/TUGIBasedProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13455572" author="hudson" created="Fri, 14 Sep 2012 04:46:06 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3098&quot; title=&quot;Memory leak from large number of FileSystem instances in FileSystem.CACHE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3098&quot;&gt;&lt;del&gt;HIVE-3098&lt;/del&gt;&lt;/a&gt; : Memory leak from large number of FileSystem instances in FileSystem.CACHE (Mithun Radhakrishnan via Ashutosh Chauhan) (Revision 1384541)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384541&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/TUGIBasedProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548112" author="hudson" created="Wed, 9 Jan 2013 10:24:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3098&quot; title=&quot;Memory leak from large number of FileSystem instances in FileSystem.CACHE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3098&quot;&gt;&lt;del&gt;HIVE-3098&lt;/del&gt;&lt;/a&gt; : Memory leak from large number of FileSystem instances in FileSystem.CACHE (Mithun R via Ashutosh Chauhan) (Revision 1382040)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382040&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/TUGIBasedProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550290" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:07 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12595088">HDFS-3545</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12646151">HIVE-4501</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12668772">HIVE-5296</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12559588">HDFS-3513</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12764307">HIVE-9234</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538815" name="Hive-3098_(FS_closeAllForUGI()).patch" size="1906" author="mithun" created="Wed, 1 Aug 2012 18:28:14 +0000"/>
                            <attachment id="12537071" name="Hive_3098.patch" size="7257" author="mithun" created="Wed, 18 Jul 2012 21:28:31 +0000"/>
                            <attachment id="12544092" name="hive-3098.patch" size="5023" author="mithun" created="Thu, 6 Sep 2012 18:48:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jun 2012 16:17:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fs9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3099] add findbugs in build.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3099</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1172&quot; title=&quot;Add ant target to run FindBugs on Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1172&quot;&gt;&lt;del&gt;HIVE-1172&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2169&quot; title=&quot;Hive should have support for clover and findbugs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2169&quot;&gt;HIVE-2169&lt;/a&gt; &lt;br/&gt;
it was used default rules.&lt;br/&gt;
exclude filter file is in findbugs\findbugs-exclude.xml&lt;br/&gt;
the result of xml files to html file is not added because no style files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559650">HIVE-3099</key>
            <summary>add findbugs in build.xml</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ransom">Zhiqiang He</assignee>
                                    <reporter username="ransom">Zhiqiang He</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2012 07:27:04 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:25 +0000</updated>
                            <resolved>Sun, 10 Jun 2012 01:30:20 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13290865" author="ransom" created="Thu, 7 Jun 2012 07:35:05 +0000"  >&lt;p&gt;add findbugs paths.&lt;br/&gt;
please review it.&lt;/p&gt;</comment>
                            <comment id="13290880" author="ransom" created="Thu, 7 Jun 2012 08:20:43 +0000"  >&lt;p&gt;build success in my environment.&lt;/p&gt;

&lt;p&gt;ivy-init-settings:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: hive&lt;/p&gt;

&lt;p&gt;ivy-resolve-findbugs:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: hive&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: loading settings :: file = /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/ivy/ivysettings.xml&lt;/p&gt;

&lt;p&gt;ivy-retrieve-findbugs:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: hive&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:retrieve&amp;#93;&lt;/span&gt; 	conflict on /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/build/ivy/lib/findbugs/xml-apis.jar in &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt;: 1.0.b2 won&lt;/p&gt;

&lt;p&gt;check-for-findbugs:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: hive&lt;/p&gt;

&lt;p&gt;findbugs:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: hive&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/build/findbugs&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Executing findbugs from ant task&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Running FindBugs...&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Warnings generated: 578&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Missing classes: 1&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Calculating exit code...&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Setting &apos;missing class&apos; flag (2)&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Setting &apos;bugs found&apos; flag (1)&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Exit code set to: 3&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Java Result: 3&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Classes needed for analysis were missing&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;findbugs&amp;#93;&lt;/span&gt; Output saved to /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/build/findbugs/findbugs-report.xml&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 2 minutes 13 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;CHECKSTYLE&amp;#93;&lt;/span&gt; Collecting checkstyle analysis files...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;CHECKSTYLE&amp;#93;&lt;/span&gt; Parsing 1 files in /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;CHECKSTYLE&amp;#93;&lt;/span&gt; Successfully parsed file /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/build/checkstyle/checkstyle-errors.xml of module  with 5490 warnings.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;CHECKSTYLE&amp;#93;&lt;/span&gt; Computing warning deltas based on reference build #19&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;FINDBUGS&amp;#93;&lt;/span&gt; Collecting findbugs analysis files...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;FINDBUGS&amp;#93;&lt;/span&gt; Parsing 1 files in /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;FINDBUGS&amp;#93;&lt;/span&gt; Successfully parsed file /opt/jenkins/jenkins_home/jobs/Hive-trunk-h1.0.0/workspace/build/findbugs/findbugs-report.xml of module  with 578 warnings.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ANALYSIS-COLLECTOR&amp;#93;&lt;/span&gt; Computing warning deltas based on reference build #19&lt;br/&gt;
Finished: SUCCESS&lt;/p&gt;</comment>
                            <comment id="13291783" author="ransom" created="Fri, 8 Jun 2012 13:57:43 +0000"  >&lt;p&gt;please review it . thanks.&lt;/p&gt;</comment>
                            <comment id="13292455" author="appodictic" created="Sun, 10 Jun 2012 01:10:18 +0000"  >&lt;p&gt;.Tested find bug generates output. +1 will commit.&lt;/p&gt;</comment>
                            <comment id="13292457" author="appodictic" created="Sun, 10 Jun 2012 01:30:20 +0000"  >&lt;p&gt;Nice work. This should be very helpful. &lt;/p&gt;</comment>
                            <comment id="13292484" author="hudson" created="Sun, 10 Jun 2012 07:24:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1477 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1477/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1477/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3099&quot; title=&quot;add findbugs in build.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3099&quot;&gt;&lt;del&gt;HIVE-3099&lt;/del&gt;&lt;/a&gt;. add findbugs in build.xml (Ransom Hezhiqiang via egc) (Revision 1348521)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348521&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348521&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/findbugs&lt;/li&gt;
	&lt;li&gt;/hive/trunk/findbugs/findbugs-exclude.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548111" author="hudson" created="Wed, 9 Jan 2013 10:24:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3099&quot; title=&quot;add findbugs in build.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3099&quot;&gt;&lt;del&gt;HIVE-3099&lt;/del&gt;&lt;/a&gt;. add findbugs in build.xml (Ransom Hezhiqiang via egc) (Revision 1348521)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348521&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348521&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/findbugs&lt;/li&gt;
	&lt;li&gt;/hive/trunk/findbugs/findbugs-exclude.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550111" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:25 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12507720">HIVE-2169</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12456292">HIVE-1172</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12531237" name="HIVE-3099-1.patch" size="7513" author="ransom" created="Thu, 7 Jun 2012 07:35:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Jun 2012 01:10:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3100] Add HiveCLI that runs over JDBC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3100</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12559659">HIVE-3100</key>
            <summary>Add HiveCLI that runs over JDBC</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2012 09:32:23 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:16 +0000</updated>
                            <resolved>Mon, 2 Jul 2012 23:07:24 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13290907" author="cwsteinbach" created="Thu, 7 Jun 2012 09:37:51 +0000"  >&lt;p&gt;This was discussed previously in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-987&quot; title=&quot;Hive CLI Omnibus Improvement ticket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-987&quot;&gt;HIVE-987&lt;/a&gt;. The basic idea is to implement an alternative CLI for Hive by running &lt;a href=&quot;http://sqlline.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SQLLine&lt;/a&gt; on top of the Hive JDBC driver.&lt;/p&gt;</comment>
                            <comment id="13290909" author="cwsteinbach" created="Thu, 7 Jun 2012 09:46:44 +0000"  >&lt;p&gt;FYI: There&apos;s a WIP patch attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-987&quot; title=&quot;Hive CLI Omnibus Improvement ticket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-987&quot;&gt;HIVE-987&lt;/a&gt; that&apos;s worth looking at.&lt;/p&gt;</comment>
                            <comment id="13393684" author="cwsteinbach" created="Mon, 18 Jun 2012 06:31:05 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/5381/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5381/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13395461" author="cwsteinbach" created="Mon, 18 Jun 2012 07:56:46 +0000"  >&lt;p&gt;@Prasad: Please see my comments on reviewboard. Thanks.&lt;/p&gt;</comment>
                            <comment id="13400773" author="prasadm" created="Mon, 25 Jun 2012 18:54:21 +0000"  >&lt;p&gt;New Review request: &lt;a href=&quot;https://reviews.apache.org/r/5554/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5554/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13404268" author="cwsteinbach" created="Fri, 29 Jun 2012 22:07:58 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;@Prasad: Can you please attach the most recent version of the patch and change the status of this ticket to patch available? Thanks.&lt;/p&gt;</comment>
                            <comment id="13404283" author="prasadm" created="Fri, 29 Jun 2012 22:27:59 +0000"  >&lt;p&gt;Attached the reviewed patch&lt;/p&gt;</comment>
                            <comment id="13405424" author="cwsteinbach" created="Mon, 2 Jul 2012 23:07:24 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prasad!&lt;/p&gt;</comment>
                            <comment id="13405712" author="hudson" created="Tue, 3 Jul 2012 09:15:48 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1526 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1526/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1526/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3100&quot; title=&quot;Add HiveCLI that runs over JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3100&quot;&gt;&lt;del&gt;HIVE-3100&lt;/del&gt;&lt;/a&gt;. Add HiveCLI that runs over JDBC (Prasad Mujumdar via cws) (Revision 1356516)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1356516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1356516&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/LICENSE&lt;/li&gt;
	&lt;li&gt;/hive/trunk/NOTICE&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/ext/beeline.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/.classpath&lt;/li&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/HiveBeeLine.launchtemplate&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline/HiveBeeline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline/OptionsProcessor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547878" author="hudson" created="Wed, 9 Jan 2013 10:23:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3100&quot; title=&quot;Add HiveCLI that runs over JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3100&quot;&gt;&lt;del&gt;HIVE-3100&lt;/del&gt;&lt;/a&gt;. Add HiveCLI that runs over JDBC (Prasad Mujumdar via cws) (Revision 1356516)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1356516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1356516&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/LICENSE&lt;/li&gt;
	&lt;li&gt;/hive/trunk/NOTICE&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/ext/beeline.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/.classpath&lt;/li&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/HiveBeeLine.launchtemplate&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline/HiveBeeline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/beeline/OptionsProcessor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550071" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:16 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12595236">HIVE-3166</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12560403">HIVE-3122</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12443295">HIVE-987</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12534062" name="HIVE-3100-9.patch" size="22553" author="prasadm" created="Fri, 29 Jun 2012 22:27:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jun 2012 18:54:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3101] dropTable will all ways excute hook.rollbackDropTable whether drop table success or faild.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3101</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;see  the codes:&lt;br/&gt;
 boolean success = false;&lt;br/&gt;
    try {&lt;br/&gt;
      client.drop_table(dbname, name, deleteData);&lt;br/&gt;
      if (hook != null) &lt;/p&gt;
{
        hook.commitDropTable(tbl, deleteData);
      }
&lt;p&gt;    } catch (NoSuchObjectException e) {&lt;br/&gt;
      if (!ignoreUknownTab) &lt;/p&gt;
{
        throw e;
      }
&lt;p&gt;    } finally {&lt;br/&gt;
      if (!success &amp;amp;&amp;amp; (hook != null)) &lt;/p&gt;
{
        hook.rollbackDropTable(tbl);
      }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;success  will always false, whether  the drop was success or faild.&lt;br/&gt;
so it&apos;s a bug. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12559669">HIVE-3101</key>
            <summary>dropTable will all ways excute hook.rollbackDropTable whether drop table success or faild.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ransom">Zhiqiang He</assignee>
                                    <reporter username="ransom">Zhiqiang He</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2012 11:12:50 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:01 +0000</updated>
                            <resolved>Sun, 10 Jun 2012 02:07:58 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13290930" author="ransom" created="Thu, 7 Jun 2012 11:14:48 +0000"  >&lt;p&gt;add success=true in the codes.&lt;/p&gt;</comment>
                            <comment id="13291809" author="appodictic" created="Fri, 8 Jun 2012 14:51:21 +0000"  >&lt;p&gt;Can we create a unit test around this? Hooks should print during testing and then we have some coverage here.&lt;/p&gt;</comment>
                            <comment id="13291812" author="ransom" created="Fri, 8 Jun 2012 15:02:36 +0000"  >&lt;p&gt;the default hook is HBaseStorageHandler, it will be cover these codes when create hbase table. &lt;br/&gt;
so i think we already have some unit test about hbase table in hive. &lt;br/&gt;
it doesn&apos;t need to create unit test.&lt;br/&gt;
if we need more test case, i will create it. &lt;/p&gt;</comment>
                            <comment id="13291814" author="appodictic" created="Fri, 8 Jun 2012 15:06:09 +0000"  >&lt;p&gt;I will review.&lt;/p&gt;</comment>
                            <comment id="13292460" author="appodictic" created="Sun, 10 Jun 2012 01:52:06 +0000"  >&lt;p&gt;+1 will commit.&lt;/p&gt;</comment>
                            <comment id="13292464" author="appodictic" created="Sun, 10 Jun 2012 02:07:58 +0000"  >&lt;p&gt;Committed. Thanks.&lt;/p&gt;</comment>
                            <comment id="13292485" author="hudson" created="Sun, 10 Jun 2012 07:24:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1477 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1477/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1477/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3101&quot; title=&quot;dropTable will all ways excute hook.rollbackDropTable whether drop table success or faild.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3101&quot;&gt;&lt;del&gt;HIVE-3101&lt;/del&gt;&lt;/a&gt;. Drop table rollback hook always called. (Ransom Hezhiqiang via egc) (Revision 1348523)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348523&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348523&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547883" author="hudson" created="Wed, 9 Jan 2013 10:23:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3101&quot; title=&quot;dropTable will all ways excute hook.rollbackDropTable whether drop table success or faild.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3101&quot;&gt;&lt;del&gt;HIVE-3101&lt;/del&gt;&lt;/a&gt;. Drop table rollback hook always called. (Ransom Hezhiqiang via egc) (Revision 1348523)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348523&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1348523&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550007" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:01 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12531253" name="HIVE-3101.1.patch" size="568" author="ransom" created="Thu, 7 Jun 2012 11:14:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jun 2012 14:51:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02uev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14528</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3102] Stats collection tests should not set datanucleus.cache.collections</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3102</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12559744">HIVE-3102</key>
            <summary>Stats collection tests should not set datanucleus.cache.collections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2012 20:01:11 +0000</created>
                <updated>Thu, 7 Jun 2012 20:14:25 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Statistics</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13291271" author="cwsteinbach" created="Thu, 7 Jun 2012 20:06:23 +0000"  >&lt;p&gt;Tests should rely on the default settings for DN internal configuration properties. The following tests set datanucleus.cache.collections to false (the default value is true):&lt;/p&gt;


&lt;p&gt;./hbase-handler/src/test/queries/positive/hbase_stats.q&lt;br/&gt;
./hbase-handler/src/test/queries/positive/hbase_stats2.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/database_properties.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats0.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats1.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats10.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats11.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats12.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats13.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats14.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats15.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats2.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats3.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats4.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats5.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats6.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats7.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats8.q&lt;br/&gt;
./ql/src/test/queries/clientpositive/stats9.q&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12559745">HIVE-3103</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3103] Metastore operations fail when datanucleus.cache.collections=false</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3103</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12559745">HIVE-3103</key>
            <summary>Metastore operations fail when datanucleus.cache.collections=false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jun 2012 20:14:08 +0000</created>
                <updated>Tue, 14 Jan 2014 06:04:19 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13291276" author="cwsteinbach" created="Thu, 7 Jun 2012 20:22:26 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% hive -hiveconf hive.root.logger=INFO,console
hive&amp;gt; set datanucleus.cache.collections=false;
OK
hive&amp;gt; CREATE TABLE t1(x INT);
OK
hive&amp;gt; DESCRIBE t1;
12/06/07 13:19:26 ERROR exec.Task: FAILED: Error in metadata: Unable to fetch table t1
org.apache.hadoop.hive.ql.metadata.HiveException: Unable to fetch table t1
	at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:897)
	at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:844)
	at org.apache.hadoop.hive.ql.exec.DDLTask.describeTable(DDLTask.java:2545)
	at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:309)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:134)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1322)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1108)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:943)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:258)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:215)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:406)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:702)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:567)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
Caused by: java.lang.NullPointerException
	at org.datanucleus.sco.simple.Set.&amp;lt;init&amp;gt;(Set.java:68)
	at org.datanucleus.sco.backed.Set.&amp;lt;init&amp;gt;(Set.java:94)
	at org.datanucleus.sco.backed.Map.entrySet(Map.java:418)
	at org.apache.hadoop.hive.metastore.api.SerDeInfo.&amp;lt;init&amp;gt;(SerDeInfo.java:141)
	at org.apache.hadoop.hive.metastore.api.StorageDescriptor.&amp;lt;init&amp;gt;(StorageDescriptor.java:225)
	at org.apache.hadoop.hive.metastore.api.Table.&amp;lt;init&amp;gt;(Table.java:244)
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.deepCopy(HiveMetaStoreClient.java:1008)
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getTable(HiveMetaStoreClient.java:747)
	at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:889)
	... 18 more

FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
hive&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13870425" author="navis" created="Tue, 14 Jan 2014 06:04:19 +0000"  >&lt;p&gt;Cannot reproduce on trunk. Seemed to be fixed by recent version of datanucleus.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12559744">HIVE-3102</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Jan 2014 06:04:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259067</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3104] Predicate pushdown doesn&apos;t work with multi-insert statements using LATERAL VIEW</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3104</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Predicate pushdown seems to work for single-insert queries using LATERAL VIEW. It also seems to work for multi-insert queries &lt;b&gt;not&lt;/b&gt; using LATERAL VIEW. However, it doesn&apos;t work for multi-insert queries using LATERAL VIEW: It errors out right away with &apos;FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10041&amp;#93;&lt;/span&gt;: No partition predicate found for Alias &quot;test&quot; Table &quot;test&quot;&apos;.&lt;/p&gt;

&lt;p&gt;Here are some examples. In the below examples, I make use of the fact that a query with no partition filtering when run under &quot;hive.mapred.mode=strict&quot; fails.&lt;/p&gt;

&lt;p&gt;--Table creation and population&lt;br/&gt;
DROP TABLE IF EXISTS test;&lt;br/&gt;
CREATE TABLE test (col1 array&amp;lt;int&amp;gt;, col2 int)  PARTITIONED BY (part_col int);&lt;br/&gt;
INSERT OVERWRITE TABLE test PARTITION (part_col=1) SELECT array(1,2), count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM test;&lt;br/&gt;
INSERT OVERWRITE TABLE test PARTITION (part_col=2) SELECT array(2,4,6), count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM test;&lt;/p&gt;

&lt;p&gt;&amp;#8211; Query 1&lt;br/&gt;
&amp;#8211; This succeeds (using LATERAL VIEW with single insert)&lt;br/&gt;
set hive.mapred.mode=strict;&lt;br/&gt;
FROM test&lt;br/&gt;
LATERAL VIEW explode(col1) tmp AS exp_col1&lt;br/&gt;
INSERT OVERWRITE DIRECTORY &apos;/test/1&apos;&lt;br/&gt;
    SELECT exp_col1&lt;br/&gt;
    WHERE (part_col=2);&lt;/p&gt;

&lt;p&gt;&amp;#8211; Query 2&lt;br/&gt;
&amp;#8211; This succeeds (NOT using LATERAL VIEW with multi-insert)&lt;br/&gt;
set hive.mapred.mode=strict;&lt;br/&gt;
FROM test&lt;br/&gt;
INSERT OVERWRITE DIRECTORY &apos;/test/1&apos;&lt;br/&gt;
    SELECT col1&lt;br/&gt;
    WHERE (part_col=2)&lt;br/&gt;
INSERT OVERWRITE DIRECTORY &apos;/test/2&apos;&lt;br/&gt;
    SELECT col1&lt;br/&gt;
    WHERE (part_col=2);&lt;/p&gt;

&lt;p&gt;&amp;#8211; Query 3&lt;br/&gt;
&amp;#8211; This fails (using LATERAL VIEW with multi-insert)&lt;br/&gt;
set hive.mapred.mode=strict;&lt;br/&gt;
FROM test&lt;br/&gt;
LATERAL VIEW explode(col1) tmp AS exp_col1&lt;br/&gt;
INSERT OVERWRITE DIRECTORY &apos;/test/1&apos;&lt;br/&gt;
    SELECT exp_col1&lt;br/&gt;
    WHERE (part_col=2)&lt;br/&gt;
INSERT OVERWRITE DIRECTORY &apos;/test/2&apos;&lt;br/&gt;
    SELECT exp_col1&lt;br/&gt;
    WHERE (part_col=2);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Hive 0.9.0, Apache Hadoop 0.20.205.0&lt;/p&gt;</environment>
        <key id="12559789">HIVE-3104</key>
            <summary>Predicate pushdown doesn&apos;t work with multi-insert statements using LATERAL VIEW</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jun 2012 04:09:04 +0000</created>
                <updated>Thu, 29 Aug 2013 21:58:11 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>CLI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13536934" author="cyril.liao" created="Thu, 20 Dec 2012 10:45:55 +0000"  >&lt;p&gt;LATER VIEW doesn&apos;t work with UNION ALL too.&lt;br/&gt;
query NO.1:&lt;br/&gt;
 SELECT&lt;br/&gt;
     1 as from_pid,&lt;br/&gt;
     1 as to_pid,&lt;br/&gt;
     cid as from_path,&lt;br/&gt;
     (CASE WHEN pid=0 THEN cid ELSE pid END) as to_path,&lt;br/&gt;
     0 as status&lt;br/&gt;
FROM&lt;br/&gt;
    (SELECT union_map(c_map) AS c_map&lt;br/&gt;
     FROM&lt;br/&gt;
         (SELECT collect_map(id,parent_id)AS c_map&lt;br/&gt;
          FROM&lt;br/&gt;
          wl_channels&lt;br/&gt;
          GROUP BY id,parent_id&lt;br/&gt;
          )tmp&lt;br/&gt;
    )tmp2&lt;br/&gt;
LATERAL VIEW recursion_concat(c_map) a AS cid, pid&lt;/p&gt;

&lt;p&gt;this query returns about 10000 rows ,and there status is 0.&lt;/p&gt;

&lt;p&gt;query NO.2:&lt;br/&gt;
 select&lt;br/&gt;
  a.from_pid as from_pid,&lt;br/&gt;
  a.to_pid as to_pid, &lt;br/&gt;
  a.from_path as from_path,&lt;br/&gt;
  a.to_path as to_path,&lt;br/&gt;
  a.status as status&lt;br/&gt;
from wl_dc_channels a&lt;br/&gt;
  where a.status &amp;lt;&amp;gt; 0&lt;/p&gt;

&lt;p&gt;this query returns about 100 rows ,and there status is 1 or 2.&lt;/p&gt;

&lt;p&gt;query NO.3:&lt;br/&gt;
select&lt;br/&gt;
  from_pid,&lt;br/&gt;
  to_pid,&lt;br/&gt;
  from_path,&lt;br/&gt;
  to_path,&lt;br/&gt;
  status&lt;br/&gt;
 from&lt;br/&gt;
(&lt;br/&gt;
 SELECT&lt;br/&gt;
     1 as from_pid,&lt;br/&gt;
     1 as to_pid,&lt;br/&gt;
     cid as from_path,&lt;br/&gt;
     (CASE WHEN pid=0 THEN cid ELSE pid END) as to_path,&lt;br/&gt;
     0 as status&lt;br/&gt;
FROM&lt;br/&gt;
    (SELECT union_map(c_map) AS c_map&lt;br/&gt;
     FROM&lt;br/&gt;
         (SELECT collect_map(id,parent_id)AS c_map&lt;br/&gt;
          FROM&lt;br/&gt;
          wl_channels&lt;br/&gt;
          GROUP BY id,parent_id&lt;br/&gt;
          )tmp&lt;br/&gt;
    )tmp2&lt;br/&gt;
LATERAL VIEW recursion_concat(c_map) a AS cid, pid&lt;br/&gt;
union all&lt;br/&gt;
 select&lt;br/&gt;
  a.from_pid as from_pid,&lt;br/&gt;
  a.to_pid as to_pid, &lt;br/&gt;
  a.from_path as from_path,&lt;br/&gt;
  a.to_path as to_path,&lt;br/&gt;
  a.status as status&lt;br/&gt;
from wl_dc_channels a&lt;br/&gt;
  where a.status &amp;lt;&amp;gt; 0&lt;br/&gt;
) unin_tbl&lt;/p&gt;

&lt;p&gt;this query has the same result as query NO.2&lt;/p&gt;</comment>
                            <comment id="13537398" author="mgrover" created="Thu, 20 Dec 2012 21:31:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cyril.liao&quot; class=&quot;user-hover&quot; rel=&quot;cyril.liao&quot;&gt;cyril liao&lt;/a&gt; can you create a separate JIRA for the above please? &lt;/p&gt;</comment>
                            <comment id="13537714" author="cyril.liao" created="Fri, 21 Dec 2012 06:57:06 +0000"  >&lt;p&gt;ok&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Dec 2012 10:45:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>predicate pushdown, multi-insert, lateral view, udtf</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3105] HIVE-895 introduced build errors in Eclipse</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3105</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-895&quot; title=&quot;Add SerDe for Avro serialized data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-895&quot;&gt;&lt;del&gt;HIVE-895&lt;/del&gt;&lt;/a&gt; added some more jars to ivy.xml, but did not add them to Eclipse&apos;s classpath causing the Eclipse build to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559889">HIVE-3105</key>
            <summary>HIVE-895 introduced build errors in Eclipse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jun 2012 19:51:46 +0000</created>
                <updated>Fri, 8 Jun 2012 20:40:19 +0000</updated>
                            <resolved>Fri, 8 Jun 2012 20:40:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13291974" author="cwsteinbach" created="Fri, 8 Jun 2012 20:34:24 +0000"  >&lt;p&gt;@Kevin: This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3013&quot; title=&quot;TestCliDriver cannot be debugged with eclipse since hadoop_home is set incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3013&quot;&gt;&lt;del&gt;HIVE-3013&lt;/del&gt;&lt;/a&gt;. Can you please review that patch? Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12554543">HIVE-3013</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12531434" name="HIVE-3105.1.patch.txt" size="893" author="kevinwilfong" created="Fri, 8 Jun 2012 19:55:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jun 2012 20:34:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3106] Add option to make multi inserts more atomic</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3106</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, with multi-insert queries as soon the output of one of the inserts is ready the move task associated with that insert is run, creating the table/partition.  However, if concurrency is enabled the lock on this table/partition is not released until the entire query finishes, which can be much later.&lt;/p&gt;

&lt;p&gt;This causes issues if, for example, a user is waiting for an output of the multi-insert query which is created long before the other outputs, and checking for it&apos;s existence using the metastore&apos;s Thrift methods (get_table/get_partition).  In which case, the user will run their query which uses the output, and it will experience a timeout trying to acquire the lock on the table/partition.&lt;/p&gt;

&lt;p&gt;If all the move tasks depend on the parent&apos;s of all other move tasks, the output creation will be much closer to atomic relieving this problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559891">HIVE-3106</key>
            <summary>Add option to make multi inserts more atomic</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jun 2012 20:02:32 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:07 +0000</updated>
                            <resolved>Fri, 15 Jun 2012 20:49:01 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13292048" author="kevinwilfong" created="Fri, 8 Jun 2012 22:27:39 +0000"  >&lt;p&gt;Submitted a diff here &lt;a href=&quot;https://reviews.facebook.net/D3561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3561&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13292940" author="kevinwilfong" created="Mon, 11 Jun 2012 18:18:49 +0000"  >&lt;p&gt;Spoke with njain offline. He suggested adding a dummy task which depends on the tasks each move task would depend on, and which has move tasks as its children. This will reduce the number of dependency edges in the dependency graph. This dummy task (DependencyCollectionTask) will only be added if this option is turned on.&lt;/p&gt;</comment>
                            <comment id="13292961" author="cwsteinbach" created="Mon, 11 Jun 2012 18:41:09 +0000"  >&lt;p&gt;@Kevin: I added some comments on phabricator.&lt;/p&gt;</comment>
                            <comment id="13293059" author="kevinwilfong" created="Mon, 11 Jun 2012 20:45:19 +0000"  >&lt;p&gt;Per Carl&apos;s comments, explicitely stated the advantages/disadvantages, removed atomic from the name of the configuration variable, as this is not really true, removed references to &quot;outputs&quot; in description of config.&lt;/p&gt;

&lt;p&gt;Also, fixed an issue, where if a file was taking a long time to produce, there would still be a long time between when the tables/partitions are produced and when the locks on them are released. Now, when the option is set, the DependencyCollection task depends on the dependencies of the move tasks for files, but the move tasks for files do not depend on the DependencyCollection task, as there are no locks on these files so there would not be any advantage.&lt;/p&gt;

&lt;p&gt;Added a new test case for this additional functionality.&lt;/p&gt;</comment>
                            <comment id="13294040" author="kevinwilfong" created="Wed, 13 Jun 2012 01:02:09 +0000"  >&lt;p&gt;Updated diff per Namit&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13295917" author="namit" created="Fri, 15 Jun 2012 20:49:01 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13295919" author="cwsteinbach" created="Fri, 15 Jun 2012 20:56:05 +0000"  >&lt;p&gt;@Kevin: Please attach the version of the patch that Namit committed.&lt;/p&gt;

&lt;p&gt;@Namit: Please set the fix version field and add a release note with the name of the configuration property added in this patch.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13296099" author="hudson" created="Sat, 16 Jun 2012 04:13:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1490 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1490/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1490/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; Add option to make multi inserts more atomic&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1350792)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350792&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350792&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/if/queryplan.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/StageType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-php/queryplan/queryplan_types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DependencyCollectionTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TaskFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DependencyCollectionWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert_move_tasks_share_dependencies.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547835" author="hudson" created="Wed, 9 Jan 2013 10:23:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; Add option to make multi inserts more atomic&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1350792)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350792&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1350792&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/if/queryplan.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/StageType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-php/queryplan/queryplan_types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DependencyCollectionTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TaskFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DependencyCollectionWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert_move_tasks_share_dependencies.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550291" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:07 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12531456" name="HIVE-3106.1.patch.txt" size="320644" author="kevinwilfong" created="Fri, 8 Jun 2012 22:28:02 +0000"/>
                            <attachment id="12532238" name="HIVE-3106.2.patch.txt" size="473209" author="kevinwilfong" created="Fri, 15 Jun 2012 21:00:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jun 2012 18:41:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ucn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3107] Improve semantic analyzer to better handle column name references in group by/sort by clauses</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3107</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1922&quot; title=&quot;semantic analysis error, when using group by and order by together&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1922&quot;&gt;&lt;del&gt;HIVE-1922&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Following queries all fail with various SemanticExceptions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;explain select t.c from t group by c;
explain select t.c from t group by c sort by t.c; 
explain select t.c as c0 from t group by c0;
explain select t.c from t group by t.c sort by t.c; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is true that one could always find a version of any of above queries that works. But one has to try to find out and it doesn&apos;t work well with machine generated SQL queries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12559915">HIVE-3107</key>
            <summary>Improve semantic analyzer to better handle column name references in group by/sort by clauses</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rding">Richard Ding</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Jun 2012 00:40:37 +0000</created>
                <updated>Wed, 8 Oct 2014 13:28:07 +0000</updated>
                            <resolved>Tue, 19 Nov 2013 17:25:23 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13292619" author="appodictic" created="Mon, 11 Jun 2012 02:32:44 +0000"  >&lt;p&gt;While this can be annoying, it is not an issue. It is the way the language is designed. I believe we have other jira issues that this essentially duplicates&lt;/p&gt;</comment>
                            <comment id="13292867" author="rding" created="Mon, 11 Jun 2012 16:38:50 +0000"  >


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: Error in semantic analysis: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
12/06/11 09:36:56 ERROR ql.Driver: FAILED: Error in semantic analysis: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7510)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2256)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2058)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:5921)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6524)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7282)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13292881" author="rding" created="Mon, 11 Jun 2012 17:00:00 +0000"  >&lt;p&gt;These are issues for us since many of our SQL queries are machine generated. If this is by design, then it is not documented (i.e., what are invalid statements). I think these are just defects and not by design. The main problem with the above queries is that the column names are not in canonical forms, so it&apos;s hard for semantic analyzer to correlate column names in different clauses. &lt;/p&gt;

&lt;p&gt;Here are some stack traces:&lt;/p&gt;

&lt;p&gt;1. explain select t.c from t group by c;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: Error in semantic analysis: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
12/06/11 09:36:56 ERROR ql.Driver: FAILED: Error in semantic analysis: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 1:15 Expression not in GROUP BY key &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7510)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2256)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2058)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:5921)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6524)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7282)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. explain select t.c as c0 from t group by c0;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: Error in semantic analysis: Line 1:41 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;c0&apos;&lt;/span&gt;: (possible column names are: c)
12/06/11 09:50:18 ERROR ql.Driver: FAILED: Error in semantic analysis: Line 1:41 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;c0&apos;&lt;/span&gt;: (possible column names are: c)
org.apache.hadoop.hive.ql.parse.SemanticException: Line 1:41 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;c0&apos;&lt;/span&gt;: (possible column names are: c)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7510)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7464)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanMapGroupByOperator(SemanticAnalyzer.java:2739)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genGroupByPlanMapAggr1MR(SemanticAnalyzer.java:3405)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:5902)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6524)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7282)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. explain select t.c from t group by t.c sort by t.c;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: Error in semantic analysis: Line 1:47 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;t&apos;&lt;/span&gt;: (possible column names are: _col0)
12/06/11 09:52:00 ERROR ql.Driver: FAILED: Error in semantic analysis: Line 1:47 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;t&apos;&lt;/span&gt;: (possible column names are: _col0)
org.apache.hadoop.hive.ql.parse.SemanticException: Line 1:47 Invalid table alias or column reference &lt;span class=&quot;code-quote&quot;&gt;&apos;t&apos;&lt;/span&gt;: (possible column names are: _col0)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7510)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7464)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genReduceSinkPlan(SemanticAnalyzer.java:4562)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:5936)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6524)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7282)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The last case is interesting because all the column names are of the same form (but it still fails).&lt;/p&gt;</comment>
                            <comment id="13293887" author="rding" created="Tue, 12 Jun 2012 20:09:28 +0000"  >&lt;p&gt;@Edward, why do you say this is by design? &lt;/p&gt;

&lt;p&gt;Why does the following statement is legal?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select t.c from t group by t.c sort by c;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while this one is not?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select t.c from t group by t.c sort by t.c;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13293892" author="appodictic" created="Tue, 12 Jun 2012 20:17:40 +0000"  >&lt;p&gt;&quot;By design&quot; I mean to say that it has always been that way. We have unit tests and as far as I know we have had no regressions. If we want semantic analysis to be easier or more intelligent it is a &quot;feature request&quot; not an &quot;error&quot;.&lt;/p&gt;</comment>
                            <comment id="13295288" author="rding" created="Thu, 14 Jun 2012 20:20:27 +0000"  >&lt;p&gt;Thanks. I changed this to improvement.&lt;/p&gt;</comment>
                            <comment id="13738241" author="xuefuz" created="Tue, 13 Aug 2013 13:58:16 +0000"  >&lt;p&gt;I plan to make this improvement, so assign it to me. Please feel free to take it from me if anyone likes to work on it.&lt;/p&gt;</comment>
                            <comment id="13817711" author="rhbutani" created="Fri, 8 Nov 2013 21:33:18 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/15361/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/15361/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13818024" author="hiveqa" created="Sat, 9 Nov 2013 05:33:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12612892/HIVE-3107.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12612892/HIVE-3107.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4599 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_colname
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_notable_alias3
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby1
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby5
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_nonkey_groupby
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/222/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/222/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/222/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/222/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12612892&lt;/p&gt;</comment>
                            <comment id="13822786" author="rhbutani" created="Thu, 14 Nov 2013 19:15:50 +0000"  >&lt;p&gt;Review at &lt;a href=&quot;https://reviews.apache.org/r/15525/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/15525/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13823852" author="hiveqa" created="Fri, 15 Nov 2013 17:48:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12613898/HIVE-3107.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12613898/HIVE-3107.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4614 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/300/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/300/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/300/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/300/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12613898&lt;/p&gt;</comment>
                            <comment id="13824245" author="ashutoshc" created="Fri, 15 Nov 2013 23:42:28 +0000"  >&lt;p&gt;Patch looks good. Left one comment on RB. Tests looks good.&lt;/p&gt;</comment>
                            <comment id="13824248" author="ashutoshc" created="Fri, 15 Nov 2013 23:46:07 +0000"  >&lt;p&gt;Also, can you take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1922&quot; title=&quot;semantic analysis error, when using group by and order by together&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1922&quot;&gt;&lt;del&gt;HIVE-1922&lt;/del&gt;&lt;/a&gt; there are few queries listed there which we might be able to support with this work. It will be good to add those in testcases if you haven&apos;t covered a variant of those already. &lt;/p&gt;</comment>
                            <comment id="13824359" author="ashutoshc" created="Sat, 16 Nov 2013 03:23:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13824717" author="hiveqa" created="Sun, 17 Nov 2013 03:09:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614190/HIVE-3107.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614190/HIVE-3107.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 30 failed/errored test(s), 4615 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_global_limit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_cube1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_rollup1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_limit_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_lazydecompress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_reduce_deduplicate_extended
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_collect_set
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_json_tuple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_limit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_virtual_column
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/330/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/330/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/330/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/330/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 30 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614190&lt;/p&gt;</comment>
                            <comment id="13825158" author="hiveqa" created="Mon, 18 Nov 2013 07:54:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614330/HIVE-3107.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614330/HIVE-3107.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4610 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_clustern1
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/336/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/336/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/336/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/336/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614330&lt;/p&gt;</comment>
                            <comment id="13825694" author="rhbutani" created="Mon, 18 Nov 2013 19:54:52 +0000"  >&lt;p&gt;remove -ve test clustern.q;&lt;br/&gt;
move query to gby_resolution.q as a +ve test case&lt;/p&gt;</comment>
                            <comment id="13826225" author="hiveqa" created="Tue, 19 Nov 2013 05:49:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614463/HIVE-3107.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614463/HIVE-3107.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4617 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/352/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/352/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/352/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/352/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614463&lt;/p&gt;</comment>
                            <comment id="13826708" author="ashutoshc" created="Tue, 19 Nov 2013 17:25:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Harish!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12746716">HIVE-8398</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12675121">HIVE-5614</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12612892" name="HIVE-3107.1.patch" size="30391" author="rhbutani" created="Fri, 8 Nov 2013 21:32:51 +0000"/>
                            <attachment id="12613512" name="HIVE-3107.2.patch" size="36737" author="rhbutani" created="Wed, 13 Nov 2013 03:17:55 +0000"/>
                            <attachment id="12613898" name="HIVE-3107.3.patch" size="47539" author="rhbutani" created="Thu, 14 Nov 2013 19:18:22 +0000"/>
                            <attachment id="12614190" name="HIVE-3107.4.patch" size="48301" author="rhbutani" created="Sat, 16 Nov 2013 02:35:12 +0000"/>
                            <attachment id="12614330" name="HIVE-3107.5.patch" size="49440" author="rhbutani" created="Mon, 18 Nov 2013 04:02:16 +0000"/>
                            <attachment id="12614463" name="HIVE-3107.6.patch" size="52071" author="rhbutani" created="Mon, 18 Nov 2013 19:54:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jun 2012 02:32:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3108] SELECT count(DISTINCT col) ... returns 0 if &quot;col&quot; is a partition column</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3108</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Suppose &quot;stocks&quot; is a managed OR external table, partitioned by &quot;exchange&quot; and &quot;symbol&quot;. &quot;count(DISTINCT x)&quot; returns 0 for either &quot;exchange&quot;, &quot;symbol&quot;, or both:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; SELECT count(DISTINCT exchange), count(DISTINCT symbol) from stocks;&lt;br/&gt;
0  0&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OSX running Apache distribution of hadoop and hive natively.&lt;/p&gt;</environment>
        <key id="12559929">HIVE-3108</key>
            <summary>SELECT count(DISTINCT col) ... returns 0 if &quot;col&quot; is a partition column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="deanwampler">Dean Wampler</reporter>
                        <labels>
                            <label>Hive</label>
                    </labels>
                <created>Sat, 9 Jun 2012 02:41:49 +0000</created>
                <updated>Thu, 26 Oct 2017 02:45:09 +0000</updated>
                                            <version>0.8.0</version>
                    <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13294866" author="cwsteinbach" created="Thu, 14 Jun 2012 07:44:17 +0000"  >&lt;p&gt;@Arun: Doesn&apos;t look like there&apos;s a patch here. Not sure why you changed the status to Patch Available.&lt;/p&gt;</comment>
                            <comment id="13295072" author="appodictic" created="Thu, 14 Jun 2012 14:38:13 +0000"  >&lt;p&gt;I am guessing he things that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2955&quot; title=&quot;Queries consists of metadata-only-query returns always empty value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2955&quot;&gt;&lt;del&gt;HIVE-2955&lt;/del&gt;&lt;/a&gt; is patch available and is the same issue as this one. If that is that case we should just close this as a duplicate.&lt;/p&gt;</comment>
                            <comment id="13402814" author="appodictic" created="Thu, 28 Jun 2012 03:50:01 +0000"  >&lt;p&gt;Confirmed fixed in trunk.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[edward@tablitha dist]$ bin/hive
Logging initialized using configuration in jar:file:/home/edward/hive/trunk/build/dist/lib/hive-common-0.10.0-SNAPSHOT.jar!/hive-log4j.properties
Hive history file=/tmp/edward/hive_job_log_edward_201206272349_386020253.txt
hive&amp;gt; create table stocks (x int, y string) partitioned by (exchange string, symbol string);
OK
Time taken: 17.382 seconds
hive&amp;gt; alter table stocks add partition (exchange=&apos;nasdaq&apos;, symbol=&apos;ed&apos;);
OK
Time taken: 2.022 seconds
hive&amp;gt; alter table stocks add partition (exchange=&apos;nasdaq&apos;, symbol=&apos;guy&apos;);
OK
Time taken: 0.219 seconds
hive&amp;gt; alter table stocks add partition (exchange=&apos;jp&apos;, symbol=&apos;bla&apos;);    
OK
Time taken: 0.245 seconds
hive&amp;gt; select count(distinct exchange), count(distinct symbol) from stocks;
2	3
Time taken: 5.742 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14740466" author="kivismik" created="Fri, 11 Sep 2015 09:27:22 +0000"  >&lt;p&gt;Doesn&apos;t work on Hive 0.13 or 0.14 (1.0) thus reopening this issue&lt;/p&gt;</comment>
                            <comment id="14740541" author="kivismik" created="Fri, 11 Sep 2015 10:31:26 +0000"  >&lt;p&gt;Ok, problems seems to relate when using a SerDe to read the data&lt;/p&gt;</comment>
                            <comment id="14740553" author="kivismik" created="Fri, 11 Sep 2015 10:43:15 +0000"  >&lt;p&gt;I found the root cause: TBLPROPERTIES (&apos;skip.header.line.count&apos;=&apos;1&apos;) was specified in the table and that causes the answer not to return.&lt;/p&gt;</comment>
                            <comment id="16219882" author="mamtachawla10" created="Thu, 26 Oct 2017 02:45:09 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Before running the count query, run below-&lt;br/&gt;
hive&amp;gt;ANALYZE TABLE stocks PARTITION(&amp;lt;partition_name&amp;gt;) COMPUTE STATISTICS;&lt;br/&gt;
hive&amp;gt; select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from stocks where &amp;lt;condition&amp;gt;;&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Mamta Chawla&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12551169">HIVE-2955</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12735611">HIVE-7817</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jun 2012 07:44:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3109] metastore state not cleared</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3109</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When some of the tests are in order, random bugs are encountered.&lt;/p&gt;

&lt;p&gt;ant test -Dtestcase=TestCliDriver -Dqfile=part_inherit_tbl_props.q,stats1.q&lt;/p&gt;

&lt;p&gt;leads to an error in stats1.q&lt;/p&gt;

&lt;p&gt;We ran into this error as part of parallel testing (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3085&quot; title=&quot;make parallel tests work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3085&quot;&gt;&lt;del&gt;HIVE-3085&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3085&quot; title=&quot;make parallel tests work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3085&quot;&gt;&lt;del&gt;HIVE-3085&lt;/del&gt;&lt;/a&gt;, this will be fixed temporarily by clearing&lt;br/&gt;
hive.metastore.partition.inherit.table.properties at the end of the test.&lt;/p&gt;

&lt;p&gt;But, in general, any property set in one .q file should not affect anything&lt;br/&gt;
in other tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560215">HIVE-3109</key>
            <summary>metastore state not cleared</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 18:36:00 +0000</created>
                <updated>Thu, 6 Nov 2014 15:32:26 +0000</updated>
                            <resolved>Thu, 6 Nov 2014 15:32:26 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13292967" author="namit" created="Mon, 11 Jun 2012 18:41:58 +0000"  >&lt;p&gt;Assigning to you, Ashutosh.&lt;br/&gt;
Feel free to un-assign or pass it.&lt;br/&gt;
I vaguely remember you working on this parameter, but this is a more generic test cleanup problem.&lt;/p&gt;</comment>
                            <comment id="13293255" author="kevinwilfong" created="Tue, 12 Jun 2012 01:30:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt; unsets the parameter hive.metastore.partition.inherit.table.properties at the end of&lt;br/&gt;
ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;br/&gt;
ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/p&gt;

&lt;p&gt;As part of this JIRA, the unsetting should be removed, and the ant test command in the Description should still work.&lt;/p&gt;</comment>
                            <comment id="13293555" author="hudson" created="Tue, 12 Jun 2012 12:02:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1481 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1481/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt; clear hive.metastore.partition.inherit.table.properties till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3109&quot; title=&quot;metastore state not cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3109&quot;&gt;&lt;del&gt;HIVE-3109&lt;/del&gt;&lt;/a&gt; is fixed (njain via kevinwilfong) (Revision 1349096)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547837" author="hudson" created="Wed, 9 Jan 2013 10:23:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt; clear hive.metastore.partition.inherit.table.properties till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3109&quot; title=&quot;metastore state not cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3109&quot;&gt;&lt;del&gt;HIVE-3109&lt;/del&gt;&lt;/a&gt; is fixed (njain via kevinwilfong) (Revision 1349096)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14200330" author="ashutoshc" created="Thu, 6 Nov 2014 15:32:26 +0000"  >&lt;p&gt;Doesnt repro anymore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jun 2012 01:30:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3110] ant very-clean package dies if user does not have permissions to remove dir.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3110</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560230">HIVE-3110</key>
            <summary>ant very-clean package dies if user does not have permissions to remove dir.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 19:16:15 +0000</created>
                <updated>Mon, 11 Jun 2012 19:27:36 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13293002" author="namit" created="Mon, 11 Jun 2012 19:18:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D3591&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3591&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3111] reduce the time for parallel unit tests for hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3111</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. Run the other tests in parallel with TestCliDriver and TestNegativeCliDriver&lt;br/&gt;
2. Run the tests that need super-user privilege in parallel with TestCliDriver and TestNegativeCliDriver&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560243">HIVE-3111</key>
            <summary>reduce the time for parallel unit tests for hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 21:23:03 +0000</created>
                <updated>Mon, 11 Jun 2012 21:23:51 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12559291">HIVE-3085</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3112] clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3112</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560251">HIVE-3112</key>
            <summary>clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 21:59:40 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:03 +0000</updated>
                            <resolved>Tue, 12 Jun 2012 02:29:20 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13293134" author="namit" created="Mon, 11 Jun 2012 22:16:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D3597&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3597&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13293135" author="kevinwilfong" created="Mon, 11 Jun 2012 22:18:48 +0000"  >&lt;p&gt;+1 Will run tests&lt;/p&gt;</comment>
                            <comment id="13293164" author="cwsteinbach" created="Mon, 11 Jun 2012 22:56:04 +0000"  >&lt;p&gt;@Namit: Please add a comment to the test that points back to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="13293246" author="namit" created="Tue, 12 Jun 2012 01:14:40 +0000"  >&lt;p&gt;Comments&lt;/p&gt;</comment>
                            <comment id="13293284" author="kevinwilfong" created="Tue, 12 Jun 2012 02:02:15 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Looks like Namit addressed Carl&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13293293" author="kevinwilfong" created="Tue, 12 Jun 2012 02:29:20 +0000"  >&lt;p&gt;Committed.  Thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13293556" author="hudson" created="Tue, 12 Jun 2012 12:02:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1481 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1481/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt; clear hive.metastore.partition.inherit.table.properties till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3109&quot; title=&quot;metastore state not cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3109&quot;&gt;&lt;del&gt;HIVE-3109&lt;/del&gt;&lt;/a&gt; is fixed (njain via kevinwilfong) (Revision 1349096)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547857" author="hudson" created="Wed, 9 Jan 2013 10:23:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3112&quot; title=&quot;clear hive.metastore.partition.inherit.table.properties till HIVE-3109 is fixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3112&quot;&gt;&lt;del&gt;HIVE-3112&lt;/del&gt;&lt;/a&gt; clear hive.metastore.partition.inherit.table.properties till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3109&quot; title=&quot;metastore state not cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3109&quot;&gt;&lt;del&gt;HIVE-3109&lt;/del&gt;&lt;/a&gt; is fixed (njain via kevinwilfong) (Revision 1349096)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349096&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550015" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:03 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jun 2012 22:18:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ue7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3113] Querying of Table Links</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3113</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implementation of querying of Table Links&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560262">HIVE-3113</key>
            <summary>Querying of Table Links</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="bmandhani">Bhushan Mandhani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 22:55:09 +0000</created>
                <updated>Mon, 11 Jun 2012 22:56:00 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3114] Split Thrift interface for Table Link Creation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3114</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Table Link creation through Thrift currently goes through the same method as Table creation. We want to move it out of there and into it&apos;s own method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560263">HIVE-3114</key>
            <summary>Split Thrift interface for Table Link Creation</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="bmandhani">Bhushan Mandhani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 23:03:22 +0000</created>
                <updated>Tue, 12 Jun 2012 16:30:57 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13293198" author="cwsteinbach" created="Mon, 11 Jun 2012 23:57:08 +0000"  >&lt;p&gt;@Bhushan: What&apos;s the timeline for doing this? I&apos;m concerned that the Metastore Thrift interface is one of Hive&apos;s de facto public APIs, and any new functionality that appears in a release will need to be supported going forward. Why not just fix this in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt; and eliminate the possibility that we&apos;re going to get stuck with an interface that we already know is broken?&lt;/p&gt;</comment>
                            <comment id="13293237" author="namit" created="Tue, 12 Jun 2012 00:56:37 +0000"  >&lt;p&gt;I dont think so - there are many features (views/indexes etc.) which have been around for a long time without a thrift interface.&lt;/p&gt;

&lt;p&gt;Given the fact that there is a validity check and existing thrift APIs cannot create invalid objects (barring bugs in the validity check),&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3114&quot; title=&quot;Split Thrift interface for Table Link Creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3114&quot;&gt;HIVE-3114&lt;/a&gt; should not be a pre-req. for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="13293243" author="cwsteinbach" created="Tue, 12 Jun 2012 01:11:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;I dont think so - there are many features (views/indexes etc.) which have been around for a long time without a thrift interface.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s true, and it was mistake to do it that way. Instead of continuing to compound the effects of an earlier bad decision can we please instead invest a little extra time and actually make the situation better?&lt;/p&gt;

&lt;p&gt;Also, this is the sort of thing that should have been described up front in the design document. Since the List Bucketing feature requires similar changes I&apos;d like to see any metastore API changes that the feature requires explained in the design doc before they appear in a patch.&lt;/p&gt;
</comment>
                            <comment id="13293250" author="namit" created="Tue, 12 Jun 2012 01:23:48 +0000"  >&lt;p&gt;@Carl, I agree the comment on list bucketing. Please address it in the wiki, we should definitely take that into account.&lt;/p&gt;

&lt;p&gt;Agreed it was a mistake for unclean thrift API. But, we cannot penalize a single feature, which we need urgently, for that.&lt;br/&gt;
I am all for the thrift cleanup - it is just that the timing is not right from our side. I would be happy to help in any way if someone &lt;br/&gt;
else takes the thrift API cleanup effort.&lt;/p&gt;

&lt;p&gt;@Bhushan, in the links wiki - can you add a follow-up for the thrift interface ?&lt;br/&gt;
Or, just add a link to all the follow-up jiras there.&lt;/p&gt;</comment>
                            <comment id="13293261" author="cwsteinbach" created="Tue, 12 Jun 2012 01:37:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Agreed it was a mistake for unclean thrift API. But, we cannot penalize a single feature, which we need urgently, for that. I am all for the thrift cleanup - it is just that the timing is not right from our side.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not asking you to clean up the entire metastore Thrift API. All I&apos;m asking is for you to add a createTableLink() method instead of overloading the createTable() method. It&apos;s fine if both createTable() and createTableLink() use a common codepath behind the Thrift API, but the Thrift API needs to call these things out as distinct operations.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;@Bhushan, in the links wiki - can you add a follow-up for the thrift interface ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;When are these followups going to be addressed? If they aren&apos;t committed in time for the 0.10.0 release are you OK with us backing out these changes?&lt;/p&gt;</comment>
                            <comment id="13293264" author="namit" created="Tue, 12 Jun 2012 01:45:39 +0000"  >&lt;p&gt;Absolutely not, a feature may not be ready for 0.10.&lt;br/&gt;
That does not mean that the code for that feature will be deleted.&lt;/p&gt;

&lt;p&gt;If &apos;links&apos; is not available in 0.10, let us document it clearly - when all the jiras are ready, &apos;links&apos; will be available in that release.&lt;/p&gt;</comment>
                            <comment id="13293283" author="bmandhani" created="Tue, 12 Jun 2012 01:59:33 +0000"  >&lt;p&gt;@Carl When were we planning to release 0.10.0? I can definitely commit to finishing this particular Jira in time for it. I cannot commit to finishing all followups in time. Having said that, I and Sambavi are both actively working on Links and we should knock these out in the near future. We are keen to commit this patch soon because it is hard for us to have multiple people work in parallel on Links unless this base patch goes in. This patch is what everything else will build on top of. &lt;/p&gt;</comment>
                            <comment id="13293743" author="namit" created="Tue, 12 Jun 2012 16:30:57 +0000"  >&lt;p&gt;There is a validateTable added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt;. It would be good to add negative tests as part of this patch, where the errors are thrown due to bad parameters.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jun 2012 23:57:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3115] Table Links and Authorization</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3115</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Incorporate Table Links into the existing authorization framework in Hive. Add tests to check that no breach of security permissions is possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560264">HIVE-3115</key>
            <summary>Table Links and Authorization</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="bmandhani">Bhushan Mandhani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 23:07:00 +0000</created>
                <updated>Tue, 12 Jun 2012 01:42:02 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13293195" author="cwsteinbach" created="Mon, 11 Jun 2012 23:53:55 +0000"  >&lt;p&gt;@Bhushan: Is this going to be done before or after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3113&quot; title=&quot;Querying of Table Links&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3113&quot;&gt;HIVE-3113&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13293233" author="namit" created="Tue, 12 Jun 2012 00:52:19 +0000"  >&lt;p&gt;This will be done after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3113&quot; title=&quot;Querying of Table Links&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3113&quot;&gt;HIVE-3113&lt;/a&gt; from Facebook.&lt;br/&gt;
Having  said that, this is a open jira, and if someone wants to work on it, we would love to review it, and take it forward.&lt;/p&gt;</comment>
                            <comment id="13293236" author="cwsteinbach" created="Tue, 12 Jun 2012 00:55:59 +0000"  >&lt;p&gt;@Namit: I think this ticket either has be done at the same time as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3113&quot; title=&quot;Querying of Table Links&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3113&quot;&gt;HIVE-3113&lt;/a&gt; or before it. Otherwise you&apos;re adding a pretty big security hole with the table links feature.&lt;/p&gt;</comment>
                            <comment id="13293239" author="namit" created="Tue, 12 Jun 2012 00:59:43 +0000"  >&lt;p&gt;Security has been added recently, and there are many existing features which do not work very well with it.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3078&quot; title=&quot;Add inputs/outputs for create table, create view and so forth&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3078&quot;&gt;HIVE-3078&lt;/a&gt; is completing the inputs/outputs list and trying to plug-in some of these holes.&lt;br/&gt;
Given that, there are many issues in security currently, it seems wrong to put the burden on links for security.&lt;br/&gt;
Links is a new feature, and lots of bells and whistles will be added over time.&lt;/p&gt;</comment>
                            <comment id="13293256" author="cwsteinbach" created="Tue, 12 Jun 2012 01:30:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Security has been added recently, and there are many existing features which do not work very well with it. ... Given that, there are many issues in security currently, it seems wrong to put the burden on links for security.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It sounds like you&apos;re saying that since there are some open bugs with the current authorization system it&apos;s OK to add even more bugs? &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Links is a new feature, and lots of bells and whistles will be added over time.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I can&apos;t think of a single person outside the walls of Facebook who has voiced any interest in using this feature, yet most of the non-FB Hive users I speak to list the authorization system as one of their top concerns. I don&apos;t think it&apos;s acceptable to run up any more technical debt on the authorization feature. &lt;/p&gt;</comment>
                            <comment id="13293263" author="namit" created="Tue, 12 Jun 2012 01:42:02 +0000"  >&lt;p&gt;If there is no-one outside the walls of Facebook who is interested in using links, then not having authorization for links should not be a problem for anyone outside Facebook anyway.&lt;br/&gt;
I am not saying having authorization for links is not a good idea - advanced users like Facebook will also need it, but this should not be coupled to the patch.&lt;br/&gt;
It can definitely be done in a follow-up. If I remember right, security was added for most of the new features in follow-ups. Infact, having the patch will make it easy for other &lt;br/&gt;
contributors, or us to quickly address security.&lt;/p&gt;

&lt;p&gt;Everyone has their own priority of features, and they are free to work on their own priorities. Some features which are very useful for advanced users may not be applicable for many other&lt;br/&gt;
users right away, but they do get a free ride in the long run. Anyway, we already had a long discussion on the wiki - and there is no point repeating it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jun 2012 23:53:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d2qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3116] Make very-clean Ant target more selective</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3116</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560265">HIVE-3116</key>
            <summary>Make very-clean Ant target more selective</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 23:13:45 +0000</created>
                <updated>Tue, 4 Sep 2012 21:15:09 +0000</updated>
                            <resolved>Tue, 4 Sep 2012 21:15:09 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13293180" author="cwsteinbach" created="Mon, 11 Jun 2012 23:19:15 +0000"  >&lt;p&gt;Currently the very-clean target depends on ivy:cleancache. The original motivation for adding very-clean was to flush Hive artifacts out of the local Ivy cache, but the ivy:cleancache task actually deletes everything in ~/.ivy2.&lt;/p&gt;

&lt;p&gt;The following page indicates that the ivy:cleancache task can be configured to use a specific Ivy settings file, which may allow us to limit the deleted artifacts to Hive only: &lt;a href=&quot;http://ant.apache.org/ivy/history/2.0.0/use/cleancache.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/history/2.0.0/use/cleancache.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also relevant: &lt;a href=&quot;http://ant.apache.org/ivy/history/2.0.0/settings/caches.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/history/2.0.0/settings/caches.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13448054" author="ashutoshc" created="Tue, 4 Sep 2012 21:06:24 +0000"  >&lt;p&gt;Carl, shall we close this since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt; is already in or is there anything to be gained from it ?&lt;/p&gt;</comment>
                            <comment id="13448067" author="cwsteinbach" created="Tue, 4 Sep 2012 21:15:09 +0000"  >&lt;p&gt;Yup, I don&apos;t think there&apos;s any reason to leave this open. Resolving as WONTFIX.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12559511">HIVE-3092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12537863">HIVE-2700</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Sep 2012 21:06:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3117] Determine order of subproject builds using ivy:buildlist task</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3117</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560267">HIVE-3117</key>
            <summary>Determine order of subproject builds using ivy:buildlist task</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2012 23:24:29 +0000</created>
                <updated>Thu, 14 Jun 2012 07:56:27 +0000</updated>
                                                                            <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13293190" author="cwsteinbach" created="Mon, 11 Jun 2012 23:34:12 +0000"  >&lt;p&gt;We should use the ivy:buildlist task to determine the order of subproject builds instead of hardcoding this in the root build.xml file. Problems with the current approach include a) the fact that we&apos;re likely to pick up dirty Hive artifacts from the local Ivy cache and b) the fact that it&apos;s hard to prevent the subprojects from evolving circular dependencies.&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://ant.apache.org/ivy/history/latest-milestone/tutorial/multiproject.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/history/latest-milestone/tutorial/multiproject.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/4106143/ivy-simple-shared-repository&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/4106143/ivy-simple-shared-repository&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12559511">HIVE-3092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12534814">HIVE-2646</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12537863">HIVE-2700</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3118] Automatically invoke .hiverc init script when running hiveserver instance. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3118</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Using Hive with Microsoft PowerPivot as visualization tool (connected using HiveODBC driver), facing the following problems:&lt;/p&gt;

&lt;p&gt;1) Multiple instance of the same set of mapreduce jobs spawned (one after another) for a single query.&lt;br/&gt;
For eg: select * from tweetsdata;&lt;br/&gt;
---------------------------------------------------------------------------&lt;br/&gt;
Hive history file=/tmp/hadoop/hive_job_log_hadoop_201206121337_1423188701.txt&lt;br/&gt;
Total MapReduce jobs = 2&lt;br/&gt;
Launching Job 1 out of 2&lt;br/&gt;
Launching Job 2 out of 2&lt;br/&gt;
OK&lt;br/&gt;
Total MapReduce jobs = 2&lt;br/&gt;
Launching Job 1 out of 2&lt;br/&gt;
Launching Job 2 out of 2&lt;br/&gt;
OK&lt;br/&gt;
Hive history file=/tmp/hadoop/hive_job_log_hadoop_201206121337_1423188701.txt&lt;br/&gt;
Total MapReduce jobs = 2&lt;br/&gt;
....&lt;br/&gt;
//Multiple instance of same MapReduce jobs (with same HDFS read/write values)&lt;br/&gt;
---------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;2)UDF defined before executing the query is not being recognized after the second instance of MapReduce jobs (i.e. for instances after this statement which says a new server instance is started)&lt;br/&gt;
Hive history file=/tmp/hadoop/hive_job_log_hadoop_201206121337_1423188701.txt&lt;br/&gt;
---------------------------------------------------------------------------&lt;br/&gt;
Error:&lt;br/&gt;
java.lang.RuntimeException: failed to evaluate: &amp;lt;unbound&amp;gt;=Class.forName(&quot;retweetlink&quot;);&lt;br/&gt;
---------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;So would be a good idea to invoke .hiverc init script for the server instances, so that we can define UDF in the .hiverc script and each time of a new instance of hiveserver, the script is executed prior to the MapReduce job.&lt;/p&gt;

&lt;p&gt;Need this because it cannot be achieved by code repetition as the single query (select in this case) is executed across different server instances.&lt;br/&gt;
---------------------------------------------------------------------------&lt;br/&gt;
add jar /usr/local/hadoop/src/retweetlink1.jar;&lt;br/&gt;
create temporary function link as &apos;retweetlink&apos;;&lt;br/&gt;
select link(tweet),count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; as countlink from tweetsdata where tweet like &apos;%RT%&apos; group by link(tweet);&lt;br/&gt;
---------------------------------------------------------------------------&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12560320">HIVE-3118</key>
            <summary>Automatically invoke .hiverc init script when running hiveserver instance. </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sreenathmenon">Sreenath Menon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 09:31:32 +0000</created>
                <updated>Tue, 12 Jun 2012 09:36:43 +0000</updated>
                                                                            <component>Server Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ntj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3119] Cleanup MTable constructors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3119</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MTable has a lot of fields, and a common public constructor which takes all &lt;br/&gt;
the inputs. The burden is on ObjectStore to pass the appropriate parameters.&lt;br/&gt;
For example, the view parameters do not make sense for certain table types.&lt;br/&gt;
The view parameters and the link parameters can never be set together.&lt;/p&gt;

&lt;p&gt;It would be good to breakup the constructor for MTable into multiple valid&lt;br/&gt;
constructors, and that reduces the chances of error from ObjectStore.&lt;/p&gt;

&lt;p&gt;Although this is not directly linked to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2989&quot; title=&quot;Adding Table Links to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2989&quot;&gt;&lt;del&gt;HIVE-2989&lt;/del&gt;&lt;/a&gt;, marking it a related jira&lt;br/&gt;
since links added more parameters to MTable, thereby increasing the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560376">HIVE-3119</key>
            <summary>Cleanup MTable constructors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 16:35:23 +0000</created>
                <updated>Tue, 12 Jun 2012 16:36:07 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12553232">HIVE-2989</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3120] make copyLocal work for parallel tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3120</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be very useful if I can test a local patch using the&lt;br/&gt;
parallel test framework.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560377">HIVE-3120</key>
            <summary>make copyLocal work for parallel tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sding">Shuai Ding</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 16:42:00 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:46 +0000</updated>
                            <resolved>Tue, 12 Jun 2012 21:25:07 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13293771" author="namit" created="Tue, 12 Jun 2012 17:01:16 +0000"  >&lt;p&gt;Why do you need to go through a patch/git/svn for this ?&lt;br/&gt;
Cant you copy the local checkout into the shared destination, and then proceed ?&lt;br/&gt;
I was running into a problem with patch -p0 ....&lt;/p&gt;</comment>
                            <comment id="13293822" author="sding" created="Tue, 12 Jun 2012 18:24:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D3585&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3585&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I test it and it could start the test. I didn&apos;t wait for it to finish though&lt;/p&gt;</comment>
                            <comment id="13293836" author="namit" created="Tue, 12 Jun 2012 18:47:34 +0000"  >&lt;p&gt;Can you create a new arc diff entry ?&lt;/p&gt;</comment>
                            <comment id="13293837" author="namit" created="Tue, 12 Jun 2012 18:48:07 +0000"  >&lt;p&gt;and remember to do &apos;submit patch&apos; when you submit a arc entry ready for review&lt;/p&gt;</comment>
                            <comment id="13293840" author="namit" created="Tue, 12 Jun 2012 18:49:46 +0000"  >&lt;p&gt;The code changes look fine&lt;/p&gt;</comment>
                            <comment id="13293861" author="sding" created="Tue, 12 Jun 2012 19:17:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D3609&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3609&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13293862" author="sding" created="Tue, 12 Jun 2012 19:18:36 +0000"  >&lt;p&gt;add copylocal flag in the parallel test&lt;/p&gt;</comment>
                            <comment id="13293930" author="namit" created="Tue, 12 Jun 2012 21:22:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13293932" author="namit" created="Tue, 12 Jun 2012 21:25:07 +0000"  >&lt;p&gt;Committed. Thanks Shuai&lt;/p&gt;</comment>
                            <comment id="13294444" author="hudson" created="Wed, 13 Jun 2012 13:29:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1483 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1483/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1483/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3120&quot; title=&quot;make copyLocal work for parallel tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3120&quot;&gt;&lt;del&gt;HIVE-3120&lt;/del&gt;&lt;/a&gt; make copyLocal work for parallel tests&lt;br/&gt;
(Shuai Ding via namit) (Revision 1349548)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547924" author="hudson" created="Wed, 9 Jan 2013 10:23:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3120&quot; title=&quot;make copyLocal work for parallel tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3120&quot;&gt;&lt;del&gt;HIVE-3120&lt;/del&gt;&lt;/a&gt; make copyLocal work for parallel tests&lt;br/&gt;
(Shuai Ding via namit) (Revision 1349548)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1349548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550199" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:46 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12559291">HIVE-3085</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jun 2012 18:24:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02udr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3121] JDBC driver&apos;s getCatalogs() method returns schema/db information</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3121</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560381">HIVE-3121</key>
            <summary>JDBC driver&apos;s getCatalogs() method returns schema/db information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rding">Richard Ding</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 17:50:26 +0000</created>
                <updated>Wed, 3 Jun 2015 22:28:14 +0000</updated>
                            <resolved>Wed, 3 Jun 2015 22:28:14 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13293816" author="cwsteinbach" created="Tue, 12 Jun 2012 18:19:57 +0000"  >&lt;p&gt;HiveDatabaseMetadata.getCatalogs() currently returns the list of databases/schemas defined in the metastore, which is incorrect. In fact, HiveDatabaseMetadata.getSchemas() should return this information, and getCatalogs() should return an empty result set. Hive currently doesn&apos;t implement the concept of a catalog, and instead borrowed MySQL&apos;s convention of using both DATABASE and SCHEMA to identify the same class of catalog objects that allow you to partition your tables into separate namespaces.&lt;/p&gt;

&lt;p&gt;This blurb (&lt;a href=&quot;http://stackoverflow.com/questions/7942520/relationship-between-catalog-schema-user-and-database-instance&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/7942520/relationship-between-catalog-schema-user-and-database-instance&lt;/a&gt;) probably does a better job of summarizing these relationships:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In MySQL:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;server instance == catalog == set of schemas managed by same execution engine&lt;/li&gt;
	&lt;li&gt;schema == database == a namespace within the server where tables are stored&lt;/li&gt;
	&lt;li&gt;user == named account, who can connect to server and use objects in database or in other dbs&lt;/li&gt;
	&lt;li&gt;to identify any object you need (schema name + object name)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</comment>
                            <comment id="13293880" author="rding" created="Tue, 12 Jun 2012 19:52:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;We have implemented the following and will be happy to contribute the patch.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DatabaseMetaData::getCatalogs()  ==&amp;gt;  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; EMPTY ResultSet

DatabaseMetaData::getSchemas()  ==&amp;gt;  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; HiveInterface::get_all_databases()

DatabaseMetaData::getTables(...)  ==&amp;gt;  Always ignore catalog argument.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 


</comment>
                            <comment id="13293929" author="cwsteinbach" created="Tue, 12 Jun 2012 21:19:42 +0000"  >&lt;p&gt;@Richard: That would be great! Can you please attach your patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="13397189" author="rding" created="Wed, 20 Jun 2012 00:49:11 +0000"  >&lt;p&gt;patch attached.&lt;/p&gt;</comment>
                            <comment id="13397391" author="prasadm" created="Wed, 20 Jun 2012 09:52:14 +0000"  >&lt;p&gt;Looks fine to me overall. A few minor comments/suggestions&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;getSchemaTerm() should return &quot;schema&quot;&lt;/li&gt;
	&lt;li&gt;getCatalogTerm() should return &quot;&quot;&lt;/li&gt;
	&lt;li&gt;I think it would be helpful to rename the getTableCatalog() in JdbcColumn and JdbcTable classes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13397986" author="rding" created="Wed, 20 Jun 2012 23:15:04 +0000"  >&lt;p&gt;Thanks Prasad. Attaching patch to address comments.&lt;/p&gt;</comment>
                            <comment id="13398280" author="cwsteinbach" created="Thu, 21 Jun 2012 08:18:59 +0000"  >&lt;p&gt;@Richard: Please post a code review request on reviews.apache.org. Thanks.&lt;/p&gt;</comment>
                            <comment id="13404326" author="rding" created="Fri, 29 Jun 2012 23:48:27 +0000"  >&lt;p&gt;@Carl: code review request is posted. Should the request be automatically posted to the jira?&lt;/p&gt;</comment>
                            <comment id="13445486" author="cwsteinbach" created="Fri, 31 Aug 2012 00:12:56 +0000"  >&lt;p&gt;@Richard: Sorry for the slow response. Unfortunately the code review link does not get automatically posted to JIRA. Can you please paste the link here? Thanks.&lt;/p&gt;</comment>
                            <comment id="13446336" author="rding" created="Fri, 31 Aug 2012 20:25:51 +0000"  >&lt;p&gt;I posted review request here: &lt;a href=&quot;https://reviews.apache.org/r/5490/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5490/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13699651" author="the6campbells" created="Thu, 4 Jul 2013 00:54:11 +0000"  >&lt;p&gt;does this mean that getTables will work correctly now when NULL is provided for the catalog and schema parameters?&lt;/p&gt;

&lt;p&gt;we found in 0.8, 0.9 and 0.10 etc that it is not default context for catalog/schema and returns nothing. &lt;/p&gt;

&lt;p&gt;an application is forced to work around this by parsing the connection URL and stripping any db info provided or a default name.&lt;/p&gt;</comment>
                            <comment id="14028243" author="alangates" created="Wed, 11 Jun 2014 19:08:32 +0000"  >&lt;p&gt;Looking at the current code (trunk post 0.13) it looks like it has already changed similar to what is suggested in this patch.  Not exactly though.  I&apos;ll move the JIRA from patch available to open.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rding&quot; class=&quot;user-hover&quot; rel=&quot;rding&quot;&gt;Richard Ding&lt;/a&gt;, do you want to close this as duplicate?&lt;/p&gt;</comment>
                            <comment id="14571763" author="rding" created="Wed, 3 Jun 2015 22:28:14 +0000"  >&lt;p&gt;This was fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt; (HS2 implementation)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12532627" name="hive-3121.patch" size="9196" author="rding" created="Wed, 20 Jun 2012 00:48:34 +0000"/>
                            <attachment id="12532792" name="hive-3121_1.patch" size="11780" author="rding" created="Wed, 20 Jun 2012 23:15:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jun 2012 19:52:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3122] Implement JDBC driver for HiveServer2 API</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3122</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12560403">HIVE-3122</key>
            <summary>Implement JDBC driver for HiveServer2 API</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 22:09:05 +0000</created>
                <updated>Fri, 28 Jun 2013 22:25:39 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 18:51:01 +0000</resolved>
                                                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13393677" author="prasadm" created="Mon, 18 Jun 2012 06:18:25 +0000"  >&lt;p&gt;Work in progress patch.&lt;br/&gt;
Includes the Hive Server2 Thrift IDL, generated code and the JDBC driver that implementation the new thrift.&lt;br/&gt;
The driver will be tested after the server implementation is complete. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12559659">HIVE-3100</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12532370" name="HIVE-3122.patch.2" size="2177718" author="prasadm" created="Mon, 18 Jun 2012 06:18:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Jun 2012 06:18:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lmov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
