<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:45 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-3-1+AND+created+%3C%3D+2011-3-8+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="16" total="16"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2014] fix a few eclipse warnings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2014</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I started to fix a couple of Eclipse warnings found via the ecj compiler.&lt;/p&gt;

&lt;p&gt;I&apos;m not a fan of having warnings in code. Mostly because it tends to hide potential real problems.&lt;/p&gt;

&lt;p&gt;I fixed a few of these in an effort to get the ball rolling.&lt;/p&gt;

&lt;p&gt;Seems jira can&apos;t attach a file during new issue creation. Will attach diff after this is submitted.&lt;/p&gt;

&lt;p&gt;This is based off a master checkout from github.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499998">HIVE-2014</key>
            <summary>fix a few eclipse warnings</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jon">Jon Stevens</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 01:01:03 +0000</created>
                <updated>Wed, 17 Sep 2014 16:57:58 +0000</updated>
                            <resolved>Wed, 17 Sep 2014 16:57:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13000639" author="jon" created="Tue, 1 Mar 2011 01:02:08 +0000"  >&lt;p&gt;patch for eclipse warnings.&lt;/p&gt;</comment>
                            <comment id="13000641" author="jon" created="Tue, 1 Mar 2011 01:06:08 +0000"  >&lt;p&gt;Oh cool... just found that hive has reviewboard setup...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/448/diff/#index_header&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/448/diff/#index_header&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14129289" author="lars_francke" created="Wed, 10 Sep 2014 22:49:01 +0000"  >&lt;p&gt;Hi Jon,&lt;/p&gt;

&lt;p&gt;are you interested in rebasing this patch to current trunk? If not I think we can close this issue for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472263" name="hive.diff" size="35316" author="jon" created="Tue, 1 Mar 2011 01:02:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Sep 2014 22:49:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2015] Eliminate bogus Datanucleus.Plugin Bundle ERROR log messages</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2015</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Every time I start up the Hive CLI with logging enabled I&apos;m treated to the following ERROR log messages courtesy of DataNucleus:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DEBUG metastore.ObjectStore: datanucleus.plugin.pluginRegistryBundleCheck = LOG 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.core.resources&quot;&lt;/span&gt; but it cannot be resolved. 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.core.runtime&quot;&lt;/span&gt; but it cannot be resolved. 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.text&quot;&lt;/span&gt; but it cannot be resolved.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s where this comes from:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The bin/hive scripts cause Hive to inherit Hadoop&apos;s classpath.&lt;/li&gt;
	&lt;li&gt;Hadoop&apos;s classpath includes $HADOOP_HOME/lib/core-3.1.1.jar, an Eclipse library.&lt;/li&gt;
	&lt;li&gt;core-3.1.1.jar includes a plugin.xml file defining an OSGI plugin&lt;/li&gt;
	&lt;li&gt;At startup, Datanucleus scans the classpath looking for OSGI plugins, and will attempt to initialize any that it finds, including the Eclipse OSGI plugins located in core-3.1.1.jar&lt;/li&gt;
	&lt;li&gt;Initialization of the OSGI plugin in core-3.1.1.jar fails because of unresolved dependencies.&lt;/li&gt;
	&lt;li&gt;We see an ERROR message telling us that Datanucleus failed to initialize a plugin that we don&apos;t care about in the first place.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I can think of two options for solving this problem:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Rewrite the scripts in $HIVE_HOME/bin so that they don&apos;t inherit ALL of Hadoop&apos;s CLASSPATH.&lt;/li&gt;
	&lt;li&gt;Replace DataNucleus&apos;s NOnManagedPluginRegistry with our own implementation that does nothing.&lt;/li&gt;
&lt;/ol&gt;

</description>
                <environment></environment>
        <key id="12500017">HIVE-2015</key>
            <summary>Eliminate bogus Datanucleus.Plugin Bundle ERROR log messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 07:59:44 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:30 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:44:24 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Diagnosability</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13011155" author="andy" created="Fri, 25 Mar 2011 11:01:48 +0000"  >&lt;p&gt;or just use recent DataNucleus (3.0Mx) which, by default, omits checks on OSGi dependencies.&lt;/p&gt;

&lt;p&gt;PS. if having such issues with third party software i&apos;d expect people to go to that third-party software and register an issue there to be able to turn something off etc, rather than rely on that projects developers to just happen across issues like this in a web trawl.&lt;/p&gt;</comment>
                            <comment id="13054291" author="cwsteinbach" created="Fri, 24 Jun 2011 07:46:05 +0000"  >&lt;p&gt;@Andy: Has the DataNucleus 3.0 release gone final yet? If not, do you have any idea when this will happen? Is there any chance that this fix will be backported to the 2.x series?&lt;/p&gt;</comment>
                            <comment id="13281867" author="cwsteinbach" created="Wed, 23 May 2012 20:17:53 +0000"  >&lt;p&gt;Looks like we could also set datanucleus.plugin.pluginRegistryBundleCheck=NONE in HiveConf and hive-default.xml.template:&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/persistence_properties.html:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/persistence_properties.html:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;datanucleus.plugin.pluginRegistryBundleCheck
Description	 Defines what happens when plugin bundles are found and are duplicated
Range of Values	 EXCEPTION | LOG | NONE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13281869" author="cwsteinbach" created="Wed, 23 May 2012 20:19:16 +0000"  >&lt;p&gt;@Zhenxiao: Please see if setting datanucleus.plugin.pluginRegistryBundleCheck=NONE fixes this problem. If it does, please prepare a patch. Thanks!&lt;/p&gt;</comment>
                            <comment id="13281922" author="zhenxiao" created="Wed, 23 May 2012 21:12:12 +0000"  >&lt;p&gt;@Carl: I set datanucleus.plugin.pluginRegistryBundleCheck=NONE in both HiveConf.java and hive-default.xml. The error message is still there for the first cmd in Cli. I am checking other possible solutions to fix it.&lt;/p&gt;</comment>
                            <comment id="13281936" author="zhenxiao" created="Wed, 23 May 2012 21:35:45 +0000"  >&lt;p&gt;Setting datanucleus.plugin.pluginRegistryBundleCheck has no effect of this bug.&lt;/p&gt;

&lt;p&gt;According to: &lt;br/&gt;
&lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/persistence_properties.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/persistence_properties.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;datanucleus.plugin.pluginRegistryBundleCheck&lt;br/&gt;
Description	 Defines what happens when plugin bundles are found and are duplicated&lt;br/&gt;
Range of Values	 EXCEPTION | LOG | NONE&lt;/p&gt;

&lt;p&gt;Seems this is set to whether LOG, EXCEPTION, or NONE if the plugin bundles are found and are duplicated. If it is not found/unresolved, ERROR still shows up in the first CLI command.&lt;/p&gt;

&lt;p&gt;Also tested setting it to be EXCEPTION. No exception at all, the same error message.&lt;/p&gt;</comment>
                            <comment id="13720899" author="ashutoshc" created="Fri, 26 Jul 2013 15:44:24 +0000"  >&lt;p&gt;This should have been fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt; Feel free to reopen if you can still reproduce.&lt;/p&gt;</comment>
                            <comment id="13796028" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:30 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12502784">HIVE-2084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Mar 2011 11:01:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2016] alter partition should throw exception if the specified partition does not exist. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2016</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To reproduce the issue follow the below steps&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; set hive.exec.drop.ignorenonexistent=false;

 create table page_test(view INT, userid INT, page_url STRING) PARTITIONED BY(dt STRING, country STRING) STORED AS A TEXTFILE;

 LOAD DATA LOCAL INPATH &apos;/home/test.txt&apos; OVERWRITE INTO TABLE page_test PARTITION(dt=&apos;10-10-2010&apos;,country=&apos;US&apos;);

 LOAD DATA LOCAL INPATH &apos;/home/test.txt&apos; OVERWRITE INTO TABLE page_test PARTITION(dt=&apos;10-12-2010&apos;,country=&apos;IN&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; ALTER TABLE page_test DROP PARTITION (dt=&apos;23-02-2010&apos;,country=&apos;UK&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; This query should throw exception because the requested partition doesn&apos;t exist&lt;/p&gt;

&lt;p&gt; This issue related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1535&quot; title=&quot;alter partition should throw exception if the specified partition does not exist.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1535&quot;&gt;&lt;del&gt;HIVE-1535&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, hive-0.8.0-SNAPSHOT and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5).&lt;/p&gt;</environment>
        <key id="12500032">HIVE-2016</key>
            <summary>alter partition should throw exception if the specified partition does not exist. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 10:19:04 +0000</created>
                <updated>Mon, 7 Apr 2014 18:57:51 +0000</updated>
                            <resolved>Mon, 7 Apr 2014 18:57:51 +0000</resolved>
                                    <version>0.8.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13001129" author="nzhang" created="Tue, 1 Mar 2011 21:36:08 +0000"  >&lt;p&gt;Currently CLI print out an error message to Session.err. Throwing exception may cause backward compatibility issue. Is this issue mostly related to usage thrown Hive thrift server? if so we need to figure out a way to pass Session.err from HiveServer to client side. &lt;/p&gt;</comment>
                            <comment id="13962146" author="chinnalalam" created="Mon, 7 Apr 2014 18:57:51 +0000"  >&lt;p&gt;In trunk It is implemented&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Mar 2011 21:36:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2017] Driver.execute() should maintaining SessionState in case of runtime errors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2017</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here&apos;s a snippet from Driver.execute():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-comment&quot;&gt;// TODO: This error messaging is not very informative. Fix that.
&lt;/span&gt;            errorMessage = &lt;span class=&quot;code-quote&quot;&gt;&quot;FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code &quot;&lt;/span&gt; + exitVal + &lt;span class=&quot;code-quote&quot;&gt;&quot; from &quot;&lt;/span&gt;
                + tsk.getClass().getName();
            SQLState = &lt;span class=&quot;code-quote&quot;&gt;&quot;08S01&quot;&lt;/span&gt;;
            console.printError(errorMessage);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (running.size() != 0) {
              taskCleanup();
            }
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 9;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I simply returned in case of runtime errors without maintaining SessionState. It could cause resource leak mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1959&quot; title=&quot;Potential memory leak when same connection used for long time. TaskInfo and QueryInfo objects are getting accumulated on executing more queries on the same connection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1959&quot;&gt;&lt;del&gt;HIVE-1959&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500098">HIVE-2017</key>
            <summary>Driver.execute() should maintaining SessionState in case of runtime errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 20:30:47 +0000</created>
                <updated>Mon, 22 Aug 2016 18:13:06 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:13:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13002546" author="chinnalalam" created="Fri, 4 Mar 2011 11:12:13 +0000"  >&lt;p&gt;taskCleanup() is calling System.exit(9) it will exit from JVM. Here instead of calling &lt;br/&gt;
System.exit(9) we need to kill the map-reduce &amp;amp; non MR processes&lt;/p&gt;</comment>
                            <comment id="13002809" author="jvs" created="Fri, 4 Mar 2011 20:55:28 +0000"  >&lt;p&gt;Yeah, see my comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1872&quot; title=&quot;Hive process is exiting on executing ALTER query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1872&quot;&gt;HIVE-1872&lt;/a&gt; regarding the brokenness of the System.exit&lt;/p&gt;</comment>
                            <comment id="13088885" author="chinnalalam" created="Mon, 22 Aug 2011 18:20:38 +0000"  >&lt;p&gt;while processing two parallel tasks if one of the task fails the Driver.taskCleanup() will call system.exit() this will shutdown the jvm so it is replaced with the logic to stop the remaining tasks.. Here need to cleanup 2 kinds of tasks one is non-mr tasks and  mr tasks. For stopping non-mr tasks used the thread.interrupt() because every non-mr task will be executed as a thread and for mr tasks maintained a variable called jobKillUri&apos;s this variable will track the spawned job kill uri, in taskCleanup() if it is a mr task using this variable kill the job. &lt;/p&gt;</comment>
                            <comment id="13088886" author="jiraposter@reviews.apache.org" created="Mon, 22 Aug 2011 18:21:29 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1609/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, John Sichi and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while processing two parallel tasks if one of the task fails the Driver.taskCleanup() will call system.exit() this will shutdown the jvm so it is replaced with the logic to stop the remaining tasks.. Here need to cleanup 2 kinds of tasks one is non-mr tasks and  mr tasks. For stopping non-mr tasks used the thread.interrupt() because every non-mr task will be executed as a thread and for mr tasks maintained a variable called jobKillUri&apos;s this variable will track the spawned job kill uri, in taskCleanup() if it is a mr task using this variable kill the job. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; title=&quot;Driver.execute() should maintaining SessionState in case of runtime errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2017&quot;&gt;&lt;del&gt;HIVE-2017&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2017&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1160102 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1160102 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java 1160102 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1160102 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java 1160102 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/alter_exit.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/alter_exit.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1609/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.  Ran existing test cases&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13104702" author="chinnalalam" created="Wed, 14 Sep 2011 17:32:34 +0000"  >&lt;p&gt;Patch become stale i will rebase the patch and i will upload&lt;/p&gt;</comment>
                            <comment id="13106619" author="jiraposter@reviews.apache.org" created="Fri, 16 Sep 2011 17:35:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1609/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-16 17:33:41.236186)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebased the patch on the latest trunk&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while processing two parallel tasks if one of the task fails the Driver.taskCleanup() will call system.exit() this will shutdown the jvm so it is replaced with the logic to stop the remaining tasks.. Here need to cleanup 2 kinds of tasks one is non-mr tasks and  mr tasks. For stopping non-mr tasks used the thread.interrupt() because every non-mr task will be executed as a thread and for mr tasks maintained a variable called jobKillUri&apos;s this variable will track the spawned job kill uri, in taskCleanup() if it is a mr task using this variable kill the job. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; title=&quot;Driver.execute() should maintaining SessionState in case of runtime errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2017&quot;&gt;&lt;del&gt;HIVE-2017&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2017&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java 1170977 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1170977 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java 1170977 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/alter_exit.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/alter_exit.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1170977 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1170977 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1609/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.  Ran existing test cases&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13143263" author="jiraposter@reviews.apache.org" created="Thu, 3 Nov 2011 16:01:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1609/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-03 16:01:16.713162)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch becomes stale so rebased&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while processing two parallel tasks if one of the task fails the Driver.taskCleanup() will call system.exit() this will shutdown the jvm so it is replaced with the logic to stop the remaining tasks.. Here need to cleanup 2 kinds of tasks one is non-mr tasks and  mr tasks. For stopping non-mr tasks used the thread.interrupt() because every non-mr task will be executed as a thread and for mr tasks maintained a variable called jobKillUri&apos;s this variable will track the spawned job kill uri, in taskCleanup() if it is a mr task using this variable kill the job. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; title=&quot;Driver.execute() should maintaining SessionState in case of runtime errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2017&quot;&gt;&lt;del&gt;HIVE-2017&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2017&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2017&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1197183 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1197183 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java 1197183 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1197183 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java 1197183 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/alter_exit.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/alter_exit.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1609/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1609/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.  Ran existing test cases&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13145224" author="namit" created="Mon, 7 Nov 2011 04:40:38 +0000"  >&lt;p&gt;@Chinna, can you refresh it again ?&lt;br/&gt;
This is leading to conflicts - I will look at it&lt;/p&gt;</comment>
                            <comment id="13145231" author="chinnalalam" created="Mon, 7 Nov 2011 05:20:34 +0000"  >&lt;p&gt;I will rebase now and i will upload patch.&lt;/p&gt;</comment>
                            <comment id="13145497" author="chinnalalam" created="Mon, 7 Nov 2011 13:17:09 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;


&lt;p&gt;Here need to cleanup 2 kinds of tasks one is non-mr tasks and mr tasks. For stopping non-mr tasks used the thread.interrupt() because every non-mr task will be executed as a thread and for mr tasks maintained a variable called jobKillUri&apos;s this variable will track the spawned job kill uri, in taskCleanup() if it is a mr task using this variable kill the job.&lt;/p&gt;

&lt;p&gt;Here for the non-mr tasks thread.interrupt() may not help completely because they can catch InterruptedException and continue  and in some scenarios nothing it will do (As per API documentation)  other than just setting interrupt status to true for the thread these cases it will not stop the thread.&lt;/p&gt;

&lt;p&gt;So we can add one variable like &quot;isInterrupted&quot; in Task.java and set it to true when we want to stop this (Ex in taskCleanup()) while execution of task before doing any major operation check this variable isInterrupted and if it is true return immediately  but with this approach we need add more checks for isInterrupted statements in all tasks.&lt;/p&gt;

&lt;p&gt;So we need to add statements for checking  isInterrupted is set or not  in all the tasks before doing any operation it will take some good amount of time(Ex in ExecDriver before submitting the job) pls give u r inputs on this..&lt;/p&gt;</comment>
                            <comment id="15431333" author="chinnalalam" created="Mon, 22 Aug 2016 18:13:04 +0000"  >&lt;p&gt;This is an old issue. This is not an issue on the master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12494304">HIVE-1872</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12512993">HIVE-2264</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12491233" name="HIVE-2017.1.patch" size="8911" author="chinnalalam" created="Mon, 22 Aug 2011 17:51:59 +0000"/>
                            <attachment id="12494829" name="HIVE-2017.2.patch" size="8947" author="chinnalalam" created="Fri, 16 Sep 2011 17:32:13 +0000"/>
                            <attachment id="12494931" name="HIVE-2017.3.patch" size="9289" author="chinnalalam" created="Sat, 17 Sep 2011 18:14:35 +0000"/>
                            <attachment id="12502172" name="HIVE-2017.4.patch" size="9954" author="chinnalalam" created="Thu, 3 Nov 2011 16:00:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2011 11:12:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2018] avoid loading Hive aux jars in CLI remote mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2018</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CLI load a number of jars (aux jars) including serde, antlr, metastore etc. These jars could be large and takes time to load when they are deployed to heavy loaded NFS mount points. In CLI remote mode, all these jars are not needed by the client side. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500119">HIVE-2018</key>
            <summary>avoid loading Hive aux jars in CLI remote mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 23:01:17 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:16 +0000</updated>
                            <resolved>Sat, 5 Mar 2011 20:30:41 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13001170" author="nzhang" created="Tue, 1 Mar 2011 23:02:50 +0000"  >&lt;p&gt;A simple patch that moves the jar loading code after checking if the CLI session is local mode. &lt;/p&gt;</comment>
                            <comment id="13001213" author="he yongqiang" created="Wed, 2 Mar 2011 00:41:45 +0000"  >&lt;p&gt;+1, will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="13003040" author="he yongqiang" created="Sat, 5 Mar 2011 20:30:41 +0000"  >&lt;p&gt;Committed! Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472368" name="HIVE-2018.patch" size="1814" author="nzhang" created="Tue, 1 Mar 2011 23:02:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Mar 2011 00:41:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2019] Implement NOW() UDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2019</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Reference: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_now&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_now&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500123">HIVE-2019</key>
            <summary>Implement NOW() UDF</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="priyadarshini">Priyadarshini</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 23:29:10 +0000</created>
                <updated>Mon, 8 Sep 2014 09:06:37 +0000</updated>
                            <resolved>Mon, 8 Sep 2014 09:06:37 +0000</resolved>
                                                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13170798" author="priyadarshini.r" created="Fri, 16 Dec 2011 06:10:54 +0000"  >&lt;p&gt;I am working on this.&lt;br/&gt;
I have few doubts to clarify with respect to this.&lt;br/&gt;
select now(),now() from &amp;lt;tname&amp;gt;&lt;br/&gt;
The above query shud return the same time in both ofthe columns ? I find that in the reference link it does it.&lt;br/&gt;
One more doubt is if we want of this format,&lt;br/&gt;
select now()+0 from &amp;lt;tname&amp;gt;&lt;br/&gt;
i.e adding some integers to the now() function, it shuould be possible that now() fucntion should take argument like which format user want.&lt;br/&gt;
So for operations for adding some integer to now() funciton, we may hav to pass the format also&lt;/p&gt;</comment>
                            <comment id="13170801" author="priyadarshini.r" created="Fri, 16 Dec 2011 06:32:57 +0000"  >&lt;p&gt;I will implement 2 possible uses&lt;br/&gt;
One with default - now()&lt;br/&gt;
Other that takes a format as an argument and supports adding integer to it&lt;br/&gt;
i.e &lt;br/&gt;
seelct now(&quot;format string&quot;) + 1 from &amp;lt;tname&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13170955" author="priyadarshini.r" created="Fri, 16 Dec 2011 13:05:52 +0000"  >&lt;p&gt;This is the initial version where now() udf will return the current time in &quot;yyyy-mm-dd hh:mm:ss&quot; format&lt;/p&gt;</comment>
                            <comment id="13631569" author="navis" created="Mon, 15 Apr 2013 07:58:41 +0000"  >&lt;p&gt;Now() seemed not be resolve solely by UDFs.&lt;/p&gt;</comment>
                            <comment id="13634112" author="clarkyzl" created="Wed, 17 Apr 2013 15:16:32 +0000"  >&lt;p&gt;If we use now() for filters, the result will be uncertain.&lt;br/&gt;
Because if a Map Task is scheduled first, the now() of this map task is earlier, if this task is scheduled later, the now() of this map task is later.&lt;br/&gt;
In our production environment, a lot of hive tasks are scheduled at mid night, the now() of the Tasks may cross a day for the scheduling orders.&lt;br/&gt;
I think it is necessary to add a kind of UDF called UDCF. (User Defined Client Functions). if we get the client side now() and make it a constant during compile time, it will be no such problems.&lt;/p&gt;</comment>
                            <comment id="13634121" author="clarkyzl" created="Wed, 17 Apr 2013 15:21:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=priyadarshini&quot; class=&quot;user-hover&quot; rel=&quot;priyadarshini&quot;&gt;Priyadarshini&lt;/a&gt; I think the patch is a little bit simple, and should consider distributed situation. I think a better way is to fold the NOW() into a constant during compile time.&lt;/p&gt;</comment>
                            <comment id="13634148" author="appodictic" created="Wed, 17 Apr 2013 15:45:13 +0000"  >&lt;p&gt;UDFs have a deterministic annotation you should explore.&lt;/p&gt;</comment>
                            <comment id="13634176" author="clarkyzl" created="Wed, 17 Apr 2013 16:10:01 +0000"  >&lt;p&gt;Actually, NOW() is not a non-deterministic UDF like rand(), for every time you call it, it returns different answers. Is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-746&quot; title=&quot;constant folding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-746&quot;&gt;HIVE-746&lt;/a&gt; a related JIRA issue?&lt;/p&gt;</comment>
                            <comment id="13634805" author="navis" created="Thu, 18 Apr 2013 03:59:17 +0000"  >&lt;p&gt;Agreed. NOW() should be replaced with a constant right before executing the query. It&apos;s non-deterministic in compile time but can be regarded as deterministic in runtime. &lt;/p&gt;</comment>
                            <comment id="13635327" author="ehans" created="Thu, 18 Apr 2013 16:41:35 +0000"  >&lt;p&gt;Agreed, especially with the phrase &quot;right before executing the query.&quot; The timestamp should be gotten once at query execution startup time, not compile time. Although these two steps are pretty much the same in Hive now, someday there could be a plan cache, so a cached NOW() result would get stale. Or, if a compilation takes a long time for some reason, NOW() could get stale. This is how it is done in one commercial DBMS that I know. If there are multiple different flavors of date and time functions, they should all be based off the same internal hi-resolution timestamp. That way they would all be consistent within one query execution if multiple functions are used, say DATE(), NOW() etc. in the same query.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12430737">HIVE-649</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12507686" name="HIVE-2019.patch" size="4636" author="priyadarshini.r" created="Fri, 16 Dec 2011 13:05:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Dec 2011 06:10:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2020] Create a separate namespace for Hive variables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2020</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Support for variable substitution was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1096&quot; title=&quot;Hive Variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1096&quot;&gt;&lt;del&gt;HIVE-1096&lt;/del&gt;&lt;/a&gt;. However, variable substitution was implemented by reusing the HiveConf namespace, so there is no separation between Hive configuration properties and Hive variables.&lt;/p&gt;

&lt;p&gt;This ticket encompasses the following enhancements:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Create a separate namespace for managing Hive variables.&lt;/li&gt;
	&lt;li&gt;Add support for setting variables on the command line via &apos;-hivevar x=y&apos;&lt;/li&gt;
	&lt;li&gt;Add support for setting variables through the CLI via &apos;set hivevar:x=y&apos;&lt;/li&gt;
	&lt;li&gt;Add support for referencing variables in statements using either &apos;${hivevar:var_name}&apos; or &apos;${var_name}&apos;&lt;/li&gt;
	&lt;li&gt;Provide a means for differentiating between hiveconf, hivevar, system, and environment properties in the output of &apos;set -v&apos;&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12500130">HIVE-2020</key>
            <summary>Create a separate namespace for Hive variables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vaggarw">Vaibhav Aggarwal</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 00:56:07 +0000</created>
                <updated>Tue, 15 Jan 2013 07:30:17 +0000</updated>
                            <resolved>Fri, 2 Sep 2011 01:09:58 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13071318" author="vaggarw" created="Tue, 26 Jul 2011 19:56:47 +0000"  >&lt;p&gt;I propose to use -d, --define to define Hive variables.&lt;br/&gt;
Amazon ElasticMapreduce is already using this notation for hive variables and variable substitution.&lt;/p&gt;

&lt;p&gt;This approach would also clearly separate use of -hiveconf from -d or --define which would be used to purely set hive variables.&lt;/p&gt;

&lt;p&gt;This would also maintain consistency for Hive users.&lt;/p&gt;</comment>
                            <comment id="13072009" author="vaggarw" created="Wed, 27 Jul 2011 21:08:06 +0000"  >&lt;p&gt;Requested review:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13072011" author="jiraposter@reviews.apache.org" created="Wed, 27 Jul 2011 21:09:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a separate option for Hive variable&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2020&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/DefaultPreprocessor.java PRE-CREATION &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/KeyValue.java PRE-CREATION &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java 90084ed &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/Preprocessor.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1204/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Vaibhav&lt;/p&gt;
</comment>
                            <comment id="13072545" author="cwsteinbach" created="Thu, 28 Jul 2011 21:36:44 +0000"  >&lt;p&gt;@Vaibav: Is this patch ready for review? If so, please attach the patch to this ticket and click &quot;Submit Patch&quot;. Thanks.&lt;/p&gt;</comment>
                            <comment id="13078474" author="jiraposter@reviews.apache.org" created="Tue, 2 Aug 2011 22:28:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1204/#review1273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/#review1273&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;This patch doesn&apos;t appear to address most of the issues described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;, which covers adding a separate namespace for variables that is distinct from hiveconf and environment/system properties. This patch also needs a testcase.&lt;/p&gt;


&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/DefaultPreprocessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1204/#comment2906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/#comment2906&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please extend/modify/use the code in org.apache.hadoop.hive.ql.parse.VariableSubstitution instead of adding this class.&lt;/p&gt;



&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1204/#comment2905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/#comment2905&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think these two option definitions can be combined, e.g:&lt;/p&gt;

&lt;p&gt;    .withArgName(&quot;key=value&quot;)&lt;br/&gt;
    .withLongOpt(&quot;define&quot;)&lt;br/&gt;
    .create(&quot;d&quot;);&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-27 21:07:40, Vaibhav Aggarwal wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-27 21:07:40)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Create a separate option for Hive variable&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2020&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/DefaultPreprocessor.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/KeyValue.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java 90084ed &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/Preprocessor.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1204/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1204/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Vaibhav&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13080275" author="vaggarw" created="Fri, 5 Aug 2011 22:44:19 +0000"  >&lt;p&gt;I had a chat with Carl about this issue.&lt;br/&gt;
The following are the planned next steps:&lt;/p&gt;

&lt;p&gt;1. Use VariableSubstitution instead of DefaultPreprocessor.&lt;br/&gt;
2. Add support for specifying variables as &apos;${var_name}&apos; only for now. (Already implemented)&lt;br/&gt;
3. Support set -v to clearly separate hive variables from hiveconf variables.&lt;br/&gt;
4. Support setting variables through command line as &apos;&lt;del&gt;d x=y&apos; OR &apos;&lt;/del&gt;-define x=y&apos; (Already implemented)&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vaibhav&lt;/p&gt;</comment>
                            <comment id="13081267" author="vaggarw" created="Mon, 8 Aug 2011 22:45:54 +0000"  >&lt;p&gt;New review request: &lt;a href=&quot;https://reviews.apache.org/r/1324/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13081268" author="jiraposter@reviews.apache.org" created="Mon, 8 Aug 2011 22:46:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1324/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a separate namespace for Hive variables.&lt;/p&gt;

&lt;p&gt;Added support for:&lt;/p&gt;

&lt;p&gt;1. -d and --define;&lt;br/&gt;
2. set define:var=var_value; // To set the variable&lt;br/&gt;
3. set -v;&lt;br/&gt;
4. set define:var; // To print the variable&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vaibhav&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2020&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java a2976b5 &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java 90084ed &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java e203dda &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java 97fa1ab &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 6a6e8e8 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1324/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Vaibhav&lt;/p&gt;
</comment>
                            <comment id="13084943" author="jiraposter@reviews.apache.org" created="Mon, 15 Aug 2011 02:28:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1324/#review1450&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/#review1450&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;The patch does not compile. Looks like it&apos;s missing the definition for the Substitution class. Why is this new class necessary? Why not build any new functionality into the VariableSubstitution class?&lt;/li&gt;
	&lt;li&gt;This patch needs to add new testcases for the namespace prefixing.&lt;/li&gt;
	&lt;li&gt;Why is the new namespace named &quot;define&quot;? If not &quot;hivevar&quot;, can we at least use a noun instead of a verb?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-08 22:44:45, Vaibhav Aggarwal wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1324/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-08 22:44:45)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Create a separate namespace for Hive variables.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added support for:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;1. -d and --define;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;2. set define:var=var_value; // To set the variable&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;3. set -v;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;4. set define:var; // To print the variable&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Vaibhav&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2020&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java a2976b5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java 90084ed &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java e203dda &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java 97fa1ab &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 6a6e8e8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1324/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1324/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Vaibhav&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13088100" author="jiraposter@reviews.apache.org" created="Sat, 20 Aug 2011 01:13:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1607/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1607/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;1. Added support  hivevar&lt;br/&gt;
2. Removed dependency on new class&lt;br/&gt;
3. Added test case&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2020&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java a2976b5 &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java 90084ed &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java e203dda &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java 97fa1ab &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 6a6e8e8 &lt;br/&gt;
  ql/src/test/queries/clientpositive/set_variable_sub.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/set_variable_sub.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1607/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1607/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Vaibhav&lt;/p&gt;
</comment>
                            <comment id="13095699" author="cwsteinbach" created="Fri, 2 Sep 2011 01:09:58 +0000"  >&lt;p&gt;Committed to branch-0.8 and trunk. Thanks Vaibhav!&lt;/p&gt;</comment>
                            <comment id="13095701" author="vaggarw" created="Fri, 2 Sep 2011 01:10:53 +0000"  >&lt;p&gt;Thanks for looking at this Carl!&lt;/p&gt;</comment>
                            <comment id="13095918" author="hudson" created="Fri, 2 Sep 2011 11:28:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #928 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/928/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/928/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;. Create a separate namespace for Hive variables (Vaibhav Aggarwal via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1164319&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1164319&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/set_variable_sub.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/set_variable_sub.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13095951" author="hudson" created="Fri, 2 Sep 2011 12:44:19 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #5 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/5/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2020&quot; title=&quot;Create a separate namespace for Hive variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2020&quot;&gt;&lt;del&gt;HIVE-2020&lt;/del&gt;&lt;/a&gt;. Create a separate namespace for Hive variables (Vaibhav Aggarwal via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1164320&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1164320&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/test/queries/clientpositive/set_variable_sub.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/test/results/clientpositive/set_variable_sub.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12627609">HIVE-3900</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446587">HIVE-1096</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12489766" name="HIVE-2020-2.patch" size="12648" author="vaggarw" created="Mon, 8 Aug 2011 22:44:56 +0000"/>
                            <attachment id="12491026" name="HIVE-2020-3.patch" size="16657" author="vaggarw" created="Sat, 20 Aug 2011 01:13:00 +0000"/>
                            <attachment id="12488138" name="HIVE-2020.patch" size="6607" author="vaggarw" created="Thu, 28 Jul 2011 21:42:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jul 2011 19:56:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2021] Add a configuration property that sets the variable substitution max depth</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2021</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The VariableSubstitution class contains a hardcoded MAX_SUBST=40 value which defines the maximum number of variable references that are allowed to appear in a single Hive statement. This value should be configurable via hiveconf.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500134">HIVE-2021</key>
            <summary>Add a configuration property that sets the variable substitution max depth</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                            <label>configuration-addition</label>
                    </labels>
                <created>Wed, 2 Mar 2011 01:33:09 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:37 +0000</updated>
                            <resolved>Tue, 26 Jun 2012 03:31:17 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13399785" author="appodictic" created="Sat, 23 Jun 2012 01:27:41 +0000"  >&lt;p&gt;Rock it.&lt;/p&gt;</comment>
                            <comment id="13400920" author="ashutoshc" created="Mon, 25 Jun 2012 21:25:38 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="13401144" author="ashutoshc" created="Tue, 26 Jun 2012 03:31:17 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Ed!&lt;/p&gt;</comment>
                            <comment id="13547966" author="hudson" created="Wed, 9 Jan 2013 10:23:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2021&quot; title=&quot;Add a configuration property that sets the variable substitution max depth&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2021&quot;&gt;&lt;del&gt;HIVE-2021&lt;/del&gt;&lt;/a&gt; : Add a configuration property that sets the variable substitution max depth (Edward Capriolo via Ashutosh Chauhan) (Revision 1353808)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1353808&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1353808&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550162" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:37 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12446587">HIVE-1096</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12595969">HADOOP-8532</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12533146" name="hive-2021.patch.txt.1" size="2431" author="appodictic" created="Sat, 23 Jun 2012 01:27:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Jun 2012 01:27:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2022] Making JDO thread-safe by default</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2022</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If there are multiple thread accessing metastore concurrently, there are cases that JDO threw exceptions because of concurrent access of HashMap inside JDO. Setting javax.jdo.option.Multithreaded to true solves this issue. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500145">HIVE-2022</key>
            <summary>Making JDO thread-safe by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 04:45:59 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:06 +0000</updated>
                            <resolved>Wed, 2 Mar 2011 21:15:03 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13001283" author="pauly" created="Wed, 2 Mar 2011 05:08:12 +0000"  >&lt;p&gt;+1 Will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="13001462" author="macyang" created="Wed, 2 Mar 2011 15:50:52 +0000"  >&lt;p&gt;Will this be included in the 0.7 release?&lt;/p&gt;</comment>
                            <comment id="13001651" author="pauly" created="Wed, 2 Mar 2011 21:15:03 +0000"  >&lt;p&gt;Committed. Thanks Ning!&lt;/p&gt;</comment>
                            <comment id="13001666" author="pauly" created="Wed, 2 Mar 2011 21:28:57 +0000"  >&lt;p&gt;@Mac - sounds like a good idea. I&apos;ll backport to 0.7.&lt;/p&gt;</comment>
                            <comment id="13001686" author="macyang" created="Wed, 2 Mar 2011 21:46:17 +0000"  >&lt;p&gt;Thanks Paul!&lt;/p&gt;</comment>
                            <comment id="13001857" author="cwsteinbach" created="Thu, 3 Mar 2011 04:19:32 +0000"  >&lt;p&gt;This patch broke TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore: &lt;a href=&quot;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/590/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/590/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Paul: Please don&apos;t backport this to 0.7.0&lt;/p&gt;</comment>
                            <comment id="13002184" author="pauly" created="Thu, 3 Mar 2011 20:18:35 +0000"  >&lt;p&gt;Apologies for the build break - Ning and I are looking into fixing some issues with my build environment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472391" name="HIVE-2022.patch" size="588" author="nzhang" created="Wed, 2 Mar 2011 04:47:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Mar 2011 05:08:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2023] Add javax.jdo.option.Multithreaded configuration property to HiveConf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2023</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The configuration property javax.jdo.option.Multithreaded was added to hive-default.xml in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2022&quot; title=&quot;Making JDO thread-safe by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2022&quot;&gt;&lt;del&gt;HIVE-2022&lt;/del&gt;&lt;/a&gt;. This property also needs to be added to HiveConf.java.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500237">HIVE-2023</key>
            <summary>Add javax.jdo.option.Multithreaded configuration property to HiveConf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 21:52:09 +0000</created>
                <updated>Wed, 24 Aug 2011 06:45:42 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 18:33:59 +0000</resolved>
                                                                    <component>Configuration</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13002478" author="nzhang" created="Fri, 4 Mar 2011 06:51:37 +0000"  >&lt;p&gt;fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2025&quot; title=&quot;Fix TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore broken by HIVE-2022&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2025&quot;&gt;&lt;del&gt;HIVE-2025&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12500270">HIVE-2025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2011 06:51:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2024] In Driver.execute(), mapred.job.tracker is not restored if one of the task fails.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2024</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If automatically one job is determined to run in local mode, and the task fails with error code not 0, mapred.job.tracker will remain to be local and might cause further problems.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500249">HIVE-2024</key>
            <summary>In Driver.execute(), mapred.job.tracker is not restored if one of the task fails.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 23:05:41 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:36 +0000</updated>
                            <resolved>Thu, 10 Mar 2011 18:41:16 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13002807" author="sdong" created="Fri, 4 Mar 2011 20:48:58 +0000"  >&lt;p&gt;It is a straight-forward simple fix. Maybe not a perfect one. I verified that it fixed the scenario.&lt;/p&gt;</comment>
                            <comment id="13002841" author="he yongqiang" created="Fri, 4 Mar 2011 22:11:40 +0000"  >&lt;p&gt;will take a look. &lt;/p&gt;

&lt;p&gt;Siying, can you give an example to show why we need to restore the jobtracker?&lt;/p&gt;</comment>
                            <comment id="13002862" author="sdong" created="Fri, 4 Mar 2011 23:23:17 +0000"  >&lt;p&gt;One case:&lt;/p&gt;

&lt;p&gt;set hive.exec.mode.local.auto=true;&lt;br/&gt;
select transform&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; using &apos;non_exist_program&apos; from small_table;&lt;br/&gt;
select count(1) from big_table;&lt;/p&gt;

&lt;p&gt;The second query will also be executed as local mode though it is not qualified.&lt;/p&gt;</comment>
                            <comment id="13003041" author="he yongqiang" created="Sat, 5 Mar 2011 20:31:06 +0000"  >&lt;p&gt;running tests.&lt;/p&gt;</comment>
                            <comment id="13005233" author="he yongqiang" created="Thu, 10 Mar 2011 18:41:16 +0000"  >&lt;p&gt;Committed. Thanks Siying!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472701" name="HIVE-2024.1.patch" size="602" author="sdong" created="Fri, 4 Mar 2011 20:47:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2011 22:11:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2025] Fix TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore broken by HIVE-2022</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2025</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2022&quot; title=&quot;Making JDO thread-safe by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2022&quot;&gt;&lt;del&gt;HIVE-2022&lt;/del&gt;&lt;/a&gt; broke TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/590/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/590/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Paul: Assigning this to you.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500270">HIVE-2025</key>
            <summary>Fix TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore broken by HIVE-2022</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2011 04:22:34 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:44 +0000</updated>
                            <resolved>Fri, 4 Mar 2011 06:44:07 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13001881" author="nzhang" created="Thu, 3 Mar 2011 06:09:36 +0000"  >&lt;p&gt;This is due to a bug in ObjectStore. I&apos;ll upload a patch soon.&lt;/p&gt;</comment>
                            <comment id="13001892" author="nzhang" created="Thu, 3 Mar 2011 06:37:39 +0000"  >&lt;p&gt;null-checking before delete persistent obj in ObjectStore.dropType(). Also added javax.jdo.option.Embedded to HiveConf.java (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2022&quot; title=&quot;Making JDO thread-safe by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2022&quot;&gt;&lt;del&gt;HIVE-2022&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13002259" author="cwsteinbach" created="Thu, 3 Mar 2011 21:47:13 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/464/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/464/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13002296" author="cwsteinbach" created="Thu, 3 Mar 2011 22:56:48 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13002473" author="cwsteinbach" created="Fri, 4 Mar 2011 06:44:07 +0000"  >&lt;p&gt;Committed to trunk. Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12500237">HIVE-2023</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12472510" name="HIVE-2025.patch" size="15546" author="nzhang" created="Thu, 3 Mar 2011 06:37:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2011 06:09:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2026] Parallelize UpdateInputAccessTimeHook</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2026</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UpdateInputAccessTimeHook is usually used as a pre-execution hook to update the metastore&apos;s lastAccessTime field of input partition/table. If a query touches a large number of partitions, this hooks takes a long time to execute. One approach is to make the hook itself to run in a separate thread. But it is hard to guarantee backward compatibility in semantics in case of exceptions encountered in the hook execution. This task takes another approach to parallelize the hook itself (update multiple partitions concurrently), but execute each pre-hook in sequential order. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500282">HIVE-2026</key>
            <summary>Parallelize UpdateInputAccessTimeHook</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2011 07:50:42 +0000</created>
                <updated>Mon, 21 Mar 2011 20:48:49 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13001919" author="nzhang" created="Thu, 3 Mar 2011 08:50:00 +0000"  >&lt;p&gt;running tests and will update a review board. &lt;/p&gt;</comment>
                            <comment id="13001923" author="nzhang" created="Thu, 3 Mar 2011 08:54:10 +0000"  >&lt;p&gt;review board: &lt;a href=&quot;https://reviews.apache.org/r/460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/460/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13002483" author="mis" created="Fri, 4 Mar 2011 07:09:14 +0000"  >&lt;p&gt;Patch incorporating the review comments.&lt;/p&gt;</comment>
                            <comment id="13002488" author="nzhang" created="Fri, 4 Mar 2011 07:27:35 +0000"  >&lt;p&gt;The review board has also been updated with the new &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2026&quot; title=&quot;Parallelize UpdateInputAccessTimeHook&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2026&quot;&gt;HIVE-2026&lt;/a&gt;_2.patch&lt;/p&gt;</comment>
                            <comment id="13009281" author="namit" created="Mon, 21 Mar 2011 18:47:39 +0000"  >&lt;p&gt;Ning, do you want the new parameter to use the new configuration variable - I mean, number of threads.&lt;br/&gt;
I mean, ExecDriver can invoke the hooks in parallel and then wait for them, that way if we have&lt;br/&gt;
a new hook with similar requirements in the future, we dont have ti duplicate this code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472515" name="HIVE-2026.patch" size="22341" author="nzhang" created="Thu, 3 Mar 2011 08:50:00 +0000"/>
                            <attachment id="12472651" name="HIVE-2026_2.patch" size="22855" author="mis" created="Fri, 4 Mar 2011 07:09:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2011 07:09:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2027] Asynchronous Hooks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2027</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;PreHook and PostHook are executed sequentially in the order if they are defined in hive.exec.pre.hooks and hve.exec.post.hooks. In some cases the sequential semantics are mandatory, but not for all cases. It would be desirable to define an AysncHook that extends Hook (similarly for AsyncPreHook and AsyncPostHook) to asynchronously execute the hooks in a thread pool.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500329">HIVE-2027</key>
            <summary>Asynchronous Hooks</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2011 17:58:18 +0000</created>
                <updated>Thu, 3 Mar 2011 17:58:18 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2028] Performance instruments for client side execution</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2028</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive client side execution could sometimes takes a long time. This task is to instrument the client side code to measure the time spent in the most likely expensive components. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12500473">HIVE-2028</key>
            <summary>Performance instruments for client side execution</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2011 21:03:16 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:37 +0000</updated>
                            <resolved>Fri, 18 Mar 2011 07:18:47 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13007610" author="nzhang" created="Wed, 16 Mar 2011 18:24:51 +0000"  >&lt;p&gt;Updated to the latest trunk.&lt;/p&gt;</comment>
                            <comment id="13007625" author="pauly" created="Wed, 16 Mar 2011 18:52:18 +0000"  >&lt;p&gt;In PerfLogEnd():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&amp;gt;&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shouldn&apos;t this be a &quot;&amp;gt;&quot; since this is a close tag?&lt;/p&gt;</comment>
                            <comment id="13007680" author="nzhang" created="Wed, 16 Mar 2011 20:25:39 +0000"  >&lt;p&gt;Good catch Paul. I&apos;m uploading a new one correcting this. &lt;/p&gt;</comment>
                            <comment id="13007759" author="pauly" created="Thu, 17 Mar 2011 00:45:12 +0000"  >&lt;p&gt;+1 Will test and commit.&lt;/p&gt;</comment>
                            <comment id="13008357" author="pauly" created="Fri, 18 Mar 2011 07:18:47 +0000"  >&lt;p&gt;Committed. Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473824" name="HIVE-2028.2.patch" size="7341" author="nzhang" created="Wed, 16 Mar 2011 18:24:51 +0000"/>
                            <attachment id="12473847" name="HIVE-2028.3.patch" size="7340" author="nzhang" created="Wed, 16 Mar 2011 20:25:39 +0000"/>
                            <attachment id="12472705" name="HIVE-2028.patch" size="9067" author="nzhang" created="Fri, 4 Mar 2011 21:04:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Mar 2011 18:52:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2029] MetaStore ConnectionURL updates need to trigger creation of Default DB if it doesn&apos;t exist</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2029</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1219&quot; title=&quot;More robust handling of metastore connection failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1219&quot;&gt;&lt;del&gt;HIVE-1219&lt;/del&gt;&lt;/a&gt; defined the JDOConnectionURLHook plugin, and integrated this feature into HiveMetaStore. On MetaStore operation failures, this plugin is used to update the metastore ConnectionURL configuration property. Currently this update triggers the reinitialization of the underlying JDO PersistenceManager, but it does not trigger checks to see if the default database exists, nor will it create the default database if it does not exist. It needs to do both.&lt;/p&gt;

&lt;p&gt;This ticket also covers removing the &apos;hive.metastore.force.reload.conf&apos; property from HiveConf and HiveMetaStore. This property should not have been added in the first place since its sole purpose is to facilitate testing of the JDOConnectionURLHook mechanism by unnaturally forcing reinitialization of the PersistenceManager.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500610">HIVE-2029</key>
            <summary>MetaStore ConnectionURL updates need to trigger creation of Default DB if it doesn&apos;t exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2011 10:36:06 +0000</created>
                <updated>Sun, 23 Oct 2011 20:20:09 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13027219" author="ashutoshc" created="Fri, 29 Apr 2011 22:28:34 +0000"  >&lt;p&gt;+1 for removing &apos;hive.metastore.force.reload.conf&apos;. Tests should not be written in such a manner that they need to modify the code. This has opened up multiple paths in Metastore code which needs to be reasoned about. &lt;br/&gt;
Is there an agreement on whether connectionURL hook should look for default DB and create it in case it doesn&apos;t exist?&lt;/p&gt;</comment>
                            <comment id="13027224" author="cwsteinbach" created="Fri, 29 Apr 2011 22:43:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there an agreement on whether connectionURL hook should look for default DB and create it in case it doesn&apos;t exist?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m definitely +1 on this.&lt;/p&gt;

&lt;p&gt;@John/Paul: do either of you see any problem with automatically creating the default DB if it does not exist?&lt;/p&gt;</comment>
                            <comment id="13027272" author="ashutoshc" created="Sat, 30 Apr 2011 01:16:32 +0000"  >&lt;p&gt;Patch which removes reload.conf property.&lt;/p&gt;</comment>
                            <comment id="13027819" author="jvs" created="Mon, 2 May 2011 20:14:58 +0000"  >&lt;p&gt;I&apos;ve asked Paul to take a look.  Adding test-specific properties is sometimes necessary for getting coverage on hard-to-simulate situations, though I agree we should try to keep them to a minimum.&lt;/p&gt;

&lt;p&gt;Regarding creating the DB, it seems like this should somehow be tied to datanucleus.autoCreateSchema.  Hive&apos;s &apos;default&apos; database is a row to be populated in this schema, so from the point of view of the underlying DBMS it is data rather than schema, but from the point of Hive, it&apos;s all metadata.&lt;/p&gt;</comment>
                            <comment id="13029608" author="ashutoshc" created="Thu, 5 May 2011 22:05:02 +0000"  >&lt;p&gt;Thinking more about it, I think retrial is a responsibility of ORM layer (jdo/datanucleus) not of application (Metastore in this case). Datanucleus already provides this failover facility: &lt;a href=&quot;http://www.datanucleus.org/products/accessplatform_3_0/rdbms/failover.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/accessplatform_3_0/rdbms/failover.html&lt;/a&gt; Looks like I am missing something here. Why retrials are implemented in Metastore and we don&apos;t make use of datanucleus feature here?&lt;/p&gt;</comment>
                            <comment id="13034294" author="ashutoshc" created="Mon, 16 May 2011 20:47:38 +0000"  >&lt;p&gt;My question didn&apos;t get any answers. So, let me ask another question. I think failover is present in datanucleus  3.0 and Hive is still on 2.x. So, that may be the reason that Hive implemented its own failover. If this is correct, shall we first upgrade Datanucleus version to 3.x and then switch to Datanucleus functionality instead of our own retrials. If there is an agreement then patch on this ticket can be committed as is and I will open tickets for followup work. &lt;/p&gt;</comment>
                            <comment id="13043434" author="ashutoshc" created="Fri, 3 Jun 2011 16:06:29 +0000"  >&lt;p&gt;Does anyone have any opinion on this?&lt;/p&gt;</comment>
                            <comment id="13044032" author="pauly" created="Fri, 3 Jun 2011 20:46:54 +0000"  >&lt;p&gt;Can you elaborate on how this retry feature works in datanucleus 3.0? The case that could be handled with the URL hook is as follows - a db host goes down. A failover is performed and a replica on a different host is promoted to be the new master. Using the hook, the client is able to re-execute the query on the new host and the Hive query succeeds without failure. Would it be possible to implement something similar in datanucleus 3.0?&lt;/p&gt;</comment>
                            <comment id="13133723" author="ashutoshc" created="Sun, 23 Oct 2011 20:19:19 +0000"  >&lt;p&gt;@Paul,&lt;br/&gt;
From the url I quoted above:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;DataNucleus has the capability to switch to between DataSources upon failure of one while obtaining a datastore connection. The failover mechanism is useful for applications with multiple database nodes when the data is actually replicated/synchronized by the underlying database.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So, DN will try to connect to a slave automatically when it can&apos;t connect with master. But it won&apos;t promote the slave to master so metastore can proceed with read only queries on DB. This falls short of what you have described, but once we upgrade to 3.x via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084&quot; title=&quot;Upgrade datanucleus from 2.0.3 to a more recent version (3.?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2084&quot;&gt;&lt;del&gt;HIVE-2084&lt;/del&gt;&lt;/a&gt; we can atleast simplify the reconnect logic.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12502784">HIVE-2084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12497385">HIVE-1939</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12458611">HIVE-1219</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12477862" name="hive_2029.patch" size="2352" author="ashutoshc" created="Sat, 30 Apr 2011 01:16:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Apr 2011 22:28:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
