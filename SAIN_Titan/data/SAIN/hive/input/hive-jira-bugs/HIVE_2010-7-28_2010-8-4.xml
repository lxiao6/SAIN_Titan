<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:16:18 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-7-28+AND+created+%3C%3D+2010-8-4+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="17" total="17"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1492] FileSinkOperator should remove duplicated files from the same task based on file sizes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1492</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;FileSinkOperator.jobClose() calls Utilities.removeTempOrDuplicateFiles() to retain only one file for each task. A task could produce multiple files due to failed attempts or speculative runs. The largest file should be retained rather than the first file for each task. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12470397">HIVE-1492</key>
            <summary>FileSinkOperator should remove duplicated files from the same task based on file sizes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jul 2010 00:48:12 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:59 +0000</updated>
                            <resolved>Mon, 16 Aug 2010 23:03:35 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12893460" author="he yongqiang" created="Thu, 29 Jul 2010 00:59:30 +0000"  >&lt;p&gt;+1, looks good. will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="12893704" author="he yongqiang" created="Thu, 29 Jul 2010 17:11:25 +0000"  >&lt;p&gt;I just committed. Thanks  Ning!&lt;/p&gt;</comment>
                            <comment id="12893761" author="nzhang" created="Thu, 29 Jul 2010 18:40:17 +0000"  >&lt;p&gt;Uploading a patch for branch-0.6.&lt;/p&gt;</comment>
                            <comment id="12893772" author="appodictic" created="Thu, 29 Jul 2010 18:59:48 +0000"  >&lt;p&gt;&quot;the largest file is the correct file&quot; &lt;br/&gt;
Is that generally true or an absolute fact?&lt;/p&gt;</comment>
                            <comment id="12893782" author="he yongqiang" created="Thu, 29 Jul 2010 19:11:38 +0000"  >&lt;p&gt;The assumption of Map-reduce is &lt;br/&gt;
if we give same input and same m/r function, the output should be always the same.&lt;/p&gt;

&lt;p&gt;Otherwise the map-reduce fault tolerance mechanism is wrong.&lt;/p&gt;</comment>
                            <comment id="12893786" author="he yongqiang" created="Thu, 29 Jul 2010 19:24:00 +0000"  >&lt;p&gt;running test on branch-0.6&lt;/p&gt;</comment>
                            <comment id="12893788" author="nzhang" created="Thu, 29 Jul 2010 19:26:23 +0000"  >&lt;p&gt;@Edward, this is a heuristics that should be generally true. The good news is that we are not aware of any exceptions that violate the rule (assuming multiple attempts of the same task give deterministic results). &lt;/p&gt;

&lt;p&gt;The reason that we are relying on heuristics here is that the old Hadoop API doesn&apos;t not support exception handling outside Mapper&apos;s map() function. The bug presents if an exception was thrown by Hadoop&apos;s RecordReader layer and it does not pass the message to the Mapper. When the mapper.close() is called there is not way the mapper know whether there is an exception happened in the Hadoop code path. A better way to handle this is to use the new Hadoop API that gives more control to the application layer. This heuristics is a workaround based on the old Hadoop API. &lt;/p&gt;</comment>
                            <comment id="12893907" author="he yongqiang" created="Fri, 30 Jul 2010 01:56:24 +0000"  >&lt;p&gt;committed to branch-0.6 as well. Thanks John!&lt;/p&gt;</comment>
                            <comment id="12899048" author="namit" created="Mon, 16 Aug 2010 19:45:28 +0000"  >&lt;p&gt;A better fix would be to catch next() in HiveRecordReader/CombineHiveRecordReader etc. and set the abort flag in ExecMapper in case of an exception.&lt;br/&gt;
There will be exactly 1 successful mapper in that case.&lt;/p&gt;</comment>
                            <comment id="12899152" author="nzhang" created="Mon, 16 Aug 2010 22:43:08 +0000"  >&lt;p&gt;Agree that we should catch the exception in (Combine)HiveRecordReader, but they are only used in map side. In the reducer, RecordReader was not called and there could also be exceptions outside of reducer(). This fix catches that case as well.&lt;/p&gt;

&lt;p&gt;I&apos;ve filed another JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1543&quot; title=&quot;set abort in ExecMapper when Hive&amp;#39;s record reader got an IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1543&quot;&gt;&lt;del&gt;HIVE-1543&lt;/del&gt;&lt;/a&gt; for catching exceptions in RecrodReaders. &lt;/p&gt;
</comment>
                            <comment id="12899167" author="namit" created="Mon, 16 Aug 2010 23:03:35 +0000"  >&lt;p&gt;Let us fix it in the follow-up &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450782" name="HIVE-1492.patch" size="2639" author="nzhang" created="Thu, 29 Jul 2010 00:55:03 +0000"/>
                            <attachment id="12450854" name="HIVE-1492_branch-0.6.patch" size="1871" author="nzhang" created="Thu, 29 Jul 2010 18:40:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Jul 2010 00:59:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1493] incorrect explanation when local mode not chosen automatically</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1493</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;slipped past in 1408:&lt;/p&gt;

&lt;p&gt;    // check for max input size                                                                                     &lt;br/&gt;
    if (inputSummary.getLength() &amp;gt; maxBytes)&lt;br/&gt;
        return &quot;Input Size (= &quot; + maxBytes + &quot;) is larger than &quot; +&lt;br/&gt;
            HiveConf.ConfVars.LOCALMODEMAXBYTES.varname + &quot; (= &quot; + maxBytes + &quot;)&quot;;&lt;/p&gt;


&lt;p&gt;printing same value twice.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470421">HIVE-1493</key>
            <summary>incorrect explanation when local mode not chosen automatically</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jul 2010 08:48:33 +0000</created>
                <updated>Mon, 7 Mar 2011 19:09:52 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:09:52 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894899" author="jsensarma" created="Tue, 3 Aug 2010 15:16:10 +0000"  >&lt;p&gt;fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1422&quot; title=&quot;skip counter update when RunningJob.getCounters() returns null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1422&quot;&gt;&lt;del&gt;HIVE-1422&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12467519">HIVE-1422</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1494] Index followup: remove sort by clause and fix a bug in collect_set udaf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1494</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12470556">HIVE-1494</key>
            <summary>Index followup: remove sort by clause and fix a bug in collect_set udaf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jul 2010 23:34:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:05 +0000</updated>
                            <resolved>Sat, 31 Jul 2010 02:34:37 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894203" author="jvs" created="Fri, 30 Jul 2010 23:43:51 +0000"  >&lt;p&gt;For the new test, could you add ORDER BY for determinism?  I know that the GROUP BY does it implicitly currently, but we shouldn&apos;t rely on that.&lt;/p&gt;</comment>
                            <comment id="12894211" author="he yongqiang" created="Sat, 31 Jul 2010 00:08:32 +0000"  >&lt;p&gt;A new patch added the &quot;ORDER BY&quot; clause.&lt;/p&gt;</comment>
                            <comment id="12894212" author="jvs" created="Sat, 31 Jul 2010 00:09:38 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12894239" author="jvs" created="Sat, 31 Jul 2010 02:34:37 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450930" name="hive-1494.1.patch" size="7598" author="he yongqiang" created="Fri, 30 Jul 2010 23:35:18 +0000"/>
                            <attachment id="12450936" name="hive-1494.2.patch" size="7754" author="he yongqiang" created="Sat, 31 Jul 2010 00:08:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Jul 2010 23:43:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1495] supply correct information to hooks and lineage for index rebuild</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1495</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;Ashish can probably help on how this should work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470560">HIVE-1495</key>
            <summary>supply correct information to hooks and lineage for index rebuild</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:19:36 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:33 +0000</updated>
                            <resolved>Thu, 12 Aug 2010 18:41:55 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12897113" author="jvs" created="Wed, 11 Aug 2010 02:05:19 +0000"  >&lt;p&gt;The lineage looks correct now for REBUILD; maybe we should set a comment in the schema for INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME and BLOCK&lt;/em&gt;&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE to make it clear that they are virtual columns?&lt;/p&gt;

&lt;p&gt;What about input/output?  In the example below, compare REBUILD (no input/output, only lineage) with the query which follows (input, output, and lineage).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PREHOOK: query: ALTER INDEX src_index ON src REBUILD
PREHOOK: type: QUERY
POSTHOOK: query: ALTER INDEX src_index ON src REBUILD
POSTHOOK: type: QUERY
POSTHOOK: Lineage: default__src_src_index__._bucketname SIMPLE [(src)src.FieldSchema(name:INPUT__FILE__NAME, type:string, comment:), ]
POSTHOOK: Lineage: default__src_src_index__._offsets EXPRESSION [(src)src.FieldSchema(name:BLOCK__OFFSET__INSIDE__FILE, type:bigint, comment:), ]
POSTHOOK: Lineage: default__src_src_index__.key SIMPLE [(src)src.FieldSchema(name:key, type:string, comment:default), ]
PREHOOK: query: SELECT x.* FROM default__src_src_index__ x ORDER BY key
PREHOOK: type: QUERY
PREHOOK: Input: default@default__src_src_index__
PREHOOK: Output: file:/var/folders/6g/6grtCwPMEf4sqHUPpy6xQG9ByHg/-Tmp-/heyongqiang/hive_2010-08-10_15-32-36_632_4988408731924434502/-mr-10000
POSTHOOK: query: SELECT x.* FROM default__src_src_index__ x ORDER BY key
POSTHOOK: type: QUERY
POSTHOOK: Input: default@default__src_src_index__
POSTHOOK: Output: file:/var/folders/6g/6grtCwPMEf4sqHUPpy6xQG9ByHg/-Tmp-/heyongqiang/hive_2010-08-10_15-32-36_632_4988408731924434502/-mr-10000
POSTHOOK: Lineage: default__src_src_index__._bucketname SIMPLE [(src)src.FieldSchema(name:INPUT__FILE__NAME, type:string, comment:), ]
POSTHOOK: Lineage: default__src_src_index__._offsets EXPRESSION [(src)src.FieldSchema(name:BLOCK__OFFSET__INSIDE__FILE, type:bigint, comment:), ]
POSTHOOK: Lineage: default__src_src_index__.key SIMPLE [(src)src.FieldSchema(name:key, type:string, comment:default), ]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12897140" author="he yongqiang" created="Wed, 11 Aug 2010 05:02:52 +0000"  >&lt;p&gt;A new patch added inputs/outputs for rebuild index. &lt;/p&gt;</comment>
                            <comment id="12897464" author="jvs" created="Wed, 11 Aug 2010 21:29:03 +0000"  >&lt;ul&gt;
	&lt;li&gt;Can you add Javadoc text for the new inputs/outputs @params to HiveIndexHandler.generateIndexBuildTaskList (and move them below the @param for baseTbl)?  It&apos;s important for interface methods to be documented as precisely as possible.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;You are missing the non-partitioned case (see the output for the example I gave above in index_compact_1.q.out, which is still missing input/output).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;I think driver.compile should already be constructing read/write entities for the reentrant INSERT.  You can access them as driver.getQueryPlan().getInputs/Outputs() and copy them into the sets passed in by the caller (rather than constructing new ones explicitly).  This would be more robust.&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12897494" author="he yongqiang" created="Wed, 11 Aug 2010 22:30:46 +0000"  >&lt;p&gt;Thanks for the comments, John. Uploaded a new patch.&lt;/p&gt;</comment>
                            <comment id="12897511" author="jvs" created="Wed, 11 Aug 2010 23:33:02 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12897521" author="jvs" created="Thu, 12 Aug 2010 00:11:18 +0000"  >&lt;p&gt;Oops, actually, the interface method should be declaring the new parameters as Set&amp;lt;&amp;gt; rather than HashSet&amp;lt;&amp;gt;.&lt;/p&gt;

&lt;p&gt;Also, for the Javadoc, we should make it clear that the handler implementation is supposed to add information to these sets as a side effect of the call (i.e. they are supplemental outputs going along with the return value).  &lt;/p&gt;

&lt;p&gt;While we&apos;re at it:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;move the new parameters to be last in the method signature (and Javadoc) to distinguish them from the read-only parameters&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;can we get rid of the db parameter altogether?  the only thing it is used for in CompactIndexHandler is to get the configuration, and we already have that from setConf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sorry for not noticing these earlier; could you give me one more patch?&lt;/p&gt;</comment>
                            <comment id="12897568" author="jvs" created="Thu, 12 Aug 2010 04:01:30 +0000"  >&lt;p&gt;Running tests now.&lt;/p&gt;</comment>
                            <comment id="12897592" author="jvs" created="Thu, 12 Aug 2010 06:51:54 +0000"  >&lt;p&gt;I got failures in two tests:&lt;/p&gt;

&lt;p&gt;testCliDriver_index_compact&lt;br/&gt;
testCliDriver_protectmode&lt;/p&gt;
</comment>
                            <comment id="12897605" author="he yongqiang" created="Thu, 12 Aug 2010 07:29:20 +0000"  >&lt;p&gt;Sorry, forgot to update outputs for these two testcases. Will be more careful next time.&lt;/p&gt;</comment>
                            <comment id="12897612" author="jvs" created="Thu, 12 Aug 2010 07:41:02 +0000"  >&lt;p&gt;Rerunning with latest.&lt;/p&gt;</comment>
                            <comment id="12897890" author="jvs" created="Thu, 12 Aug 2010 18:41:55 +0000"  >&lt;p&gt;Committed.  Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12451724" name="hive-1495.1.patch" size="768980" author="he yongqiang" created="Tue, 10 Aug 2010 23:00:52 +0000"/>
                            <attachment id="12451745" name="hive-1495.2.patch" size="775296" author="he yongqiang" created="Wed, 11 Aug 2010 05:02:52 +0000"/>
                            <attachment id="12451837" name="hive-1495.3.patch" size="778326" author="he yongqiang" created="Wed, 11 Aug 2010 22:30:13 +0000"/>
                            <attachment id="12451854" name="hive-1495.4.patch" size="779904" author="he yongqiang" created="Thu, 12 Aug 2010 03:04:39 +0000"/>
                            <attachment id="12451867" name="hive-1495.5.patch" size="842720" author="he yongqiang" created="Thu, 12 Aug 2010 07:29:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Aug 2010 05:02:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1496] enhance CREATE INDEX to support immediate index build</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1496</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we only support WITH DEFERRED REBUILD.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470561">HIVE-1496</key>
            <summary>enhance CREATE INDEX to support immediate index build</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="salbiz">Syed S. Albiz</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:22:56 +0000</created>
                <updated>Tue, 3 Jul 2012 00:12:31 +0000</updated>
                                            <version>0.7.0</version>
                    <version>0.8.0</version>
                                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12894217" author="jvs" created="Sat, 31 Jul 2010 00:23:20 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12913730" author="jvs" created="Wed, 22 Sep 2010 19:21:31 +0000"  >&lt;p&gt;Russell, please reassign to the actual owner.&lt;/p&gt;</comment>
                            <comment id="12913737" author="jvs" created="Wed, 22 Sep 2010 19:39:04 +0000"  >&lt;p&gt;The implementation for this will need to chain together a task to do the actual index building together with a task to do the metastore update.  It should be similar to CREATE TABLE AS SELECT (which both creates the table definition in the metastore and does the equivalent of an INSERT to populate it with the SELECT results).&lt;/p&gt;

&lt;p&gt;Use &quot;EXPLAIN CREATE TABLE p AS SELECT * FROM pokes;&quot; to see the combined plan.  And see the end of SemanticAnalyzer.genMapRedTasks for where it chains the tasks together.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    if (qb.isCTAS()) {
      // generate a DDL task and make it a dependent task of the leaf
      ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For immediate index build, we want to combine the existing CREATE INDEX with ALTER INDEX REBUILD.  One hiccup may be that the rebuild already wants the index to be defined in the metastore, whereas for CREATE TABLE AS SELECT we do it in the opposite order (only populating the metastore after the data is successfully loaded).  It may be acceptable to just make the CREATE INDEX non-atomic (i.e. populate the metastore first, and if the rebuild fails, we leave the index empty; the user can retry with ALTER INDEX REBUILD, same as if it had been deferred in the first place).&lt;/p&gt;

&lt;p&gt;Ning Zhang (nzhang at facebook dot com) did the CREATE TABLE AS SELECT implementation, so he may be able to provide help if you run into trouble with this one.&lt;/p&gt;</comment>
                            <comment id="12914312" author="jvs" created="Fri, 24 Sep 2010 01:44:30 +0000"  >&lt;p&gt;A related topic here is what happens when an INSERT is done to a table with an index on it.  For WITH DEFERRED REBUILD, it&apos;s necessary for the user to explicitly run the REBUILD.  For immediate rebuild, it should happen automatically for the partitions affected by the INSERT.&lt;/p&gt;

&lt;p&gt;We can either do this now or treat it as a followup.&lt;/p&gt;</comment>
                            <comment id="13107403" author="ashutoshc" created="Sun, 18 Sep 2011 09:44:51 +0000"  >&lt;p&gt;@Syed,&lt;/p&gt;

&lt;p&gt;Are you working on this ?&lt;/p&gt;</comment>
                            <comment id="13107468" author="jvs" created="Sun, 18 Sep 2011 16:36:17 +0000"  >&lt;p&gt;Syed&apos;s internship is over, so I don&apos;t think he&apos;s working on this one any more.&lt;/p&gt;</comment>
                            <comment id="13107488" author="ashutoshc" created="Sun, 18 Sep 2011 18:07:49 +0000"  >&lt;p&gt;Attaching patch with a testcase. Also, assigning to myself.&lt;/p&gt;</comment>
                            <comment id="13108953" author="jvs" created="Tue, 20 Sep 2011 19:33:53 +0000"  >&lt;p&gt;Ashutosh, the DEFERRED REBUILD refers to the data portion (not the metadata for the index definition).&lt;/p&gt;</comment>
                            <comment id="13125488" author="jvs" created="Tue, 11 Oct 2011 23:53:04 +0000"  >&lt;p&gt;Ignore my previous comment...I misread the patch.&lt;/p&gt;</comment>
                            <comment id="13125502" author="jvs" created="Wed, 12 Oct 2011 00:33:10 +0000"  >&lt;p&gt;Discussion from IRC:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ssalbiz: jsichi: I was looking at ashutosh &apos;s patch for 1496, and I was wondering if the problem with it the lack of atomicity? It seems to chain the map-red tasks to populate the index with the DDLTask correctly if I&apos;m reading the patch/testcase right
[4:37pm] jsichi: ssalbiz:  you&apos;re right; I misread the patch--didn&apos;t notice the addIdxTasks part.  ashutosh, sorry about that.
[4:40pm] jsichi: but I don&apos;t think we should be calling db.createIndex directly from DDLSemanticAnalyzer...should still be chaining in the DDLWork for that
[4:41pm] ssalbiz: right, I agree
[4:43pm] ashutosh: jsichi: I rememeber you commenting on the jira that atomicity will be an issue, but its ok to solve it seperately in a followup work
[4:44pm] jsichi: ashutosh:  agreed.  But we should still be following the usual pattern for executing the metastore update from within a task (rather than analyzer)
[4:45pm] jsichi: Another followup is to support a mode whereby updates to a table trigger a rebuild of the corresponding index partitions.
[4:47pm] jsichi: I guess the reason you had to do it early (in the analyzer) is that the build-task generation requires the metastore to already be populated.
[4:47pm] ashutosh: yeah.. correct thats the reason
[4:47pm] jsichi: hmmm
[4:48pm] ashutosh: build-task assumes all the data to be populated
[4:55pm] jsichi: I guess the only way to resolve that would be to factor out the code that knows how to make up an Index object from a CreateIndexDesc, and then create a temp during analysis (then discard it), then later create the real one when the task executes.
[4:56pm] ashutosh: yeah.. i think temp object approach may work
[4:57pm] ashutosh: but probably will churn around lot of code
[4:58pm] jsichi: having EXPLAIN able to show what&apos;s gonna be done without actually doing it seems like a valuable guarantee to preserve
[4:58pm] jsichi: (see e.g. HIVE-2478)
[5:01pm] ashutosh: &#8259;actually temp obj approach may not work because createIndex task connects to metastore to get the metadata &#8230; so it must exist in metastore
[5:02pm] jsichi: that&apos;s only for verifying that the index name does not conflict, rigth?
[5:05pm] jsichi: woohoo, finally gonna get a clean trunk build on Jenkins since I&apos;m about to commit HIVE-2493!
[5:05pm] ashutosh: awesome
[5:05pm] jsichi: already got a clean run on 0.8
[5:07pm] ashutosh: for me HBase tests always fail
[5:07pm] ashutosh: with exception NoRegionServerFound exception
[5:07pm] ashutosh: whats the magic there ?
[5:08pm] ssalbiz: looking at the TableBasedIndexHandler code, it does a bunch of checks to ensure that the partition specs of the table and index are in sync in the metastore. I think it would be possible to write a helper method in TableBasedIndexHandler that can be used to generate Index Map-Red Tasks without relying on the metastore at all if we can assume that the Index ms partition spec and the base table partition spec are going to be consistent when the da
[5:09pm] ssalbiz: seems like less code churn than trying to feed the current method mock metastore/Index objects to make those checks pass
[5:10pm] jsichi: ashutosh:  hmm, dunno...I&apos;ll bet there&apos;s a real exception buried somewhere deep in the logs...
[5:10pm] jsichi: ssalbiz:  I don&apos;t think we want to change the index handler interface though
[5:15pm] ssalbiz: hmmm, ok, in that case I guess we will have to feed temp objects to the existing generateIndexBuildTaskList method
[5:18pm] ashutosh: one possibility to avoid explain problem is to not execute ms operation in semantic analyzer if its an explain query
[5:19pm] jsichi: There&apos;s already precedent for the temp objects....e.g. Hive.createIndex already calls indexHandler.analyzeIndexDefinition with indexDesc and tt params which haven&apos;t actually been written to the metastore yet.
[5:20pm] jsichi: ashutosh:  that wouldn&apos;t work, would it, since the explain is supposed to show the index build tasks too
[5:22pm] ashutosh: hmm.. right.. it wont show it.. but will atleast prevent execution of unwanted ms operation in case of explain ...
[5:22pm] ashutosh: i can take a look at temp object approach
[5:23pm] jsichi: ssalbiz is actually going to work on indexing again as part of a school project, so if you&apos;re OK with it, we can assign back to him.
[5:25pm] ashutosh: ya.. thats fine..
[5:25pm] ashutosh: he can take it up
[5:25pm] jsichi: OK cool.  I&apos;ll copy-paste this conversation into JIRA in case we forget anything later.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13140886" author="salbiz" created="Tue, 1 Nov 2011 03:36:15 +0000"  >&lt;p&gt;I&apos;ve been looking at this for a while, unfortunately, since the population job requires the index table to exist so that it can do an INSERT OVERWRITE (...) into it, the approach we discussed using a dummy object will not work as expected. I think the only way to make this work will be to do the ms transaction to create the index table immediately in the SemanticAnalyzer, with a special case if necessary for EXPLAINs such that the code is not executed if part of an EXPLAIN statement. &lt;/p&gt;</comment>
                            <comment id="13141646" author="jvs" created="Tue, 1 Nov 2011 21:50:39 +0000"  >&lt;p&gt;@Syed:  how does CREATE TABLE AS SELECT manage to do it?  Doesn&apos;t it need to prepare the equivalent of an INSERT statement against a table which doesn&apos;t exist yet?&lt;/p&gt;</comment>
                            <comment id="13141647" author="jvs" created="Tue, 1 Nov 2011 21:50:40 +0000"  >&lt;p&gt;@Syed:  how does CREATE TABLE AS SELECT manage to do it?  Doesn&apos;t it need to prepare the equivalent of an INSERT statement against a table which doesn&apos;t exist yet?&lt;/p&gt;</comment>
                            <comment id="13141667" author="salbiz" created="Tue, 1 Nov 2011 22:08:59 +0000"  >&lt;p&gt;CREATE TABLE AS SELECT doesn&apos;t need to compile re-entrant HQL, so it resolves the table name for the INSERT as part of the same SemanticAnalyzer pass. However when we run the ALTER INDEX statement, the DDLSemanticAnalyzer tries to compile a re-entrant INSERT query as a dependent task. I guess one other approach would be to do some checking in the SemanticAnalyzer pass on the re-entrant SQL to populate the mapping of valid table names with tables that &lt;b&gt;will&lt;/b&gt; be created by the time the task doing the INSERT runs?&lt;/p&gt;</comment>
                            <comment id="13143475" author="jvs" created="Thu, 3 Nov 2011 19:40:01 +0000"  >&lt;p&gt;Oof. That sounds too painful+brittle.  What if we instead prepare a reentrant CREATE TABLE AS SELECT statement (rather than an INSERT statement), but then splice out the CREATE TABLE part (leaving just the load part).  Still very hacky, but maybe not too much.&lt;/p&gt;</comment>
                            <comment id="13401540" author="siddharthagunda" created="Tue, 26 Jun 2012 17:24:11 +0000"  >&lt;p&gt;This patch uses &quot;create table as&quot; instead of insert statement to build the index table. Create table as works only for non partitioned tables as of now. Hence this patch is for non partitioned tables.&lt;/p&gt;</comment>
                            <comment id="13405320" author="ashutoshc" created="Mon, 2 Jul 2012 20:49:06 +0000"  >&lt;p&gt;@Siddhartha,&lt;/p&gt;

&lt;p&gt;Can you create a review request for this on Phabricator?&lt;/p&gt;</comment>
                            <comment id="13405466" author="siddharthagunda" created="Tue, 3 Jul 2012 00:12:31 +0000"  >&lt;p&gt;Phabricator URI : &lt;a href=&quot;https://reviews.facebook.net/D3951&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3951&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please review the code. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12533506" name="hive-1496.1.patch.txt" size="55588" author="siddharthagunda" created="Tue, 26 Jun 2012 17:24:11 +0000"/>
                            <attachment id="12494978" name="hive-1496.patch" size="41072" author="ashutoshc" created="Sun, 18 Sep 2011 18:07:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 18 Sep 2011 09:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1497] support COMMENT clause on CREATE INDEX, and add new command for SHOW INDEXES</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1497</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to work out the syntax for SHOW/DESCRIBE, taking partitioning into account.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470562">HIVE-1497</key>
            <summary>support COMMENT clause on CREATE INDEX, and add new command for SHOW INDEXES</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rmelick">Russell Melick</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:27:51 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:37 +0000</updated>
                            <resolved>Sat, 13 Nov 2010 05:12:04 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12894218" author="jvs" created="Sat, 31 Jul 2010 00:28:14 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12912684" author="jvs" created="Mon, 20 Sep 2010 20:08:47 +0000"  >&lt;p&gt;Note recent improvements on DESCRIBE TABLE in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-558&quot; title=&quot;describe extended table/partition output is cryptic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-558&quot;&gt;&lt;del&gt;HIVE-558&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For command syntax, Hive usually mimics MySQL, so I guess just SHOW is good enough (no DESCRIBE needed):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/show-index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/show-index.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12912694" author="namit" created="Mon, 20 Sep 2010 20:26:06 +0000"  >&lt;p&gt;btw, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-558&quot; title=&quot;describe extended table/partition output is cryptic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-558&quot;&gt;&lt;del&gt;HIVE-558&lt;/del&gt;&lt;/a&gt; just got committed.&lt;/p&gt;</comment>
                            <comment id="12913729" author="jvs" created="Wed, 22 Sep 2010 19:18:44 +0000"  >&lt;p&gt;For the implementation, it should be possible to follow the pattern for the existing SHOW PARTITIONS command.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;showStatement in Hive.g&lt;/li&gt;
	&lt;li&gt;DDLSemanticAnalyzer.analyzeShowPartitions&lt;/li&gt;
	&lt;li&gt;ShowPartitionsDesc&lt;/li&gt;
	&lt;li&gt;DDLTask.showPartitions; for returning multiple fields per output row, use out.write(separator)&lt;/li&gt;
	&lt;li&gt;Hive.java does not currently have a getIndexes method, so you&apos;ll need to add that.  But IMetaStoreClient does have a listIndexes method already, so you can call that.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12918444" author="rmelick" created="Wed, 6 Oct 2010 09:13:45 +0000"  >&lt;p&gt;Preliminary patch that seems to work for showing indexes.  No unit tests, and doesn&apos;t deal with combination of indexes and partitions.&lt;/p&gt;</comment>
                            <comment id="12918779" author="rmelick" created="Thu, 7 Oct 2010 04:09:22 +0000"  >&lt;p&gt;The wiki will need updating once this is committed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/DDL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/DDL&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12918784" author="rmelick" created="Thu, 7 Oct 2010 04:42:53 +0000"  >&lt;p&gt;Previous patch was missing some changes due to a bad diff.&lt;/p&gt;</comment>
                            <comment id="12925270" author="rmelick" created="Wed, 27 Oct 2010 06:03:37 +0000"  >&lt;p&gt;Coding complete, but unit tests not added yet.  Does not deal with partitions either.&lt;/p&gt;</comment>
                            <comment id="12927086" author="jvs" created="Mon, 1 Nov 2010 18:55:00 +0000"  >&lt;p&gt;As discussed in last week&apos;s conf call, we&apos;ll need a followup for a separate DESCRIBE command (which will cover properties and partitions).&lt;/p&gt;</comment>
                            <comment id="12927736" author="rmelick" created="Wed, 3 Nov 2010 04:57:50 +0000"  >&lt;p&gt;Modify SHOW INDEX grammer to use ON keyword instead of FROM/IN to align with other index commands.&lt;/p&gt;</comment>
                            <comment id="12928140" author="rmelick" created="Thu, 4 Nov 2010 06:41:04 +0000"  >&lt;p&gt;Should also update the Index wiki:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/IndexDev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/IndexDev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12929659" author="he yongqiang" created="Mon, 8 Nov 2010 18:24:52 +0000"  >&lt;p&gt;+    /*if (!tbl.isIndexed()) &lt;/p&gt;
{
+      console.printError(&quot;Table &quot; + tableName + &quot; does not have any indexes&quot;);
+      return 1;
+    }
&lt;p&gt;*/&lt;/p&gt;

&lt;p&gt;need to be removed.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;setFetchTask(createFetchTask(showIndexesDesc.getSchema()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;need to be removed.&lt;/p&gt;

&lt;p&gt;There is no index comment in the new testcase. Can you add some test cases?&lt;/p&gt;

&lt;p&gt;SHOW INDEX ON shidx_t1; right now lists all indexes on the given table? Can we also support show one index? i mean sth like : &apos;show index index_name on tbl&apos;  (you can do it in a follow up jira)&lt;/p&gt;

&lt;p&gt;Right now the show index output format is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+idx_name            	tab_name            	col_name            	idx_tab_name        	idx_type            	comment             
+	 	 	 	 	 
+	 	 	 	 	 
+idx_1               	show_idx_full       	key                 	default__show_idx_full_idx_1__	compact             	
+idx_2               	show_idx_full       	value1              	default__show_idx_full_idx_2__	compact             	
+idx_3               	show_idx_full       	value2              	default__show_idx_full_idx_3__	compact          
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;John, is this intentional? &lt;/p&gt;

&lt;p&gt;Otherwise, the patch looks good.&lt;/p&gt;</comment>
                            <comment id="12929674" author="jvs" created="Mon, 8 Nov 2010 19:00:49 +0000"  >&lt;p&gt;Right, we decided to do more details for a single index in a separate DESCRIBE command.  Russell, please open a followup JIRA for that one now, link it to this one as related, and then edit the title for this one.&lt;/p&gt;</comment>
                            <comment id="12929742" author="jvs" created="Mon, 8 Nov 2010 21:28:10 +0000"  >&lt;p&gt;Regarding the output format, none of the other SHOW commands currently produce column headers, and we probably won&apos;t be able to modify them for backwards-compatibility reasons.  What we ended up doing for DESCRIBE was to introduce DESCRIBE FORMATTED with the prettier format.&lt;/p&gt;

&lt;p&gt;Let&apos;s do the same for SHOW INDEXES.  If we see SHOW FORMATTED INDEXES, produce the column headers; without FORMATTED, then omit them.  (We can open a separate JIRA for doing that retroactively for the existing SHOW commands.)&lt;/p&gt;

&lt;p&gt;Also:  add a test case for a compound index (multiple columns in the key), and change that header to col_names plural.&lt;/p&gt;</comment>
                            <comment id="12929763" author="jvs" created="Mon, 8 Nov 2010 22:05:51 +0000"  >&lt;p&gt;Oops, the followup already exists (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1764&quot; title=&quot;Add command for DESCRIBE indexes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1764&quot;&gt;HIVE-1764&lt;/a&gt;).  I&apos;ll edit the title of this one.&lt;/p&gt;</comment>
                            <comment id="12930914" author="rmelick" created="Thu, 11 Nov 2010 03:55:45 +0000"  >&lt;ul&gt;
	&lt;li&gt;Removed commented out code&lt;/li&gt;
	&lt;li&gt;Added a test case with index comment&lt;/li&gt;
	&lt;li&gt;Added FORMATTED keyword to optionally show column headers&lt;/li&gt;
	&lt;li&gt;Added test case for compound index&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Yongqiang, I&apos;m not sure why we want to take out the line&lt;/p&gt;
{nopanel}&lt;br/&gt;
setFetchTask(createFetchTask(showIndexesDesc.getSchema()));{nopanel}
&lt;p&gt;The other functions in the SemanticAnalyzer have similar function calls.&lt;/p&gt;

&lt;p&gt;John, we get the column headers directly from the schema we set inside of ShowIndexesDesc, so it would be difficult to pluralize col_name.  Do you know what other show commands do?&lt;/p&gt;</comment>
                            <comment id="12931149" author="jvs" created="Thu, 11 Nov 2010 19:17:04 +0000"  >&lt;p&gt;@Russell:  I meant pluralize it unconditionally (i.e. just edit the schema in your patch).&lt;/p&gt;</comment>
                            <comment id="12931221" author="rmelick" created="Thu, 11 Nov 2010 21:50:43 +0000"  >&lt;p&gt;Pluralized col_names in the FORMATTED column header&lt;/p&gt;</comment>
                            <comment id="12931308" author="jvs" created="Fri, 12 Nov 2010 02:18:01 +0000"  >&lt;p&gt;For idx_compound, the col_names should be &quot;key,value1&quot; not just &quot;key&quot;.&lt;/p&gt;</comment>
                            <comment id="12931340" author="rmelick" created="Fri, 12 Nov 2010 06:57:13 +0000"  >&lt;p&gt;fixed problem with only showing first column/key name&lt;/p&gt;</comment>
                            <comment id="12931512" author="jvs" created="Fri, 12 Nov 2010 19:58:35 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;

&lt;p&gt;You could have used MetaStoreUtils.getColumnNamesFromFieldSchema, but I&apos;ll put a cleanup note for that on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1764&quot; title=&quot;Add command for DESCRIBE indexes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1764&quot;&gt;HIVE-1764&lt;/a&gt; so we can get this one committed as is (assuming tests pass).&lt;/p&gt;</comment>
                            <comment id="12931629" author="jvs" created="Sat, 13 Nov 2010 05:12:04 +0000"  >&lt;p&gt;Committed.  Thanks Russell!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12478957">HIVE-1764</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458711" name="HIVE-1497.4.patch" size="53648" author="rmelick" created="Wed, 3 Nov 2010 04:39:53 +0000"/>
                            <attachment id="12458712" name="HIVE-1497.5.patch" size="50038" author="rmelick" created="Wed, 3 Nov 2010 04:57:50 +0000"/>
                            <attachment id="12459324" name="HIVE-1497.6.patch" size="59296" author="rmelick" created="Thu, 11 Nov 2010 03:55:45 +0000"/>
                            <attachment id="12459396" name="HIVE-1497.7.patch" size="59296" author="rmelick" created="Thu, 11 Nov 2010 21:50:43 +0000"/>
                            <attachment id="12459428" name="HIVE-1497.8.patch" size="59640" author="rmelick" created="Fri, 12 Nov 2010 06:57:13 +0000"/>
                            <attachment id="12456482" name="hive-1497.p1.patch" size="9176" author="rmelick" created="Wed, 6 Oct 2010 09:13:45 +0000"/>
                            <attachment id="12456570" name="hive-1497.p2.patch" size="18208" author="rmelick" created="Thu, 7 Oct 2010 04:42:53 +0000"/>
                            <attachment id="12458135" name="hive-1497.p3.patch" size="26262" author="rmelick" created="Wed, 27 Oct 2010 06:03:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Sep 2010 20:26:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1498] support IDXPROPERTIES on CREATE INDEX</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1498</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It&apos;s partially there in the grammar but not hooked in; should work pretty much the same as TBLPROPERTIES.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470563">HIVE-1498</key>
            <summary>support IDXPROPERTIES on CREATE INDEX</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mwang5">Marquis Wang</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:32:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:15 +0000</updated>
                            <resolved>Thu, 28 Oct 2010 23:44:02 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12894222" author="jvs" created="Sat, 31 Jul 2010 00:32:39 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12910860" author="rmelick" created="Sat, 18 Sep 2010 00:04:54 +0000"  >&lt;p&gt;This patch is very preliminary, and we&apos;re working on getting the testing environment working, so we can&apos;t verify that it passes the tests.&lt;/p&gt;</comment>
                            <comment id="12912705" author="jvs" created="Mon, 20 Sep 2010 20:57:58 +0000"  >&lt;p&gt;Good start.  A few notes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I had to use patch -p1 to get this to apply.  Please make sure it applies with patch -p0 instead.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;In Hive.createIndex, you should be adding the tblProps to tt (not to temp).  The only purpose of temp is to check whether the new table name already exists (in which case an exception is thrown).  tt is the newly created table descriptor to be added to the metastore.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;For the next patch candidate, can you also add support for ALTER INDEX index_name ON table_name SET IDXPROPERTIES (...)?  Or open a followup JIRA issue for this.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Go ahead and add unit test coverage even though it&apos;s not actually possible to verify the IDXPROPERTIES results until &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1497&quot; title=&quot;support COMMENT clause on CREATE INDEX, and add new command for SHOW INDEXES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1497&quot;&gt;&lt;del&gt;HIVE-1497&lt;/del&gt;&lt;/a&gt; goes in.  You can modify ql/src/test/queries/clientpositive/index_creation.q, or create a new index_props.q.  Also, you should be able to verify the TBLPROPERTIES results already by doing DESCRIBE EXTENDED on the new table created by CREATE INDEX.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Cosmetic:  For if statements, put the opening curly brace on the same line as the keyword.  You can run ant checkstyle and look in the report for the files you modified to see formatting which needs corrected.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12918418" author="mwang5" created="Wed, 6 Oct 2010 04:44:14 +0000"  >&lt;p&gt;Next patch candidate:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Saves properties to tt instead of temp&lt;/li&gt;
	&lt;li&gt;Supports tblproperties on index creation&lt;/li&gt;
	&lt;li&gt;Tests index creation with idxproperties and tblproperties (just tests that it doesn&apos;t die)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12920010" author="jvs" created="Mon, 11 Oct 2010 22:09:31 +0000"  >&lt;p&gt;Looks good.  Once the ALTER INDEX support is added, this one should be good to go.&lt;/p&gt;</comment>
                            <comment id="12924278" author="mwang5" created="Sun, 24 Oct 2010 02:20:41 +0000"  >&lt;p&gt;New patch candidate.&lt;/p&gt;</comment>
                            <comment id="12924279" author="mwang5" created="Sun, 24 Oct 2010 02:25:06 +0000"  >&lt;p&gt;This new patch has the same functionality as before, but contains adds altering index properties to the grammar (but has a stub function for when that command is used).&lt;/p&gt;</comment>
                            <comment id="12924280" author="mwang5" created="Sun, 24 Oct 2010 02:26:43 +0000"  >&lt;p&gt;I&apos;ve created a new issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1746&quot; title=&quot;Support for using ALTER to set IDXPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1746&quot;&gt;&lt;del&gt;HIVE-1746&lt;/del&gt;&lt;/a&gt;) for altering index properties.&lt;/p&gt;</comment>
                            <comment id="12924722" author="jvs" created="Mon, 25 Oct 2010 21:11:09 +0000"  >&lt;p&gt;Since you&apos;ve opened a followup &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1746&quot; title=&quot;Support for using ALTER to set IDXPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1746&quot;&gt;&lt;del&gt;HIVE-1746&lt;/del&gt;&lt;/a&gt; for ALTER, could you back out that part of the code and move it to the other JIRA issue?  It&apos;s best to keep the patch for each JIRA issue limited to the relevant piece unless they are inseparable.&lt;/p&gt;

&lt;p&gt;Anyway, regarding the ALTER grammar...&lt;/p&gt;

&lt;p&gt;After reading the statement &quot;This is essentially a rapid prototyping mode&quot; in the link below, I don&apos;t think we want to set backtrack=true unless there&apos;s no alternative.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.antlr.org/wiki/display/ANTLR3/Grammar+options&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.antlr.org/wiki/display/ANTLR3/Grammar+options&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this case, there is an alternative, which is to combine the two rules as below.  It&apos;s imperfect in that it would be nicer to keep the two productions separate; that could probably be accomplished by building up more AST nodes.  But I think the code below would be good enough until we have many more ALTER INDEX options.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;alterIndexStatementSuffix
@init { msgs.push(&quot;alter index statement&quot;); }
@after { msgs.pop(); }
    : indexName=Identifier 
      (KW_ON tableName=Identifier)
      partitionSpec?
    (  
      KW_REBUILD
      -&amp;gt;^(TOK_ALTERINDEX_REBUILD $tableName $indexName partitionSpec?)
    |
      KW_SET KW_IDXPROPERTIES
      indexProperties
      -&amp;gt;^(TOK_ALTERINDEX_PROPERTIES $tableName $indexName partitionSpec? indexProperties)
    )
    ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, I don&apos;t think we want to accept a partition spec when setting index properties; they are global to the index, at least for now.&lt;/p&gt;</comment>
                            <comment id="12925251" author="mwang5" created="Wed, 27 Oct 2010 04:08:21 +0000"  >&lt;p&gt;New patch with ALTER IDXPROPERTIES stuff backed out.&lt;/p&gt;</comment>
                            <comment id="12925529" author="jvs" created="Wed, 27 Oct 2010 19:52:10 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12925998" author="jvs" created="Thu, 28 Oct 2010 23:44:02 +0000"  >&lt;p&gt;Committed.  Thanks Marquis et al!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458133" name="1498.2.patch" size="29336" author="mwang5" created="Wed, 27 Oct 2010 05:54:11 +0000"/>
                            <attachment id="12457917" name="1498.patch" size="34590" author="mwang5" created="Sun, 24 Oct 2010 02:20:40 +0000"/>
                            <attachment id="12454923" name="hive-1498.prelim.patch" size="13831" author="rmelick" created="Sat, 18 Sep 2010 00:04:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Sep 2010 00:04:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1499] allow index partitioning to be only a subset of base table partitioning</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1499</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This includes providing control over what to do when fine-grained partitions are dropped:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;do nothing (but support an ALTER INDEX DROP PARTITION to allow the user to clean up manually)&lt;/li&gt;
	&lt;li&gt;cascade to drop the entire index partition&lt;/li&gt;
	&lt;li&gt;wait for the last fine-grained partition to go away and then auto-drop&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12470565">HIVE-1499</key>
            <summary>allow index partitioning to be only a subset of base table partitioning</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:36:38 +0000</created>
                <updated>Thu, 21 Apr 2011 00:00:04 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894224" author="jvs" created="Sat, 31 Jul 2010 00:37:04 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1500] explicitly model index rebuild time</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1500</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we do this implicitly for indexes stored as tables (in the partitions of the index table), and not at all for indexes not stored in tables.&lt;/p&gt;

&lt;p&gt;We should do it explicitly via new metastore model instead, at index-partition level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470566">HIVE-1500</key>
            <summary>explicitly model index rebuild time</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:51:48 +0000</created>
                <updated>Thu, 21 Apr 2011 00:01:05 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894228" author="jvs" created="Sat, 31 Jul 2010 00:54:31 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1501] when generating reentrant INSERT for index rebuild, quote identifiers using backticks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1501</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Yongqiang, you mentioned that you weren&apos;t able to do this due to SORT BY not accepting them.  The SORT BY is gone now as of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1494&quot; title=&quot;Index followup: remove sort by clause and fix a bug in collect_set udaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1494&quot;&gt;&lt;del&gt;HIVE-1494&lt;/del&gt;&lt;/a&gt; (and SORT BY needs to be fixed anyway).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470567">HIVE-1501</key>
            <summary>when generating reentrant INSERT for index rebuild, quote identifiers using backticks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sberghel">Skye Berghel</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 00:56:12 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:18 +0000</updated>
                            <resolved>Wed, 10 Nov 2010 23:22:01 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12894230" author="jvs" created="Sat, 31 Jul 2010 00:56:33 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12913723" author="jvs" created="Wed, 22 Sep 2010 19:03:02 +0000"  >&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;create table `_t`(`_i` int, `_j` int);&lt;br/&gt;
create index x on table `_t`(`_j`) as &apos;compact&apos; with deferred rebuild;&lt;br/&gt;
alter index x on `_t` rebuild;&lt;/p&gt;

&lt;p&gt;gives&lt;/p&gt;

&lt;p&gt;FAILED: Parse Error: line 1:48 mismatched input &apos;,&apos; expecting CharSetLiteral in character string literal&lt;/p&gt;

&lt;p&gt;To see why, look at org.apache.hadoop.hive.ql.index.compact.CompactIndexHandler, method getIndexBuilderMapRedTask.  It constructs an internal SQL statement (INSERT) which populates the index table structure.  However, it neglects to quote the table/column names, leading to invalid syntax.  (Hive uses backticks to quote identifiers with special characters--I think this currently only applies to leading underscores, but later we&apos;ll support arbitrary identifiers.)&lt;/p&gt;

&lt;p&gt;HiveUtils.unparseIdentifier should be used for quoting.&lt;/p&gt;</comment>
                            <comment id="12913731" author="jvs" created="Wed, 22 Sep 2010 19:22:19 +0000"  >&lt;p&gt;Russell, please reassign to the actual owner.&lt;/p&gt;</comment>
                            <comment id="12919173" author="sberghel" created="Fri, 8 Oct 2010 06:34:04 +0000"  >&lt;p&gt;Patch for 1501&lt;/p&gt;</comment>
                            <comment id="12919174" author="sberghel" created="Fri, 8 Oct 2010 06:34:46 +0000"  >&lt;p&gt;I&apos;ve added a patch that should solve the issue.&lt;/p&gt;

&lt;p&gt;In terms of tests, is a simple test (of the kind John described in his earlier comment) sufficient?&lt;/p&gt;</comment>
                            <comment id="12919960" author="jvs" created="Mon, 11 Oct 2010 19:37:54 +0000"  >&lt;p&gt;Yes, a simple test such as the one above should be good enough.&lt;/p&gt;</comment>
                            <comment id="12925267" author="sberghel" created="Wed, 27 Oct 2010 06:01:45 +0000"  >&lt;p&gt;Adding a patch for 1501 that also includes tests.&lt;/p&gt;</comment>
                            <comment id="12925618" author="he yongqiang" created="Thu, 28 Oct 2010 00:28:49 +0000"  >&lt;p&gt;String indexCols = MetaStoreUtils.getColumnNamesFromFieldSchema(indexField);&lt;br/&gt;
indexCols is a column list, like:&lt;br/&gt;
col1, col2,col3&lt;br/&gt;
After the change, it should be `col1`, `col2`, `col3`...&lt;/p&gt;

&lt;p&gt;So the whole command should be like:&lt;br/&gt;
INSERT OVERWRITE TABLE `table_name`&lt;br/&gt;
PARTITION (...)&lt;br/&gt;
SELECT `col1`, `col2`, `col3`..., `INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME`,  collect_set (`BLOCK&lt;/em&gt;&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE`)&lt;br/&gt;
FROM `base_table` &lt;br/&gt;
...&lt;br/&gt;
GROUP BY `col1`, `col2`, `col3`..., `INPUT_&lt;em&gt;FILE&lt;/em&gt;_NAME`&lt;/p&gt;</comment>
                            <comment id="12926526" author="sberghel" created="Sat, 30 Oct 2010 03:32:22 +0000"  >&lt;p&gt;Adding a new patch for 1501 that parses the index columns correctly.&lt;/p&gt;</comment>
                            <comment id="12927096" author="jvs" created="Mon, 1 Nov 2010 19:12:50 +0000"  >&lt;p&gt;Can you update the testcase to use an index on a compound key so that this case gets coverage?&lt;/p&gt;</comment>
                            <comment id="12927730" author="sberghel" created="Wed, 3 Nov 2010 04:04:10 +0000"  >&lt;p&gt;Adding a new patch with a new test case for an index with multiple keys.&lt;/p&gt;</comment>
                            <comment id="12928295" author="jvs" created="Thu, 4 Nov 2010 18:21:59 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12928300" author="jvs" created="Thu, 4 Nov 2010 18:34:40 +0000"  >&lt;p&gt;Oops, I have to retract my +1.&lt;/p&gt;

&lt;p&gt;The patch doesn&apos;t compile with &quot;ant package&quot;.  The reason is that code in metastore is not allowed to depend on code in ql.&lt;/p&gt;

&lt;p&gt;If you were compiling with Eclipse, it may have allowed this, but before submitting your patch, make sure it compiles from the command line with &quot;ant package&quot;.&lt;/p&gt;

&lt;p&gt;The solution is to move this method from MetastoreUtils to HiveUtils.&lt;/p&gt;</comment>
                            <comment id="12929271" author="sberghel" created="Sat, 6 Nov 2010 23:09:34 +0000"  >&lt;p&gt;Moved function from MetaStoreUtils to HiveUtils.&lt;/p&gt;</comment>
                            <comment id="12929765" author="jvs" created="Mon, 8 Nov 2010 22:16:25 +0000"  >&lt;p&gt;Whitespace nitpicks:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;MetaStoreUtils.java no longer has any changes, so it should not be in the patch at all&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12929766" author="jvs" created="Mon, 8 Nov 2010 22:19:51 +0000"  >&lt;ul&gt;
	&lt;li&gt;HiveUtils.getUnparsedColumnNamesFromFieldSchema has an extra line of whitespace in between the Javadoc and the method declaration.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(If you&apos;re using Eclipse for editing, it&apos;s easy to end up with extraneous whitespace.)&lt;/p&gt;</comment>
                            <comment id="12929769" author="jvs" created="Mon, 8 Nov 2010 22:20:24 +0000"  >&lt;p&gt;(Other than those, this one should be ready to go.)&lt;/p&gt;</comment>
                            <comment id="12930535" author="sberghel" created="Wed, 10 Nov 2010 07:23:18 +0000"  >&lt;p&gt;Added a new patch with formatting fixes.&lt;/p&gt;</comment>
                            <comment id="12930677" author="jvs" created="Wed, 10 Nov 2010 17:55:51 +0000"  >&lt;p&gt;+1 on the latest.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12930825" author="jvs" created="Wed, 10 Nov 2010 23:22:01 +0000"  >&lt;p&gt;Committed.  Thanks Skye!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12456677" name="1501.patch" size="1616" author="sberghel" created="Fri, 8 Oct 2010 06:34:04 +0000"/>
                            <attachment id="12458468" name="1501_new_tests.patch" size="28201" author="sberghel" created="Sat, 30 Oct 2010 03:32:21 +0000"/>
                            <attachment id="12458134" name="1501_with_tests.patch" size="21264" author="sberghel" created="Wed, 27 Oct 2010 06:01:45 +0000"/>
                            <attachment id="12458708" name="HIVE-1501.4.patch" size="35280" author="sberghel" created="Wed, 3 Nov 2010 04:04:09 +0000"/>
                            <attachment id="12459010" name="HIVE-1501.5.patch" size="35704" author="sberghel" created="Sat, 6 Nov 2010 23:09:33 +0000"/>
                            <attachment id="12459229" name="HIVE-1501.6.patch" size="35218" author="sberghel" created="Wed, 10 Nov 2010 07:23:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Oct 2010 06:34:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1502] finish the index design doc</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1502</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;regenerate the metastore schema diagram to match the final column names&lt;/li&gt;
	&lt;li&gt;update Plugin Interface section to match the latest code&lt;/li&gt;
	&lt;li&gt;fill out TBD&apos;s in the Reference Implementation section&lt;/li&gt;
	&lt;li&gt;resolve other TBD&apos;s or link them to followup JIRA&apos;s&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12470568">HIVE-1502</key>
            <summary>finish the index design doc</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 01:05:28 +0000</created>
                <updated>Tue, 10 May 2011 22:41:25 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894231" author="jvs" created="Sat, 31 Jul 2010 01:06:33 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Work-in-progress doc is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/IndexDev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/IndexDev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12894711" author="jvs" created="Mon, 2 Aug 2010 21:11:39 +0000"  >&lt;p&gt;Also:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;add documentation for new virtual columns to wiki&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1503] additional validation for CREATE INDEX</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1503</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Cases that should fail:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;handler has usesIndexTable=false, and user supplies table name/format&lt;/li&gt;
	&lt;li&gt;handler has usesIndexTable=true, and user supplies table format that is incompatible with handler (does compact handler have any restrictions?)&lt;/li&gt;
	&lt;li&gt;user tries to create index on external table &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;user tries to create index on index table&lt;/li&gt;
	&lt;li&gt;user tries to create index on column of unsupported datatype (e.g. array/map/struct probably does not make sense)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12470569">HIVE-1503</key>
            <summary>additional validation for CREATE INDEX</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jul 2010 01:14:05 +0000</created>
                <updated>Thu, 25 Aug 2011 18:19:30 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12894234" author="jvs" created="Sat, 31 Jul 2010 01:15:11 +0000"  >&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12894235" author="jvs" created="Sat, 31 Jul 2010 01:16:08 +0000"  >&lt;p&gt;Another possible case:  user tries to create index on base table which is incompatible with handler (does compact handler have any restrictions here?)&lt;/p&gt;</comment>
                            <comment id="13091189" author="salbiz" created="Thu, 25 Aug 2011 18:15:55 +0000"  >&lt;p&gt;Add a bunch of validations to index creation&lt;/p&gt;</comment>
                            <comment id="13091191" author="jiraposter@reviews.apache.org" created="Thu, 25 Aug 2011 18:19:29 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1661/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1661/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, John Sichi and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Add some more validation for CREATE INDEX statements&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1503&quot; title=&quot;additional validation for CREATE INDEX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1503&quot;&gt;HIVE-1503&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1503&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java c031f40 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 3054f76 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1661/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1661/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Syed&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12491670" name="HIVE-1503.1.patch" size="2838" author="salbiz" created="Thu, 25 Aug 2011 18:15:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Aug 2011 18:15:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1504] Checkout of Hive resulted in an empty HiveResultSet.java file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1504</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have recently checked out Hive so I can merge changes made by a co-worker and contribute the changes.  One of these files that are involved is:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.jdbc&lt;/p&gt;

&lt;p&gt;The head revision,  980611 on 7/29/10 with the comment &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1126&quot; title=&quot;Missing some Jdbc functionality like getTables getColumns and HiveResultSet.get* methods based on column name.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1126&quot;&gt;&lt;del&gt;HIVE-1126&lt;/del&gt;&lt;/a&gt;. Missiong some Jdbc functionality like getTables getColumns and HiveResultSet.get* methods based on column name. (Bennie Schut via jvs)&quot;, is an empty file.&lt;/p&gt;

&lt;p&gt;All other files in the same package, org.apache.hadoop.hive.jdbc, seem to be correct.&lt;/p&gt;

&lt;p&gt;Question:  There are no references to the class - My build works.  Is this class being phased out? &lt;/p&gt;

&lt;p&gt;Thanks for your time,&lt;br/&gt;
Sean&lt;/p&gt;



</description>
                <environment>&lt;p&gt;Windows XP. &lt;/p&gt;</environment>
        <key id="12470649">HIVE-1504</key>
            <summary>Checkout of Hive resulted in an empty HiveResultSet.java file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="sflatley">Sean Flatley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 14:31:36 +0000</created>
                <updated>Mon, 2 Aug 2010 19:19:01 +0000</updated>
                            <resolved>Mon, 2 Aug 2010 15:22:23 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12894558" author="bennies" created="Mon, 2 Aug 2010 14:47:46 +0000"  >&lt;p&gt;During that patch the HiveResultset was split into a HiveQueryResultSet and a HiveMetaDataResultSet with a super class called HiveBaseResultSet. Using the HiveQueryResultSet should give you the same functionality as the old HiveResultSet.&lt;/p&gt;</comment>
                            <comment id="12894567" author="sflatley" created="Mon, 2 Aug 2010 15:22:23 +0000"  >&lt;p&gt;Thanks for the quick response.  I&apos;ll compare our changes of HiveResultSet with revision 980611 and see if changes will be necessary to the new classes:  HiveQueryResultSet,  HiveBaseResultSet, HiveBaseResultSet.&lt;/p&gt;
</comment>
                            <comment id="12894660" author="jvs" created="Mon, 2 Aug 2010 19:18:34 +0000"  >&lt;p&gt;Hmmm, this should have been an svn remove (rather than empty file).  I&apos;ll do another commit to fix that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Aug 2010 14:47:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lff3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1505] Support non-UTF8 data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1505</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;d like to work with non-UTF8 data easily.&lt;/p&gt;

&lt;p&gt;Suppose I have data in latin1. Currently, doing a &quot;select *&quot; will return the upper ascii characters in &apos;\xef\xbf\xbd&apos;, which is the replacement character &apos;\ufffd&apos; encoded in UTF-8. Would be nice for Hive to understand different encodings, or to have a concept of byte string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470656">HIVE-1505</key>
            <summary>Support non-UTF8 data</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="tedxu">Ted Xu</assignee>
                                    <reporter username="bcwalrus">bc Wong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 16:00:56 +0000</created>
                <updated>Wed, 25 Aug 2010 18:35:40 +0000</updated>
                                            <version>0.5.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="12900184" author="tedxu" created="Thu, 19 Aug 2010 06:18:27 +0000"  >&lt;p&gt;We implemented encoding config feature on tables.&lt;br/&gt;
Set table encoding through serde parameter, for example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;alter table src set serdeproperties (&lt;span class=&quot;code-quote&quot;&gt;&apos;serialization.encoding&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;GBK&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;that makes table src using GBK encoding (Chinese encoding format). Further more, if using command line interface, parameter &apos;hive.cli.encoding&apos; shall be set. &apos;hive.cli.encoding&apos; must set before hive prompt started, so set &apos;hive.cli.encoding&apos; in hive-site.xml or using -hiveconf hive.cli.encoding=GBK in command line parameter, instead of &apos;set hive.cli.encoding=GBK&apos; in hive ql.&lt;br/&gt;
Because of the reason above, I can&apos;t find a way to add a unit test.&lt;/p&gt;

</comment>
                            <comment id="12900551" author="tedxu" created="Fri, 20 Aug 2010 01:50:28 +0000"  >&lt;p&gt;Please have a review for trunk-encoding.patch, thanks.&lt;/p&gt;</comment>
                            <comment id="12900697" author="appodictic" created="Fri, 20 Aug 2010 14:12:47 +0000"  >&lt;p&gt; Maybe you should fork hive and call it chive. &lt;/p&gt;

&lt;p&gt;On a serious node . Great job. Would you consider editing the cli.xml in the xdocs to explain this feature? I think it would be very helpful look in docs/xdocs/.&lt;/p&gt;</comment>
                            <comment id="12901753" author="tedxu" created="Tue, 24 Aug 2010 07:05:12 +0000"  >&lt;p&gt;Thanks Edward.&lt;/p&gt;

&lt;p&gt;I dug into the problem and found the patch will not working when the query have subqueries, it is very hard to retain encoding information in those queries.&lt;/p&gt;

&lt;p&gt;Table properties may miss in queries, the problem is the same as missing field delimiter setting, because whenever hive can&apos;t get table properties in subquery (e.g., join operation), the default value is used (^A for field delimiter, that&apos;s why the deserializer will fail most of the time when data contains ^A character even if ^A is not set for field delimiter).&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452490" name="trunk-encoding.patch" size="6934" author="tedxu" created="Thu, 19 Aug 2010 06:18:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Aug 2010 06:18:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lffb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1506] Optimize number of mr jobs produced by group by sort by</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1506</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now,&lt;/p&gt;

&lt;p&gt;select key, INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME, count(value from src group by key, INPUT&lt;/em&gt;&lt;em&gt;FILE&lt;/em&gt;_NAME sort by key&lt;br/&gt;
require 2 jobs&lt;br/&gt;
and&lt;br/&gt;
select key, INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME, count(value from src group by key, INPUT&lt;/em&gt;&lt;em&gt;FILE&lt;/em&gt;_NAME sort by key limit 3&lt;br/&gt;
require 3 jobs.&lt;/p&gt;

&lt;p&gt;Both can be done with just one job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470665">HIVE-1506</key>
            <summary>Optimize number of mr jobs produced by group by sort by</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 18:24:57 +0000</created>
                <updated>Mon, 2 Aug 2010 18:47:14 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12894645" author="he yongqiang" created="Mon, 2 Aug 2010 18:47:13 +0000"  >&lt;p&gt;this is not a common case because the sort by columns are prefix of the group by  columns. The sort by clause can just be removed from the query, and the output will be the same.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1507] Supply DriverContext to Hooks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1507</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The DriverContext and the Context (linked off the latter) created during query compilation have information that&apos;s invaluable to writing hooks. In particular, the Context object has a cache of pathname to file size mappings looked up via hdfs. i would like to get access to this cache (for both reading and writing) in order to write a hook that depends on query size (for the purpose of dispatching it to the right cluster).&lt;/p&gt;

&lt;p&gt;It&apos;s unfortunate we don&apos;t have a generic context object for hooks (into which we can add more stuff as needed). This is forcing an unnecessary api enhancement (we should be able to maintain backwards compatibility using reflection though). I think going forward we should have a generic context object with Session and Query related data inside.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470668">HIVE-1507</key>
            <summary>Supply DriverContext to Hooks</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 19:19:34 +0000</created>
                <updated>Mon, 2 Aug 2010 19:43:37 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12894670" author="jvs" created="Mon, 2 Aug 2010 19:43:37 +0000"  >&lt;p&gt;Yes, regarding API enhancement, we ran into a similar situation with GenericUDAFResolver.  We dealt with it by adding an Info class as extendable context, adding a new interface which passes in the info class, and then using reflection for continuing to support the old interface as well to avoid breaking it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Aug 2010 19:43:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ncf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1508] Add cleanup method to HiveHistory class</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1508</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running hive server for long time &amp;gt; 90 minutes results in too many open file-handles, eventually causing the server to crash as the server runs out of file handle.&lt;br/&gt;
Actual bug as described by Carl Steinbach:&lt;br/&gt;
the hive_job_log_* files are created by the HiveHistory class. This class creates a PrintWriter for writing to the file, but never closes the writer. It looks like we need to add a cleanup method to HiveHistory that closes the PrintWriter and does any other necessary cleanup. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12470678">HIVE-1508</key>
            <summary>Add cleanup method to HiveHistory class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="anuragphadke">Anurag Phadke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 21:49:19 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:00 +0000</updated>
                            <resolved>Wed, 8 Dec 2010 00:52:25 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12966309" author="appodictic" created="Thu, 2 Dec 2010 22:23:20 +0000"  >&lt;p&gt;Did two things here. First random can generate the same result if called twice in the same millisecond. We guard against that with a while condition. Secondly leverage a finalizer to deal with clean up. Might be a nicer way, but not sure what is the best way to go about that. No easy way to unit test here, but you could run with lsof and determine if handles are ever closing.&lt;/p&gt;</comment>
                            <comment id="12968845" author="namit" created="Tue, 7 Dec 2010 17:52:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12969103" author="namit" created="Wed, 8 Dec 2010 00:52:25 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                            <comment id="12977185" author="mosikri" created="Tue, 4 Jan 2011 09:32:46 +0000"  >&lt;p&gt;Great finding, but how do we curtail(or put the limit to) the number of these files generated, since I don&apos;t see any mechanism of deleting such files (say deleting the files older than an hour or so), they may eventually pile up to the extent of consuming significant disk space.&lt;br/&gt;
I don&apos;t see any significance of these files once session expires or keeping too old session information within such files.&lt;br/&gt;
Kindly suggest.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465174" name="hive-1508-1-patch.txt" size="3825" author="appodictic" created="Thu, 2 Dec 2010 22:19:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Dec 2010 22:23:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lffj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
