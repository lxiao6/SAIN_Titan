<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:12:30 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2008-12-9+AND+created+%3C%3D+2008-12-16+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="38" total="38"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-139] subq1 union subq2 should work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-139</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;subq1 union subq2 should work&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410242">HIVE-139</key>
            <summary>subq1 union subq2 should work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 02:33:29 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:49 +0000</updated>
                            <resolved>Tue, 12 Jan 2010 19:45:31 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12799348" author="zshao" created="Tue, 12 Jan 2010 19:45:31 +0000"  >&lt;p&gt;Fixed long time ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jan 2010 19:45:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l83z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-140] Event Based Infrastructure for Syntax Trees in the compiler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-140</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to refactor SemanticAnalyzer into a bunch of different components, we need to move more modular mechanisms of doing semantic analysis. One of the missing pieces here is the event based infrastructure for analyzing ASTs in the Semantic Analyzer. We will first use this infrastructure for lineage tools and then migrate the rest of the Semantic Analyzer to this infrastructure over time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410244">HIVE-140</key>
            <summary>Event Based Infrastructure for Syntax Trees in the compiler</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 03:11:45 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:01 +0000</updated>
                            <resolved>Tue, 9 Dec 2008 05:47:11 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12654687" author="athusoo" created="Tue, 9 Dec 2008 03:36:18 +0000"  >&lt;p&gt;This is a better framework for parse tree analysis and we should migrate to this gradually. I had to cook this up for Suresh who is doing lineage extraction from the parse tree for databee.&lt;/p&gt;

&lt;p&gt;The following are the basic framework elements:&lt;/p&gt;

&lt;p&gt;It has three interfaces:&lt;br/&gt;
1. ParseTreeProcessor (with a default implementation of DefaultParseTreeProcessor that does a pre order traversal)&lt;br/&gt;
2. ParseTreeEventDispatcher (with a default implementation of DefaultParseTreeEventDispatcher) which dispatches events to a ParseTreeEventProcessor&lt;br/&gt;
3. ParseTreeEventProcessor (with a default implementation of DefaultParseTreeEventProcessor).&lt;/p&gt;

&lt;p&gt;The ParseTreeEvent class defines the different kind of parse tree events. These are basically things like saw a select clause, source table, subquery, limit etc... and we can keep adding to these.&lt;/p&gt;

&lt;p&gt;The dispatcher code registers for the interested events the event processor that needs to be called. The default dispatcher calls these processors for the event in the order that they were registered.&lt;/p&gt;

&lt;p&gt;The process function in the tree processor calls the dispatcher for these events and the default one does that in a pre order way.&lt;/p&gt;

&lt;p&gt;I think a framework like this will help us modularize SemanticAnalyzer in a much better way.&lt;/p&gt;</comment>
                            <comment id="12654688" author="athusoo" created="Tue, 9 Dec 2008 03:36:44 +0000"  >&lt;p&gt;submitting.&lt;/p&gt;</comment>
                            <comment id="12654708" author="zshao" created="Tue, 9 Dec 2008 05:42:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12654709" author="zshao" created="Tue, 9 Dec 2008 05:46:33 +0000"  >&lt;p&gt;Committed revision 724613.&lt;/p&gt;</comment>
                            <comment id="12654710" author="zshao" created="Tue, 9 Dec 2008 05:47:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-140&quot; title=&quot;Event Based Infrastructure for Syntax Trees in the compiler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-140&quot;&gt;&lt;del&gt;HIVE-140&lt;/del&gt;&lt;/a&gt;. Event Based Infrastructure for Syntax Trees in the compiler.&lt;br/&gt;
(Ashish Thusoo through zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395618" name="patch-140.txt" size="16471" author="athusoo" created="Tue, 9 Dec 2008 03:36:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Dec 2008 05:42:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l847:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-141] drop table partition behaving oddly - does not create subdirectories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-141</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;for example, I have a table, which has two partitions:&lt;br/&gt;
tmp_table_name/dt=2008-11-01&lt;br/&gt;
tmp_table_name/dt=2008-11-02&lt;/p&gt;

&lt;p&gt;When we use hive metastore to drop the first partition (as root), I expect the data file will be moved to user/root/.Trash/081103xxxx/tmp_table_name/dt=2008-11-01 by default. However, directory tmp_table_name was not created, the data was moved to user/root/.Trash/081103xxxx/dt=2008-11-01, which makes data recovery a very difficult task.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12410251">HIVE-141</key>
            <summary>drop table partition behaving oddly - does not create subdirectories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="hliu">Hao Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 07:16:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:58 +0000</updated>
                            <resolved>Mon, 9 Feb 2009 05:04:16 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="12659000" author="prasadc" created="Wed, 24 Dec 2008 00:01:55 +0000"  >&lt;p&gt;this seems to be result of a bug/feature in Hadoop Trash.moveToTrash() function&lt;/p&gt;

&lt;p&gt;The comment for the class Trash (see below) says that the deleted directory should retail the full path in .Trash/Current directory but the actual code is only the name of the directory is used. I will try to check the actual policy of the deletes and see whether we need to implement our own moveToTrash function.&lt;/p&gt;

&lt;p&gt;/** Provides a &amp;lt;i&amp;gt;trash&amp;lt;/i&amp;gt; feature. Files are moved to a user&apos;s trash&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;directory, a subdirectory of their home directory named &quot;.Trash&quot;. Files are&lt;/li&gt;
	&lt;li&gt;initially moved to a &amp;lt;i&amp;gt;current&amp;lt;/i&amp;gt; sub-directory of the trash directory.&lt;/li&gt;
	&lt;li&gt;Within that sub-directory their original path is preserved. Periodically&lt;/li&gt;
	&lt;li&gt;one may checkpoint the current trash and remove older checkpoints. (This&lt;/li&gt;
	&lt;li&gt;design permits trash management without enumeration of the full trash&lt;/li&gt;
	&lt;li&gt;content, without date support in the filesystem, and without clock&lt;/li&gt;
	&lt;li&gt;synchronization.)&lt;br/&gt;
 */ &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12661570" author="athusoo" created="Wed, 7 Jan 2009 13:45:39 +0000"  >&lt;p&gt;need resolution on this before the first release.&lt;/p&gt;</comment>
                            <comment id="12671732" author="prasadc" created="Mon, 9 Feb 2009 05:04:16 +0000"  >&lt;p&gt;fixed by patching hadoop&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12411535">HADOOP-4970</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Dec 2008 00:01:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l84f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-142] Create a metastore check command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-142</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need a command to verify that the information in the metastore reflects the data that is on hdfs. For example partitions can be deleted on hdfs but still be in the metastore.&lt;/p&gt;

&lt;p&gt;From Joydeep Sen Sarma, see ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; for the full comment:&lt;br/&gt;
for a command line interface - one might want to check the entire database or just a table or even just one partition. other metadata checks will also be added over time (for example - do the file types on disk agree with metadata records, bucketing information etc). So, here&apos;s a strawman proposal for a new command:&lt;/p&gt;

&lt;p&gt;alter table &amp;lt;DB&amp;gt;[.TABLE &lt;span class=&quot;error&quot;&gt;&amp;#91;PARTITION-SPEC&amp;#93;&lt;/span&gt;] check &lt;span class=&quot;error&quot;&gt;&amp;#91;TYPE-LIST&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;where TYPE by default is &apos;all&apos; (check for all kinds of errors), but can be specified to a specific type. For example - in this case - we can have a type called &apos;partitions&apos; (and then over time we can add other types like &apos;fileformat&apos; etc.). for v1 - we can just drop the type-list altogether.&lt;/p&gt;

&lt;p&gt;the check command can produce a list of things that need to be done to fix the format (like adding any directories not in the metastore - but in hdfs - to the metastore). actually performing of such steps would require a user confirmation (y/n).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410260">HIVE-142</key>
            <summary>Create a metastore check command</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johanoskarsson">Johan Oskarsson</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 11:51:19 +0000</created>
                <updated>Thu, 2 May 2013 02:29:20 +0000</updated>
                            <resolved>Mon, 12 Jan 2009 22:30:44 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12655186" author="johanoskarsson" created="Wed, 10 Dec 2008 12:26:20 +0000"  >&lt;p&gt;In a very basic initial version I thought about implementing the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Check that the following have directories on HDFS
	&lt;ul&gt;
		&lt;li&gt;Tables&lt;/li&gt;
		&lt;li&gt;The partitions in the tables (also check that they contain files)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Check for partitions on HDFS that are unknown to the Metastore&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The first version will be read only.&lt;br/&gt;
If I understood the comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; the code that does the actual checking should be called server side from HiveMetaStore.java?&lt;/p&gt;</comment>
                            <comment id="12655335" author="jsensarma" created="Wed, 10 Dec 2008 19:50:58 +0000"  >&lt;p&gt;i was thinking that inferring of the URI from the partition spec is best done in the server (rather than in the Java client side code as today). Currently the thrift interface does not return the URI. i am assuming that you would have to do something like that for hive-91 anyway.&lt;/p&gt;

&lt;p&gt;If the URI is returned by the metastore - we could do the check outside the server. it&apos;s probably better that the check be done outside (since it could potentially be a heavyweight operation and might slow down the metastore). also - typically - checks like these are admin commands and not really that useful exposed through a thrift like api. so a simple java program to do the check using metastore + hdfs calls would be nice. the checks suggested sound like a good start.&lt;/p&gt;

&lt;p&gt;are u planning to do this as a separate utility (might be easier) or do you want to integrate this into alter table family of commands?&lt;/p&gt;</comment>
                            <comment id="12655659" author="johanoskarsson" created="Thu, 11 Dec 2008 14:26:04 +0000"  >&lt;p&gt;Ok, I see what you mean about the URI.&lt;/p&gt;

&lt;p&gt;Regarding separate utility vs alter table I&apos;m ok with either, does anyone have a strong preference either way?&lt;br/&gt;
The approach I was thinking of was to at least have it as a command in the hive shell. Your original suggestion in the description sounds good to me, alternatively just having a command called something like &quot;check&quot; or &quot;msck&quot; for meta store check. Any preference?&lt;/p&gt;</comment>
                            <comment id="12655813" author="jsensarma" created="Thu, 11 Dec 2008 23:36:08 +0000"  >&lt;p&gt;+1 on a new hive subcommand. msck sounds good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  (no hard opinions)&lt;/p&gt;</comment>
                            <comment id="12657485" author="johanoskarsson" created="Wed, 17 Dec 2008 18:57:00 +0000"  >&lt;p&gt;This is a rough first patch for this issue, I&apos;d appreciate it if someone could have a quick look at it. I&apos;ll do some more testing, touch up some javadoc and other minor changes but beyond that it&apos;s fairly complete for this first basic version including unit tests. I&apos;d rather not add any other features to it for this ticket.&lt;/p&gt;

&lt;p&gt;The patch have bits of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-182&quot; title=&quot;Add database name parameter to getTable and dropTable in Hive.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-182&quot;&gt;&lt;del&gt;HIVE-182&lt;/del&gt;&lt;/a&gt; in it that are required. Once those are both committed I&apos;ll roll a new version of this patch without the overlap. If someone would have time to commit 126 and 182 soon it would be much appreciated.&lt;/p&gt;

&lt;p&gt;I have also changed HashMap and AbstractMap to Map in a few places, I can separate that out in a new issue if required.&lt;/p&gt;</comment>
                            <comment id="12658945" author="prasadc" created="Tue, 23 Dec 2008 20:43:02 +0000"  >&lt;p&gt;The code looks good. Couple of comments though&lt;/p&gt;

&lt;p&gt;1) msck should just return HiveException. MetaException, TException is (should) not exposed to code outside of metastore package since the outside code doesn&apos;t know how to deal with it. And also the error returned by the exceptions may not be that much informative for the user?&lt;/p&gt;

&lt;p&gt;2) Can you put a config variable instead of completely removing the HACK that checks HDFS for partitions? I think this is needed only temporarily until we check our current metadata and data completely.&lt;/p&gt;

&lt;p&gt;3) Can you make the msck command to take more than one partition spec? I don&apos;t see any reason why it should be restricted to just one.&lt;/p&gt;</comment>
                            <comment id="12660715" author="johanoskarsson" created="Mon, 5 Jan 2009 10:35:36 +0000"  >&lt;p&gt;As per email discussion with Zheng, will include the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; code in this issue so that they can go in together.&lt;/p&gt;</comment>
                            <comment id="12660814" author="johanoskarsson" created="Mon, 5 Jan 2009 16:56:13 +0000"  >&lt;p&gt;Updated the patch to include suggestions above.&lt;br/&gt;
1) Removed exceptions as mentioned&lt;br/&gt;
2) It looks like the code for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; have been committed. Worth noting that this patch assumes so.&lt;br/&gt;
3) Done, that was an oversight on my part.&lt;/p&gt;

&lt;p&gt;As mentioned before there are a few HashMap to Map changes in the code that strictly don&apos;t belong in this patch, let me know if you want them in another issue.&lt;/p&gt;

&lt;p&gt;I&apos;d be grateful if someone had time to review this patch.&lt;/p&gt;</comment>
                            <comment id="12660845" author="prasadc" created="Mon, 5 Jan 2009 18:35:05 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-126&quot; title=&quot;Don&amp;#39;t fetch information on Partitions from HDFS instead of MetaStore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-126&quot;&gt;&lt;del&gt;HIVE-126&lt;/del&gt;&lt;/a&gt; commit was rolled back. &lt;/p&gt;

&lt;p&gt;Anyways, I am looking into this patch.&lt;/p&gt;</comment>
                            <comment id="12661200" author="prasadc" created="Tue, 6 Jan 2009 16:46:53 +0000"  >&lt;p&gt;Code looks good. Found few usability issues&lt;/p&gt;

&lt;p&gt;1) msck on all tables prints information only at the end of checking on all tables. If there is an en exception in the middle, then it doesn&apos;t print information collected so far. It would be better to print the information before exiting.&lt;/p&gt;

&lt;p&gt;2) there should be an option to continue if a check fails on a table.&lt;/p&gt;

&lt;p&gt;3) the table name could have a wild card&lt;/p&gt;

&lt;p&gt;4) there should be an option to check only tables and not partitions &lt;/p&gt;

&lt;p&gt;Apart from 1) everything else can be fixed in additional JIRAs. &lt;/p&gt;
</comment>
                            <comment id="12661202" author="johanoskarsson" created="Tue, 6 Jan 2009 16:58:34 +0000"  >&lt;p&gt;Updated patch to resolve the concerns in 1), moved the saving of the result to the finally block.&lt;br/&gt;
The rest we can create new jiras for once this one is resolved.&lt;/p&gt;</comment>
                            <comment id="12661227" author="prasadc" created="Tue, 6 Jan 2009 17:52:04 +0000"  >&lt;p&gt;I don&apos;t think the new patch solves the problem. Let&apos;s say there are 200 tables and while checking for 101st table there is an exception due to some incorrect metadata. The way current code is written, nothing will be printed out for the first 100 tables even though they they have been checked. I think this can be done by moving the CheckResult object to be the check functions argument rather than the result so even partial results can be printed to screen.&lt;/p&gt;</comment>
                            <comment id="12661232" author="johanoskarsson" created="Tue, 6 Jan 2009 18:04:34 +0000"  >&lt;p&gt;You&apos;re absolutely right, fixed in this patch.&lt;/p&gt;</comment>
                            <comment id="12661234" author="prasadc" created="Tue, 6 Jan 2009 18:09:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;please open JIRA(s) for the others though. thanks a bunch Joahn.&lt;/p&gt;</comment>
                            <comment id="12661237" author="johanoskarsson" created="Tue, 6 Jan 2009 18:26:01 +0000"  >&lt;p&gt;Added jiras for the three other issues, see issue links on top of this page.&lt;/p&gt;</comment>
                            <comment id="12661420" author="zshao" created="Wed, 7 Jan 2009 03:09:03 +0000"  >&lt;p&gt;@Johan, the patch didn&apos;t apply cleanly. Can you regenerate the patch?&lt;/p&gt;</comment>
                            <comment id="12661509" author="johanoskarsson" created="Wed, 7 Jan 2009 10:21:39 +0000"  >&lt;p&gt;Rolled a new patch, this one should apply cleanly&lt;/p&gt;</comment>
                            <comment id="12662090" author="zshao" created="Thu, 8 Jan 2009 19:46:19 +0000"  >&lt;p&gt;Test is failing. Can you try the following test?&lt;br/&gt;
It&apos;s not that critical (It&apos;s a negative query and only the error message is different), but I feel the current error message is more intuitive.&lt;/p&gt;

&lt;p&gt;ant test -Dtestcase=TestNegativeCliDriver -Dqfile=invalid_create_tbl2.q&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff &lt;del&gt;I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /data/users/zshao/sync/apache-trunk&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-142&quot; title=&quot;Create a metastore check command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-142&quot;&gt;&lt;del&gt;HIVE-142&lt;/del&gt;&lt;/a&gt;/build/ql/test/logs/clientnegative/invalid_create_tbl2.q.out /data/users/zshao/sync/apache-trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-142&quot; title=&quot;Create a metastore check command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-142&quot;&gt;&lt;del&gt;HIVE-142&lt;/del&gt;&lt;/a&gt;/ql/src/test/results/clientnegative/invalid_create_tbl2.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1c1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; FAILED: Parse Error: line 1:0 cannot recognize input &apos;create&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; FAILED: Parse Error: line 1:7 mismatched input &apos;tabl&apos; expecting KW_TEMPORARY&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Exception: Client execution results dailed with error code = 1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; junit.framework.AssertionFailedError: Client execution results dailed with error code = 1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_invalid_create_tbl2(TestNegativeCliDriver.java:56)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 9.533 sec&lt;/p&gt;</comment>
                            <comment id="12662348" author="johanoskarsson" created="Fri, 9 Jan 2009 12:08:58 +0000"  >&lt;p&gt;I&apos;ll need some help with this one, my antlr experience is very limited. Looking at the patch the changes to Hive.g are separate from the createStatement. The only place the meta store check and createStatement meet are in ddlStatement, but I don&apos;t see how the error message would be changed by that.&lt;/p&gt;</comment>
                            <comment id="12662539" author="prasadc" created="Fri, 9 Jan 2009 22:02:32 +0000"  >&lt;p&gt;IMO, both are equally misleading. The difference could be that the ANTLR isn&apos;t back tracking properly and that path might have changed with the inclusion of metastoreCheck command. I think we should commit after changing the test output.&lt;/p&gt;</comment>
                            <comment id="12662540" author="zshao" created="Fri, 9 Jan 2009 22:08:07 +0000"  >&lt;p&gt;That makes sense. I will fix the test output and commit.&lt;/p&gt;</comment>
                            <comment id="12662544" author="athusoo" created="Fri, 9 Jan 2009 22:23:41 +0000"  >&lt;p&gt;Guys,&lt;/p&gt;

&lt;p&gt;It does not make sense to checkin this without figuring out why the error message has changed. Let me spend some time on this being the resident antlr expert here. Please hold off till then.&lt;/p&gt;</comment>
                            <comment id="12662552" author="athusoo" created="Fri, 9 Jan 2009 23:04:33 +0000"  >&lt;p&gt;Ok. found what is happening..&lt;/p&gt;

&lt;p&gt;This is not actually backtracking related but actually the related to the normal code that antlr generates. If you make the createFunction branch the last branch in ddlStatement i.e.&lt;/p&gt;

&lt;p&gt;ddlStatement&lt;br/&gt;
    : createStatement&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dropStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; alterStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; descStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; showStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; metastoreCheck&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; createFunctionStatement&lt;br/&gt;
    ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;instead of&lt;/p&gt;

&lt;p&gt;ddlStatement&lt;br/&gt;
    : createStatement&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; dropStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; alterStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; descStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; showStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; createFunctionStatement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; metastoreCheck&lt;br/&gt;
    ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Basically the first and the createStatement and createFunctionStatement branches need a lookahead for disambiguation as both of them start with the create key word. For some reason antlr generates&lt;br/&gt;
if (pred_for_create) {&lt;br/&gt;
  take alternative 1;&lt;br/&gt;
}&lt;br/&gt;
if (true) {&lt;br/&gt;
  take alternative 2;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;incase these one of these branches is the last statement (I think this has got to do with the fact that there are no more branches to check if createFunctionStatement is that last branch).&lt;/p&gt;

&lt;p&gt;otherwise,&lt;br/&gt;
if (pred_for_create) {&lt;br/&gt;
  take alternative 1;&lt;br/&gt;
}&lt;br/&gt;
if (pred_for_create_function) {&lt;br/&gt;
  take alternative 2;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;That changes the error.&lt;/p&gt;

&lt;p&gt;I agree with Prasad, that both the errors are equally useless, so +1 to capturing the new log.&lt;/p&gt;</comment>
                            <comment id="12662948" author="johanoskarsson" created="Mon, 12 Jan 2009 13:04:54 +0000"  >&lt;p&gt;Updated the patch with the change to Hive.g mentioned above, it seemed like an easier fix then to change the test output and there were interest in the retaining the original error message.&lt;/p&gt;</comment>
                            <comment id="12663127" author="zshao" created="Mon, 12 Jan 2009 22:30:44 +0000"  >&lt;p&gt;Thanks Johan! Committed revision 733875.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12410819">HIVE-182</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12411786">HIVE-212</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411787">HIVE-213</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411788">HIVE-214</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12397685" name="HIVE-142.patch" size="42625" author="johanoskarsson" created="Mon, 12 Jan 2009 13:04:54 +0000"/>
                            <attachment id="12397286" name="HIVE-142.patch" size="42620" author="johanoskarsson" created="Wed, 7 Jan 2009 10:21:39 +0000"/>
                            <attachment id="12397216" name="HIVE-142.patch" size="42591" author="johanoskarsson" created="Tue, 6 Jan 2009 18:04:34 +0000"/>
                            <attachment id="12397210" name="HIVE-142.patch" size="42465" author="johanoskarsson" created="Tue, 6 Jan 2009 16:58:34 +0000"/>
                            <attachment id="12397128" name="HIVE-142.patch" size="42105" author="johanoskarsson" created="Mon, 5 Jan 2009 16:56:12 +0000"/>
                            <attachment id="12396337" name="HIVE-142.patch" size="50792" author="johanoskarsson" created="Wed, 17 Dec 2008 18:57:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Dec 2008 19:50:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l84n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-142&quot; title=&quot;Create a metastore check command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-142&quot;&gt;&lt;strike&gt;HIVE-142&lt;/strike&gt;&lt;/a&gt;. Add a metastore check command. (Johan Oskarsson via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-143] Remove the old Metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-143</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It is my understanding that there are two metastores, one HDFS based that isn&apos;t being used anymore and one new based on SQL databases. This causes some confusion and extra work for new developers, myself included. Am I correct in thinking that the old Metastore won&apos;t be used anymore and could be removed?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410263">HIVE-143</key>
            <summary>Remove the old Metastore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 11:59:33 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:19 +0000</updated>
                            <resolved>Wed, 15 Apr 2009 17:09:07 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12654825" author="athusoo" created="Tue, 9 Dec 2008 15:22:08 +0000"  >&lt;p&gt;Not hdfs based, but the old one is based on the local file system.&lt;/p&gt;

&lt;p&gt;It can potentially be removed, though that warrants a discussion here. There are some fairly significant pieces of functionality missing from the old one as we are not actively developing that metastore. However, if someone feels that they can find potential use for it and would want to develop it further, then we could just keep it around in the code.&lt;/p&gt;</comment>
                            <comment id="12655182" author="johanoskarsson" created="Wed, 10 Dec 2008 11:49:43 +0000"  >&lt;p&gt;Ashish: Could you give an example of what is missing in the old version?&lt;br/&gt;
Everyone else: Does anyone have a need to use the file based version or could it be phased out?&lt;/p&gt;</comment>
                            <comment id="12655318" author="athusoo" created="Wed, 10 Dec 2008 19:03:26 +0000"  >&lt;p&gt;A number of functions for partitions and type are no ops in the file based metastore. Look at HiveMetaStoreClient.java, HiveMetaStore.java (RDBMS based metastore) and MetaStoreClient.java and MetaStore.java (File based metastore) to see the differences.&lt;/p&gt;

&lt;p&gt;I would wait for Pete and Prasad to be back (they will be back next week) before phasing this out.&lt;/p&gt;

&lt;p&gt;My vote is to phase the File based one out but we should hear from those two, specially from Pete who did the original File based metastore.&lt;/p&gt;</comment>
                            <comment id="12658521" author="johanoskarsson" created="Mon, 22 Dec 2008 12:11:07 +0000"  >&lt;p&gt;Assigning to someone who knows more about this&lt;/p&gt;</comment>
                            <comment id="12698894" author="prasadc" created="Tue, 14 Apr 2009 19:41:34 +0000"  >&lt;p&gt;removed the file based metastore code&lt;/p&gt;</comment>
                            <comment id="12699282" author="johanoskarsson" created="Wed, 15 Apr 2009 17:09:07 +0000"  >&lt;p&gt;Committed revision 765271. Thanks Prasad!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405450" name="hive-143.patch" size="460385" author="prasadc" created="Tue, 14 Apr 2009 19:41:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Dec 2008 15:22:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l84v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-143&quot; title=&quot;Remove the old Metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-143&quot;&gt;&lt;strike&gt;HIVE-143&lt;/strike&gt;&lt;/a&gt;. Remove the old file based metastore, in favour of the RDBMS based metastore. (prasadc via johan)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-144] Ql java source copied to build/gen-java</title>
                <link>https://issues.apache.org/jira/browse/HIVE-144</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-98&quot; title=&quot;Dependency management with hadoop core using either maven or ivy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-98&quot;&gt;&lt;del&gt;HIVE-98&lt;/del&gt;&lt;/a&gt;, the build process copies the contents of the ql/src/java directory to build/gen-java where the code generated from Hive.g is located. This makes it a bit more difficult to work on the project in Eclipse, since one has to add the build/gen-java folder to the project and not ql/src/java. This means we&apos;ll edit the ql java files in the wrong location. Adding both of these directories will of course result in duplicate entries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410280">HIVE-144</key>
            <summary>Ql java source copied to build/gen-java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johanoskarsson">Johan Oskarsson</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 15:05:09 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:36 +0000</updated>
                            <resolved>Sat, 13 Dec 2008 03:02:13 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12654818" author="johanoskarsson" created="Tue, 9 Dec 2008 15:09:43 +0000"  >&lt;p&gt;A few alternatives:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;If we&apos;d want to make the handling of generated code a bit more consistent we could put the code from Hive.g into svn under ql/src/gen-java much like the thrift generated code in other modules.&lt;/li&gt;
	&lt;li&gt;Copy ql/src/java into build/ql/java or a similar directory that is not build/gen-java&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Personally I&apos;d vote for the first option.&lt;/p&gt;</comment>
                            <comment id="12654821" author="athusoo" created="Tue, 9 Dec 2008 15:16:21 +0000"  >&lt;p&gt;hmm...&lt;/p&gt;

&lt;p&gt;the reason that these files are copied there is to support pre processing as that is needed due to differences in the hadoop APIs. Consequently, the files in ql/src/java are preprocessed and then copied to build/gen-java where everything is built.&lt;/p&gt;

&lt;p&gt;Agreed though, that if this breaks eclipse then we need to figure out a way to make pre-processing work with eclipse. What are the standard practices to deal with pre processing in eclipse?&lt;/p&gt;</comment>
                            <comment id="12654869" author="johanoskarsson" created="Tue, 9 Dec 2008 17:52:51 +0000"  >&lt;p&gt;Personally I would avoid preprocessing altogether, it sounds like a messy path to go down. For example unit testing becomes a pain and new code might have to be developed in two versions. And for example the unit testing template code is impossible to edit with an IDE.&lt;/p&gt;

&lt;p&gt;It seems the reason behind using the preprocessor is to support multiple Hadoop versions? Would it not be simpler and easier for both developers and the end user if for example Hive 0.19 only worked with Hadoop 0.19? That way there wouldn&apos;t be a need for preprocessed code. This is how HBase does it.&lt;br/&gt;
Are there any major drawbacks of that solution?&lt;/p&gt;</comment>
                            <comment id="12654878" author="athusoo" created="Tue, 9 Dec 2008 18:29:03 +0000"  >&lt;p&gt;The overhead for that approach is too high. We had gone that route originally and were maintaining three different code drops for 0.17 (which we use in production at facebook), 0.18 which was a port requested by some external folks and 0.19 which was the hadoop version at the time hive was open sourced, and making these bug fixes and checking it into 3 different places was 3x the amount of work for the developers. Add to that, these branches would invariably diverge in the short term because the sequence of the checkins would not be the same, it became a big pain to port ones changes from one branch to the other because of the numerous merge conflict. So the solution for us, specially during this active phase of development was to have a single branch and compile it and run it with the different versions of hadoop.&lt;/p&gt;

&lt;p&gt;For Hbase this probably works because they are perhaps a tad more mature at this point or at least have figured out the dependencies with hadoop to a large extent. It seems that they were also having a separate versioning scheme (different from hadoop) intially - I can hazard a guess that perhaps it was for the same reasons.&lt;/p&gt;

&lt;p&gt;Anyway, given the minor tweaks that were needed in the code to port it to 0.18 and 0.19, we saw this as the better of two evils.&lt;/p&gt;

&lt;p&gt;Regarding the unit testing template code - we have really taken the pains to ensure that the actual run time code is in QTestUtil.java and the velocity templates are just used to generate the front end junit test cases for different queries.&lt;/p&gt;</comment>
                            <comment id="12654891" author="johanoskarsson" created="Tue, 9 Dec 2008 18:49:51 +0000"  >&lt;p&gt;Perhaps I&apos;m misunderstanding, but what I meant was a release schedule similar to what HBase uses. Meaning that once a Hadoop version is out they try to have a new HBase version that runs on it within a month, they don&apos;t make sure it works with any previous version of Hadoop. &lt;br/&gt;
Once the branch of a new version has been created no new features goes in there, just serious bugfixes. This is also how Hadoop does it. So there would be very few patches of bugfixes to backport to a previous version of Hive. HBase also only supports the last two versions with new bugfixes, limiting how far back to port fixes.&lt;br/&gt;
This naturally forces people to upgrade to a recent version of Hadoop to get the latest Hive version but I don&apos;t think that&apos;s much of a drawback.&lt;/p&gt;

&lt;p&gt;Perhaps doing it differently in the early days of the project is ok, but it also sets a precedent that people are likely to follow further down the line.&lt;/p&gt;

&lt;p&gt;From the HBase wiki on the version numbering: &quot;Going forward, new releases of HBase will have the same version number as the Hadoop release so there will be less confusion over which release of HBase works with which version of Hadoop.&quot;&lt;/p&gt;</comment>
                            <comment id="12654983" author="jsensarma" created="Tue, 9 Dec 2008 22:03:18 +0000"  >&lt;p&gt;I would really like to see Hive be available for multiple versions of Hadoop.  As a company we are using Hadoop-17 - and i know of many other companies that don&apos;t keep up with latest releases of Hadoop (typically - once they have things working well on a particular version of hadoop - they tend to be conservative with hadoop upgrades).&lt;/p&gt;

&lt;p&gt;the difference is that Hive is relatively immature and fast moving software right now where people are willing/wanting to try out the latest version (even while they continue using older version of Hadoop). So having latest features from Hive be available on older releases will really help in adoption.&lt;/p&gt;</comment>
                            <comment id="12654986" author="athusoo" created="Tue, 9 Dec 2008 22:21:07 +0000"  >&lt;p&gt;As I mentioned, we had followed the same exact approach that Hbase before switching to the current one and considering that there are a lot of fixes that we are making and we want to ensure that those fixes work with all the 3 versions of hadoop, having 3 branches to check those fixes into is very painful. The reality right now is that there are a lot of bug fixes and fixing them in all the 3 versions at the same time is too much of an overhead. Once we start cutting release branches, we would also follow the same methodology (which is quite standard) in that only blocker bugs get checked into the old branches, but right now, we have a number of those bugs which we want to get in before we embark on creating the first release. We do need an exercise to categorize those bugs - which I think we should do this week.&lt;/p&gt;

&lt;p&gt;One thing we can do to alleviate some of the problems is to restrict the preprocessing to a specific list of files (right now there is only 1 file that needs this). That would alleviate some of the problems with eclipse till we come up with a better solution for eclipse.&lt;/p&gt;</comment>
                            <comment id="12655179" author="johanoskarsson" created="Wed, 10 Dec 2008 11:43:19 +0000"  >&lt;p&gt;I can see you&apos;ve made your minds up, fair enough. Going back to the original issue, I&apos;ve got a patch that should help some with the Eclipse issue.&lt;br/&gt;
It simply generates the Hive.g Java code into a different directory, ql/src/gen-java so that Eclipse users can include that separately from the preprocessed source code.&lt;/p&gt;</comment>
                            <comment id="12655180" author="johanoskarsson" created="Wed, 10 Dec 2008 11:45:21 +0000"  >&lt;p&gt;I wasn&apos;t sure if you wanted to avoid including the generated code from Hive.g in the repository. It will of course mean patches that change the query language will have more changes in them but on the other hand it&apos;s more consistent with including the generated Thrift code as is already done.&lt;/p&gt;</comment>
                            <comment id="12655481" author="athusoo" created="Thu, 11 Dec 2008 03:06:28 +0000"  >&lt;p&gt;We actually went through a lot of discussion and then decided not to include the generated sources into the svn tree and we actually wanted to do the same for the thrift generated stuff in the long run. &lt;/p&gt;

&lt;p&gt;Can the antlr stuff be moved to a different directory within build and we can achieve both the benefits there (no generated code and also easier for eclipse users). Something on the lines as zheng suggested in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12655515" author="athusoo" created="Thu, 11 Dec 2008 05:18:48 +0000"  >&lt;p&gt;Also wanted to add that the reason we could not get the thrift generated files out from svn was that the thrift compiler is C++ code and so we were not sure how portable it would be on different *nix platforms.&lt;/p&gt;</comment>
                            <comment id="12655534" author="zshao" created="Thu, 11 Dec 2008 06:27:38 +0000"  >&lt;p&gt;Earlier before Hive is open-sourced we actually do check in HiveParse.java and HiveLexer.java, however they change greatly whenever Hive.g changes so the commits become very noisy.&lt;/p&gt;

&lt;p&gt;@Johan Can you take a look at the idea on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-159&lt;/a&gt; ? Let me know if that makes sense to you, and then we can merge the 2 issues.&lt;/p&gt;</comment>
                            <comment id="12655559" author="zshao" created="Thu, 11 Dec 2008 07:56:02 +0000"  >&lt;p&gt;Johan, just found my idea is just your option 2.&lt;br/&gt;
I&apos;d vote for option 2.&lt;/p&gt;</comment>
                            <comment id="12655609" author="johanoskarsson" created="Thu, 11 Dec 2008 11:33:36 +0000"  >&lt;p&gt;Updated patch for option 2. It just copies the preprocessed data into a folder that is different from the one containing the Hive.g generated code.&lt;br/&gt;
With the arguments above taken into consideration I agree that it&apos;s the best option.&lt;/p&gt;</comment>
                            <comment id="12655741" author="athusoo" created="Thu, 11 Dec 2008 19:05:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good to me.&lt;/p&gt;</comment>
                            <comment id="12656234" author="zshao" created="Sat, 13 Dec 2008 03:01:42 +0000"  >&lt;p&gt;Committed revision 726160.&lt;br/&gt;
Thanks Johan!&lt;/p&gt;</comment>
                            <comment id="12656235" author="zshao" created="Sat, 13 Dec 2008 03:02:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-144&quot; title=&quot;Ql java source copied to build/gen-java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-144&quot;&gt;&lt;del&gt;HIVE-144&lt;/del&gt;&lt;/a&gt;. Hive/ql java source copied to build/ql/java to make it work &lt;br/&gt;
with eclipse. (Johan Oskarsson via zshao)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12410472">HIVE-166</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12410427">HIVE-159</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12395827" name="HIVE-144.patch" size="715" author="johanoskarsson" created="Thu, 11 Dec 2008 11:33:36 +0000"/>
                            <attachment id="12395727" name="HIVE-144.patch" size="975091" author="johanoskarsson" created="Wed, 10 Dec 2008 11:43:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Dec 2008 15:16:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l853:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-145] Hive wiki provides incorrect download and setup instructions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-145</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Getting Started instructions at &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GettingStarted&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/GettingStarted&lt;/a&gt; are incorrect. They claim that you should download a &quot;dist-17.tar.gz&quot; file from a Facebook mirror. This link is 404, and Facebook does not seem to maintain a publicly available Hive package at any other location I can find. Thus, the wiki should be updated to instruct users to checkout/export files from SVN. (This page is locked, so I can&apos;t change it myself)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410307">HIVE-145</key>
            <summary>Hive wiki provides incorrect download and setup instructions</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="kimballa">Aaron Kimball</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 20:50:44 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:27 +0000</updated>
                            <resolved>Thu, 11 Dec 2008 23:25:29 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12654977" author="rsm" created="Tue, 9 Dec 2008 21:52:01 +0000"  >&lt;p&gt;I have made some modifications to the page. Can you verify that the steps there work?&lt;/p&gt;</comment>
                            <comment id="12655007" author="kimballa" created="Tue, 9 Dec 2008 23:18:33 +0000"  >&lt;p&gt;Missing the fact that you must create /tmp and /user/hive/warehouse (aka hive.metastore.warehouse.dir) and set them chmod g+w in HDFS before you can create a table. (I run Hadoop as user &apos;hadoop&apos;, and then attach with my own username as a client)&lt;/p&gt;

&lt;p&gt;Other than that, it seems to work with Hadoop 0.18.2&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="12655805" author="rsm" created="Thu, 11 Dec 2008 23:24:39 +0000"  >&lt;p&gt;Added note on creating directories in HDFS. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Dec 2008 21:52:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l85b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-146] Fix builds for non-default build directory</title>
                <link>https://issues.apache.org/jira/browse/HIVE-146</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some build paths are specified as &quot;${hive.root}/build&quot; instead of &quot;${build.dir.hive}&quot;.  Correct these, including &quot;build.dir.hadoop&quot; (it remains relative to &quot;build.dir.hive&quot; by default).  This allows builds to work when a non-default &quot;build.dir.hive&quot; is specified.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410320">HIVE-146</key>
            <summary>Fix builds for non-default build directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="electrum">David Phillips</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 00:36:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:39 +0000</updated>
                            <resolved>Thu, 11 Dec 2008 01:26:58 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12655327" author="athusoo" created="Wed, 10 Dec 2008 19:23:43 +0000"  >&lt;p&gt;Hi David,&lt;/p&gt;

&lt;p&gt;build-common got changed in a recent checkin which may have addressed this. Can you check the latest build-common and resubmit.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12655415" author="electrum" created="Wed, 10 Dec 2008 23:18:15 +0000"  >&lt;p&gt;I checked and the issue isn&apos;t resolved.  The patch applies to the current trunk.&lt;/p&gt;</comment>
                            <comment id="12655432" author="zshao" created="Wed, 10 Dec 2008 23:43:16 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Looks good to me.&lt;/p&gt;</comment>
                            <comment id="12655454" author="zshao" created="Thu, 11 Dec 2008 01:26:37 +0000"  >&lt;p&gt;Committed revision 725517.&lt;/p&gt;</comment>
                            <comment id="12655455" author="zshao" created="Thu, 11 Dec 2008 01:26:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-146&quot; title=&quot;Fix builds for non-default build directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-146&quot;&gt;&lt;del&gt;HIVE-146&lt;/del&gt;&lt;/a&gt;. Fix builds for non-default build directory. (David Phillips through zshao) &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395701" name="hive-build-dir.patch" size="2040" author="electrum" created="Wed, 10 Dec 2008 00:38:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Dec 2008 19:23:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l85j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-147] Need a tool for extracting lineage info from hive sql</title>
                <link>https://issues.apache.org/jira/browse/HIVE-147</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Need a tool to  extract the line information from hive query.  &lt;br/&gt;
This tool should take hive query as input and it should output, input and output tables used by the query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410321">HIVE-147</key>
            <summary>Need a tool for extracting lineage info from hive sql</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="santony73">Suresh Antony</assignee>
                                    <reporter username="santony73">Suresh Antony</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 00:41:02 +0000</created>
                <updated>Thu, 2 May 2013 02:29:18 +0000</updated>
                            <resolved>Sat, 13 Dec 2008 03:07:41 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12655061" author="santony73" created="Wed, 10 Dec 2008 01:29:49 +0000"  >&lt;p&gt;LineageInfo.java prints input/output tables given the query.  It uses new tree walker architecture.&lt;/p&gt;</comment>
                            <comment id="12655802" author="athusoo" created="Thu, 11 Dec 2008 23:18:50 +0000"  >&lt;p&gt;Generally looks fine to me.&lt;/p&gt;

&lt;p&gt;One thing though...&lt;/p&gt;

&lt;p&gt;You have to add the license text on the top of the created java files.&lt;/p&gt;</comment>
                            <comment id="12655803" author="athusoo" created="Thu, 11 Dec 2008 23:19:10 +0000"  >&lt;p&gt;If you could add that to the patch and upload a new one I can +1 it.&lt;/p&gt;</comment>
                            <comment id="12656087" author="santony73" created="Fri, 12 Dec 2008 18:10:48 +0000"  >&lt;p&gt;Adding incense text  for new files added.&lt;/p&gt;</comment>
                            <comment id="12656092" author="athusoo" created="Fri, 12 Dec 2008 18:25:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good to me.&lt;/p&gt;</comment>
                            <comment id="12656238" author="zshao" created="Sat, 13 Dec 2008 03:07:32 +0000"  >&lt;p&gt;Committed revision 726162.&lt;br/&gt;
Thanks Suresh!&lt;/p&gt;</comment>
                            <comment id="12656239" author="zshao" created="Sat, 13 Dec 2008 03:07:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-147&quot; title=&quot;Need a tool for extracting lineage info from hive sql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-147&quot;&gt;&lt;del&gt;HIVE-147&lt;/del&gt;&lt;/a&gt;. Add a tool for extracting lineage info from hive sql.&lt;br/&gt;
(Suresh Antony via zshao)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12410325">HIVE-148</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12395955" name="patch_147.txt" size="9680" author="santony73" created="Fri, 12 Dec 2008 18:10:48 +0000"/>
                            <attachment id="12395707" name="patch_147.txt" size="8018" author="santony73" created="Wed, 10 Dec 2008 01:29:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 23:18:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l85r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-148] extend bin/hive to include the lineage tool </title>
                <link>https://issues.apache.org/jira/browse/HIVE-148</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;biin/hive currently used only to execute the query. Add options to bin/hive to output the lineage info given the query as the input.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410325">HIVE-148</key>
            <summary>extend bin/hive to include the lineage tool </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="santony73">Suresh Antony</assignee>
                                    <reporter username="santony73">Suresh Antony</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 00:54:24 +0000</created>
                <updated>Thu, 2 May 2013 02:29:18 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 19:32:41 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12655047" author="santony73" created="Wed, 10 Dec 2008 00:55:20 +0000"  >&lt;p&gt;setting dependency&lt;/p&gt;</comment>
                            <comment id="12657939" author="santony73" created="Thu, 18 Dec 2008 23:34:14 +0000"  >&lt;p&gt;Adding  lineage service to hive binary.&lt;/p&gt;</comment>
                            <comment id="12657940" author="santony73" created="Thu, 18 Dec 2008 23:35:21 +0000"  >&lt;p&gt;Adding lineage service extension to hive binary&lt;/p&gt;</comment>
                            <comment id="12658296" author="athusoo" created="Sat, 20 Dec 2008 16:17:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks fine to me.&lt;/p&gt;</comment>
                            <comment id="12658932" author="zshao" created="Tue, 23 Dec 2008 19:32:41 +0000"  >&lt;p&gt;Committed revision 729074.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12409740">HIVE-107</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12410321">HIVE-147</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396436" name="patch_148.txt" size="1408" author="santony73" created="Thu, 18 Dec 2008 23:34:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Dec 2008 16:17:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l85z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Extend bin/hive to include the lineage tool.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-149] Aggregate functions MIN and MAX should support all types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-149</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12410343">HIVE-149</key>
            <summary>Aggregate functions MIN and MAX should support all types</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="electrum">David Phillips</assignee>
                                    <reporter username="yihuey">YihueyChyi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 07:17:29 +0000</created>
                <updated>Sat, 26 May 2012 00:21:35 +0000</updated>
                            <resolved>Sat, 26 May 2012 00:21:34 +0000</resolved>
                                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13283844" author="appodictic" created="Sat, 26 May 2012 00:20:21 +0000"  >&lt;p&gt;It is generic. It supports everything reasonable it seems.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; if (!ObjectInspectorUtils.compareSupported(oi)) {
      throw new UDFArgumentTypeException(parameters.length - 1,
          &quot;Cannot support comparison of map&amp;lt;&amp;gt; type or complex type containing map&amp;lt;&amp;gt;.&quot;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 May 2012 00:20:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l867:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-150] group by count(1) will get error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-150</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HIVEQL:  select l.http_user_agent,count(1) from log_resume_all l  group by l.http_user_agent&lt;br/&gt;
Maybe I&apos;ll get error in the second stage:&lt;br/&gt;
    FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;/p&gt;

&lt;p&gt;The second stage :&lt;br/&gt;
map error &lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.process(ReduceSinkOperator.java:151)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:250)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:174)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:71)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:47)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2122)&lt;/p&gt;

&lt;p&gt;syslog logs&lt;/p&gt;

&lt;p&gt;2008-12-10 15:41:15,209 DEBUG org.apache.hadoop.mapred.TaskTracker: Child starting&lt;br/&gt;
2008-12-10 15:41:15,717 INFO org.apache.hadoop.metrics.jvm.JvmMetrics: Initializing JVM Metrics with processName=MAP, sessionId=&lt;br/&gt;
2008-12-10 15:41:15,805 INFO org.apache.hadoop.mapred.MapTask: numReduceTasks: 64&lt;br/&gt;
2008-12-10 15:41:16,252 INFO org.apache.hadoop.util.NativeCodeLoader: Loaded the native-hadoop library&lt;br/&gt;
2008-12-10 15:41:16,253 INFO org.apache.hadoop.io.compress.zlib.ZlibFactory: Successfully loaded &amp;amp; initialized native-zlib library&lt;br/&gt;
2008-12-10 15:41:16,424 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Initializing Self&lt;br/&gt;
2008-12-10 15:41:16,428 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Adding alias /tmp/hive-root/462573742/46102483.10002 to work list for file /tmp/hive-root/462573742/46102483.10002/0015_r_000029_0&lt;br/&gt;
2008-12-10 15:41:16,438 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Got partitions: null&lt;br/&gt;
2008-12-10 15:41:16,438 INFO org.apache.hadoop.hive.ql.exec.ReduceSinkOperator: Initializing Self&lt;br/&gt;
2008-12-10 15:41:16,443 INFO org.apache.hadoop.hive.ql.exec.ReduceSinkOperator: Using tag = -1&lt;br/&gt;
2008-12-10 15:41:16,460 INFO org.apache.hadoop.hive.serde2.thrift.TBinarySortableProtocol: Sort order is &quot;&quot;&lt;br/&gt;
2008-12-10 15:41:16,460 INFO org.apache.hadoop.hive.serde2.thrift.TBinarySortableProtocol: Sort order is &quot;&quot;&lt;br/&gt;
2008-12-10 15:41:16,489 INFO org.apache.hadoop.hive.ql.exec.MapOperator: DESERIALIZE_ERRORS:0&lt;br/&gt;
2008-12-10 15:41:16,495 WARN org.apache.hadoop.mapred.TaskTracker: Error running child&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.process(ReduceSinkOperator.java:151)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:250)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:174)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:71)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:47)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2122)&lt;/p&gt;




</description>
                <environment>&lt;p&gt;HADOOP 0.17.2.1 &lt;/p&gt;</environment>
        <key id="12410345">HIVE-150</key>
            <summary>group by count(1) will get error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yihuey">YihueyChyi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 07:48:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:57 +0000</updated>
                            <resolved>Wed, 17 Dec 2008 19:58:50 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12655134" author="zshao" created="Wed, 10 Dec 2008 08:10:07 +0000"  >&lt;p&gt;Can you get HIVE code from apache.org? We are not supporting the version on mirror.facebook.com any more.&lt;/p&gt;</comment>
                            <comment id="12655150" author="yihuey" created="Wed, 10 Dec 2008 09:18:02 +0000"  >&lt;p&gt;I download from&lt;br/&gt;
&lt;a href=&quot;http://mirror.facebook.com/facebook/hive/hadoop-0.17/dist.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.com/facebook/hive/hadoop-0.17/dist.tar.gz&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12655314" author="athusoo" created="Wed, 10 Dec 2008 18:56:43 +0000"  >&lt;p&gt;Hi YihueyChyi,&lt;/p&gt;

&lt;p&gt;As Zheng said that is really old code and does not have a lot of fixes. I will take it down this week so that there is not much confusion.&lt;/p&gt;

&lt;p&gt;Please go to&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;to checkout the version of hive&lt;/p&gt;

&lt;p&gt;and then&lt;/p&gt;

&lt;p&gt;run ant -Dhadoop.version=&quot;0.17&quot; clean package&lt;/p&gt;

&lt;p&gt;This will generate the hive distribution in&lt;/p&gt;

&lt;p&gt;build/dist&lt;/p&gt;

&lt;p&gt;under &lt;/p&gt;

&lt;p&gt;hive&lt;/p&gt;

&lt;p&gt;set your HADOOP_HOME and then execute bin/hive&lt;/p&gt;</comment>
                            <comment id="12655317" author="jsensarma" created="Wed, 10 Dec 2008 19:01:30 +0000"  >&lt;p&gt;the mirror.facebook.com/hive site was already taken offlne.&lt;/p&gt;</comment>
                            <comment id="12655320" author="athusoo" created="Wed, 10 Dec 2008 19:05:16 +0000"  >&lt;p&gt;cool..&lt;/p&gt;

&lt;p&gt;then we should not be getting into this confusion for future users &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12655627" author="yihuey" created="Thu, 11 Dec 2008 12:35:49 +0000"  >&lt;p&gt;Hi &lt;/p&gt;

&lt;p&gt;I Build the Code ,but I get error like this:&lt;/p&gt;

&lt;p&gt;thriftif:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Executing thrift (which needs to be in your path) to build java metastore APIs....&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/hive/trunk/build.xml:95: The following error occurred while executing this line:&lt;br/&gt;
/hive/trunk/service/build.xml:35: Execute failed: java.io.IOException: Cannot run program &quot;thrift&quot; (in directory &quot;/hive/trunk/service&quot;): java.io.IOException: error=2, No such file or directory&lt;/p&gt;

&lt;p&gt;Please help. Thank you.&lt;/p&gt;</comment>
                            <comment id="12655767" author="rsm" created="Thu, 11 Dec 2008 20:28:11 +0000"  >&lt;p&gt;Hi YihueyChyi,&lt;/p&gt;

&lt;p&gt;There is an issue with service/build.xml. It currently assumes that you have thrift installed. I am attaching the diff which will allow the build to proceed even if you dont have thrift (this is ok since we are checking in the thrift generated code as well). Please apply this patch (by running patch -p0 &amp;lt; hive-150.1.patch in the hive top level directory.&lt;/p&gt;</comment>
                            <comment id="12655770" author="zshao" created="Thu, 11 Dec 2008 20:48:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12655773" author="zshao" created="Thu, 11 Dec 2008 21:10:15 +0000"  >&lt;p&gt;Committed the patch from Raghu. But not closing this issue since this issue is about &quot;group by count(1) will get error&quot;.&lt;/p&gt;</comment>
                            <comment id="12655875" author="yihuey" created="Fri, 12 Dec 2008 03:32:32 +0000"  >&lt;p&gt;Thanks for your support. &lt;/p&gt;

&lt;p&gt;I compiled successful.&lt;/p&gt;</comment>
                            <comment id="12657518" author="zshao" created="Wed, 17 Dec 2008 19:58:50 +0000"  >&lt;p&gt;I guess the problem is already fixed in the new source repository. Reopen if there is still a problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395871" name="hive-150.1.patch" size="366" author="rsm" created="Thu, 11 Dec 2008 20:28:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Dec 2008 08:10:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l86f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-151] HiveQL Query execution bug: java.lang.NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-151</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Executing a query &lt;br/&gt;
------------------------------------- query start ----------------------------------------------------&lt;br/&gt;
SELECT t11.subject, t22.object , t33.subject , t55.object, t66.object &lt;br/&gt;
FROM &lt;br/&gt;
( &lt;br/&gt;
	SELECT t1.subject &lt;br/&gt;
	FROM triples t1  &lt;br/&gt;
	WHERE &lt;br/&gt;
		t1.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;  &lt;br/&gt;
	AND  &lt;br/&gt;
		t1.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Citation&apos; &lt;br/&gt;
) t11  &lt;br/&gt;
JOIN  &lt;br/&gt;
( &lt;br/&gt;
	SELECT t2.subject , t2.object &lt;br/&gt;
	FROM triples t2  &lt;br/&gt;
	WHERE  &lt;br/&gt;
			t2.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos; &lt;br/&gt;
) t22 &lt;br/&gt;
ON (t11.subject=t22.subject)  		&lt;br/&gt;
JOIN  &lt;br/&gt;
( &lt;br/&gt;
	SELECT t3.subject , t3.object  &lt;br/&gt;
	FROM triples t3  &lt;br/&gt;
	WHERE  &lt;br/&gt;
			t3.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos;  &lt;/p&gt;

&lt;p&gt;) t33&lt;br/&gt;
ON (t11.subject=t33.object) &lt;br/&gt;
JOIN  &lt;br/&gt;
( &lt;br/&gt;
	SELECT t4.subject  &lt;br/&gt;
	FROM triples t4  &lt;br/&gt;
	WHERE  &lt;br/&gt;
		t4.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;  &lt;br/&gt;
	AND  &lt;br/&gt;
		t4.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Author&apos; &lt;/p&gt;

&lt;p&gt;) t44&lt;br/&gt;
ON (t44.subject=t33.subject) &lt;br/&gt;
JOIN  &lt;br/&gt;
( &lt;br/&gt;
	SELECT t5.subject, t5.object&lt;br/&gt;
	FROM triples t5  &lt;br/&gt;
	WHERE  &lt;br/&gt;
		t5.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_to&apos;  &lt;br/&gt;
) t55&lt;br/&gt;
ON (t55.subject=t44.subject) &lt;br/&gt;
JOIN  &lt;br/&gt;
( &lt;br/&gt;
	SELECT t6.subject, t6.object&lt;br/&gt;
	FROM triples t6  &lt;br/&gt;
	WHERE  &lt;br/&gt;
		t6.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;  &lt;br/&gt;
) t66&lt;br/&gt;
ON (t66.subject=t55.object)&lt;br/&gt;
------------------------------------- query end ----------------------------------------------------&lt;br/&gt;
on table &lt;br/&gt;
------------------------------------- table start ----------------------------------------------------&lt;br/&gt;
CREATE TABLE triples (foo string,subject string, predicate string, object string, foo2 string)&lt;br/&gt;
------------------------------------- table end -----------------------------------------------------&lt;/p&gt;

&lt;p&gt;gives the foolowing output &lt;br/&gt;
------------------------------------ console output ----------------------------------------------&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Driver.java:156) - Starting command: SELECT t11.subject, t22.object , t33.subject , t66.object  FROM  (  	SELECT t1.subject  	FROM triples t1   	WHERE  		t1.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;   	AND   		t1.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Citation&apos;  ) t11   JOIN   (  	SELECT t2.subject , t2.object  	FROM triples t2   	WHERE   			t2.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;  ) t22  ON (t11.subject=t22.subject)  		 JOIN   (  	SELECT t3.subject , t3.object   	FROM triples t3   	WHERE   			t3.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos;   				 ) t33 ON (t11.subject=t33.object)  JOIN   (  	SELECT t4.subject   	FROM triples t4   	WHERE   		t4.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;   	AND   		t4.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Author&apos;  				 ) t44 ON (t44.subject=t33.subject)  JOIN   (  	SELECT t5.subject, t5.object as obh 	FROM triples t5   	WHERE   		t5.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_to&apos;   ) t55 ON (t55.subject=t44.subject)  JOIN   (  	SELECT t6.subject, t6.object 	FROM triples t6   	WHERE   		t6.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;   ) t66 ON (t66.subject=t55.obh)&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ParseDriver.java:249) - Parsing command: SELECT t11.subject, t22.object , t33.subject , t66.object  FROM  (  	SELECT t1.subject  	FROM triples t1   	WHERE  		t1.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;   	AND   		t1.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Citation&apos;  ) t11   JOIN   (  	SELECT t2.subject , t2.object  	FROM triples t2   	WHERE   			t2.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;  ) t22  ON (t11.subject=t22.subject)  		 JOIN   (  	SELECT t3.subject , t3.object   	FROM triples t3   	WHERE   			t3.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos;   				 ) t33 ON (t11.subject=t33.object)  JOIN   (  	SELECT t4.subject   	FROM triples t4   	WHERE   		t4.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;   	AND   		t4.object=&apos;http://ontos/OntosMiner/Common.English/ontology#Author&apos;  				 ) t44 ON (t44.subject=t33.subject)  JOIN   (  	SELECT t5.subject, t5.object as obh 	FROM triples t5   	WHERE   		t5.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_to&apos;   ) t55 ON (t55.subject=t44.subject)  JOIN   (  	SELECT t6.subject, t6.object 	FROM triples t6   	WHERE   		t6.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;   ) t66 ON (t66.subject=t55.obh)&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ParseDriver.java:263) - Parse Completed&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:126) - 0: Opening raw store with implemenation class:org.apache.hadoop.hive.metastore.ObjectStore&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ObjectStore.java:124) - ObjectStore, initialize called&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ObjectStore.java:146) - found resource jpox.properties at &lt;a href=&quot;file:/home/vseledkin/workspace/HiveDrv/bin/jpox.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/home/vseledkin/workspace/HiveDrv/bin/jpox.properties&lt;/a&gt;&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:98) - Bundle &quot;org.jpox&quot; has an optional dependency to &quot;org.eclipse.equinox.registry&quot; but it cannot be resolved&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:98) - Bundle &quot;org.jpox&quot; has an optional dependency to &quot;org.eclipse.core.runtime&quot; but it cannot be resolved&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - ================= Persistence Configuration ===============&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - JPOX Persistence Factory - Vendor: &quot;JPOX&quot;  Version: &quot;1.2.2&quot;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - JPOX Persistence Factory initialised for datastore URL=&quot;jdbc:derby:;databaseName=metastore_db;create=true&quot; driver=&quot;org.apache.derby.jdbc.EmbeddedDriver&quot; userName=&quot;APP&quot;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - ===========================================================&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Initialising Catalog &quot;&quot;, Schema &quot;APP&quot; using &quot;SchemaTable&quot; auto-start option&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of org.apache.hadoop.hive.metastore.model.MDatabase since it was managed previously&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - No manager for annotations was found in the CLASSPATH so all annotations are ignored.&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:98) - MetaData Parser encountered an error in file &quot;jar:&lt;a href=&quot;file:/home/vseledkin/workspace/hive/build/hive_metastore.jar!/package.jdo&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/home/vseledkin/workspace/hive/build/hive_metastore.jar!/package.jdo&lt;/a&gt;&quot; at line 282, column 13 : The content of element type &quot;class&quot; must match &quot;(extension*,implements*,datastore-identity?,primary-key?,inheritance?,version?,join*,foreign-key*,index*,unique*,column*,field*,property*,query*,fetch-group*,extension*)&quot;. - Please check your specification of DTD and the validity of the MetaData XML that you have specified.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of org.apache.hadoop.hive.metastore.model.MStorageDescriptor since it was managed previously&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of org.apache.hadoop.hive.metastore.model.MSerDeInfo since it was managed previously&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of org.apache.hadoop.hive.metastore.model.MTable since it was managed previously&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of org.apache.hadoop.hive.metastore.model.MPartition since it was managed previously&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Class : org.apache.hadoop.hive.metastore.model.MDatabase &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : DBS, InheritanceStrategy : new-table&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MFieldSchema&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Class : org.apache.hadoop.hive.metastore.model.MSerDeInfo &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : SERDES, InheritanceStrategy : new-table&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MOrder&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Class : org.apache.hadoop.hive.metastore.model.MStorageDescriptor &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : SDS, InheritanceStrategy : new-table&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MFieldSchema&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MOrder&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Class : org.apache.hadoop.hive.metastore.model.MTable &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : TBLS, InheritanceStrategy : new-table&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MFieldSchema&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - The class &quot;org.apache.hadoop.hive.metastore.model.MOrder&quot; is tagged as &quot;embedded-only&quot; so does not have its own datastore table.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Class : org.apache.hadoop.hive.metastore.model.MPartition &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : PARTITIONS, InheritanceStrategy : new-table&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MSerDeInfo.parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : SERDE_PARAMS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MPartition.parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : PARTITION_PARAMS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MPartition.values &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : PARTITION_KEY_VALS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MTable.parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : TABLE_PARAMS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MTable.partitionKeys &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : PARTITION_KEYS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MStorageDescriptor.bucketCols &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : BUCKETING_COLS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MStorageDescriptor.cols &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : COLUMNS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MStorageDescriptor.parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : SD_PARAMS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Managing Persistence of Field : org.apache.hadoop.hive.metastore.model.MStorageDescriptor.sortCols &lt;span class=&quot;error&quot;&gt;&amp;#91;Table : SORT_COLS&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table SERDES&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 0 foreign key(s) for table SERDES&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 index(es) for table SERDES&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 unique key(s) for table PARTITIONS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 foreign key(s) for table PARTITIONS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 4 index(es) for table PARTITIONS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 unique key(s) for table TBLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 foreign key(s) for table TBLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 4 index(es) for table TBLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table SDS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table SDS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table SDS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 unique key(s) for table DBS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 0 foreign key(s) for table DBS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table DBS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table SORT_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table SORT_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table SORT_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table TABLE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table TABLE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table TABLE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table COLUMNS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table COLUMNS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table COLUMNS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table PARTITION_KEYS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table PARTITION_KEYS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table PARTITION_KEYS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table SD_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table SD_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table SD_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table PARTITION_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table PARTITION_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table PARTITION_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table PARTITION_KEY_VALS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table PARTITION_KEY_VALS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table PARTITION_KEY_VALS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table SERDE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table SERDE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table SERDE_PARAMS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 unique key(s) for table BUCKETING_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 1 foreign key(s) for table BUCKETING_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Validating 2 index(es) for table BUCKETING_COLS&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - Catalog &quot;&quot;, Schema &quot;APP&quot; initialised - managing 14 classes&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Log4JLogger.java:79) - &amp;gt;&amp;gt; Found StoreManager org.jpox.store.rdbms.RDBMSManager&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ObjectStore.java:110) - Initialized ObjectStore&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3086) - Starting Semantic Analysis&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3088) - Completed phase 1 of Semantic Analysis&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples &lt;/p&gt;
{ string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples &lt;/p&gt;
{ string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples &lt;/p&gt;
{ string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3091) - Completed getting MetaData in Semantic Analysis&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table &lt;/p&gt;
{ string reducesinkvalue0, string reducesinkvalue1}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1, string reducesinkvalue2, string reducesinkvalue3, string reducesinkvalue4}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1, string reducesinkvalue2, string reducesinkvalue3, string reducesinkvalue4, string reducesinkvalue5, string reducesinkvalue6, string reducesinkvalue7}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table &lt;/p&gt;
{ string reducesinkvalue0, string reducesinkvalue1}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:579) - Get metadata for source tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (HiveMetaStore.java:164) - 0: get_table : db=default tbl=triples&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct triples { string tid, string subject, string predicate, string object, string type}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:595) - Get metadata for subqueries&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:602) - Get metadata for destination tables&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table &lt;/p&gt;
{ string reducesinkvalue0, string reducesinkvalue1, string reducesinkvalue2, string reducesinkvalue3, string reducesinkvalue4}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table &lt;/p&gt;
{ string reducesinkvalue0, string reducesinkvalue1}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1, string reducesinkvalue2, string reducesinkvalue3, string reducesinkvalue4, string reducesinkvalue5, string reducesinkvalue6, string reducesinkvalue7}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string reducesinkkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table { string reducesinkvalue0, string reducesinkvalue1}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table &lt;/p&gt;
{ string joinkey0}&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_sortable_table { string joinkey0}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3107) - Completed partition pruning&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3111) - Completed sample pruning&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (MetaStoreUtils.java:461) - DDL: struct binary_table &lt;/p&gt;
{ string temporarycol0, string temporarycol1, string temporarycol2, string temporarycol3, string temporarycol4}
&lt;p&gt; INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SemanticAnalyzer.java:3120) - Completed plan generation&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Driver.java:173) - Semantic Analysis Completed&lt;br/&gt;
Total MapReduce jobs = 3&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) - Total MapReduce jobs = 3&lt;br/&gt;
Number of reducers = 1&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) - Number of reducers = 1&lt;br/&gt;
In order to change numer of reducers use:&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) - In order to change numer of reducers use:&lt;br/&gt;
  set mapred.reduce.tasks = &amp;lt;number&amp;gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) -   set mapred.reduce.tasks = &amp;lt;number&amp;gt;&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ExecDriver.java:109) - Number of reduce tasks not specified. Defaulting to jobconf value of: 1&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (ExecDriver.java:238) - Adding input file /user/hive/warehouse/triples&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (JobClient.java:547) - Use GenericOptionsParser for parsing the arguments. Applications should implement Tool for the same.&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (FileInputFormat.java:181) - Total input paths to process : 1&lt;br/&gt;
Starting Job = job_200812091129_0144, Tracking URL = &lt;a href=&quot;http://ubunder.avicomp.com:50030/jobdetails.jsp?jobid=job_200812091129_0144&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ubunder.avicomp.com:50030/jobdetails.jsp?jobid=job_200812091129_0144&lt;/a&gt;&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) - Starting Job = job_200812091129_0144, Tracking URL = &lt;a href=&quot;http://ubunder.avicomp.com:50030/jobdetails.jsp?jobid=job_200812091129_0144&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ubunder.avicomp.com:50030/jobdetails.jsp?jobid=job_200812091129_0144&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/vseledkin/workspace/HiveDrv/programs/hadoop-0.19.0 job  -Dmapred.job.tracker=ubunder.avicomp.com:9001 -kill job_200812091129_0144&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) - Kill Command = /home/vseledkin/workspace/HiveDrv/programs/hadoop-0.19.0 job  -Dmapred.job.tracker=ubunder.avicomp.com:9001 -kill job_200812091129_0144&lt;br/&gt;
 map = 0%,  reduce =0%&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) -  map = 0%,  reduce =0%&lt;br/&gt;
 map = 50%,  reduce =0%&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) -  map = 50%,  reduce =0%&lt;br/&gt;
 map = 100%,  reduce =0%&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) -  map = 100%,  reduce =0%&lt;br/&gt;
 map = 100%,  reduce =100%&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:254) -  map = 100%,  reduce =100%&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:263) - Ended Job = job_200812091129_0144 with errors&lt;br/&gt;
Ended Job = job_200812091129_0144 with errors&lt;br/&gt;
FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (SessionState.java:263) - FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;br/&gt;
------------------------------------ console output end ----------------------------------------&lt;br/&gt;
and the stack trace in hadoop logs &lt;br/&gt;
------------------------------------ stack trace ---------------------------------------------------&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecReducer.configure(ExecReducer.java:81)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:58)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:83)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:337)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:155)&lt;/p&gt;

&lt;p&gt;------------------------------------ stack trace end ---------------------------------------------&lt;br/&gt;
attached file contains table data to test problematic query&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu Linux 386, Hadoop 0.19.0 Hive trunk&lt;/p&gt;</environment>
        <key id="12410364">HIVE-151</key>
            <summary>HiveQL Query execution bug: java.lang.NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="vseledkin">Viacheslav Seledkin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 13:58:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:48 +0000</updated>
                            <resolved>Wed, 31 Dec 2008 21:13:07 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12656581" author="vseledkin" created="Mon, 15 Dec 2008 09:21:40 +0000"  >&lt;p&gt;At 25.12.2008 trunk 729399 version behaviour is changed. But Hive stil unable to execute query above. Simptoms: &lt;/p&gt;

&lt;p&gt;Job Submission failed with exception &apos;Input path does not exist: hdfs://ubunder.avicomp.com:9000/tmp/hive-vseledkin/93734513/662604171.10003&apos;&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.ExecDriver&lt;/p&gt;

&lt;p&gt;It looks like if number of JOINS in query is more than 5 planner generates inconsistent execution process. Queries with 4 JOINS are executing without any problems. &lt;/p&gt;</comment>
                            <comment id="12659291" author="athusoo" created="Sat, 27 Dec 2008 00:24:44 +0000"  >&lt;p&gt;explain &amp;lt;query&amp;gt;;&lt;/p&gt;

&lt;p&gt;shows that the fetch task (Stage-0) which should be dependent on Stage-3 is actually a root task. So I think what is happening is that task is trying to read from the output of Stage-3 which has not even started yet!! This looks like a bad bug...&lt;/p&gt;

&lt;p&gt;The output of the explain is as follows:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; explain SELECT t11.subject, t22.object , t33.subject , t66.object FROM ( SELECT t1.subject FROM triples t1 WHERE t1.pre&lt;br/&gt;
dicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos; AND t1.object=&apos;http://ontos/OntosMiner/Common.English/&lt;br/&gt;
ontology#Citation&apos; ) t11 JOIN ( SELECT t2.subject , t2.object FROM triples t2 WHERE t2.predicate=&apos;http://sofa.semanticweb.org&lt;br/&gt;
/sofa/v1.0/system#__LABEL_REL&apos; ) t22 ON (t11.subject=t22.subject) JOIN ( SELECT t3.subject , t3.object FROM triples t3 WHERE &lt;br/&gt;
t3.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos; ) t33 ON (t11.subject=t33.object) JOIN ( SELECT t4.subject&lt;br/&gt;
 FROM triples t4 WHERE t4.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos; AND t4.object=&apos;http://ont&lt;br/&gt;
os/OntosMiner/Common.English/ontology#Author&apos; ) t44 ON (t44.subject=t33.subject) JOIN ( SELECT t5.subject, t5.object as obh F&lt;br/&gt;
ROM triples t5 WHERE t5.predicate=&apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_to&apos; ) t55 ON (t55.subject=t44.subject) JOIN&lt;br/&gt;
 ( SELECT t6.subject, t6.object FROM triples t6 WHERE t6.predicate=&apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;&lt;br/&gt;
 ) t66 ON (t66.subject=t55.obh);&lt;br/&gt;
OK&lt;br/&gt;
ABSTRACT SYNTAX TREE:&lt;br/&gt;
  (TOK_QUERY (TOK_FROM (TOK_JOIN (TOK_JOIN (TOK_JOIN (TOK_JOIN (TOK_JOIN (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF tripl&lt;br/&gt;
es t1)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t1 subject))) (TOK_WHERE (A&lt;br/&gt;
ND (= (TOK_COLREF t1 predicate) &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;) (= (TOK_COLREF t1 object) &apos;h&lt;br/&gt;
ttp://ontos/OntosMiner/Common.English/ontology#Citation&apos;))))) t11) (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF triples t2)&lt;br/&gt;
) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t2 subject)) (TOK_SELEXPR (TOK_CO&lt;br/&gt;
LREF t2 object))) (TOK_WHERE (= (TOK_COLREF t2 predicate) &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;)))) t22)&lt;br/&gt;
 (= (TOK_COLREF t11 subject) (TOK_COLREF t22 subject))) (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF triples t3)) (TOK_INSE&lt;br/&gt;
RT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t3 subject)) (TOK_SELEXPR (TOK_COLREF t3 obj&lt;br/&gt;
ect))) (TOK_WHERE (= (TOK_COLREF t3 predicate) &apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos;)))) t33) (= (TOK_COLREF &lt;br/&gt;
t11 subject) (TOK_COLREF t33 object))) (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF triples t4)) (TOK_INSERT (TOK_DESTINATI&lt;br/&gt;
ON (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t4 subject))) (TOK_WHERE (AND (= (TOK_COLREF t4 predicate) &apos;h&lt;br/&gt;
ttp://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;) (= (TOK_COLREF t4 object) &apos;http://ontos/OntosMiner/Common.Engl&lt;br/&gt;
ish/ontology#Author&apos;))))) t44) (= (TOK_COLREF t44 subject) (TOK_COLREF t33 subject))) (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK&lt;br/&gt;
_TABREF triples t5)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t5 subject)) (&lt;br/&gt;
TOK_SELEXPR (TOK_COLREF t5 object) obh)) (TOK_WHERE (= (TOK_COLREF t5 predicate) &apos;http://www.ontosearch.com/2007/12/ontosofa-&lt;br/&gt;
ns#_to&apos;)))) t55) (= (TOK_COLREF t55 subject) (TOK_COLREF t44 subject))) (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF triple&lt;br/&gt;
s t6)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t6 subject)) (TOK_SELEXPR (T&lt;br/&gt;
OK_COLREF t6 object))) (TOK_WHERE (= (TOK_COLREF t6 predicate) &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;))))&lt;br/&gt;
 t66) (= (TOK_COLREF t66 subject) (TOK_COLREF t55 obh)))) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (T&lt;br/&gt;
OK_SELEXPR (TOK_COLREF t11 subject)) (TOK_SELEXPR (TOK_COLREF t22 object)) (TOK_SELEXPR (TOK_COLREF t33 subject)) (TOK_SELEXP&lt;br/&gt;
R (TOK_COLREF t66 object)))))&lt;/p&gt;

&lt;p&gt;STAGE DEPENDENCIES:&lt;br/&gt;
  Stage-1 is a root stage&lt;br/&gt;
  Stage-2 is a root stage&lt;br/&gt;
  Stage-3 depends on stages: Stage-2&lt;br/&gt;
  Stage-0 is a root stage&lt;/p&gt;

&lt;p&gt;STAGE PLANS:&lt;br/&gt;
  Stage: Stage-1&lt;br/&gt;
    Map Reduce&lt;br/&gt;
      Alias -&amp;gt; Map Operator Tree:&lt;br/&gt;
        t66:t6 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: (2 = &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;)&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                        expr: 1&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 1&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
      Reduce Operator Tree:&lt;br/&gt;
        Join Operator&lt;br/&gt;
          condition map:&lt;br/&gt;
               Inner Join 0 to 1&lt;br/&gt;
          condition expressions:&lt;br/&gt;
            0 &lt;/p&gt;
{VALUE.0} {VALUE.1} {VALUE.2} {VALUE.3} {VALUE.4} {VALUE.5} {VALUE.6} {VALUE.7}&lt;br/&gt;
            1 {VALUE.0}
&lt;p&gt; &lt;/p&gt;
{VALUE.1}&lt;br/&gt;
          Select Operator&lt;br/&gt;
            expressions:&lt;br/&gt;
                  expr: 3&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 5&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 0&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 9&lt;br/&gt;
                  type: string&lt;br/&gt;
            File Output Operator&lt;br/&gt;
              compressed: true&lt;br/&gt;
              table:&lt;br/&gt;
                  input format: org.apache.hadoop.mapred.TextInputFormat&lt;br/&gt;
                  output format: org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat&lt;br/&gt;
&lt;br/&gt;
  Stage: Stage-2&lt;br/&gt;
    Map Reduce&lt;br/&gt;
      Alias -&amp;gt; Map Operator Tree:&lt;br/&gt;
        t22:t2 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: (2 = &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__LABEL_REL&apos;)&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                        expr: 1&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 1&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
        t33:t3 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: (2 = &apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_from&apos;)&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                        expr: 1&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 2&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
        t11:t1 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: ((1 = &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;) and (2 = &apos;http://ontos/Ontos&lt;br/&gt;
Miner/Common.English/ontology#Citation&apos;))&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 0&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
      Reduce Operator Tree:&lt;br/&gt;
        Join Operator&lt;br/&gt;
          condition map:&lt;br/&gt;
               Inner Join 0 to 1&lt;br/&gt;
               Inner Join 0 to 1&lt;br/&gt;
          condition expressions:&lt;br/&gt;
            0 {VALUE.0}&lt;br/&gt;
            1 {VALUE.0} {VALUE.1}
&lt;p&gt;            2 &lt;/p&gt;
{VALUE.0} {VALUE.1}&lt;br/&gt;
          File Output Operator&lt;br/&gt;
            compressed: true&lt;br/&gt;
            table:&lt;br/&gt;
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat&lt;br/&gt;
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat&lt;br/&gt;
                name: binary_table&lt;br/&gt;
&lt;br/&gt;
  Stage: Stage-3&lt;br/&gt;
    Map Reduce&lt;br/&gt;
      Alias -&amp;gt; Map Operator Tree:&lt;br/&gt;
        $INTNAME &lt;br/&gt;
          Reduce Output Operator&lt;br/&gt;
            key expressions:&lt;br/&gt;
                  expr: 3&lt;br/&gt;
                  type: string&lt;br/&gt;
            sort order: +&lt;br/&gt;
            Map-reduce partition columns:&lt;br/&gt;
                  expr: 3&lt;br/&gt;
                  type: string&lt;br/&gt;
            tag: 0&lt;br/&gt;
            value expressions:&lt;br/&gt;
                  expr: 3&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 4&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 0&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 1&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 2&lt;br/&gt;
                  type: string&lt;br/&gt;
        t55:t5 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: (2 = &apos;http://www.ontosearch.com/2007/12/ontosofa-ns#_to&apos;)&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                        expr: 1&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 2&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                          expr: 1&lt;br/&gt;
                          type: string&lt;br/&gt;
        t44:t4 &lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: subject&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: predicate&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: object&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: ((1 = &apos;http://sofa.semanticweb.org/sofa/v1.0/system#__INSTANCEOF_REL&apos;) and (2 = &apos;http://ontos/Ontos&lt;br/&gt;
Miner/Common.English/ontology#Author&apos;))&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Select Operator&lt;br/&gt;
                  expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                  Reduce Output Operator&lt;br/&gt;
                    key expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    sort order: +&lt;br/&gt;
                    Map-reduce partition columns:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
                    tag: 1&lt;br/&gt;
                    value expressions:&lt;br/&gt;
                          expr: 0&lt;br/&gt;
                          type: string&lt;br/&gt;
      Reduce Operator Tree:&lt;br/&gt;
        Join Operator&lt;br/&gt;
          condition map:&lt;br/&gt;
               Inner Join 0 to 1&lt;br/&gt;
               Inner Join 1 to 1&lt;br/&gt;
          condition expressions:&lt;br/&gt;
            0 {VALUE.0}
&lt;p&gt; &lt;/p&gt;
{VALUE.1} {VALUE.2} {VALUE.3} {VALUE.4}&lt;br/&gt;
            1 {VALUE.0}&lt;br/&gt;
            2 {VALUE.0} {VALUE.1}
&lt;p&gt;          Reduce Output Operator&lt;br/&gt;
            key expressions:&lt;br/&gt;
                  expr: 7&lt;br/&gt;
                  type: string&lt;br/&gt;
            sort order: +&lt;br/&gt;
            Map-reduce partition columns:&lt;br/&gt;
                  expr: 7&lt;br/&gt;
                  type: string&lt;br/&gt;
            tag: 0&lt;br/&gt;
            value expressions:&lt;br/&gt;
                  expr: 0&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 1&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 5&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 2&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 3&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 4&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 6&lt;br/&gt;
                  type: string&lt;br/&gt;
                  expr: 7&lt;br/&gt;
                  type: string&lt;/p&gt;

&lt;p&gt;  Stage: Stage-0&lt;br/&gt;
    Fetch Operator&lt;br/&gt;
      limit: -1&lt;/p&gt;


&lt;p&gt;Time taken: 0.69 seconds&lt;/p&gt;</comment>
                            <comment id="12659296" author="athusoo" created="Sat, 27 Dec 2008 00:29:53 +0000"  >&lt;p&gt;categorizing as blocker.&lt;/p&gt;</comment>
                            <comment id="12659414" author="vseledkin" created="Sun, 28 Dec 2008 08:19:05 +0000"  >&lt;p&gt;Yes, blocking&lt;/p&gt;</comment>
                            <comment id="12659898" author="namit" created="Tue, 30 Dec 2008 19:14:08 +0000"  >&lt;p&gt;fetch task does not depend on any other task in the explain plan - that is a problem, but does not explain this.&lt;/p&gt;</comment>
                            <comment id="12659985" author="namit" created="Tue, 30 Dec 2008 23:59:07 +0000"  >&lt;p&gt;The task which depends on other tasks cannot be a root task - that was the basic problem.&lt;/p&gt;</comment>
                            <comment id="12659989" author="namit" created="Wed, 31 Dec 2008 00:24:56 +0000"  >&lt;p&gt;will add more comments&lt;/p&gt;</comment>
                            <comment id="12659993" author="rsm" created="Wed, 31 Dec 2008 00:36:19 +0000"  >&lt;p&gt;+1 looks good.&lt;/p&gt;

&lt;p&gt;Can you add a comment about this fix?&lt;br/&gt;
Also, the variable names seem a little wonky. Change oldTask to parentTask and task to childTask. Also, currTask is an unnecessary variable, use childTask instead.&lt;/p&gt;</comment>
                            <comment id="12660149" author="zshao" created="Wed, 31 Dec 2008 21:13:07 +0000"  >&lt;p&gt;Committed revision 730302. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396066" name="_user_hive_warehouse_triples_part-00000.tar.gz" size="90851" author="vseledkin" created="Mon, 15 Dec 2008 09:21:40 +0000"/>
                            <attachment id="12396940" name="patch-151.1.txt" size="17530" author="namit" created="Tue, 30 Dec 2008 23:55:27 +0000"/>
                            <attachment id="12396942" name="patch-151.2.txt" size="18956" author="namit" created="Wed, 31 Dec 2008 00:25:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Dec 2008 00:24:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l86n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-151&quot; title=&quot;HiveQL Query execution bug: java.lang.NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-151&quot;&gt;&lt;strike&gt;HIVE-151&lt;/strike&gt;&lt;/a&gt;. Tasks depending on other tasks cannot be a root task. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-153] explain should give meaningful column names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-153</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently explain uses numbers like &quot;1&quot; to represent the columns.&lt;br/&gt;
It will be much better to print out the real name of the columns.&lt;/p&gt;

&lt;p&gt;hive&amp;gt; explain FROM table a SELECT a.country as b, count(1) as c WHERE a.ds=&apos;2008-12-09&apos; GROUP BY a.country;&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: country&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: ds&lt;br/&gt;
                    type: string&lt;br/&gt;
              Filter Operator&lt;br/&gt;
                predicate:&lt;br/&gt;
                    expr: (1 = &apos;2008-12-09&apos;)&lt;br/&gt;
                    type: boolean&lt;br/&gt;
                Reduce Output Operator&lt;br/&gt;
                  key expressions:&lt;br/&gt;
                        expr: 0&lt;br/&gt;
                        type: string&lt;br/&gt;
                  sort order: +&lt;br/&gt;
                  Map-reduce partition columns:&lt;br/&gt;
                        expr: rand()&lt;br/&gt;
                        type: double&lt;br/&gt;
                  tag: -1&lt;br/&gt;
                  value expressions:&lt;br/&gt;
                        expr: 1&lt;br/&gt;
                        type: int&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12410412">HIVE-153</key>
            <summary>explain should give meaningful column names</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Dec 2008 23:15:46 +0000</created>
                <updated>Wed, 20 May 2009 17:19:18 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12655413" author="zshao" created="Wed, 10 Dec 2008 23:16:44 +0000"  >&lt;p&gt;Basically, we should use meaningful names for internal names whenever possible, instead of using numbers like 0, 1, 2, etc.&lt;/p&gt;</comment>
                            <comment id="12711241" author="he yongqiang" created="Wed, 20 May 2009 17:19:18 +0000"  >&lt;p&gt;How about this?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; explain FROM a SELECT a.country as b, count(1) as c WHERE a.ds=&apos;2008-12-09&apos; GROUP BY a.country;     OK
...

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        a 
            Filter Operator
              predicate:
                  expr: (ds = &apos;2008-12-09&apos;)
                  type: boolean
              Group By Operator
                aggregations:
                      expr: count(1)
                keys:
                      expr: country
                      type: string
                mode: hash
                Reduce Output Operator
                  key expressions:
                        expr: country
                        type: string
                  sort order: +
                  Map-reduce partition columns:
                        expr: country
                        type: string
                  tag: -1
                  value expressions:
                        expr: 1
                        type: bigint
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: count(VALUE.0)
          keys:
                expr: KEY.0
                type: string
          mode: mergepartial
          Select Operator
            expressions:
                  expr: KEY.0
                  type: string
                  expr: 1
                  type: bigint
            File Output Operator
              compressed: true
              GlobalTableId: 0
              table:
                  input format: org.apache.hadoop.mapred.TextInputFormat
                  output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: -1

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12407384">HIVE-31</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12424247">HIVE-460</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12410231">HIVE-138</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 17:19:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08niv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-154] Can&apos;t group by tinyints</title>
                <link>https://issues.apache.org/jira/browse/HIVE-154</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Attempting to group by tiny ints is considered okay by the CLI, but there&apos;s a run time error on the server side giving:&lt;br/&gt;
java.lang.RuntimeException: org.apache.hadoop.hive.serde2.SerDeException: org.apache.hadoop.hive.serde2.dynamic_type.ParseException: Encountered &quot;byte&quot; at line 1, column 32.&lt;br/&gt;
Was expecting one of:&lt;br/&gt;
    &quot;bool&quot; ...&lt;br/&gt;
    &quot;i16&quot; ...&lt;br/&gt;
    &quot;i32&quot; ...&lt;br/&gt;
    &quot;i64&quot; ...&lt;br/&gt;
    &quot;double&quot; ...&lt;br/&gt;
    &quot;string&quot; ...&lt;br/&gt;
    &quot;map&quot; ...&lt;br/&gt;
    &quot;list&quot; ...&lt;br/&gt;
    &quot;set&quot; ...&lt;br/&gt;
    &quot;required&quot; ...&lt;br/&gt;
    &quot;optional&quot; ...&lt;br/&gt;
    &quot;skip&quot; ...&lt;br/&gt;
     ...&lt;br/&gt;
     ...&lt;br/&gt;
    &quot;}&quot; ...&lt;/p&gt;

&lt;p&gt;	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.initialize(ReduceSinkOperator.java:108)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:190)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FilterOperator.initialize(FilterOperator.java:49)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:190)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.initialize(SelectOperator.java:48)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:190)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.initialize(TableScanOperator.java:36)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.initialize(MapOperator.java:166)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:57)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:47)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:220)&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2139)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.serde2.SerDeException: org.apache.hadoop.hive.serde2.dynamic_type.ParseException: Encountered &quot;byte&quot; at line 1, column 32.&lt;/p&gt;

&lt;p&gt;This can be worked around by casting tinyints as ints.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410421">HIVE-154</key>
            <summary>Can&apos;t group by tinyints</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:00:11 +0000</created>
                <updated>Thu, 16 Dec 2010 20:32:58 +0000</updated>
                            <resolved>Thu, 16 Dec 2010 20:32:58 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12773242" author="katrakc" created="Tue, 3 Nov 2009 22:13:34 +0000"  >&lt;p&gt;This seems to be closely related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-193&quot; title=&quot;Cannot create table with tinyint type column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-193&quot;&gt;&lt;del&gt;HIVE-193&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12972201" author="appodictic" created="Thu, 16 Dec 2010 20:32:58 +0000"  >&lt;p&gt;Not exactly sure when and how but this works as of 0.6.0 (probably much before as well)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create table atest (anum tinyint); 
load data local inpath &apos;/home/media6/tinytest.txt&apos; into table atest;
select anum,count(1) from atest GROUP by (anum);
OK
2	1
4	1
5	1
7	2
dfs -cat /user/hive/warehouse/atest/*;
4
5
7
7
2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12411178">HIVE-193</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Nov 2009 22:13:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l86v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-155] parenthesis should not mess up a group by</title>
                <link>https://issues.apache.org/jira/browse/HIVE-155</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Using parenthesis breaks group by statements, in the sense that:&lt;/p&gt;

&lt;p&gt;&quot;... GROUP BY (mytable.a, mytable.b)&quot;&lt;/p&gt;

&lt;p&gt;results in a parse error:&lt;/p&gt;

&lt;p&gt;FAILED: Parse Error: line 1:136 mismatched input &apos;,&apos; expecting )&lt;/p&gt;

&lt;p&gt;This should be made to work equivalently to&lt;/p&gt;

&lt;p&gt;&quot;... GROUP BY mytable.a, mytable.b&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410423">HIVE-155</key>
            <summary>parenthesis should not mess up a group by</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:04:48 +0000</created>
                <updated>Tue, 10 Sep 2013 20:28:10 +0000</updated>
                            <resolved>Fri, 13 Feb 2009 20:06:06 +0000</resolved>
                                                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12673368" author="sasmith" created="Fri, 13 Feb 2009 20:06:06 +0000"  >&lt;p&gt;This is subsumed by a general parenthesis issue I just submitted.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l873:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-156] Allow &quot;!=&quot; in place of &quot;&lt;&gt;&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-156</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;m used to using &quot;!=&quot; for inequality.  It would be nice if Hive supported this as an alternative to &quot;&amp;lt;&amp;gt;&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410424">HIVE-156</key>
            <summary>Allow &quot;!=&quot; in place of &quot;&lt;&gt;&quot;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:06:44 +0000</created>
                <updated>Tue, 5 Apr 2011 23:08:55 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 23:08:55 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12656492" author="hammer" created="Sun, 14 Dec 2008 23:04:17 +0000"  >&lt;p&gt;Adding to &quot;Query Processor&quot; component&lt;/p&gt;</comment>
                            <comment id="13016172" author="cwsteinbach" created="Tue, 5 Apr 2011 23:08:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-899&quot; title=&quot;Allow &amp;#39;A != B&amp;#39; as well as  &amp;#39;A &amp;lt;&amp;gt; B&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-899&quot;&gt;&lt;del&gt;HIVE-899&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12438968">HIVE-899</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 14 Dec 2008 23:04:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l87b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-157] README.txt needs to be updated</title>
                <link>https://issues.apache.org/jira/browse/HIVE-157</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Readme.txt still points people to mirror.facebook.com&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410425">HIVE-157</key>
            <summary>README.txt needs to be updated</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:26:05 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:55 +0000</updated>
                            <resolved>Mon, 15 Dec 2008 00:21:18 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12656269" author="zshao" created="Sat, 13 Dec 2008 10:16:41 +0000"  >&lt;p&gt;replace 0.17.2 with 0.17.0.&lt;/p&gt;</comment>
                            <comment id="12656299" author="namit" created="Sat, 13 Dec 2008 16:23:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12656491" author="hammer" created="Sun, 14 Dec 2008 23:03:25 +0000"  >&lt;p&gt;Categorizing as &quot;Documentation&quot;&lt;/p&gt;</comment>
                            <comment id="12656511" author="zshao" created="Mon, 15 Dec 2008 00:21:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-157&quot; title=&quot;README.txt needs to be updated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-157&quot;&gt;&lt;del&gt;HIVE-157&lt;/del&gt;&lt;/a&gt;. Update README.txt to remove refs to mirror.facebook.com. (zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395790" name="HIVE-157-1.patch" size="12596" author="zshao" created="Thu, 11 Dec 2008 02:37:40 +0000"/>
                            <attachment id="12396000" name="HIVE-157-2.patch" size="12596" author="zshao" created="Sat, 13 Dec 2008 10:16:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Dec 2008 16:23:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l87j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-158] table aliases dont work for sampled tables in joins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-158</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query:&lt;/p&gt;

&lt;p&gt;FROM table1 TABLESAMPLE (BUCKET 1 OUT OF 512 ON col1) a JOIN table2 b ON (a.j1 = b.j2)  SELECT  a.col1, a.j1, b.j2;&lt;/p&gt;

&lt;p&gt;results in the error:&lt;/p&gt;

&lt;p&gt;ERROR ql.Driver (SessionState.java:printError(263)) - FAILED: Error in semantic analysis: line 1:88 Invalid Table Alias a&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410426">HIVE-158</key>
            <summary>table aliases dont work for sampled tables in joins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:26:45 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:38 +0000</updated>
                            <resolved>Tue, 16 Dec 2008 23:19:20 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12655457" author="rsm" created="Thu, 11 Dec 2008 01:30:12 +0000"  >&lt;p&gt;When there is a TABLESAMPLE clause, the alias is not the second child of the join node (its the last child).&lt;/p&gt;</comment>
                            <comment id="12655459" author="zshao" created="Thu, 11 Dec 2008 01:40:06 +0000"  >&lt;p&gt;Can you add a test case?&lt;/p&gt;</comment>
                            <comment id="12655462" author="rsm" created="Thu, 11 Dec 2008 01:57:30 +0000"  >&lt;p&gt;Missed doing svn add on the tests. done now.&lt;/p&gt;</comment>
                            <comment id="12655474" author="athusoo" created="Thu, 11 Dec 2008 02:42:45 +0000"  >&lt;p&gt;diff looks good to me.&lt;/p&gt;

&lt;p&gt;Please do run this with both -Dhadoop.version=&quot;0.19.0&quot; and -Dhadoop.version=&quot;0.17.0&quot; to make sure that the diff still holds and the ordering does not screw up things.&lt;/p&gt;</comment>
                            <comment id="12656768" author="rsm" created="Mon, 15 Dec 2008 21:52:07 +0000"  >&lt;p&gt;Changed example so that it passes with both hadoop 17 and 20.&lt;/p&gt;</comment>
                            <comment id="12656849" author="namit" created="Tue, 16 Dec 2008 02:19:33 +0000"  >&lt;p&gt;The sample operator created is not begin added to the hashmap - line 3549 SemanticAnalyzer.java&lt;br/&gt;
You have to add this.&lt;/p&gt;

&lt;p&gt;I am forgetting the exact test-case. do you remember the scenario which we were debugging last week ?&lt;/p&gt;</comment>
                            <comment id="12657112" author="namit" created="Tue, 16 Dec 2008 18:56:05 +0000"  >&lt;p&gt;looked at the code more carefully - you are right - we dont need to to put in the hashmap, we are already doing it.&lt;br/&gt;
The changes look fine to me.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12657215" author="zshao" created="Tue, 16 Dec 2008 23:19:08 +0000"  >&lt;p&gt;Committed revision 727211.&lt;/p&gt;</comment>
                            <comment id="12657216" author="zshao" created="Tue, 16 Dec 2008 23:19:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-158&quot; title=&quot;table aliases dont work for sampled tables in joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-158&quot;&gt;&lt;del&gt;HIVE-158&lt;/del&gt;&lt;/a&gt;. Make table aliases work for sampled tables in joins. (Raghotham Murthy via zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395789" name="hive-158.2.patch" size="23248" author="rsm" created="Thu, 11 Dec 2008 01:57:30 +0000"/>
                            <attachment id="12396132" name="hive-158.3.patch" size="1073471" author="rsm" created="Mon, 15 Dec 2008 21:52:06 +0000"/>
                            <attachment id="12395785" name="hive-158.patch" size="1346" author="rsm" created="Thu, 11 Dec 2008 01:30:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 01:40:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l87r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-159] Make hive compilable under eclipse</title>
                <link>https://issues.apache.org/jira/browse/HIVE-159</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveLexer.java and HiveParser.java only exists in build/ql/gen-java. But a copy of ql/src/java is also there.&lt;br/&gt;
It makes it hard for eclipse to load the source files because there will be a duplicate.&lt;/p&gt;

&lt;p&gt;If we just let eclipse load build/ql/gen-java but not ql/src/java, then we cannot modify the code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410427">HIVE-159</key>
            <summary>Make hive compilable under eclipse</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 02:25:12 +0000</created>
                <updated>Thu, 11 Dec 2008 12:14:50 +0000</updated>
                            <resolved>Thu, 11 Dec 2008 07:57:37 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12655475" author="zshao" created="Thu, 11 Dec 2008 02:42:53 +0000"  >&lt;p&gt;A simple fix would be to separate build/ql/gen-java into 2 directories: build/ql/antlr-java and build/ql/gen-java, and put HiveLexer/Parser.java in antlr-java.&lt;/p&gt;</comment>
                            <comment id="12655476" author="athusoo" created="Thu, 11 Dec 2008 02:49:27 +0000"  >&lt;p&gt;I thought you were taking about all the other files (other than the generated antlr files).&lt;/p&gt;

&lt;p&gt;Is this a duplicate of&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-144&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-144&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which has patch from Johan&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12410280">HIVE-144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 02:49:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l87z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-160] sampling in a subquery is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-160</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12410428">HIVE-160</key>
            <summary>sampling in a subquery is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 02:37:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:52 +0000</updated>
                            <resolved>Wed, 15 Jul 2009 23:35:57 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12656496" author="hammer" created="Sun, 14 Dec 2008 23:07:26 +0000"  >&lt;p&gt;Adding to &quot;Query Processor&quot; component.&lt;/p&gt;</comment>
                            <comment id="12661556" author="athusoo" created="Wed, 7 Jan 2009 13:27:04 +0000"  >&lt;p&gt;I think this one has been resolved by Raghu or Namit?&lt;/p&gt;</comment>
                            <comment id="12677422" author="rsm" created="Fri, 27 Feb 2009 17:09:07 +0000"  >&lt;p&gt;Sampling within a sub-query does not seem to prune the input. A filter is added and the result seems correct.&lt;/p&gt;</comment>
                            <comment id="12677479" author="zshao" created="Fri, 27 Feb 2009 19:03:32 +0000"  >&lt;p&gt;So it&apos;s resolved right? Will you close this issue?&lt;/p&gt;</comment>
                            <comment id="12731207" author="rsm" created="Tue, 14 Jul 2009 23:43:07 +0000"  >&lt;p&gt;No, the problem is that input pruning does not work well when done over parse structures (QB). We should do it over the operator tree. The current patch is a temporary fix for this bug. It always adds a sampling predicate to the where clause irrespective of whether there was input pruning or not. The final fix will be modeled after the partition pruning code that Ashish is fixing.&lt;/p&gt;

&lt;p&gt;I also modified the tests so that srcbucket has an integer key. This allows for better testing of the case where a predicate is added to the where clause. &apos;Bucket 1 out of 2&apos; will return keys which are even and bucket 2 out of 2 will return keys which are odd.&lt;/p&gt;</comment>
                            <comment id="12731218" author="namit" created="Tue, 14 Jul 2009 23:58:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;The code changes look good - will commit if the tests look good and they pass&lt;/p&gt;</comment>
                            <comment id="12731222" author="rsm" created="Wed, 15 Jul 2009 00:05:37 +0000"  >&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-638&quot; title=&quot;fix sampling in subquery for real&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-638&quot;&gt;&lt;del&gt;HIVE-638&lt;/del&gt;&lt;/a&gt; to fix sampling in subqueries properly&lt;/p&gt;</comment>
                            <comment id="12731742" author="namit" created="Wed, 15 Jul 2009 23:35:57 +0000"  >&lt;p&gt;Committed. Thanks Raghu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413497" name="hive-160.1.patch" size="261819" author="rsm" created="Tue, 14 Jul 2009 23:43:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 14 Dec 2008 23:07:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l887:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-161] for list column x that is sometimes null, select x.y will cause a nullpointerexception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-161</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12410429">HIVE-161</key>
            <summary>for list column x that is sometimes null, select x.y will cause a nullpointerexception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 02:38:31 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:44 +0000</updated>
                            <resolved>Thu, 8 Jan 2009 00:48:38 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12655484" author="athusoo" created="Thu, 11 Dec 2008 03:18:30 +0000"  >&lt;p&gt;The problem seems to be in&lt;/p&gt;

&lt;p&gt;ExprNodeFieldEvaluator.java&lt;/p&gt;

&lt;p&gt;at line 96&lt;/p&gt;

&lt;p&gt;where we are doing list.size() and not checking if list is null before getting the size.&lt;/p&gt;
</comment>
                            <comment id="12655535" author="zshao" created="Thu, 11 Dec 2008 06:32:05 +0000"  >&lt;p&gt;I&apos;ve got the code fixed but it&apos;s hard to generate a testcase since only thrift serde will generate NULL list for now.&lt;br/&gt;
I am thinking about implementing the CASE statement first.&lt;/p&gt;</comment>
                            <comment id="12656495" author="hammer" created="Sun, 14 Dec 2008 23:07:05 +0000"  >&lt;p&gt;Adding to &quot;Query Processor&quot; component.&lt;/p&gt;</comment>
                            <comment id="12661772" author="zshao" created="Wed, 7 Jan 2009 23:22:51 +0000"  >&lt;p&gt;Modified complex.seq to include the case that the list is null.&lt;/p&gt;</comment>
                            <comment id="12661787" author="prasadc" created="Thu, 8 Jan 2009 00:04:22 +0000"  >&lt;p&gt;looks ok to me. +1&lt;/p&gt;</comment>
                            <comment id="12661799" author="zshao" created="Thu, 8 Jan 2009 00:48:38 +0000"  >&lt;p&gt;Committed revision 732571.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397348" name="HIVE-161-2.patch" size="6760" author="zshao" created="Wed, 7 Jan 2009 23:22:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 03:18:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l88f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-161&quot; title=&quot;for list column x that is sometimes null, select x.y will cause a nullpointerexception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-161&quot;&gt;&lt;strike&gt;HIVE-161&lt;/strike&gt;&lt;/a&gt;. Fixed xpath x.y when x is a null list. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-162] Fix join0.q failure with hadoop 0.17</title>
                <link>https://issues.apache.org/jira/browse/HIVE-162</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The file order is different. We need to use a single reducer.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant clean
ant -Dhadoop.version=0.17.0 &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
ant test -Dtestcase=TestCliDriver -Dqfile=join0.q -Dhadoop.version=0.17.0 -logfile test.17.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12410431">HIVE-162</key>
            <summary>Fix join0.q failure with hadoop 0.17</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 02:45:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:29 +0000</updated>
                            <resolved>Thu, 11 Dec 2008 04:31:56 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12655495" author="zshao" created="Thu, 11 Dec 2008 04:18:40 +0000"  >&lt;p&gt;Changed join0.q to make sure the output data is sorted.&lt;/p&gt;</comment>
                            <comment id="12655498" author="namit" created="Thu, 11 Dec 2008 04:24:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12655501" author="zshao" created="Thu, 11 Dec 2008 04:31:30 +0000"  >&lt;p&gt;Committed revision 725571.&lt;/p&gt;</comment>
                            <comment id="12655502" author="zshao" created="Thu, 11 Dec 2008 04:31:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-162&quot; title=&quot;Fix join0.q failure with hadoop 0.17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-162&quot;&gt;&lt;del&gt;HIVE-162&lt;/del&gt;&lt;/a&gt;. Fix join0.q test failure with hadoop 0.17. (zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395796" name="HIVE-162-1.patch" size="7336" author="zshao" created="Thu, 11 Dec 2008 04:18:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 04:24:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l893:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-163] support loading json data into hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-163</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The JSON format is commonly used for transmitting structured data over a network, especially for ajax web applications. People also choose json format to store log data.&lt;br/&gt;
Support loading and query json format data will be a desirable features in Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410447">HIVE-163</key>
            <summary>support loading json data into hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hliu">Hao Liu</assignee>
                                    <reporter username="hliu">Hao Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 06:26:38 +0000</created>
                <updated>Fri, 23 Feb 2018 16:25:40 +0000</updated>
                            <resolved>Tue, 13 Jan 2009 02:16:26 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="12655556" author="zshao" created="Thu, 11 Dec 2008 07:40:12 +0000"  >&lt;p&gt;I would suggest to first add a JSONField function that extracts an JSON field:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UDFJsonField {
  /** Extracts a field of a JSON object.
    * @param jsonObject The main JSON &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; in string format
    * @param field The field expression, e.g. &lt;span class=&quot;code-quote&quot;&gt;&quot;[1]a.b[3].c&quot;&lt;/span&gt;
    * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the JSON &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; that represents the field in string format
    */
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; evaluate(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; jsonObject, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; field) {
     ...
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This function will support most of the requests.&lt;/p&gt;</comment>
                            <comment id="12663057" author="hliu" created="Mon, 12 Jan 2009 19:24:38 +0000"  >&lt;p&gt;add a patch to support json udf as suggested.&lt;/p&gt;</comment>
                            <comment id="12663058" author="hliu" created="Mon, 12 Jan 2009 19:26:19 +0000"  >&lt;p&gt;json.jar from hadoop project. It should be included in ${hive.root}/lib&lt;/p&gt;</comment>
                            <comment id="12663136" author="zshao" created="Mon, 12 Jan 2009 22:40:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12663185" author="athusoo" created="Tue, 13 Jan 2009 02:02:13 +0000"  >&lt;p&gt;We also have to include the license text for json.jar. Can you include that in the patch. You should probably remove the README for json.jar.&lt;/p&gt;</comment>
                            <comment id="12663187" author="athusoo" created="Tue, 13 Jan 2009 02:05:57 +0000"  >&lt;p&gt;Hao just showed me that the license it there &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. So +1 from my side as well.&lt;/p&gt;</comment>
                            <comment id="12663190" author="zshao" created="Tue, 13 Jan 2009 02:15:46 +0000"  >&lt;p&gt;We had to unpack json.jar and put it into hive_exec.jar to work with hadoop 0.17.&lt;/p&gt;</comment>
                            <comment id="12663191" author="zshao" created="Tue, 13 Jan 2009 02:16:26 +0000"  >&lt;p&gt;Committed revision 733992. Thanks Hao!&lt;/p&gt;</comment>
                            <comment id="12663207" author="jsensarma" created="Tue, 13 Jan 2009 03:22:02 +0000"  >&lt;p&gt;there are a couple of debug printfs in the last patch posted on this jira:&lt;/p&gt;

&lt;p&gt;+          System.out.println(&quot;ZSHAO: &quot; + System.getenv(&quot;CLASSPATH&quot;));&lt;/p&gt;

&lt;p&gt;+      System.out.println(&quot;ExecDriver CMD:PC &quot; + cmdLine);&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="12663211" author="zshao" created="Tue, 13 Jan 2009 04:00:43 +0000"  >&lt;p&gt;This is the right patch. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-163&quot; title=&quot;support loading json data into hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-163&quot;&gt;&lt;del&gt;HIVE-163&lt;/del&gt;&lt;/a&gt;.2.patch was an outdated one with additional printfs.&lt;/p&gt;</comment>
                            <comment id="12663212" author="zshao" created="Tue, 13 Jan 2009 04:01:56 +0000"  >&lt;p&gt;The committed code does not contain the extra printlns.&lt;br/&gt;
Thanks for checking this Joy.&lt;/p&gt;</comment>
                            <comment id="12663401" author="prasadc" created="Tue, 13 Jan 2009 18:25:36 +0000"  >&lt;p&gt;.classpath should be updated with new lib json.jar &lt;/p&gt;</comment>
                            <comment id="12663450" author="hliu" created="Tue, 13 Jan 2009 20:14:30 +0000"  >&lt;p&gt;add patch to .classpath. also it looks like build-common.xml was not in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-163&quot; title=&quot;support loading json data into hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-163&quot;&gt;&lt;del&gt;HIVE-163&lt;/del&gt;&lt;/a&gt;.3.patch, so add to this one.&lt;/p&gt;</comment>
                            <comment id="12663573" author="prasadc" created="Wed, 14 Jan 2009 00:48:46 +0000"  >&lt;p&gt;Hao, the build-common.xml change is not needed since json.jar is not an auxiliary lib but any other 3rd party library like commons-lang.jar etc...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12407836">HIVE-51</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                            <outwardlinks description="is a parent of">
                                        <issuelink>
            <issuekey id="13140541">HIVE-18785</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12474207">HIVE-1640</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12397738" name="HIVE-163.2.patch" size="40403" author="zshao" created="Tue, 13 Jan 2009 02:15:46 +0000"/>
                            <attachment id="12397745" name="HIVE-163.3.patch" size="39065" author="zshao" created="Tue, 13 Jan 2009 04:00:42 +0000"/>
                            <attachment id="12397813" name="HIVE-163.4.patch" size="2166" author="hliu" created="Tue, 13 Jan 2009 20:14:30 +0000"/>
                            <attachment id="12397705" name="HIVE-163.patch" size="35759" author="hliu" created="Mon, 12 Jan 2009 19:24:38 +0000"/>
                            <attachment id="12397707" name="json.jar" size="34638" author="hliu" created="Mon, 12 Jan 2009 19:26:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Dec 2008 07:40:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l89b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-163&quot; title=&quot;support loading json data into hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-163&quot;&gt;&lt;strike&gt;HIVE-163&lt;/strike&gt;&lt;/a&gt;. JSON udf function added. (Hao Liu via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-164] Support CASE statement using GenericUDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-164</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;Syntax:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CASE value WHEN [compare_value] THEN result [WHEN [compare_value] THEN result ...] [&amp;lt;ELSE result] END
CASE WHEN [condition] THEN result [WHEN [condition] THEN result ...] [ELSE result] END 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12410450">HIVE-164</key>
            <summary>Support CASE statement using GenericUDF</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 06:41:38 +0000</created>
                <updated>Thu, 2 May 2013 02:29:23 +0000</updated>
                            <resolved>Wed, 29 Apr 2009 16:48:45 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12655537" author="zshao" created="Thu, 11 Dec 2008 06:42:18 +0000"  >&lt;p&gt;We can use the UDF template to implement CASE and IF.&lt;/p&gt;</comment>
                            <comment id="12656224" author="electrum" created="Sat, 13 Dec 2008 01:29:33 +0000"  >&lt;p&gt;I don&apos;t understand how UDFTemplate helps here as it doesn&apos;t enable the special syntax required for CASE nor does it enable short-circuit evaluation.  Implementing CASE as a function would essentially result in Oracle&apos;s DECODE:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;DECODE(expression, search, result &lt;span class=&quot;error&quot;&gt;&amp;#91;, search , result&amp;#93;&lt;/span&gt;... &lt;span class=&quot;error&quot;&gt;&amp;#91;, default&amp;#93;&lt;/span&gt;)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Even using DECODE() in a simple IF()-like manner can be more difficult to read than CASE, and in more complicated situations it is nearly impossible to understand.  I could dig up some real examples...&lt;/p&gt;

&lt;p&gt;Short-circuit evaluation is also required:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;CASE WHEN 1=0 THEN 5/0 ELSE 0 END&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;MySQL supports short-circuit for IF() and Oracle supports it for DECODE().  Doing this in a general way for UDFs seems much more complicated than it&apos;s worth.  My vote is to support standard CASE and COALESCE() natively.  ANSI SQL 92 section 6.9 defines COALESCE():&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
COALESCE(V1, V2) is equivalent to the following:

  CASE WHEN V1 IS NOT NULL THEN V1 ELSE V2 END

COALESCE(V1, V2, ..., Vn), for n &amp;gt;= 3, is equivalent to the following:

  CASE WHEN V1 IS NOT NULL THEN V1 ELSE COALESCE(V2, ..., Vn) END
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12656226" author="zshao" created="Sat, 13 Dec 2008 01:36:15 +0000"  >&lt;p&gt;By UDFTemplate, I was refering to the execution part of IF/CASE. IF/CASE/COALESCE can all be considered as UDF except that the type of the arguments can be anything (instead of just PrimitiveTypes like int, string, etc).&lt;/p&gt;

&lt;p&gt;In Hive execution code, every object is represented using a pair (o: Object, oi: ObjectInspector). The oi contains information about the type of the object and also how to access the fields/elements inside the object (in case it&apos;s a struct/list/map).  The interface is exprNodeExprEvaluator.java.&lt;/p&gt;


&lt;p&gt;For the grammar part, I think we can support all 3: IF, CASE, COALESCE.&lt;/p&gt;</comment>
                            <comment id="12656698" author="athusoo" created="Mon, 15 Dec 2008 19:02:24 +0000"  >&lt;p&gt;+1 to if, case and coalesce&lt;/p&gt;

&lt;p&gt;I would also think that these functions would present some challenges in the existing typecheck and expression generation code as these functions are first instance of functions that are nary with n not being fixed.&lt;/p&gt;</comment>
                            <comment id="12668295" author="zshao" created="Thu, 29 Jan 2009 02:37:57 +0000"  >&lt;p&gt;This simple patch provides &quot;IF&quot;.&lt;br/&gt;
The majority of the cases are that users just want a simple &quot;IF&quot;. This patch provides this simple functionality.&lt;/p&gt;

&lt;p&gt;For &quot;CASE&quot; with variable number of arguments, let&apos;s move the discussion to a new jira.&lt;/p&gt;

</comment>
                            <comment id="12668298" author="athusoo" created="Thu, 29 Jan 2009 02:55:21 +0000"  >&lt;p&gt;Should the root.logger go back to WARN.DRFA...&lt;/p&gt;


&lt;p&gt;Looking at the rest of the diff...&lt;/p&gt;</comment>
                            <comment id="12668302" author="athusoo" created="Thu, 29 Jan 2009 03:02:36 +0000"  >&lt;p&gt;Also what are LEFT and RIGHT used for?&lt;/p&gt;</comment>
                            <comment id="12668303" author="athusoo" created="Thu, 29 Jan 2009 03:04:02 +0000"  >&lt;p&gt;The following code has STringLiteral defined twice...&lt;/p&gt;

&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java	(revision 738583)&lt;br/&gt;
+++ ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java	(working copy)&lt;br/&gt;
@@ -3293,11 +3293,15 @@&lt;br/&gt;
     opRules.put(new RuleRegExp(&quot;R2&quot;, HiveParser.Number + &quot;%&quot;), TypeCheckProcFactory.getNumExprProcessor());&lt;br/&gt;
     opRules.put(new RuleRegExp(&quot;R3&quot;, HiveParser.Identifier + &quot;%|&quot; + &lt;br/&gt;
                                      HiveParser.StringLiteral + &quot;%|&quot; + &lt;br/&gt;
+                                     HiveParser.KW_IF + &quot;%|&quot; + &lt;br/&gt;
+                                     HiveParser.KW_LEFT + &quot;%|&quot; + &lt;br/&gt;
+                                     HiveParser.KW_RIGHT + &quot;%|&quot; + &lt;br/&gt;
+                                     HiveParser.StringLiteral + &quot;%|&quot; + &lt;br/&gt;
                                      HiveParser.TOK_CHARSETLITERAL + &quot;%&quot;), &lt;/p&gt;</comment>
                            <comment id="12668305" author="athusoo" created="Thu, 29 Jan 2009 03:21:29 +0000"  >&lt;p&gt;Also you may want ot add an evaluate method that takes&lt;/p&gt;

&lt;p&gt;eval(Boolean, Void, Void)&lt;/p&gt;

&lt;p&gt;for the case when both expr2 and expr3 are nulls.&lt;/p&gt;

&lt;p&gt;Also what happens in case of complex objects...&lt;/p&gt;
</comment>
                            <comment id="12668325" author="zshao" created="Thu, 29 Jan 2009 04:21:24 +0000"  >&lt;p&gt;Incorporated comments from Ashish. Reverted change to hive-log4j.properties. Removed LEFT and RIGHT since they are not supported yet.&lt;/p&gt;

&lt;p&gt;We don&apos;t support Complex types in any UDF functions right now.&lt;/p&gt;</comment>
                            <comment id="12668329" author="athusoo" created="Thu, 29 Jan 2009 04:28:34 +0000"  >&lt;p&gt;+1 to the new patch.&lt;/p&gt;

&lt;p&gt;We should however support complex types. We don&apos;t do so mostly because we do not yet have UDFs that have a well defined behavior for complex types. IF clearly has. Can you file a JIRA for that. We can get this in but the other JIRA should go in as a bug fix...&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;

&lt;p&gt;PS: Am running tests on this and will commit once they succeed.&lt;/p&gt;</comment>
                            <comment id="12668330" author="athusoo" created="Thu, 29 Jan 2009 04:29:29 +0000"  >&lt;p&gt;Also, once this is checked in please update the wiki docs..&lt;/p&gt;</comment>
                            <comment id="12668333" author="athusoo" created="Thu, 29 Jan 2009 04:33:23 +0000"  >&lt;p&gt;Also we should perhaps do the IF stuff in a separate JIRA or move the collase stuff and the other goodness that David mentioned to a separate JIRA...&lt;/p&gt;

&lt;p&gt;David,&lt;br/&gt;
Haven&apos;t heard from you in a while.. you ok with that?&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;</comment>
                            <comment id="12668335" author="zshao" created="Thu, 29 Jan 2009 04:37:52 +0000"  >&lt;p&gt;I will move IF to another jira.&lt;/p&gt;</comment>
                            <comment id="12700552" author="zshao" created="Sun, 19 Apr 2009 05:49:57 +0000"  >&lt;p&gt;Implementation of GenericUDF, and CASE statements using GenericUDF.&lt;/p&gt;</comment>
                            <comment id="12700965" author="zshao" created="Mon, 20 Apr 2009 22:11:42 +0000"  >&lt;p&gt;Some simple refactoring.&lt;/p&gt;</comment>
                            <comment id="12700972" author="zshao" created="Mon, 20 Apr 2009 22:24:05 +0000"  >&lt;p&gt;Some framework changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;New: GenericUDF API&lt;/li&gt;
	&lt;li&gt;ExprNodeEvaluator API changes: init(rowInspector), evaluate(rowObject)&lt;/li&gt;
	&lt;li&gt;Operator API change: process() now takes a tag.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also it would be nice to let the SemanticAnalyzer to use ObjectInspector to represent the row instead of RowSchema.&lt;br/&gt;
That can help remove one function from the GenericUDF API.&lt;/p&gt;</comment>
                            <comment id="12702110" author="zshao" created="Thu, 23 Apr 2009 21:14:37 +0000"  >&lt;p&gt;Simplified the interface for GenericUDF. I guess it&apos;s easy to write a GenericUDF without too much knowledge of Hive (the developer will still need to know about ObjectInspector).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@UDFType(deterministic=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GenericUDF {
  
  /**
   * A Defered &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; allows us to &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; lazy-evaluation
   * and &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;-circuiting.
   * GenericUDF use DeferedObject to pass arguments.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; DeferredObject {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; get() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException; 
  };
  
  /**
   * The constructor
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; GenericUDF() {
  }

  /**
   * Initialize &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; GenericUDF. This will be called once and only once per
   * GenericUDF instance.
   * 
   * @param arguments     The ObjectInspector &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the arguments
   * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; UDFArgumentTypeException
   *                      Thrown when arguments have wrong types
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;              The ObjectInspector &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; ObjectInspector initialize(ObjectInspector[] arguments) 
      &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; UDFArgumentTypeException;
  
  /**
   * Evaluate the GenericUDF with the arguments.
   * @param arguments  The arguments as DeferedObject, use DeferedObject.get() to
   *                   get the actual argument &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.  The Objects can be inspected
   *                   by the ObjectInspectors passed in the initialize call.
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The 
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; evaluate(DeferredObject[] arguments) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException;
  
  /**
   * Get the &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; to be displayed in explain.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getDisplayString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] children);
  
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12702143" author="zshao" created="Thu, 23 Apr 2009 22:28:16 +0000"  >&lt;p&gt;This is the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-164&quot; title=&quot;Support CASE statement using GenericUDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-164&quot;&gt;&lt;del&gt;HIVE-164&lt;/del&gt;&lt;/a&gt;.6.patch but only contains code changes.&lt;/p&gt;</comment>
                            <comment id="12702196" author="zshao" created="Fri, 24 Apr 2009 01:32:02 +0000"  >&lt;p&gt;Merged with the latest svn. Code only. &lt;/p&gt;</comment>
                            <comment id="12702197" author="zshao" created="Fri, 24 Apr 2009 01:32:34 +0000"  >&lt;p&gt;Same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-164&quot; title=&quot;Support CASE statement using GenericUDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-164&quot;&gt;&lt;del&gt;HIVE-164&lt;/del&gt;&lt;/a&gt;.7.code-only.patch but contains test result changes.&lt;/p&gt;</comment>
                            <comment id="12702203" author="zshao" created="Fri, 24 Apr 2009 01:49:48 +0000"  >&lt;p&gt;This one overwrites a changed test result so all tests are passed.&lt;/p&gt;</comment>
                            <comment id="12703308" author="athusoo" created="Mon, 27 Apr 2009 19:24:12 +0000"  >&lt;p&gt;One comment that I want to make by looking at the unit tests is that mysql allows implicit conversion on the comparison expressions. I know that we did not go with the AnyType as the return type of the case statement simply because we do not have the AnyType. However, we should be able to support implicit conversion the comparison expressions. I am fine with that going in as part of a separate JIRA/txn as this one is already quite big and it is important to get this in.&lt;/p&gt;</comment>
                            <comment id="12703309" author="athusoo" created="Mon, 27 Apr 2009 19:25:49 +0000"  >&lt;p&gt;Also, we should support nulls with other types in the return clause. Basically, udf_case_type_wrong3.q should work.&lt;/p&gt;</comment>
                            <comment id="12703310" author="athusoo" created="Mon, 27 Apr 2009 19:28:47 +0000"  >&lt;p&gt;I would also add a test case where the case expression appears in the where clause along with a partition predicate and a subquery and join. Want to make sure that it gets pushed up properly.&lt;/p&gt;</comment>
                            <comment id="12703350" author="namit" created="Mon, 27 Apr 2009 20:35:07 +0000"  >&lt;p&gt;On the same lines, it would be good to add a testcase where the case expression is in the select clause but does not contain all the columns. Column pruning should still happen&lt;/p&gt;</comment>
                            <comment id="12703437" author="athusoo" created="Mon, 27 Apr 2009 23:34:40 +0000"  >&lt;p&gt;Moving to submit patch state.&lt;/p&gt;</comment>
                            <comment id="12703457" author="zshao" created="Tue, 28 Apr 2009 00:21:27 +0000"  >&lt;p&gt;@Ashish: &lt;br/&gt;
Implicit type conversion: Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-450&quot; title=&quot;CASE/WHEN to support implicit type conversion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-450&quot;&gt;HIVE-450&lt;/a&gt;.&lt;br/&gt;
Nulls: We do allow Nulls: see ql/src/test/queries/clientpositive/udf_case.q. The reason that udf_case_type_wrong3.q does not work is because there is an INT after THEN and a STRING after ELSE.&lt;br/&gt;
Partition pruning and predicate push-down: Added ppd_udf_case.q and fixed ppd to handle GenericUDF&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.optimize.ppd=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

EXPLAIN
SELECT *
FROM srcpart a JOIN srcpart b
ON a.key = b.key
WHERE a.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-04-08&apos;&lt;/span&gt; AND
      b.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-04-08&apos;&lt;/span&gt; AND
      CASE a.key
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;27&apos;&lt;/span&gt; THEN TRUE
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;38&apos;&lt;/span&gt; THEN FALSE
        ELSE NULL
       END
ORDER BY a.key, a.value, a.ds, a.hr, b.key, b.value, b.ds, b.hr;

SELECT *
FROM srcpart a JOIN srcpart b
ON a.key = b.key
WHERE a.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-04-08&apos;&lt;/span&gt; AND
      b.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-04-08&apos;&lt;/span&gt; AND
      CASE a.key
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;27&apos;&lt;/span&gt; THEN TRUE
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;38&apos;&lt;/span&gt; THEN FALSE
        ELSE NULL
       END
ORDER BY a.key, a.value, a.ds, a.hr, b.key, b.value, b.ds, b.hr;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;@Namit:&lt;br/&gt;
Added udf_case_column_pruning.q&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;EXPLAIN
SELECT CASE a.key
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; THEN 2
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;3&apos;&lt;/span&gt; THEN 4
        ELSE 5
       END as key
FROM src a JOIN src b
ON a.key = b.key
ORDER BY key LIMIT 10;

SELECT CASE a.key
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; THEN 2
        WHEN &lt;span class=&quot;code-quote&quot;&gt;&apos;3&apos;&lt;/span&gt; THEN 4
        ELSE 5
       END as key
FROM src a JOIN src b
ON a.key = b.key
ORDER BY key LIMIT 10;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12703461" author="athusoo" created="Tue, 28 Apr 2009 00:46:56 +0000"  >&lt;p&gt;A couple of more things while going over the code..&lt;/p&gt;

&lt;p&gt;A question - In most of the xyzOperator.java code the InspectableObjects have been done away with and replaced with ObjectInspector + Object. Why?&lt;/p&gt;

&lt;p&gt;I suppose you are going to subsume tag within the row as that makes serialization and deserialization of tag easy. Not sure if you are tackling this as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-450&quot; title=&quot;CASE/WHEN to support implicit type conversion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-450&quot;&gt;HIVE-450&lt;/a&gt;. If yes then please ignore this comment.&lt;/p&gt;</comment>
                            <comment id="12703468" author="zshao" created="Tue, 28 Apr 2009 01:03:33 +0000"  >&lt;p&gt;&amp;gt; A question - In most of the xyzOperator.java code the InspectableObjects have been done away with and replaced with ObjectInspector + Object. Why?&lt;br/&gt;
Because we don&apos;t need InspectableObject there any more - exprNodeEvaluators are dealing with Inspector in initialize and Object in evaluate, so we don&apos;t need a wrapper like InspectableObject like before. This takes advantage of the fact that the ObjectInspector that gets passed via InspectableObject is always the same. This also makes the code clearer because developers can directly see that fact. It also improves the performance a little bit because we are doing one less level of indirection.&lt;/p&gt;

&lt;p&gt;I don&apos;t foresee any places that we would need InspectableObject in the future - it was added as a replacement for HiveObject long time back. Since we are moving the Inspector part to compile time or execution-initialization time, I don&apos;t see any places we need to pass Object and ObjectInspector at the same time.&lt;/p&gt;

&lt;p&gt;&amp;gt; I suppose you are going to subsume tag within the row as that makes serialization and deserialization of tag easy. Not sure if you are tackling this as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-450&quot; title=&quot;CASE/WHEN to support implicit type conversion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-450&quot;&gt;HIVE-450&lt;/a&gt;. If yes then please ignore this comment.&lt;br/&gt;
I plan to do that with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-405&quot; title=&quot;Cleanup operator initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-405&quot;&gt;&lt;del&gt;HIVE-405&lt;/del&gt;&lt;/a&gt; since this one has taken too long and introduced a lot of conflicts along the way.&lt;/p&gt;</comment>
                            <comment id="12703644" author="athusoo" created="Tue, 28 Apr 2009 13:57:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks fine to me.&lt;/p&gt;

&lt;p&gt;Will checkin after running the tests&lt;/p&gt;</comment>
                            <comment id="12703687" author="athusoo" created="Tue, 28 Apr 2009 15:47:58 +0000"  >&lt;p&gt;While running test I am getting out of memory error for union9.q &lt;/p&gt;</comment>
                            <comment id="12703862" author="zshao" created="Tue, 28 Apr 2009 22:30:01 +0000"  >&lt;p&gt;Error message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
    [junit]     at java.lang.StringCoding$StringDecoder.decode(StringCoding.java:133)
    [junit]     at java.lang.StringCoding.decode(StringCoding.java:173)
    [junit]     at java.lang.StringCoding.decode(StringCoding.java:185)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.&amp;lt;init&amp;gt;(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:571)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.&amp;lt;init&amp;gt;(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:594)
    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:448)
    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)
    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error comes from junit - we are outputting too much stuff to stdout/stderr!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.docjar.com/html/api/org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.java.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.docjar.com/html/api/org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.java.html&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  443               systemError.close();
  444               systemError = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  445               systemOut.close();
  446               systemOut = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  447               &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (startTestSuiteSuccess) {
  448                   sendOutAndErr(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(outStrm.toByteArray()),
  449                                 &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(errStrm.toByteArray()));
  450               }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will fix it together with this patch.&lt;/p&gt;</comment>
                            <comment id="12703959" author="zshao" created="Wed, 29 Apr 2009 02:09:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-456&quot; title=&quot;Remove redundant test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-456&quot;&gt;&lt;del&gt;HIVE-456&lt;/del&gt;&lt;/a&gt; was opened and fixed for the test failure. So this one is ready to go.&lt;/p&gt;</comment>
                            <comment id="12704164" author="namit" created="Wed, 29 Apr 2009 15:47:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;I will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12704205" author="namit" created="Wed, 29 Apr 2009 16:48:45 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12413514">HIVE-258</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422546">HIVE-405</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12404780">HIVE-45</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12423631">HIVE-441</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12423942">HIVE-450</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12405861" name="HIVE-164.4.patch" size="194017" author="zshao" created="Sun, 19 Apr 2009 05:49:57 +0000"/>
                            <attachment id="12405964" name="HIVE-164.5.patch" size="205752" author="zshao" created="Mon, 20 Apr 2009 22:11:42 +0000"/>
                            <attachment id="12406296" name="HIVE-164.6.code-only.patch" size="125356" author="zshao" created="Thu, 23 Apr 2009 22:28:16 +0000"/>
                            <attachment id="12406282" name="HIVE-164.6.patch" size="210645" author="zshao" created="Thu, 23 Apr 2009 21:14:37 +0000"/>
                            <attachment id="12406313" name="HIVE-164.7.code-only.patch" size="122142" author="zshao" created="Fri, 24 Apr 2009 01:32:02 +0000"/>
                            <attachment id="12406314" name="HIVE-164.7.patch" size="203297" author="zshao" created="Fri, 24 Apr 2009 01:32:34 +0000"/>
                            <attachment id="12406587" name="HIVE-164.8.patch" size="224624" author="zshao" created="Tue, 28 Apr 2009 00:21:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Dec 2008 01:29:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l89j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-165] Add standard statistical functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-165</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The last step in the unholy triumvirate of statistical built-ins is the variance. We already have the n (count) and the mean (avg). I currently have a job or two that filters all of the data into a single reducer which just computes mean/n/variance and writes it to a table...so my guess is that this would be a pretty big speed increase. Not a huge deal though, as computing the variance myself is trivial.&lt;/p&gt;

&lt;p&gt;(Average, variance, and n can be co-computed in one pass, so if you&apos;re doing var() you can basically have avg() and count() for free.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410468">HIVE-165</key>
            <summary>Add standard statistical functions</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="electrum">David Phillips</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 10:44:51 +0000</created>
                <updated>Thu, 2 May 2013 02:29:19 +0000</updated>
                            <resolved>Mon, 9 Aug 2010 17:23:15 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12656219" author="electrum" created="Sat, 13 Dec 2008 01:01:40 +0000"  >&lt;p&gt;Rather than add a non-standard VAR function, we should add these ANSI SQL 2003 functions:&lt;/p&gt;

&lt;p&gt;COVAR_POP&lt;br/&gt;
COVAR_SAMP&lt;br/&gt;
STDDEV_POP&lt;br/&gt;
STDDEV_SAMP&lt;br/&gt;
VAR_POP&lt;br/&gt;
VAR_SAMP&lt;/p&gt;

&lt;p&gt;I recommend against adding the non-standard STDDEV and VARIANCE functions as their behavior differs between MySQL (population) and Oracle/PostgreSQL (sample).&lt;/p&gt;

&lt;p&gt;For the time being, you can use this workaround:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
VAR_POP = (SUM(x * x) - (SUM(x) * AVG(x))) / COUNT(x)
VAR_SAMP = (SUM(x * x) - (SUM(x) * AVG(x))) / (COUNT(x) - 1)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12656222" author="akramer" created="Sat, 13 Dec 2008 01:14:56 +0000"  >&lt;p&gt;I agree, and have been annoyed by the inconsistency between POP and SAMP versions of var().&lt;/p&gt;

&lt;p&gt;I have used a similar workaround, but since it (currently) takes two mapreduce steps, it&apos;s faster to write my own single-reducer script. If I was using huge data sets, the above would be faster, though...but I do worry a bit that for really huge data sets, SUM(x*x) might overflow.&lt;/p&gt;</comment>
                            <comment id="12656270" author="zshao" created="Sat, 13 Dec 2008 10:37:54 +0000"  >&lt;p&gt;Thanks for taking care of this David. UDAFAverage.java can be used as an example.&lt;/p&gt;</comment>
                            <comment id="12656493" author="hammer" created="Sun, 14 Dec 2008 23:05:32 +0000"  >&lt;p&gt;Adding to &quot;Query Processor&quot; component.&lt;/p&gt;</comment>
                            <comment id="12896332" author="akramer" created="Sun, 8 Aug 2010 08:50:56 +0000"  >&lt;p&gt;VAR and SD were added months ago. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12429441">HIVE-607</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12411195">HIVE-194</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Dec 2008 01:01:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l89r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-166] Create eclipse project template</title>
                <link>https://issues.apache.org/jira/browse/HIVE-166</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to make it easier for developers using Eclipse to get started we could provide project templates much like Hadoop does. &lt;br/&gt;
These can then be copied into place by an ant target. We should also add the copies into svn:ignore as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-101&quot; title=&quot;Add various files and directories to svn:ignore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-101&quot;&gt;&lt;del&gt;HIVE-101&lt;/del&gt;&lt;/a&gt; to avoid having them pop up when committing code.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-1228&quot; title=&quot;Eclipse project files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-1228&quot;&gt;&lt;del&gt;HADOOP-1228&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410472">HIVE-166</key>
            <summary>Create eclipse project template</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 12:12:58 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:43 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 22:53:42 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12658832" author="athusoo" created="Tue, 23 Dec 2008 12:22:52 +0000"  >&lt;p&gt;This patch has a couple of improvements to the build infrastructure...&lt;/p&gt;

&lt;p&gt;1. It has the eclipse templates on the same lines as hadoop. The eclipse files can be generated by &lt;/p&gt;

&lt;p&gt;   ant eclipse-files&lt;/p&gt;

&lt;p&gt;Before importing the project into eclipse, for now one also has to do&lt;/p&gt;

&lt;p&gt;   ant package&lt;/p&gt;

&lt;p&gt;After these two steps are completed, the project can be imported into eclipse and at least it should provide all the editing goodness. Note I could not for now get Clean followed by a full build within eclipse working. If anyone has ideas on this, please let me know.&lt;/p&gt;

&lt;p&gt;2. This patch also has improvements to the ant build files so that we no longer unzip hadoop and ivy for the different targets. This significantly improves the build times.&lt;/p&gt;</comment>
                            <comment id="12658833" author="athusoo" created="Tue, 23 Dec 2008 12:23:14 +0000"  >&lt;p&gt;submitting patch.&lt;/p&gt;</comment>
                            <comment id="12658935" author="prasadc" created="Tue, 23 Dec 2008 19:40:36 +0000"  >&lt;p&gt;+1 on eclipse related changes&lt;/p&gt;</comment>
                            <comment id="12658938" author="rsm" created="Tue, 23 Dec 2008 19:50:47 +0000"  >&lt;p&gt;+1 on ant build file stuff&lt;/p&gt;</comment>
                            <comment id="12658986" author="zshao" created="Tue, 23 Dec 2008 22:53:42 +0000"  >&lt;p&gt;Committed revision 729159.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12410280">HIVE-144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396668" name="patch-166.txt" size="38941" author="athusoo" created="Tue, 23 Dec 2008 12:22:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Dec 2008 12:22:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l89z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-166&quot; title=&quot;Create eclipse project template&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-166&quot;&gt;&lt;strike&gt;HIVE-166&lt;/strike&gt;&lt;/a&gt;. Create eclipse project template. (Ashish Thusoo via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-168] join on a subquery with a group by does not work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-168</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt; SELECT a.key, a.value, b.key, b.value&lt;br/&gt;
 FROM &lt;br/&gt;
  (&lt;br/&gt;
  SELECT src1.key as key, count(src1.value) AS value FROM src src1 group by src1.key&lt;br/&gt;
  ) a&lt;br/&gt;
 FULL OUTER JOIN &lt;br/&gt;
 (&lt;br/&gt;
  SELECT src2.key as key, count(distinct(src2.value)) AS value &lt;br/&gt;
  FROM src1 src2 group by src2.key&lt;br/&gt;
 ) b &lt;br/&gt;
 ON (a.key = b.key);&lt;/p&gt;


&lt;p&gt;does not generate the plan correctly&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410525">HIVE-168</key>
            <summary>join on a subquery with a group by does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 23:27:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:07 +0000</updated>
                            <resolved>Mon, 15 Dec 2008 19:47:54 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12656151" author="athusoo" created="Fri, 12 Dec 2008 20:14:53 +0000"  >&lt;p&gt;A couple of minor comments:&lt;/p&gt;

&lt;p&gt;1. mergeTask function is actually also doing a splitTask, so we should name it appropriately.&lt;br/&gt;
2. setCurrTasks is done twice (inside mergeTask and also in the callers). We should just get rid of the calls in the callers.\&lt;/p&gt;

&lt;p&gt;Also please file a separate JIRA to make the explain output better (so that the tasks and seen in the order of dependencies instead of the order of names).&lt;/p&gt;</comment>
                            <comment id="12656187" author="namit" created="Fri, 12 Dec 2008 22:37:34 +0000"  >&lt;p&gt;done and filed the new JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-173&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12656212" author="athusoo" created="Sat, 13 Dec 2008 00:37:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good.&lt;/p&gt;</comment>
                            <comment id="12656724" author="zshao" created="Mon, 15 Dec 2008 19:47:37 +0000"  >&lt;p&gt;Committed revision 726784.&lt;/p&gt;</comment>
                            <comment id="12656725" author="zshao" created="Mon, 15 Dec 2008 19:47:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-168&quot; title=&quot;join on a subquery with a group by does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-168&quot;&gt;&lt;del&gt;HIVE-168&lt;/del&gt;&lt;/a&gt;. Fixed join on a subquery with a group by. (Namit Jain via zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395915" name="168.patch" size="26225" author="namit" created="Fri, 12 Dec 2008 07:23:56 +0000"/>
                            <attachment id="12395964" name="patch2" size="30423" author="namit" created="Fri, 12 Dec 2008 19:16:57 +0000"/>
                            <attachment id="12395976" name="patch3" size="30423" author="namit" created="Fri, 12 Dec 2008 22:37:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Dec 2008 20:14:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-169] wrong configuration parameter used for determining join interval in JoinOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-169</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;    joinEmitInterval = HiveConf.getIntVar(hconf, HiveConf.ConfVars.HIVEPARTITIONNAME);&lt;/p&gt;


&lt;p&gt;joinEmitInterval should be using HIVEJOINEMITINTERVAL instead&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410526">HIVE-169</key>
            <summary>wrong configuration parameter used for determining join interval in JoinOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 23:31:27 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:41 +0000</updated>
                            <resolved>Sat, 13 Dec 2008 03:10:21 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12656093" author="athusoo" created="Fri, 12 Dec 2008 18:26:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good to me.&lt;/p&gt;</comment>
                            <comment id="12656240" author="zshao" created="Sat, 13 Dec 2008 03:10:01 +0000"  >&lt;p&gt;Committed revision 726163.&lt;br/&gt;
Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12656241" author="zshao" created="Sat, 13 Dec 2008 03:10:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-169&quot; title=&quot;wrong configuration parameter used for determining join interval in JoinOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-169&quot;&gt;&lt;del&gt;HIVE-169&lt;/del&gt;&lt;/a&gt;. Fixed configuration parameter used for determining join interval&lt;br/&gt;
in JoinOperator. (Namit Jain via zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395913" name="169.patch" size="623" author="namit" created="Fri, 12 Dec 2008 07:19:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Dec 2008 18:26:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-170] map-side aggregations does not work properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-170</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;map-side aggregation depends on runtime.freememory() which is not guaranteed to return the freeable memory - it depends on when the garbage collector is invoked last.&lt;br/&gt;
It might be a good idea to estimate the number of rows that can fit in the hash table and then flush the hash table based on that&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410527">HIVE-170</key>
            <summary>map-side aggregations does not work properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 23:34:51 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:57 +0000</updated>
                            <resolved>Wed, 17 Dec 2008 22:47:23 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12656134" author="athusoo" created="Fri, 12 Dec 2008 19:50:27 +0000"  >&lt;p&gt;A few comments on this:&lt;/p&gt;

&lt;p&gt;1. I think we should not have the number of rows as a session level parameter. Instead we should just estimate these by estimating the row size at run time (instead of the config time). I think we should just use that estimate and the session level max memory size set by the user to estimate the number of rows.&lt;br/&gt;
2. In order to estimate the size of the hash table we should do some simple experiments to see what the (hash table size/number of rows) factor is and then use that to scale our estimates.&lt;/p&gt;

&lt;p&gt;Otherwise, this looks like a nice thing that can give us a lot of oomph in the performance side of things.&lt;/p&gt;</comment>
                            <comment id="12656190" author="jsensarma" created="Fri, 12 Dec 2008 22:49:37 +0000"  >&lt;p&gt;one significant optimization we can/should make is when flushing - flush the entries that have been seen the least often (basically MFU caching). if we have a count aggregate function we can use that - or if not - might be worth keeping a count in any case.&lt;/p&gt;

&lt;p&gt;default value of hashmaxmemory - perhaps this should be something like Runtime.getRuntime().maxMemory() - 512m (since we know mappers need some memory anyway).&lt;/p&gt;

&lt;p&gt;i suspect Namit is using number of rows as an escape valve in case the memory computation is not correct. i do think that we are making life a little difficult for the user - remember that they not only have to manipulate the hash map memory - but they also have to size up the jvm spawning options so that heap size is increased. this is fairly obscure. it also turns out that the jvm options include non memory related stuff (although in later hadoop options - memory parameterization is separated out i think) - for example ours looks like this (-Xmx1024m -Djava.net.preferIPv4Stack=true)&lt;/p&gt;

&lt;p&gt;it&apos;s worth asking if we can base it on the heap size only. the problem with the freememory approach was that it didn&apos;t account for garbage collection. on the other hand - we can call gc() every some time that we hit some higher free memory threshold and then flush out the map everytime we hit some lower free memory threshold (to guarantee that we dont hit OOM). wouldn&apos;t this be easier for the user (just set jvm option)&lt;/p&gt;

&lt;p&gt;this would also be much preferable from the perspective of any future cluster scheduling based on memory. tasks should just need to specify total memory required and then figure out how to use it well. schedulers can work off this memory requirement. if the memory requirement has to be then subdivided into different components (like hive hashmap) - then things become complicated.&lt;/p&gt;
</comment>
                            <comment id="12656198" author="namit" created="Fri, 12 Dec 2008 23:20:44 +0000"  >&lt;p&gt;I agree with the flushing optimization - but that can be a follow-up.&lt;/p&gt;

&lt;p&gt;Default value of Runtime.getRuntime().maxMemory() - 512m is also OK.&lt;/p&gt;

&lt;p&gt;I was using the number of rows as an escape value.&lt;/p&gt;

&lt;p&gt;But I dont think invoking garbage collector explicitly is a good idea. &lt;/p&gt;

&lt;p&gt;A third category where developers often mistakenly think they are helping the garbage collector is the use of System.gc(), which triggers a garbage collection (actually, it merely suggests that this might be a good time for a garbage collection). Unfortunately, System.gc() triggers a full collection, which includes tracing all live objects in the heap and sweeping and compacting the old generation. This can be a lot of work. In general, it is better to let the system decide when it needs to collect the heap, and whether or not to do a full collection. Most of the time, a minor collection will do the job. Worse, calls to System.gc() are often deeply buried where developers may be unaware of their presence, and where they might get triggered far more often than necessary. If you are concerned that your application might have hidden calls to System.gc() buried in libraries, you can invoke the JVM with the -XX:+DisableExplicitGC option to prevent calls to System.gc() and triggering a garbage collection. &lt;/p&gt;

&lt;p&gt;I think it is too expensive to use that.&lt;/p&gt;

&lt;p&gt;Instead of asking the user to specify hive hashmap memory, the user can specify that as a fraction of total task memory. The default will be close to 1 i.e all task memory will be used.&lt;/p&gt;
</comment>
                            <comment id="12657588" author="zshao" created="Wed, 17 Dec 2008 22:47:11 +0000"  >&lt;p&gt;Committed revision 727506.&lt;/p&gt;</comment>
                            <comment id="12657589" author="zshao" created="Wed, 17 Dec 2008 22:47:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-170&quot; title=&quot;map-side aggregations does not work properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-170&quot;&gt;&lt;del&gt;HIVE-170&lt;/del&gt;&lt;/a&gt;. Map-side aggregations to estimate memory size. (Namit via zshao)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12410216">HIVE-135</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12395914" name="170.patch" size="12171" author="namit" created="Fri, 12 Dec 2008 07:21:56 +0000"/>
                            <attachment id="12396338" name="patch.170.3" size="17796" author="namit" created="Wed, 17 Dec 2008 19:10:10 +0000"/>
                            <attachment id="12396135" name="patch.2" size="17738" author="namit" created="Mon, 15 Dec 2008 22:52:28 +0000"/>
                            <attachment id="12395963" name="patch2" size="12171" author="namit" created="Fri, 12 Dec 2008 19:14:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Dec 2008 19:50:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-171] distribute by and sort by ignored in the case of select *</title>
                <link>https://issues.apache.org/jira/browse/HIVE-171</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table tab1(col1 string, col2 string)&lt;/p&gt;

&lt;p&gt;select * from tab1 distribute by col1 sort by col2&lt;/p&gt;

&lt;p&gt;is different from:&lt;/p&gt;

&lt;p&gt;select col1, col2 from tab1 distribute by col1 sort by col2&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410530">HIVE-171</key>
            <summary>distribute by and sort by ignored in the case of select *</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Dec 2008 00:12:02 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:26 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 21:54:16 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12658722" author="zshao" created="Tue, 23 Dec 2008 01:09:38 +0000"  >&lt;p&gt;Added 3 more test cases.&lt;/p&gt;</comment>
                            <comment id="12658724" author="namit" created="Tue, 23 Dec 2008 01:32:29 +0000"  >&lt;p&gt;looks good&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12658966" author="zshao" created="Tue, 23 Dec 2008 21:54:16 +0000"  >&lt;p&gt;Committed revision 729098.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396642" name="HIVE-171-1.patch" size="27293" author="zshao" created="Tue, 23 Dec 2008 01:09:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Dec 2008 01:09:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixed select star with cluster by, distribute by and sort by.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-172] failed build with hadoop 0.17.2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-172</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Command: ant -Dhadoop.version=0.17.2 package&lt;/p&gt;

&lt;p&gt;0.17.0, 0.17.1 both works but not 0.17.2&lt;/p&gt;

&lt;p&gt;The error message:&lt;br/&gt;
&lt;a href=&quot;http://archive.apache.org/dist/hadoop/core/hadoop-0.17.2/hadoop-0.17.2.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://archive.apache.org/dist/hadoop/core/hadoop-0.17.2/hadoop-0.17.2.tar.gz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:retrieve&amp;#93;&lt;/span&gt;          &lt;span class=&quot;error&quot;&gt;&amp;#91;FAILED     &amp;#93;&lt;/span&gt; hadoop#core;0.17.2!hadoop.tar.gz(source): invalid md5: expected=hadoop-0.17.2.tar.gz: computed=4819ec4aed328f699eeae29f42800f03 (5413ms)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:retrieve&amp;#93;&lt;/span&gt;          &lt;span class=&quot;error&quot;&gt;&amp;#91;FAILED     &amp;#93;&lt;/span&gt; hadoop#core;0.17.2!hadoop.tar.gz(source): invalid md5: expected=hadoop-0.17.2.tar.gz: computed=4819ec4aed328f699eeae29f42800f03 (5413ms)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12410533">HIVE-172</key>
            <summary>failed build with hadoop 0.17.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Dec 2008 00:40:25 +0000</created>
                <updated>Mon, 7 Mar 2011 20:27:15 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 20:27:15 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12659373" author="prasadc" created="Sat, 27 Dec 2008 19:58:39 +0000"  >&lt;p&gt;suddenly 17.2 (and 17.2.1) are working for me. Also by adding attribute &apos;checksums=&quot;&quot;&apos; to the hadoop-resolver in ivysettings.xml will skip the checking of the md5.&lt;/p&gt;</comment>
                            <comment id="12659663" author="zshao" created="Mon, 29 Dec 2008 21:50:04 +0000"  >&lt;p&gt;I guess the missing MD5 file suddenly appeared. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Closing the bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Dec 2008 19:58:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-173] explain plan does not print the stages in correct order </title>
                <link>https://issues.apache.org/jira/browse/HIVE-173</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;explain plan does not print the stages in correct order.&lt;/p&gt;

&lt;p&gt;For eg: if 1 and 3 are parents of 2, the fact that 2 depends on 1 and 3 will be printed twice.&lt;br/&gt;
Also, the order of stages being printed will be: 1, 2 and 3 whereas it should be 1, 3 and 2.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410605">HIVE-173</key>
            <summary>explain plan does not print the stages in correct order </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Dec 2008 20:19:30 +0000</created>
                <updated>Fri, 12 Dec 2008 20:19:30 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-174] Tests in TestExecDriver fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-174</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When running &quot;ant test&quot; on a fresh trunk checkout seven tests fail in TestExecDriver, there are ClassNotFoundExceptions, NullPointerExceptions and various other interesting things going on. See attached log for more info.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu&lt;/p&gt;</environment>
        <key id="12410633">HIVE-174</key>
            <summary>Tests in TestExecDriver fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Dec 2008 17:34:05 +0000</created>
                <updated>Thu, 14 Oct 2010 23:19:06 +0000</updated>
                            <resolved>Thu, 18 Dec 2008 11:30:35 +0000</resolved>
                                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12656312" author="johanoskarsson" created="Sat, 13 Dec 2008 17:34:39 +0000"  >&lt;p&gt;Test log file&lt;/p&gt;</comment>
                            <comment id="12657741" author="johanoskarsson" created="Thu, 18 Dec 2008 11:30:34 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-184&quot; title=&quot;Tests fail due to including old hive jar files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-184&quot;&gt;&lt;del&gt;HIVE-184&lt;/del&gt;&lt;/a&gt; that already have a patch ready. With it some tests still fail, but they belong in a more specific ticket&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396010" name="TEST-org.apache.hadoop.hive.ql.exec.TestExecDriver.txt" size="86562" author="johanoskarsson" created="Sat, 13 Dec 2008 17:34:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-175] support for member fields of Java type &apos;Set&apos; in ReflectionObjectInspector</title>
                <link>https://issues.apache.org/jira/browse/HIVE-175</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;we currently don&apos;t support instances of java.util.Set inside java objects returned by deserializers. &lt;/p&gt;

&lt;p&gt;Unless people think otherwise - i think we can just fake a set as a list (so that indexing and other operations on lists continue to work). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12410645">HIVE-175</key>
            <summary>support for member fields of Java type &apos;Set&apos; in ReflectionObjectInspector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 Dec 2008 04:35:35 +0000</created>
                <updated>Sun, 14 Dec 2008 04:41:09 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-176] structured log for obtaining query stats/info</title>
                <link>https://issues.apache.org/jira/browse/HIVE-176</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Josh &amp;lt;josh@besquared.net&amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;When launching off hive queries using hive -e is there a way to get the job id so that I can just queue them up and go check their statuses later? What&apos;s the general pattern for queueing and monitoring without using the libraries directly?&lt;/p&gt;

&lt;p&gt;I&apos;m gonna throw my vote in for a structured log format. Users could tail it and use whatever queuing or monitoring they wish. It&apos;s also probably just a 30 minute project for someone already familiar with the code. I suggest ^A seperated key=value pairs per log line.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12410734">HIVE-176</key>
            <summary>structured log for obtaining query stats/info</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="santony73">Suresh Antony</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Dec 2008 20:22:42 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:39 +0000</updated>
                            <resolved>Wed, 28 Jan 2009 21:18:04 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12656855" author="santony73" created="Tue, 16 Dec 2008 02:39:15 +0000"  >&lt;p&gt;Some thoughts about logging:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Thinking of following the same format as  hadoop logging for the jobs&lt;/li&gt;
	&lt;li&gt;each  query will have separate file.  location of the file will be printed to stdout while running the query.&lt;/li&gt;
	&lt;li&gt;Format of the entries in file will be of the following.&lt;br/&gt;
   &amp;lt;ENTRY TYPE&amp;gt; id=value key1=value1 key2=value2 .....&lt;/li&gt;
	&lt;li&gt;Different entry types can be:&lt;br/&gt;
     -QueryStart&lt;br/&gt;
     -QueryEnd&lt;br/&gt;
     -QueryStepStart&lt;br/&gt;
    -QueryStepEnd &lt;br/&gt;
    -QueryStepProgress&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12656858" author="jsensarma" created="Tue, 16 Dec 2008 02:44:02 +0000"  >&lt;p&gt;i think putting them on the same file will make life easier (just like hadoop has the info for all the TASKS in the same job history file). the queryid (and the stepid where relevant) can be a parameter to all of these sections.&lt;/p&gt;

&lt;p&gt;looks good to me otherwise.&lt;/p&gt;</comment>
                            <comment id="12659653" author="santony73" created="Mon, 29 Dec 2008 21:18:11 +0000"  >&lt;p&gt;logging hive history&lt;br/&gt;
Files changed:&lt;br/&gt;
1. Driver.java&lt;br/&gt;
2. CliDriver.java&lt;br/&gt;
3. ExecDriver.java&lt;/p&gt;</comment>
                            <comment id="12659901" author="jsensarma" created="Tue, 30 Dec 2008 19:22:16 +0000"  >&lt;p&gt;still reviewing this.&lt;/p&gt;

&lt;p&gt;one problem is that the HiveHistory is not thread safe (and this matters for multithreaded thrift/web servers). It looks like there is one history per session - right? In which case - can you just put a hivehistory object as part of sessionstate? Sessionstate captures all the session specific stuff - and is maintained thread local. when a new sessionstate is created - the hivehistory can be created within it.&lt;/p&gt;

&lt;p&gt;also - a little uncomfortable with the fixed /tmp setting for the history file. It would be good to have a new option in HiveConf for the history file directory. This would something that admins would want to tweak for the hive server deployments (hadoop has a similar one) and users would want to tweak to get all their history files in a standard location. (The default  could be same as SCRATCHDIR that&apos;s already defined in HiveConf.&lt;/p&gt;

&lt;p&gt;will send comments on the rest of the stuff asap.&lt;/p&gt;</comment>
                            <comment id="12660868" author="santony73" created="Mon, 5 Jan 2009 19:29:01 +0000"  >&lt;p&gt;attached a patch with following changes:&lt;br/&gt;
1.  HiveHistory stored in sessionState variable.  HiveHistory is created  on the first call to job log history. &lt;br/&gt;
2. Removed all references to HiveHistory from CliDriver&lt;br/&gt;
3. Added a new config variable &quot;hive.joblog.location&quot; for the location of history file.  Not using scratch directory as the  default location because We are removing scratch directory at the end  of run. &lt;/p&gt;</comment>
                            <comment id="12661826" author="jsensarma" created="Thu, 8 Jan 2009 02:27:05 +0000"  >&lt;p&gt;looks very good in general.&lt;/p&gt;

&lt;p&gt;Code comments:&lt;/p&gt;

&lt;p&gt;HIVEHISTORTFILELOC - spell error&lt;br/&gt;
HiveHistory.java: why a separate init() call - why not put this in a constructor? Also - the init() call and HiveHistory.get() both call setHistory on sessionstate. i am actually unsure of why there is a HiveHistory.get() call in the first place. seems like all u have to do is initialize the history object and store it in the sessionstate - both of which can be done by SessionState.getHiveHistory(). probably u don&apos;t need a setHiveHistory() function in SessionState as well.&lt;br/&gt;
Driver.java: should move up the TASK_NAME setting up into the startTask code since it seems to me that having the task name would be good for building any kind of UI stuff on top of this query log.&lt;/p&gt;

&lt;p&gt;Driver.java:  setJobProperty(command, Keys.TASK_NUM_REDUCE_TASKS, String.valueOf(hasReduce)); - confused by this - this is a task property - right? (ExecDriver sets it as well). HAS_REDUCE_TASKS is questionable from point of view of history (not sure why it&apos;s relevant). I also see that JOB_ERROR_MSG is defined but not implemented - just wanted to make sure that this is what u wanted.&lt;/p&gt;

&lt;p&gt;Testing:&lt;br/&gt;
we need test cases. I would definitely like to verify some end to end tests - like making sure that for both positive and negative test queries - that history files are properly generated and contain some data. doing diffs on such files may be hard - but we should be able to assert that we see a start and end for job and the expected number of tasks etc.&lt;/p&gt;</comment>
                            <comment id="12662887" author="santony73" created="Mon, 12 Jan 2009 05:40:16 +0000"  >&lt;p&gt;Fix review comments &amp;amp; added a simple test case. &lt;/p&gt;</comment>
                            <comment id="12663027" author="jsensarma" created="Mon, 12 Jan 2009 17:57:44 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;inferNumReducers(): instead of two calls to the hivehistory - can just make one call at the end of the function when the numReducers has been set for sure. We could also set NUM_REDUCERS to 0 when no reducer is specified (more informative imho).&lt;/li&gt;
	&lt;li&gt;I still don&apos;t see why HAS_REDUCE_TASKS and NUM_REDUCE_TASKS are meaningful counters. what is the use case?&lt;/li&gt;
	&lt;li&gt;In TestHiveHistory - please use setup() method or constructor to do initialization. also a negative test case would be good (to check if negative job status is being captured for example).&lt;/li&gt;
	&lt;li&gt;HiveHistoryViewer - indentation is badly off. I think we are following a general convention of &apos;} else {&apos; as well (and curly braces on same like as function/class declaration - viz &apos;void init() {&apos;.&lt;/li&gt;
	&lt;li&gt;JOB_STATUS and TASK_STATUS are both unused.&lt;/li&gt;
	&lt;li&gt;i couldn&apos;t understand this code block in parseHiveHistory:&lt;br/&gt;
+       if (!line.trim().endsWith(&quot;\&quot;&quot;))
{
+         continue; 
+       }
&lt;p&gt;   can u explain.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;parseLine: confused that we have a reg ex group for the key - but are not using it .. seems weird - if u had groups for both key and value u wouldn&apos;t need to split. alternately u can rely on just the split.&lt;/li&gt;
	&lt;li&gt;getHiveHistory - i don&apos;t think it&apos;s a good idea to initialize hivehistory object on demand:&lt;br/&gt;
  a) u always need it&lt;br/&gt;
  b) it prints stuff to the console (log file location). if u want a deterministic location for this log - we should just initialize hivehistory at session initialization so that the log file location always comes at the beginning of the session (and not at some random point when the code actually requires it)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;it would be good to have an example of the hive history file/format checked in somewhere with a pointer to it from the documentation (either in README or wiki).&lt;/li&gt;
	&lt;li&gt;another easy and comprehensive test to add is in TestCliDriver. This is generated code that fires a bunch of queries - we should be easily able to use HiveHistoryViewer to assert that query status is successful for all queries in positive tests.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One thing i am concerned about overall is the use of the term &apos;job&apos; for what is essentially a hive query. I think this creates a lot of room for confusion - since in the hadoop ecosystem job means hadoop job. (we have also overloaded the word task in Hive - which is unfortunate - but almost too late now). If possible - i would really appreciate if we could replace &apos;job&apos; with &apos;query&apos; whereever applicable. (s/startJob/startQuery/ for example).&lt;/p&gt;</comment>
                            <comment id="12664204" author="santony73" created="Thu, 15 Jan 2009 18:15:43 +0000"  >&lt;ul&gt;
	&lt;li&gt;inferNumReducers(): instead of two calls to the hivehistory - can just make one call at the end of the function when the numReducers has been set for sure. We could also set NUM_REDUCERS to 0 when no reducer is specified (more informative imho).
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;
			&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
				&lt;li&gt;made it single call after this function call&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;I still don&apos;t see why HAS_REDUCE_TASKS and NUM_REDUCE_TASKS are meaningful counters. what is the use case?
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;Removed both of these variables&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;In TestHiveHistory - please use setup() method or constructor to do initialization. also a negative test case would be good (to check if negative job status is being captured for example).
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;moved this code to setUp()&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;HiveHistoryViewer - indentation is badly off. I think we are following a general convention of &apos;} else {&apos; as well (and curly braces on same like as function/class declaration - viz &apos;void init() {&apos;.
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;Re-formtted using eclipse formatter&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;JOB_STATUS and TASK_STATUS are both unused.&lt;/li&gt;
	&lt;li&gt;i couldn&apos;t understand this code block in parseHiveHistory:&lt;br/&gt;
      + if (!line.trim().endsWith(&quot;\&quot;&quot;))
{ + continue; + }
&lt;p&gt;      can u explain.&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;Format is key=&quot;value&quot;... so the value line does not end with &quot; means value has a newline&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;parseLine: confused that we have a reg ex group for the key - but are not using it .. seems weird - if u had groups for both key and value u wouldn&apos;t need to split. alternately u can rely on just the split.
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;cut and pasted this code From JobHistory Parser&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;getHiveHistory - i don&apos;t think it&apos;s a good idea to initialize hivehistory object on demand:&lt;br/&gt;
      a) u always need it&lt;br/&gt;
      b) it prints stuff to the console (log file location). if u want a deterministic location for this log - we should just initialize hivehistory at session initialization so that the log file location always comes at the beginning of the session (and not at some random point when the code actually requires it)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8211; moved hiveHistory initialization to constructor of sessionSate&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;it would be good to have an example of the hive history file/format checked in somewhere with a pointer to it from the documentation (either in README or wiki).
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;Put short summary about the HistoryLog in internal wiki.&lt;br/&gt;
           &lt;a href=&quot;http://www.intern.facebook.com/intern/wiki/index.php/HiveQueryLog&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.intern.facebook.com/intern/wiki/index.php/HiveQueryLog&lt;/a&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;another easy and comprehensive test to add is in TestCliDriver. This is generated code that fires a bunch of queries - we should be easily able to use HiveHistoryViewer to assert that query status is successful for all queries in positive tests.
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;Added hiveHistory Check TestCliDriver. For this to work QTestUtil. SessionState is constructed in the constructor of QTestUtil. Not sure this is correct way or not&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;Changed TestCliDriver.vm to check history File.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One thing i am concerned about overall is the use of the term &apos;job&apos; for what is essentially a hive query. I think this creates a lot of room for confusion - since in the hadoop ecosystem job means hadoop job. (we have also overloaded the word task in Hive - which is unfortunate - but almost too late now). If possible - i would really appreciate if we could replace &apos;job&apos; with &apos;query&apos; whereever applicable. (s/startJob/startQuery/ for example).&lt;br/&gt;
     &amp;#8212; Changed all Job referces to Query&lt;/p&gt;

&lt;p&gt;    &amp;#8211; should we create the history file always, history will be disabled by default and enbaled setting a jobconf parameter. &apos;enable.job.history&apos;&lt;/p&gt;

</comment>
                            <comment id="12664809" author="jsensarma" created="Sat, 17 Jan 2009 08:50:56 +0000"  >&lt;p&gt;looks good for most part. let&apos;s get this committed!&lt;/p&gt;

&lt;p&gt;would be happier if we renamed hive.joblog.location to hive.querylog.location. as for disabling history - it seems that an invalid/blank location would effectively do that already.&lt;/p&gt;

&lt;p&gt;error messages: if history file throws an filenotfoundexception - please go through console.printError (instead of printStackTrace()) and give some message to user.&lt;/p&gt;

&lt;p&gt;QTestUtil and TestCliDriver changes look good to me.&lt;/p&gt;</comment>
                            <comment id="12665148" author="santony73" created="Mon, 19 Jan 2009 16:50:57 +0000"  >&lt;p&gt;Changed hive.joblog.location to hive.querylog.location&lt;/p&gt;

&lt;p&gt;Also changed e.PrintStacktrace()&lt;/p&gt;

&lt;p&gt;Changed CliDriver.. Moved SessionState.start() after conf variable initialization. Otherwise conf setting to change hive.querylog.location was having no effect. Since HiveHistory was getting initialized even before hiveconf was parsed. &lt;/p&gt;

&lt;p&gt;Thanks for all the feedbacks.&lt;/p&gt;</comment>
                            <comment id="12665281" author="jsensarma" created="Mon, 19 Jan 2009 23:29:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;(nice testing/catch on the cmd line conf thing)&lt;/p&gt;</comment>
                            <comment id="12665899" author="santony73" created="Wed, 21 Jan 2009 18:11:11 +0000"  >&lt;p&gt;Made following changes:&lt;/p&gt;

&lt;p&gt;Added &quot;TIME&quot; key to every line. It will have the value of &quot;System.currentTimeMillis()&quot;&lt;/p&gt;

&lt;p&gt;Also Added QueryId instead of using Query string as the query id. Added new conf variable &quot;hive.query.id&quot;&lt;/p&gt;


</comment>
                            <comment id="12667042" author="jsensarma" created="Sun, 25 Jan 2009 03:40:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12667867" author="athusoo" created="Tue, 27 Jan 2009 23:40:43 +0000"  >&lt;p&gt;Testing this. Will commit ones tests succeed.&lt;/p&gt;</comment>
                            <comment id="12667944" author="santony73" created="Wed, 28 Jan 2009 06:32:07 +0000"  >&lt;p&gt;Create hive job history directory, if the directory does not exists/&lt;/p&gt;</comment>
                            <comment id="12668128" author="athusoo" created="Wed, 28 Jan 2009 19:50:36 +0000"  >&lt;p&gt;Rerunning tests.. will commit once the tests succeed...&lt;/p&gt;</comment>
                            <comment id="12668167" author="athusoo" created="Wed, 28 Jan 2009 21:18:04 +0000"  >&lt;p&gt;committed. Thanks Suresh!!&lt;/p&gt;</comment>
                            <comment id="12668216" author="santony73" created="Wed, 28 Jan 2009 23:15:00 +0000"  >&lt;p&gt;added hive.querylog.location&lt;/p&gt;</comment>
                            <comment id="12668221" author="athusoo" created="Wed, 28 Jan 2009 23:18:00 +0000"  >&lt;p&gt;suresh. can you open a separate JIRA for this patch...&lt;/p&gt;

&lt;p&gt;thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12409226">HIVE-79</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12398881" name="patch_176.txt" size="65492" author="santony73" created="Wed, 28 Jan 2009 06:30:46 +0000"/>
                            <attachment id="12398412" name="patch_176.txt" size="65213" author="santony73" created="Wed, 21 Jan 2009 18:11:11 +0000"/>
                            <attachment id="12398241" name="patch_176.txt" size="63246" author="santony73" created="Mon, 19 Jan 2009 16:45:31 +0000"/>
                            <attachment id="12397992" name="patch_176.txt" size="62276" author="santony73" created="Thu, 15 Jan 2009 18:17:04 +0000"/>
                            <attachment id="12397671" name="patch_176.txt" size="31345" author="santony73" created="Mon, 12 Jan 2009 05:40:16 +0000"/>
                            <attachment id="12397135" name="patch_176.txt" size="17261" author="santony73" created="Mon, 5 Jan 2009 19:21:21 +0000"/>
                            <attachment id="12396864" name="patch_176.txt" size="15360" author="santony73" created="Mon, 29 Dec 2008 21:18:11 +0000"/>
                            <attachment id="12398940" name="patch_176_2.txt" size="66214" author="santony73" created="Wed, 28 Jan 2009 23:15:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 16 Dec 2008 02:39:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive History Logging</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-177] Allow specifying custom input and output format in CREATE TABLE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-177</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12410736">HIVE-177</key>
            <summary>Allow specifying custom input and output format in CREATE TABLE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="electrum">David Phillips</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Dec 2008 20:46:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:56 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 23:50:07 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12656746" author="electrum" created="Mon, 15 Dec 2008 20:56:16 +0000"  >&lt;p&gt;Proposed syntax:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE ...
STORED AS file_format

file_format:
  : SEQUENCEFILE
  | TEXTFILE
  | INTPUTFORMAT &apos;MyInputFormat&apos; OUTPUTFORMAT &apos;MyOutputFormat&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE ...
STORED AS
  INPUTFORMAT &apos;org.apache.hadoop.mapred.TextInputFormat&apos;
  OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12657516" author="electrum" created="Wed, 17 Dec 2008 19:55:43 +0000"  >&lt;p&gt;The patch passes all tests.&lt;/p&gt;</comment>
                            <comment id="12657874" author="athusoo" created="Thu, 18 Dec 2008 19:52:00 +0000"  >&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;There are a few minor comments:&lt;br/&gt;
1. I think instead of hardcoding the class name strings in the variables used to set the input and output formats for sequence and text files, we should instead use the Class.getName() function so that if we move those classes around later, we do not break these strings.&lt;br/&gt;
2. Can we make the run time error code better for the case where  negative test case for voids.&lt;/p&gt;</comment>
                            <comment id="12658606" author="electrum" created="Mon, 22 Dec 2008 18:02:26 +0000"  >&lt;p&gt;Thanks for the review.  Good comments; patch updated.&lt;/p&gt;</comment>
                            <comment id="12658721" author="athusoo" created="Tue, 23 Dec 2008 00:58:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good to me.&lt;/p&gt;</comment>
                            <comment id="12658997" author="zshao" created="Tue, 23 Dec 2008 23:50:07 +0000"  >&lt;p&gt;Committed revision 729176. Thanks David!&lt;/p&gt;</comment>
                            <comment id="12659176" author="jsensarma" created="Thu, 25 Dec 2008 00:37:12 +0000"  >&lt;p&gt;BTW - this patch may allow reading of tables from arbitrary format - but it will not allow writing to tables of arbitrary outputformat. FileSinkOperator allows writing to sequencefile or textfile only.&lt;/p&gt;

&lt;p&gt;perhaps the intent is to only read from other stuff - but the legal syntax is now allowing a capability that the execution engine does not support. (ie. - either we should not support outputformat other than text/sequencefile - or implement support for writing to other outputformats)&lt;/p&gt;</comment>
                            <comment id="12659290" author="athusoo" created="Sat, 27 Dec 2008 00:09:09 +0000"  >&lt;p&gt;my bad. should have caught that in the review. The intent was surely to support writes as well.&lt;/p&gt;</comment>
                            <comment id="12659306" author="electrum" created="Sat, 27 Dec 2008 04:31:54 +0000"  >&lt;p&gt;Since this is already committed, I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-199&quot; title=&quot;Support arbitrary output formats in FileSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-199&quot;&gt;HIVE-199&lt;/a&gt; to address this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12411339">HIVE-199</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396613" name="hive-create-fileformat.patch" size="24673" author="electrum" created="Mon, 22 Dec 2008 18:02:26 +0000"/>
                            <attachment id="12396339" name="hive-create-fileformat.patch" size="19204" author="electrum" created="Wed, 17 Dec 2008 19:55:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Dec 2008 19:52:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-177&quot; title=&quot;Allow specifying custom input and output format in CREATE TABLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-177&quot;&gt;&lt;strike&gt;HIVE-177&lt;/strike&gt;&lt;/a&gt;. Allow specifying custom input and output format in CREATE TABLE. (David Phillips via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-178] SELECT without FROM should assume a one-row table with no columns.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-178</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SELECT 1+1;&lt;/p&gt;

&lt;p&gt;should just return &apos;2&apos;, but instead hive fails because no table is listed.&lt;/p&gt;

&lt;p&gt;SELECT 1+1 FROM (empty table);&lt;/p&gt;

&lt;p&gt;should also just return &apos;2&apos;, but instead hive &quot;succeeds&quot; because there is &quot;no possible output,&quot; so it produces no output.&lt;/p&gt;

&lt;p&gt;So, currently we have to run &lt;/p&gt;

&lt;p&gt;SELECT 1+1 FROM (silly one-row dummy table);&lt;/p&gt;

&lt;p&gt;...which runs a whole mapreduce step to ignore a column of data that is useless anyway. This is much easier due to local mode, but still, it would be nice to be able to SELECT without specifying a table and to get one row of output in moments instead of waiting for even a local-mode job to launch, complete, and return.&lt;/p&gt;

&lt;p&gt;This is especially useful for testing UDFs.&lt;/p&gt;

&lt;p&gt;Relatedly, an optimization by which Hive can tell that data from a table isn&apos;t even USED would be useful, because it means that the data needn&apos;t be queried...the only relevant info from the table would be the number of rows it has, which is available for free from the metastore.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410742">HIVE-178</key>
            <summary>SELECT without FROM should assume a one-row table with no columns.</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                            <label>SQL</label>
                    </labels>
                <created>Mon, 15 Dec 2008 23:31:18 +0000</created>
                <updated>Thu, 15 Sep 2016 18:16:47 +0000</updated>
                            <resolved>Thu, 15 Sep 2016 18:16:46 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="12660813" author="electrum" created="Mon, 5 Jan 2009 16:49:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;(select from empty table) should also just return &apos;2&apos; ... so it produces no output.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Selecting from an empty table should not produce results (unless it is an aggregate without grouping).  An empty table is an empty set, thus it would produce an empty set (no output rows):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mysql&amp;gt; create table empty (x int);
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; select 1+1 from empty;
Empty set (0.00 sec)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12660818" author="electrum" created="Mon, 5 Jan 2009 16:59:32 +0000"  >&lt;p&gt;It would be nice to treat a SELECT without a table the same as selecting from a table with a single row.  MySQL and PostgreSQL work this way.&lt;/p&gt;

&lt;p&gt;Another alternative is the Oracle approach: provide a special dummy table named DUAL defined as follows:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE dual (dummy STRING);
INSERT INTO dual VALUES(&apos;X&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It might be easiest to implement the MySQL/PostgreSQL way using the dummy table method, even if we don&apos;t require explicitly selecting from it, especially when you consider things like this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;SELECT * FROM (SELECT 1+1 x) z;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="12660819" author="electrum" created="Mon, 5 Jan 2009 17:05:50 +0000"  >&lt;p&gt;Changing from bug to wish as the current behavior is correct.  The current workaround is to select from a table with a single row, or select from a small table with LIMIT 1.&lt;/p&gt;

&lt;p&gt;For simple cases like the example, skipping the Hadoop job entirely would be nice.&lt;/p&gt;</comment>
                            <comment id="13799125" author="kenahoo" created="Fri, 18 Oct 2013 14:13:04 +0000"  >&lt;p&gt;Following up on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=electrum&quot; class=&quot;user-hover&quot; rel=&quot;electrum&quot;&gt;David Phillips&lt;/a&gt;&apos;s &lt;tt&gt;dual&lt;/tt&gt; approach - since the &lt;tt&gt;VALUES(...)&lt;/tt&gt; syntax isn&apos;t yet supported in Hive, one can do something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE dual (dummy STRING);
INSERT INTO TABLE dual SELECT count(*) FROM dual;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then &lt;tt&gt;SELECT ... FROM dual;&lt;/tt&gt; queries work as expected.&lt;/p&gt;</comment>
                            <comment id="13799269" author="ehans" created="Fri, 18 Oct 2013 16:41:19 +0000"  >&lt;p&gt;+1&lt;br/&gt;
People use this all the time with SQL Server. I expect people to like it if it is added to Hive.&lt;/p&gt;</comment>
                            <comment id="15493608" author="icook" created="Thu, 15 Sep 2016 15:12:46 +0000"  >&lt;p&gt;I believe this issue should be closed. The Hive Language Manual now states, &quot;As of Hive 0.13.0, FROM is optional (for example, SELECT 1+1).&quot;&lt;/p&gt;</comment>
                            <comment id="15494131" author="electrum" created="Thu, 15 Sep 2016 18:16:47 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select 1+1;
OK
2
Time taken: 1.104 seconds, Fetched: 1 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12636203">HIVE-4144</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12410055">HIVE-124</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471927">HIVE-1558</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Jan 2009 16:49:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
