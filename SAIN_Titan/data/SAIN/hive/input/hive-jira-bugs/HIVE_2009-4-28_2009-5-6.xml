<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:13:20 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-4-28+AND+created+%3C%3D+2009-5-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="22" total="22"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-451] Support ORDER BY xxx DESC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-451</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We support SORT BY xxx DESC, but not ORDER BY xxx DESC. We should support it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423959">HIVE-451</key>
            <summary>Support ORDER BY xxx DESC</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 00:38:47 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:30 +0000</updated>
                            <resolved>Thu, 28 May 2009 17:14:52 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12713511" author="he yongqiang" created="Wed, 27 May 2009 10:14:54 +0000"  >&lt;p&gt;A quick fix, only changes a few lines in Hive.g, and lets order by clause share the same child clause with sort by clause. &lt;/p&gt;</comment>
                            <comment id="12713730" author="zshao" created="Wed, 27 May 2009 20:51:18 +0000"  >&lt;p&gt;Can you add a test case?&lt;/p&gt;</comment>
                            <comment id="12713879" author="he yongqiang" created="Thu, 28 May 2009 05:14:54 +0000"  >&lt;p&gt;Added a testcase in orderby.q, and updated several .out files. Thanks, Zheng.&lt;/p&gt;</comment>
                            <comment id="12714045" author="namit" created="Thu, 28 May 2009 16:25:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The changes look good - will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12714061" author="namit" created="Thu, 28 May 2009 17:14:52 +0000"  >&lt;p&gt;Committed. Thanks He.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12408391">HIVE-61</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12409151" name="HIVE-451-2009-05-27.patch" size="695" author="he yongqiang" created="Wed, 27 May 2009 10:14:54 +0000"/>
                            <attachment id="12409235" name="HIVE-451-2009-05-28.patch" size="18309" author="he yongqiang" created="Thu, 28 May 2009 05:14:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 May 2009 10:14:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-452] changing fs.default.name in a session has no effect on scratch dir location</title>
                <link>https://issues.apache.org/jira/browse/HIVE-452</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Filesystem handle is being cached. There may be more objects bootstrapped off conf that are cached.&lt;/p&gt;

&lt;p&gt;on a different note - scratch dir is not needed unless there are map-reduce jobs. so it&apos;s a little irritating to see dependencies on a functioning hadoop environment for pure metadata commands.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423996">HIVE-452</key>
            <summary>changing fs.default.name in a session has no effect on scratch dir location</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 10:17:19 +0000</created>
                <updated>Tue, 28 Apr 2009 10:17:19 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-453] external table metastore and execution codepaths use default FileSystem object instead of using one derived from the supplied path</title>
                <link>https://issues.apache.org/jira/browse/HIVE-453</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;with fs.default.name set to &lt;a href=&quot;file:///:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; create external table kvu(key int, val string) location &apos;s3n://data.s3ndemo.hive/kv1.txt&apos;&lt;br/&gt;
FAILED: Error in metadata: java.lang.IllegalArgumentException: Wrong FS: s3n://data.s3ndemo.hive/kv1.txt, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;stack trace:&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:322)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem&lt;br/&gt;
.java:52)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.jav&lt;br/&gt;
a:308)&lt;br/&gt;
        at org.apache.hadoop.fs.ChecksumFileSystem.mkdirs(ChecksumFileSystem.jav&lt;br/&gt;
a:462)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.Warehouse.mkdirs(Warehouse.java:90)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.create_tabl&lt;br/&gt;
e(HiveMetaStore.java:293)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.createTable(Hive&lt;br/&gt;
MetaStoreClient.java:252)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.createTable(Hive.java:256)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424015">HIVE-453</key>
            <summary>external table metastore and execution codepaths use default FileSystem object instead of using one derived from the supplied path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 13:55:41 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:39 +0000</updated>
                            <resolved>Mon, 4 May 2009 22:22:37 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703776" author="jsensarma" created="Tue, 28 Apr 2009 18:15:14 +0000"  >&lt;p&gt;generalizing - there seems to be issues in execution time code path as well. after patching metastore issues:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; create external table kvu(key int, val string) location &apos;s3n://data.s3ndemo.hive/kv1.txt&apos;;&lt;br/&gt;
create external table kvu(key int, val string) location &apos;s3n://data.s3ndemo.hive/kv1.txt&apos;;&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 13.49 seconds&lt;br/&gt;
hive&amp;gt; select * from kvu;&lt;br/&gt;
select * from kvu;&lt;br/&gt;
OK&lt;br/&gt;
Failed with exception Wrong FS: s3n://data.s3ndemo.hive/kv1.txt, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: Wrong FS: s3n://data.s3ndemo.hive/kv1.txt, e&lt;br/&gt;
xpected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:322)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem&lt;br/&gt;
.java:52)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSys&lt;br/&gt;
tem.java:416)&lt;br/&gt;
        at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.&lt;br/&gt;
java:244)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:651)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FetchTask.getNextPath(FetchTask.java:1&lt;br/&gt;
79)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FetchTask.getRecordReader(FetchTask.ja&lt;br/&gt;
va:223)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:287)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:322)&lt;/p&gt;</comment>
                            <comment id="12704683" author="jsensarma" created="Thu, 30 Apr 2009 16:21:50 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the bulk of the changes are to not use the default filesystem object in many code paths and instead use the one derived from the path/conf.&lt;/li&gt;
	&lt;li&gt;the FetchTask.java changes are mostly indentation changes&lt;/li&gt;
	&lt;li&gt;can&apos;t think of how to add a test right now - in order to add a test - i need two functioning file systems - one the default one and the other for an external table. without a minimr cluster to run the tests - i don&apos;t have this available.&lt;/li&gt;
	&lt;li&gt;there was a small bug in DDLTask - addPartition that i realized while testing that has also been fixed. partition directory creation should be done before comitting metastore transaction - otherwise the transaction can be committed without the DDL statement succeeding.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12704686" author="jsensarma" created="Thu, 30 Apr 2009 16:24:12 +0000"  >&lt;p&gt;would like to submit this to trunk and branch 0.3 (so that it can go into either 0.3 or 0.3.1)&lt;/p&gt;</comment>
                            <comment id="12704710" author="prasadc" created="Thu, 30 Apr 2009 17:06:41 +0000"  >&lt;p&gt;&amp;gt;    * there was a small bug in DDLTask - addPartition that i realized while testing that has also been fixed. partition directory creation should be done before comitting metastore transaction - otherwise the transaction can be committed without the DDL statement succeeding.&lt;br/&gt;
What if the directory is created but the transaction fails? We need to delete the directory. I thought it is less of a problem if the metadata gets updated but not the directory since while loading the partition, that directory gets created. Otherwise there will be hdfs directories that might never get touched again.&lt;/p&gt;

</comment>
                            <comment id="12704726" author="jsensarma" created="Thu, 30 Apr 2009 17:43:31 +0000"  >&lt;p&gt;true - directories need to be cleaned up. this is a pre-existing problem though - all other DDL tasks also first create directory and then commit transaction.&lt;/p&gt;</comment>
                            <comment id="12704734" author="prasadc" created="Thu, 30 Apr 2009 18:03:19 +0000"  >&lt;p&gt;create table part leaves the directory intact even if the transaction fails. i don&apos;t remember writing it that way but we should change that to create directory after the transaction has been committed. I don&apos;t think hive execution complains that directory doesn&apos;t exist.&lt;/p&gt;

&lt;p&gt;the drop table &amp;amp; drop partition try to delete after the transaction is committed only because we don&apos;t want to delete the data without deleting metadata.&lt;/p&gt;

&lt;p&gt;but, as you say we could try to drop the table/partitions directory if the transaction fails. then it should be fine.&lt;/p&gt;</comment>
                            <comment id="12704750" author="athusoo" created="Thu, 30 Apr 2009 19:07:34 +0000"  >&lt;p&gt;Assigned.&lt;/p&gt;</comment>
                            <comment id="12704868" author="jsensarma" created="Fri, 1 May 2009 01:43:54 +0000"  >&lt;p&gt;if the file systems operations are done afterwards and they fail (throw an exception) - then to the user it seems like the DDL statement failed (since we report the error). So it&apos;s a weird experience. &lt;/p&gt;

&lt;p&gt;will publish another patch that rolls back fs operations. &lt;/p&gt;</comment>
                            <comment id="12704912" author="jsensarma" created="Fri, 1 May 2009 07:28:35 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;add rollback of fs operations if transaction fails&lt;/li&gt;
	&lt;li&gt;added a couple of negative tests that verify that metadata transactions don&apos;t succeed if fs operations fail.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;also added a cli option (by default false)  to keep processing queries even if we hit errors. this was necessary for writing the negative tests and is likely useful more generally as well.&lt;/p&gt;</comment>
                            <comment id="12705115" author="prasadc" created="Fri, 1 May 2009 20:55:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests..&lt;/p&gt;</comment>
                            <comment id="12705142" author="prasadc" created="Fri, 1 May 2009 22:02:17 +0000"  >&lt;p&gt;2 Errors in TestCliNegativeDriver (error message is different if s3n is not configured on the test machine) and 2 in TestHiveMetaStoreChecker and 1 in TestCliDriver.&lt;/p&gt;

&lt;p&gt;diff -a -I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /data/users/pchakka/workspace/oshive3/build/ql/test/logs/clientnegative/external1.q.out /data/users/pchakka/workspace/oshive3/ql/src/test/results/clientnegative/external1.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1c1&lt;br/&gt;
 &amp;lt; FAILED: Error in metadata: MetaException(message:Got exception: java.io.IOException No FileSystem for scheme: s3n)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; FAILED: Error in metadata: java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).&lt;/p&gt;

&lt;p&gt;diff -a -I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /data/users/pchakka/workspace/oshive3/build/ql/test/logs/clientnegative/external2.q.out /data/users/pchakka/workspace/oshive3/ql/src/test/results/clientnegative/external2.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1c1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Exception: Client execution results failed with error code = 1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; FAILED: Error in metadata: MetaException(message:Got exception: java.io.IOException No FileSystem for scheme: s3n)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; FAILED: Error in metadata: java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).&lt;/p&gt;


&lt;p&gt;Running org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 6.154 sec&lt;/p&gt;</comment>
                            <comment id="12705210" author="jsensarma" created="Sat, 2 May 2009 02:25:00 +0000"  >&lt;p&gt;thanks for reviewing.&lt;/p&gt;

&lt;p&gt;strange that s3n is not being found. is this being tested against hadoop-19? (i made some changes to test classpath so that jets3t library was in classpath).&lt;/p&gt;

&lt;p&gt;regardless - putting s3n there was a bad idea - since the error message even in the best case would depend on whether the machine is connected or not. let me put something more deterministic and regenerate the patch.&lt;/p&gt;</comment>
                            <comment id="12705211" author="prasadc" created="Sat, 2 May 2009 02:28:26 +0000"  >&lt;p&gt;tested against 0.17.2.1 &lt;/p&gt;</comment>
                            <comment id="12705218" author="jsensarma" created="Sat, 2 May 2009 03:50:52 +0000"  >&lt;p&gt;remove use of s3n filesystem from tests.&lt;/p&gt;</comment>
                            <comment id="12705347" author="prasadc" created="Sat, 2 May 2009 23:56:52 +0000"  >&lt;p&gt;testing...&lt;/p&gt;</comment>
                            <comment id="12705363" author="prasadc" created="Sun, 3 May 2009 01:00:14 +0000"  >&lt;p&gt;new patch fixed s3n tests but not the other tests&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 5.118 sec
Test org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Begin query: input20.q
    [junit] plan = /tmp/plan2216.xml
    [junit] plan = /tmp/plan2217.xml
    [junit] diff -a -I \(file:\)\|\(/tmp/.*\) /Users/pchakka/workspace/hive1/build/ql/test/logs/clientpositive/input20.q.out /Users/pchakka/workspace/hive1/ql/src/test/results/clientpositiv\
e/input20.q.out
    [junit] 83,391c83,391
    [junit] &amp;lt; NULL      0
    [junit] &amp;lt; NULL      10
    [junit] &amp;lt; NULL      100
    [junit] &amp;lt; NULL      103
    [junit] &amp;lt; NULL      104
    [junit] &amp;lt; NULL      105
    [junit] &amp;lt; NULL      11
    [junit] &amp;lt; NULL      111
    [junit] &amp;lt; NULL      113

Tests run: 232, Failures: 1, Errors: 0, Time elapsed: 2,296.995 sec
Test org.apache.hadoop.hive.cli.TestCliDriver FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12705364" author="prasadc" created="Sun, 3 May 2009 01:07:13 +0000"  >&lt;p&gt;TestHiveMetaStoreChecker log contains this. Looks like &apos;fs&apos; is not initialized in testPartitionsCheck()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;testcase classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;testPartitionsCheck&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.572&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;error type=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.NullPointerException&quot;&lt;/span&gt;&amp;gt;java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testPartitionsCheck(TestHiveMetaStoreChecker.java:187)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at junit.framework.TestCase.runTest(TestCase.java:154)
        at junit.framework.TestCase.runBare(TestCase.java:127)
        at junit.framework.TestResult$1.protect(TestResult.java:106)
        at junit.framework.TestResult.runProtected(TestResult.java:124)
        at junit.framework.TestResult.run(TestResult.java:109)
        at junit.framework.TestCase.run(TestCase.java:118)
        at junit.framework.TestSuite.runTest(TestSuite.java:208)
        at junit.framework.TestSuite.run(TestSuite.java:203)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
&amp;lt;/error&amp;gt;
  &amp;lt;/testcase&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12705366" author="prasadc" created="Sun, 3 May 2009 01:42:54 +0000"  >&lt;p&gt;I fixed the TestHiveMetaStoreChecker issue and uploaded the patch&lt;/p&gt;

&lt;p&gt;i thinkinput20.q is failing because I ran the test on mac. i am running the tests on linux and see how it goes.&lt;/p&gt;

&lt;p&gt;code below seems to produce different results on mac and linux. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# This script outputs a row of the following format                                                                                                                                           
# &amp;lt;# of values &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the key&amp;gt; &amp;lt;key&amp;gt;_&amp;lt;key&amp;gt;                                                                                                                                                       
uniq -c | sed &lt;span class=&quot;code-quote&quot;&gt;&quot;s@^ *@@&quot;&lt;/span&gt; | sed &lt;span class=&quot;code-quote&quot;&gt;&quot;s@\t@_@&quot;&lt;/span&gt; | sed &lt;span class=&quot;code-quote&quot;&gt;&quot;s@ @\t@&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12705372" author="prasadc" created="Sun, 3 May 2009 02:46:55 +0000"  >&lt;p&gt;all tests passed. committed into trunk. it is patching into branch 0.3 properly. will upload a new patch and commit that one.&lt;/p&gt;</comment>
                            <comment id="12705383" author="prasadc" created="Sun, 3 May 2009 05:08:14 +0000"  >&lt;p&gt;committed to branch 0.30 and attached patch for it.&lt;/p&gt;</comment>
                            <comment id="12705384" author="jsensarma" created="Sun, 3 May 2009 05:21:28 +0000"  >&lt;p&gt;looks like the new tests and outputs did not get added. svn add?&lt;/p&gt;</comment>
                            <comment id="12705386" author="prasadc" created="Sun, 3 May 2009 05:41:03 +0000"  >&lt;p&gt;tests that were not included in the previous patch&lt;/p&gt;</comment>
                            <comment id="12705668" author="namit" created="Mon, 4 May 2009 18:09:23 +0000"  >&lt;p&gt;The tests external1.q and external2.q are failing in 0.3 branch&lt;/p&gt;</comment>
                            <comment id="12705684" author="jsensarma" created="Mon, 4 May 2009 18:55:48 +0000"  >&lt;p&gt;there seems to have been a merge problem with 0.3. Warehouse.java&lt;/p&gt;

&lt;p&gt;trunk:&lt;br/&gt;
     return f.getFileSystem(conf);&lt;/p&gt;

&lt;p&gt;0.3:&lt;br/&gt;
    return whRoot.getFileSystem(conf);&lt;/p&gt;

&lt;p&gt;also - the changes to clidriver to optionally proceed in spite of errors are missing. (on the bright side - the test is good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;Actually - i am ok reverting these changes in 0.3. i don&apos;t think it makes sense to get 467 into it (too many changes) and without it - this will not help that much.&lt;/p&gt;</comment>
                            <comment id="12705687" author="prasadc" created="Mon, 4 May 2009 19:01:11 +0000"  >&lt;p&gt;sorry, patching went through fine with some offset issues. so i didn&apos;t really look into code that much. but will check into 0.3 after fixing it.&lt;/p&gt;</comment>
                            <comment id="12705790" author="prasadc" created="Mon, 4 May 2009 22:22:37 +0000"  >&lt;p&gt;merged properly and checked in (only for branch 0.3), trunk was fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12407099" name="hive-453.4.patch" size="41025" author="prasadc" created="Sun, 3 May 2009 01:42:54 +0000"/>
                            <attachment id="12407107" name="hive-453.4.tests.patch" size="2425" author="prasadc" created="Sun, 3 May 2009 05:41:02 +0000"/>
                            <attachment id="12407106" name="hive-453.br0.3.4.patch" size="48728" author="prasadc" created="Sun, 3 May 2009 05:08:14 +0000"/>
                            <attachment id="12406930" name="hive-453.patch.1" size="31495" author="jsensarma" created="Thu, 30 Apr 2009 16:21:50 +0000"/>
                            <attachment id="12406991" name="hive-453.patch.2" size="42860" author="jsensarma" created="Fri, 1 May 2009 07:28:35 +0000"/>
                            <attachment id="12407061" name="hive-453.patch.3" size="42582" author="jsensarma" created="Sat, 2 May 2009 03:50:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Apr 2009 17:06:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Use FileSystem derived from user supplied path when present instead of default.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-454] Support escaping of ; in strings in cli</title>
                <link>https://issues.apache.org/jira/browse/HIVE-454</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If ; appears in string literals in a query the hive cli is not able to escape them properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424047">HIVE-454</key>
            <summary>Support escaping of ; in strings in cli</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 15:49:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:53 +0000</updated>
                            <resolved>Fri, 7 Aug 2009 23:04:35 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12731643" author="appodictic" created="Wed, 15 Jul 2009 19:32:59 +0000"  >&lt;p&gt;Ashish,&lt;br/&gt;
I actually am working on a UDF where this became an issue. My .q file looks like this.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT dboutput(
&apos;jdbc:derby:../build/test_dboutput_db;create=true&apos;,&apos;&apos;,&apos;&apos;
,&apos;CREATE TABLE app_info ( kkey VARCHAR(255) NOT NULL, vvalue VARCHAR(255) NOT NULL )&apos;) , dboutput(&apos;jdbc:derby:../build/test_dboutput_db&apos;,&apos;&apos;,&apos;&apos;,
&apos;INSERT INTO app_info (kkey,vvalue) VALUES (?,?)&apos;,&apos;1&apos;,&apos;a&apos;)
limit 1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the &apos;;create=true&apos; section is failing. My nickname is &apos;Corner Case&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12731777" author="appodictic" created="Thu, 16 Jul 2009 03:08:24 +0000"  >&lt;p&gt;Updated CLIDriver and added test case&lt;/p&gt;</comment>
                            <comment id="12731778" author="appodictic" created="Thu, 16 Jul 2009 03:10:28 +0000"  >&lt;p&gt;This patch allows an escaped ; in a string. Removes the escape before passing the query to the driver.&lt;/p&gt;</comment>
                            <comment id="12733858" author="rsm" created="Tue, 21 Jul 2009 22:23:46 +0000"  >&lt;p&gt;It seems cleaner to modify hive.g instead of adding more parsing/manipulation of query strings in CliDriver.&lt;/p&gt;</comment>
                            <comment id="12733976" author="appodictic" created="Wed, 22 Jul 2009 04:06:35 +0000"  >&lt;p&gt;That is a good point. However it seems that the CLIDriver will be have to change regardless. Since the CLIDriver is specifically splitting on &apos;;&apos; a statement like &quot;set a=5; set b=8&quot; gets passed as two separate qp.run()&apos;s.&lt;/p&gt;</comment>
                            <comment id="12740073" author="appodictic" created="Thu, 6 Aug 2009 13:55:14 +0000"  >&lt;p&gt;Digging into this some more it seems that the query processor and cli driver would have to work together in a different way.&lt;/p&gt;

&lt;p&gt;As of now the CLIDriver is physically splitting on &apos;;&apos;  it can not tell the difference between &apos;;&apos; and &apos;/;&apos;. My patch adds some logic to detect &apos;/;&apos; and unescape it before passing to qp.run(String).&lt;/p&gt;

&lt;p&gt;Right now we can argue that the CliDriver has an implicit &apos;autocommit=true&apos;. We can make this an explicit variable. with autocommit=&apos;false&apos;  the query processor would hold a StringBuffer or a queue of query strings. &apos;commit &apos; ; would cause QP to run each query in its queue.&lt;/p&gt;

&lt;p&gt;This is a non-trivial change. If we add this feature we can set autocommit=true so the default behavior does not change. For no though my patch has a fairly way to deal with this problem.&lt;/p&gt;</comment>
                            <comment id="12740246" author="athusoo" created="Thu, 6 Aug 2009 20:55:58 +0000"  >&lt;p&gt;Ownership = Patch submitter...&lt;/p&gt;</comment>
                            <comment id="12740266" author="namit" created="Thu, 6 Aug 2009 21:48:23 +0000"  >&lt;p&gt;The changes look OK to me - &lt;/p&gt;

&lt;p&gt;Raghu, for this to work with Hive.g - the entire string would have to be passed to qp. So, essentially qp will take in a bunch of queries and then parse them instead of getting one query at a time.&lt;br/&gt;
This requires substantial change and should not block &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-645&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-645&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12740598" author="namit" created="Fri, 7 Aug 2009 15:47:53 +0000"  >&lt;p&gt;@Raghu, are you OK with this change - it is OK from my end&lt;/p&gt;</comment>
                            <comment id="12740777" author="namit" created="Fri, 7 Aug 2009 23:04:35 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12430682">HIVE-645</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413623" name="hive-454.patch" size="2586" author="appodictic" created="Thu, 16 Jul 2009 03:08:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jul 2009 19:32:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-455] Update committer list</title>
                <link>https://issues.apache.org/jira/browse/HIVE-455</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;update the committer list on Hive site.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424086">HIVE-455</key>
            <summary>Update committer list</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 20:12:07 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:47 +0000</updated>
                            <resolved>Sat, 2 May 2009 00:03:39 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12703958" author="prasadc" created="Wed, 29 Apr 2009 02:09:14 +0000"  >&lt;p&gt;added Raghu, Joydeep, Namit, Prasad. Did I miss anyone?&lt;/p&gt;</comment>
                            <comment id="12704322" author="athusoo" created="Wed, 29 Apr 2009 20:43:23 +0000"  >&lt;p&gt;There is a slight mistake in the patch. The last entry should have 0 instead of -8 and Johan&apos;s entry should have -8 instead of 0 for separators.&lt;/p&gt;</comment>
                            <comment id="12704325" author="athusoo" created="Wed, 29 Apr 2009 20:45:20 +0000"  >&lt;p&gt;Corrected patch.&lt;/p&gt;</comment>
                            <comment id="12704326" author="athusoo" created="Wed, 29 Apr 2009 20:45:37 +0000"  >&lt;p&gt;submitting.&lt;/p&gt;</comment>
                            <comment id="12704335" author="zshao" created="Wed, 29 Apr 2009 20:56:34 +0000"  >&lt;p&gt;This one removed the extra &quot;&amp;lt;/a&amp;gt;&quot; which makes &quot;ant&quot; complain.&lt;/p&gt;</comment>
                            <comment id="12704344" author="athusoo" created="Wed, 29 Apr 2009 21:11:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;Will commit this change.&lt;/p&gt;</comment>
                            <comment id="12704477" author="rsm" created="Thu, 30 Apr 2009 05:24:10 +0000"  >&lt;p&gt;fixed typo in my name&lt;/p&gt;</comment>
                            <comment id="12705189" author="zshao" created="Sat, 2 May 2009 00:03:39 +0000"  >&lt;p&gt;Committed. Thanks Prasad.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406836" name="HIVE-455.3.patch" size="928" author="zshao" created="Wed, 29 Apr 2009 20:56:34 +0000"/>
                            <attachment id="12406875" name="HIVE-455.4.patch" size="929" author="rsm" created="Thu, 30 Apr 2009 05:24:10 +0000"/>
                            <attachment id="12406729" name="hive-455.patch" size="8030" author="prasadc" created="Wed, 29 Apr 2009 02:09:14 +0000"/>
                            <attachment id="12406832" name="patch-455_2.txt" size="1002" author="athusoo" created="Wed, 29 Apr 2009 20:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Apr 2009 20:43:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-456] Remove redundant test output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-456</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Redundant output is causing junit to go out of memory.&lt;br/&gt;
We need to disable it.&lt;/p&gt;

&lt;p&gt;Also in the future, when MiniMRCluster is in, things might change - we might have logs.&lt;br/&gt;
But for now, I will just disable the output to make sure junit does not go out of memory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424104">HIVE-456</key>
            <summary>Remove redundant test output</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 23:16:03 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:54 +0000</updated>
                            <resolved>Wed, 29 Apr 2009 02:04:42 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703875" author="prasadc" created="Tue, 28 Apr 2009 23:26:34 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="12703939" author="zshao" created="Wed, 29 Apr 2009 01:22:16 +0000"  >&lt;p&gt;Added an option &quot;test.silent&quot; to enable/disable this new feature. The default is &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Try these 2 commands to see the difference in the log messages:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant -Dhadoop.version=0.17.0 &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test -Dtestcase=TestCliDriver -Dqfile=union9.q
ant -Dhadoop.version=0.17.0 &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test -Dtestcase=TestCliDriver -Dqfile=union9.q -Dtest.silent=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12703954" author="prasadc" created="Wed, 29 Apr 2009 02:04:42 +0000"  >&lt;p&gt;Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406711" name="HIVE-456.1.patch" size="2794" author="zshao" created="Tue, 28 Apr 2009 23:16:53 +0000"/>
                            <attachment id="12406727" name="HIVE-456.2.patch" size="3853" author="zshao" created="Wed, 29 Apr 2009 01:22:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Apr 2009 23:26:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Add option to run junit tests in quiet mode.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-457] ScriptOperator should NOT cache all data in stderr</title>
                <link>https://issues.apache.org/jira/browse/HIVE-457</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Sometimes user scripts output a lot of data to stderr without a new line, and this causes Hive to go out-of-memory.&lt;br/&gt;
We should directly output the data from stderr without caching it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424112">HIVE-457</key>
            <summary>ScriptOperator should NOT cache all data in stderr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2009 00:38:13 +0000</created>
                <updated>Tue, 22 Dec 2009 00:10:33 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12792732" author="pauly" created="Sat, 19 Dec 2009 00:52:02 +0000"  >&lt;ul&gt;
	&lt;li&gt;Modified TextRecordReader to return a line when the size has reached a threshold, even if the newline hasn&apos;t been encoutered.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Test Plan:&lt;/p&gt;

&lt;p&gt;err.sh is a bash script that continuously writes a string to stderr. Using err.sh, the error can be reproduced by running in hive:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set mapred.child.java.opts=-Xmx8m;
add file err.sh;
SELECT TRANSFORM(*) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;err.sh&apos;&lt;/span&gt; FROM src;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The job will fail quickly with a memory error (set mapred.child.java.opts=-Xmx8m reduces available memory so that the job fails quickly).&lt;/p&gt;

&lt;p&gt;With the patch, the job should run continuously.&lt;/p&gt;</comment>
                            <comment id="12792744" author="zshao" created="Sat, 19 Dec 2009 01:20:09 +0000"  >&lt;p&gt;This also means that we are limiting the row length for the data.&lt;/p&gt;

&lt;p&gt;Can we add a conf variable into TextRecord and set the default to maybe 10MB?&lt;br/&gt;
In this way, nobody will notice the difference unless the row is bigger than 10MB, which is rare enough but is still smaller than typical memory size.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.text.record.reader.max.length=10485760;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We can treat this one as an internal variable (by not adding it to hive-default.xml), following hadoop internal variable convention.&lt;/p&gt;</comment>
                            <comment id="12792772" author="pauly" created="Sat, 19 Dec 2009 03:26:02 +0000"  >&lt;p&gt;Right, missed how ScriptOperator.outThread depends on TextRecordReader&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Changed limit to 10MB&lt;/li&gt;
	&lt;li&gt;Added var to conf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Would it be worthwhile to allow the user to specify a different RecordReader for the error stream? Then we could use a size-limited subclass of TextRecordReader for only the error stream.&lt;/p&gt;</comment>
                            <comment id="12792872" author="namit" created="Sat, 19 Dec 2009 17:36:18 +0000"  >&lt;p&gt;Yes, it is possible to do so via the configuration variable:&lt;/p&gt;

&lt;p&gt;hive.script.recordreader.&lt;/p&gt;

&lt;p&gt;Infact, there is another reader which we support: TypedBytesRecordReader.&lt;/p&gt;

&lt;p&gt;The new paramter that you are adding should not be specific to TextRecordReader, but should be general to any recordreader.&lt;/p&gt;

&lt;p&gt;Maybe, it should be named:&lt;/p&gt;

&lt;p&gt;set hive.record.reader.max.length=10485760;&lt;/p&gt;


&lt;p&gt;and all recordreaders should be modified to take care of that.&lt;/p&gt;</comment>
                            <comment id="12793122" author="zshao" created="Mon, 21 Dec 2009 08:52:23 +0000"  >&lt;p&gt;I don&apos;t think we can easily trim off long records in binary streams. It may not be possible sometimes, depending on the format.&lt;br/&gt;
Text format is special because we just need to find the next newline.&lt;/p&gt;

&lt;p&gt;Let&apos;s get this in first. We can add that to TypedBytesRecordReader if such a need comes up later.&lt;/p&gt;</comment>
                            <comment id="12793309" author="zshao" created="Mon, 21 Dec 2009 19:23:16 +0000"  >&lt;p&gt;Unfortunately the function readLine(Text, long, long) is not available in hadoop 0.17.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoop.apache.org/common/docs/r0.17.2/api/org/apache/hadoop/mapred/LineRecordReader.LineReader.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/common/docs/r0.17.2/api/org/apache/hadoop/mapred/LineRecordReader.LineReader.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We can either:&lt;br/&gt;
1. Add this to shims;&lt;br/&gt;
2. Wait after we branched off hive 0.5.  We might want to drop the support of hadoop 0.17 starting from Hive 0.6.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431399">HIVE-690</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12428507" name="HIVE-457.1.patch" size="952" author="pauly" created="Sat, 19 Dec 2009 00:52:02 +0000"/>
                            <attachment id="12428523" name="HIVE-457.2.patch" size="2212" author="pauly" created="Sat, 19 Dec 2009 03:26:02 +0000"/>
                            <attachment id="12428508" name="err.sh" size="58" author="pauly" created="Sat, 19 Dec 2009 00:52:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Dec 2009 00:52:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-458] Setting fs.default.name incorrectly leads to meaningless error message</title>
                <link>https://issues.apache.org/jira/browse/HIVE-458</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In my hadoop-site.xml I accidentally set fs.default.name to &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wilbur21.labs.corp.sp1.yahoo.com:8020&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wilbur21.labs.corp.sp1.yahoo.com:8020&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;instead of the proper:&lt;/p&gt;

&lt;p&gt;hdfs://wilbur21.labs.corp.sp1.yahoo.com:8020&lt;/p&gt;

&lt;p&gt;The result was&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; show tables;
FAILED: Unknown exception : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
FAILED: Unknown exception : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
Time taken: 0.035 seconds
hive&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should give a meaningful error message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424218">HIVE-458</key>
            <summary>Setting fs.default.name incorrectly leads to meaningless error message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2009 20:58:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:56 +0000</updated>
                            <resolved>Wed, 6 Jan 2010 02:47:42 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12792752" author="pauly" created="Sat, 19 Dec 2009 01:47:53 +0000"  >&lt;p&gt;Not entirely sure how to reproduce this issue - &lt;/p&gt;

&lt;p&gt;I tried:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Hive history file=/tmp/pyang/hive_job_log_pyang_200912181710_705362980.txt
hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=&lt;span class=&quot;code-quote&quot;&gt;&apos;blahblah&apos;&lt;/span&gt;;
hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_t&apos;&lt;/span&gt;;
OK
tmp_pyang_t
Time taken: 2.73 seconds
hive&amp;gt; SELECT * FROM src LIMIT 1;
FAILED: Unknown exception: java.io.IOException: Incomplete HDFS URI, no host: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&apos;blahblah&apos;&lt;/span&gt;/tmp/hive-pyang/1632153075&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alan, is this still a problem?&lt;/p&gt;</comment>
                            <comment id="12793387" author="zshao" created="Mon, 21 Dec 2009 22:17:38 +0000"  >&lt;p&gt;&apos;blahblah&apos; is not a valid URI so we detected in URI checking.&lt;/p&gt;

&lt;p&gt;Can you try with &quot;http://wilbur21.labs.corp.sp1.yahoo.com:8020&quot; ?&lt;/p&gt;</comment>
                            <comment id="12793390" author="pauly" created="Mon, 21 Dec 2009 22:20:44 +0000"  >&lt;p&gt;Right, that does reproduce the error.&lt;/p&gt;</comment>
                            <comment id="12793480" author="pauly" created="Tue, 22 Dec 2009 03:18:41 +0000"  >&lt;p&gt;Actually, for the error to be reproduced, the fs.default.name string has to be malformed in a particular way for the exception to be thrown. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The attached patch shows better error messages when improper characters in fs.default.name cause an exception to be thrown.&lt;/p&gt;</comment>
                            <comment id="12793483" author="pauly" created="Tue, 22 Dec 2009 03:25:07 +0000"  >&lt;p&gt;Missing example from above:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
OK
tmp_pyang_dim_api_data
tmp_pyang_lv
tmp_pyang_null
tmp_pyang_output
tmp_pyang_t
Time taken: 0.235 seconds

hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=|http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
FAILED: Unknown exception: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
FAILED: Unknown exception: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(behavior is dependent on URI.create() )&lt;/p&gt;</comment>
                            <comment id="12793496" author="zshao" created="Tue, 22 Dec 2009 04:41:22 +0000"  >&lt;p&gt;Can we put the original exception as the second parameter when creating RuntimeException object?&lt;br/&gt;
That is usually a good idea because it will show all the stacktraces.&lt;/p&gt;</comment>
                            <comment id="12793513" author="namit" created="Tue, 22 Dec 2009 05:49:12 +0000"  >&lt;p&gt;Also, can you add a negative test for the same ?&lt;/p&gt;</comment>
                            <comment id="12793810" author="pauly" created="Tue, 22 Dec 2009 22:14:22 +0000"  >&lt;ul&gt;
	&lt;li&gt;Added original exception as the cause parameter for RuntimeException&lt;/li&gt;
	&lt;li&gt;Added negative tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12796951" author="zshao" created="Wed, 6 Jan 2010 01:42:33 +0000"  >&lt;p&gt;Looks good. Will commit if test passes.&lt;/p&gt;</comment>
                            <comment id="12796969" author="zshao" created="Wed, 6 Jan 2010 02:47:42 +0000"  >&lt;p&gt;Committed. Thanks Paul!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428689" name="HIVE-458.1.patch" size="1015" author="pauly" created="Tue, 22 Dec 2009 03:28:38 +0000"/>
                            <attachment id="12428769" name="HIVE-458.2.patch" size="2706" author="pauly" created="Tue, 22 Dec 2009 22:14:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Dec 2009 01:47:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-458&quot; title=&quot;Setting fs.default.name incorrectly leads to meaningless error message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-458&quot;&gt;&lt;strike&gt;HIVE-458&lt;/strike&gt;&lt;/a&gt;. Better error messages for fs.default.name. (Paul Yang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-459] Allow limited &apos;OR&apos; in join clauses</title>
                <link>https://issues.apache.org/jira/browse/HIVE-459</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A (somewhat) common use case for full outer joins is&lt;/p&gt;

&lt;p&gt;FROM a&lt;br/&gt;
FULL OUTER JOIN b ON (b.foo = a.foo)&lt;br/&gt;
FULL OUTER JOIN c ON (c.foo = a.foo OR c.foo = b.foo)&lt;/p&gt;

&lt;p&gt;It would be nice if this (or equivalent functionality) could be supported by hive.  Note that this is a specific use of OR that would allow rows from all three tables to be clustered on the same key.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424240">HIVE-459</key>
            <summary>Allow limited &apos;OR&apos; in join clauses</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2009 23:19:13 +0000</created>
                <updated>Mon, 11 May 2009 12:55:34 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12708012" author="zshao" created="Mon, 11 May 2009 12:55:34 +0000"  >&lt;p&gt;Another way to write it is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FROM a
FULL OUTER JOIN b ON b.foo = a.foo
FULL OUTER JOIN c ON c.foo = IF(a.foo IS NULL, b.foo, a.foo)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;In the future we will provide COALESCE (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-470&quot; title=&quot;Support COALESCE using GenericUDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-470&quot;&gt;&lt;del&gt;HIVE-470&lt;/del&gt;&lt;/a&gt;) to make it easier to write the expression of the IF condition.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 May 2009 12:55:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-460] Improve ColumnPruner to prune more aggressively and keep column information for input tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-460</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is required for column-based table format.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424247">HIVE-460</key>
            <summary>Improve ColumnPruner to prune more aggressively and keep column information for input tables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2009 01:07:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:37 +0000</updated>
                            <resolved>Mon, 15 Jun 2009 05:44:04 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12704434" author="zshao" created="Thu, 30 Apr 2009 01:36:13 +0000"  >&lt;p&gt;Some example queries for improvement:&lt;/p&gt;

&lt;p&gt;We should be able to prune &quot;src.value as c2&quot;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;join11.q:
SELECT src1.c1, src2.c4
FROM
(SELECT src.key as c1, src.value as c2 from src) src1
JOIN
(SELECT src.key as c3, src.value as c4 from src) src2
ON src1.c1 = src2.c3 AND src1.c1 &amp;lt; 100;

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        src2:src
            Select Operator
              expressions:
                    expr: key
                    type: string
                    expr: value
                    type: string
              Reduce Output Operator
                key expressions:
                      expr: 0
                      type: string
                sort order: +
                Map-reduce partition columns:
                      expr: 0
                      type: string
                tag: 1
                value expressions:
                      expr: 0
                      type: string
                      expr: 1
                      type: string
        src1:src
            Select Operator
              expressions:
                    expr: key
                    type: string
                    expr: value
                    type: string
              Filter Operator
                predicate:
                    expr: (UDFToDouble(0) &amp;lt; UDFToDouble(100))
                    type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
                Reduce Output Operator
                  key expressions:
                        expr: 0
                        type: string
                  sort order: +
                  Map-reduce partition columns:
                        expr: 0
                        type: string
                  tag: 0
                  value expressions:
                        expr: 0
                        type: string
                        expr: 1
                        type: string
      Reduce Operator Tree:
        Join Operator
          condition map:
               Inner Join 0 to 1
          condition expressions:
            0 {VALUE.0} {VALUE.1}
            1 {VALUE.0} {VALUE.1}
          Select Operator
            expressions:
                  expr: 0
                  type: string
                  expr: 3
                  type: string
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              GlobalTableId: 0
              table:
                  input format: org.apache.hadoop.mapred.TextInputFormat
                  output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should be able to prune &quot;b&quot; from the first job.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; explain SELECT a from (SELECT * from zshao_lazy LIMIT 10) t;

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        t:zshao_lazy
            Select Operator
              expressions:
                    expr: a
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                    expr: b
                    type: string
              Limit
                Reduce Output Operator
                  sort order:
                  tag: -1
                  value expressions:
                        expr: 0
                        type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                        expr: 1
                        type: string
      Reduce Operator Tree:
        Extract
          Limit
            Select Operator
              expressions:
                    expr: 0
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              File Output Operator
                compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
                GlobalTableId: 0
                table:
                    input format: org.apache.hadoop.mapred.TextInputFormat
                    output format: org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12704436" author="zshao" created="Thu, 30 Apr 2009 01:40:35 +0000"  >&lt;p&gt;We should make internal names meaningful names, instead of integer numbers (which is the column id).&lt;br/&gt;
This will make the column pruner much easier, because we don&apos;t need to reassign the integer numbers.&lt;/p&gt;</comment>
                            <comment id="12704476" author="zshao" created="Thu, 30 Apr 2009 05:11:55 +0000"  >&lt;p&gt;This patch illustrates my idea. However it does not pass all the tests, and an elegant fix will depend on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-153&quot; title=&quot;explain should give meaningful column names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-153&quot;&gt;HIVE-153&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12704723" author="namit" created="Thu, 30 Apr 2009 17:37:32 +0000"  >&lt;p&gt;It looks good - let me take a look and get back.&lt;/p&gt;

&lt;p&gt;However, the two issues (better column pruning and meaningful internal names) are independent and should be pursued separately.&lt;/p&gt;</comment>
                            <comment id="12704744" author="athusoo" created="Thu, 30 Apr 2009 18:57:40 +0000"  >&lt;p&gt;assigned.&lt;/p&gt;</comment>
                            <comment id="12704745" author="athusoo" created="Thu, 30 Apr 2009 18:57:56 +0000"  >&lt;p&gt;submitting patch.&lt;/p&gt;</comment>
                            <comment id="12704752" author="athusoo" created="Thu, 30 Apr 2009 19:14:37 +0000"  >&lt;p&gt;Can you explain the logic in&lt;/p&gt;

&lt;p&gt;ColumnPrunerFileSinkProc &lt;/p&gt;

&lt;p&gt;what does add(&quot;*&quot;) do?&lt;/p&gt;</comment>
                            <comment id="12704790" author="zshao" created="Thu, 30 Apr 2009 20:50:40 +0000"  >&lt;p&gt;I should add a comment in the code. &quot;*&quot; just means an Operator requires all input columns (like in &quot;SELECT *&quot;).&lt;/p&gt;

&lt;p&gt;The current patch does NOT work - the reason is that the current way of column pruning depends on compiling the query again - which means any unused columns from sub queries (except those introduced from *) will produce a compilation error since we pruned them out already. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT a FROM (SELECT a, b, c from t DISTRIBUTE by a);
b, c will introduce a compilation error.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In order to make it work, we should NOT compile the query again - Instead, we just insert the selectOperator at the top, but since our internal column names are ordinal, we will have to re-number the internal columns for all operators which is cumbersome. This will be fixed by giving the output columns of the operator non-ordinal names. The execution path uses StructObjectInspector which is already capable of mapping struct names to positions, so it&apos;s not hard to do.&lt;/p&gt;</comment>
                            <comment id="12713355" author="zshao" created="Wed, 27 May 2009 01:06:30 +0000"  >&lt;p&gt;Moving the status back since the patch is not ready for commit.&lt;br/&gt;
Yongqiang is working on this issue right now. I will reassign.&lt;/p&gt;</comment>
                            <comment id="12714473" author="he yongqiang" created="Fri, 29 May 2009 14:48:03 +0000"  >&lt;p&gt;hive-460-2009-05-29-noaliasallowed.patch is not a finished version and it still has errors. The major issue is that it does not allow alias.&lt;br/&gt;
For example:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT kv1.key, sum(substr(kv1.value,5)) GROUP BY kv1.key LIMIT 5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works well. But &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT kv1.key as key_alias, sum(substr(kv1.value,5)) GROUP BY key_alias LIMIT 5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;even can not pass the parser.&lt;/p&gt;

&lt;p&gt;Another error example is &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT src1.key as k1, src1.value as v1, src2.key as k2, src2.value as v2 FROM  
                 (SELECT * FROM kv1 WHERE kv1.key &amp;lt; 10) src1 &quot;
	        JOIN (SELECT * FROM kv1 WHERE kv1.key &amp;lt; 10) src2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works well, but the one with a sort clause &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT src1.key as k1, src1.value as v1, src2.key as k2, src2.value as v2 FROM  
                 (SELECT * FROM kv1 WHERE kv1.key &amp;lt; 10) src1 &quot;
	        JOIN (SELECT * FROM kv1 WHERE kv1.key &amp;lt; 10) src2 sort by k1,v1,k2,v2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;either can not pass the parser.&lt;/p&gt;

&lt;p&gt;I am still trying to figure out why these errors are caused and how to fix them. And really appreciate some input.&lt;/p&gt;

&lt;p&gt;BTW, with this patch, explain ... now will give  &apos;meaningful names&apos;, but i don&apos;t know whether they are ok. &lt;/p&gt;</comment>
                            <comment id="12714807" author="zshao" created="Sun, 31 May 2009 02:34:50 +0000"  >&lt;p&gt;hive-460-2009-05-29-noaliasallowed.patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;HiveStringUtils: I think it&apos;s better to use &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Character.html#isLetterOrDigit(char&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Character.html#isLetterOrDigit(char&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;patch line 103: I think we can revert this change&lt;/li&gt;
	&lt;li&gt;patch line 124 &amp;amp; 132: what is the special case for join?&lt;/li&gt;
	&lt;li&gt;patch line 334: The replaceAllIllegalCharWithUnderline does not return a unique string: &quot;a+b&quot; and &quot;a-b&quot; will both become &quot;a_b&quot;.&lt;/li&gt;
	&lt;li&gt;patch line 362: fields -&amp;gt; fieldNames, also, we need to find a way to get unique names if there are duplicates.&lt;/li&gt;
	&lt;li&gt;patch line 405: we are regenerating the field names here. We should serialize the field names in the operator desc - this will make sure the way to get unique names in the compilation time and runtime will be the same.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think the basic idea is good - we are now using the real expression (or modified real expression due to illegal chars and duplicates), instead of &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, as the internal names.&lt;br/&gt;
In case of &quot;SELECT a + b as c&quot;, I think we should use &quot;c&quot; as internal name. In case of &quot;SELECT a + b&quot;, we just use &quot;a_b&quot; as internal name. If it&apos;s &quot;SELECT a + b, a - b&quot;, then we can use &quot;a_b&quot;&#65292; &quot;a_b2&quot;. What do you think?&lt;/p&gt;

&lt;p&gt;BTW, I think &quot;SELECT kv1.key as key_alias, sum(substr(kv1.value,5)) GROUP BY key_alias LIMIT 5&quot; never worked, so it&apos;s not an issue here.&lt;/p&gt;

&lt;p&gt;But we definitely need to make sure:&lt;br/&gt;
&quot;SELECT field1, field2 FROM (SELECT key + value as field1, key - value as field2 FROM src) t&quot;&lt;br/&gt;
works.&lt;/p&gt;

&lt;p&gt;&quot;SELECT * FROM (SELECT key + value, key - value FROM src) t&quot; should also work.&lt;/p&gt;
</comment>
                            <comment id="12714813" author="prasadc" created="Sun, 31 May 2009 04:25:51 +0000"  >&lt;p&gt;Can&apos;t names be quoted like &apos;a+b&apos; instead of converting it to a_b? I think MySQL does something like that (back ticks) and that would eliminate users needing to guess the translation made by hive.&lt;/p&gt;</comment>
                            <comment id="12714815" author="he yongqiang" created="Sun, 31 May 2009 04:50:35 +0000"  >&lt;p&gt;Currently &apos;a+b&apos; is used whether there an alias or not. &apos;&lt;ins&gt;&apos; is not replaced because &apos;&lt;/ins&gt;&apos; is treated as a legal character.&lt;br/&gt;
But &apos;sum(substr(kv1.value,5))&apos; is replaced with sum_substr_kv1.value_5__. &lt;br/&gt;
Comma, blank, left-parenthesis, and right-parenthesis are now treated as illegal characters and will be replaced with &apos;_&apos;.&lt;br/&gt;
And i noticed that KEY. and VALUE. are added between a mapreduce boundary, can we remove them?&lt;/p&gt;</comment>
                            <comment id="12714840" author="zshao" created="Sun, 31 May 2009 09:28:48 +0000"  >&lt;p&gt;There should still be 2 names: one for display to our users (display name), and one for internal processing (internal name). Display name can be the same as the expression, but internal name cannot, because we need to use that to construct type definition and thrift DDLs - fields have to have valid names.&lt;/p&gt;</comment>
                            <comment id="12715667" author="prasadc" created="Tue, 2 Jun 2009 20:35:00 +0000"  >&lt;p&gt;then why not use &apos;a+b&apos; for display and internal names _0 etc in type defs and thrift DDLs. You can add displayName field to exprNodeDesc and use that field instead of column name while printing out the expression.&lt;/p&gt;

&lt;p&gt;IMO, using translated column names instead of position names actually be more confusing if two expressions are similar.&lt;/p&gt;</comment>
                            <comment id="12715813" author="zshao" created="Wed, 3 Jun 2009 05:38:52 +0000"  >&lt;p&gt;For this issue, let&apos;s use _col0, _col1 first.&lt;br/&gt;
Let&apos;s fix the display name problem in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-153&quot; title=&quot;explain should give meaningful column names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-153&quot;&gt;HIVE-153&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12716144" author="he yongqiang" created="Thu, 4 Jun 2009 04:00:49 +0000"  >&lt;p&gt;hive-460-2009-06-04-testcli-passed.patch now works. The modifications made:&lt;br/&gt;
1) added an array of output column names to Operators like select, groupby, join etc&lt;br/&gt;
2) removed plan regeneration code in ColumnPruner&lt;br/&gt;
3) instead of using integer as column internal names, now use _col1 _col2 etc&lt;/p&gt;</comment>
                            <comment id="12716166" author="zshao" created="Thu, 4 Jun 2009 06:07:07 +0000"  >&lt;p&gt;Some preliminary feedback:&lt;br/&gt;
@hive-460-2009-06-04-testcli-passed.patch &lt;br/&gt;
ColumnPrunerProcFactory.java: Why is this line added?&lt;br/&gt;
+              || (child instanceof LimitOperator) || (child instanceof UnionOperator)) {&lt;br/&gt;
Is this a typo? &quot;prun&quot;?&lt;br/&gt;
+    private void prunReduceOperator(List&amp;lt;String&amp;gt; retainedSelOpOutputCols,&lt;br/&gt;
groupbyDesc.java: can we remove the old constructor?&lt;/p&gt;</comment>
                            <comment id="12716343" author="namit" created="Thu, 4 Jun 2009 17:52:13 +0000"  >&lt;p&gt;When I tried to apply the patch, ran into a lot of merge conflicts - can you regenerate the patch&lt;/p&gt;</comment>
                            <comment id="12716480" author="he yongqiang" created="Fri, 5 Jun 2009 01:50:09 +0000"  >&lt;p&gt;Sorry for delay. hive-460-2009-06-04-2-195mapjoin.patch is a new one against truck and intergrates with Zheng&apos;s suggestions.&lt;/p&gt;</comment>
                            <comment id="12716809" author="namit" created="Sat, 6 Jun 2009 00:33:19 +0000"  >&lt;p&gt;Still investigating:&lt;/p&gt;

&lt;p&gt;some issues:&lt;/p&gt;

&lt;p&gt;CommonJoinOperator.java:&lt;/p&gt;

&lt;p&gt;ArrayList&amp;lt;ObjectInspector&amp;gt; structFieldObjectInspectors = new &lt;br/&gt;
...ArrayList&amp;lt;ObjectInspector( totalSz)&lt;/p&gt;

&lt;p&gt;not needed&lt;/p&gt;

&lt;p&gt;MapJoinOperator: you cannot reference SemanticAnalyzer at runtime - keep it in the conf&lt;/p&gt;

&lt;p&gt;GenMRUnion1: line 76 change is not needed&lt;/p&gt;

&lt;p&gt;Optimizer: dont comment ColumnPruner&lt;/p&gt;</comment>
                            <comment id="12716831" author="he yongqiang" created="Sat, 6 Jun 2009 05:09:27 +0000"  >&lt;p&gt;Namit, thanks very much for the valueble feedbacks. &lt;br/&gt;
Will work on them. Comment ColumnPruner is a serious mistake. I usally did that for testting on eclipse, and i forgot to restore it when i was trying to make the patch.&lt;br/&gt;
join28 and join31 are reporting error now, will check and repair.&lt;/p&gt;</comment>
                            <comment id="12716877" author="he yongqiang" created="Sat, 6 Jun 2009 13:38:05 +0000"  >&lt;p&gt;A new patch(hive-460-2009-06-06-2.patch) according to Namit&apos;s feedbacks.&lt;/p&gt;</comment>
                            <comment id="12717352" author="namit" created="Mon, 8 Jun 2009 18:19:31 +0000"  >&lt;p&gt;Mostly looks good, but I had some questions for ColumnPruner.&lt;/p&gt;

&lt;p&gt;Only reduceSinkDesc is getting patched below the Select - what if a groupBy is present - doesnt the column names of group by also need to be patched, or the assumption is that it is always&lt;br/&gt;
a subset of the select columns and therefore we dont need to do anything.&lt;/p&gt;
</comment>
                            <comment id="12717510" author="he yongqiang" created="Tue, 9 Jun 2009 01:12:02 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;the assumption is that it is always a subset of the select columns and therefore we dont need to do anything.&lt;br/&gt;
yes. And a select operator is inserted before the groupby operator.&lt;/p&gt;</comment>
                            <comment id="12717750" author="namit" created="Tue, 9 Jun 2009 17:03:25 +0000"  >&lt;p&gt;When I ran the tests, all TestParse tests failed&lt;br/&gt;
Also, for TestCliDriver, I got errors in input20, join32 and join36&lt;/p&gt;</comment>
                            <comment id="12717877" author="he yongqiang" created="Wed, 10 Jun 2009 00:28:53 +0000"  >&lt;p&gt;Namit, which patch you applied? hive-460-2009-06-06-2.patch?&lt;/p&gt;</comment>
                            <comment id="12717893" author="he yongqiang" created="Wed, 10 Jun 2009 02:55:37 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;When I ran the tests, all TestParse tests failed&lt;br/&gt;
sorry, my fault. hive-460-2009-06-06-2.patch does not include a overwrite test for TestParse.&lt;br/&gt;
&amp;gt;&amp;gt;Also, for TestCliDriver, I got errors in input20, join32 and join36 &lt;br/&gt;
input20 is ok in my test. join36 is a newly added testcase, and the previous patch does not include it in.&lt;br/&gt;
One wired thing about join32 is that if i run the test with overwrite specified, and every thing is ok. But if no overwrite specified, an error is reported. So i will try figure it out and upload a new patch. &lt;/p&gt;</comment>
                            <comment id="12718067" author="he yongqiang" created="Wed, 10 Jun 2009 13:12:04 +0000"  >&lt;p&gt;A new patch against trunk code(hive-460-2009-06-10-2.patch) and it passed all TestCliDriver and TestParse in my local.&lt;/p&gt;</comment>
                            <comment id="12718349" author="he yongqiang" created="Thu, 11 Jun 2009 08:19:01 +0000"  >&lt;p&gt;One comment to the results of input20.q:&lt;br/&gt;
the output data for input20.q in my patch has a NULL column. Even I download a clean truck code, the NULL output column still exists, so i guess it may has some relation to my machine. So please test input20.q seperately or pls delete the input20.q&apos;s output results(input20.q.out) contained in the patch before running the test.&lt;/p&gt;</comment>
                            <comment id="12718720" author="namit" created="Fri, 12 Jun 2009 05:38:21 +0000"  >&lt;p&gt;looks good - running tests right now&lt;/p&gt;</comment>
                            <comment id="12718738" author="namit" created="Fri, 12 Jun 2009 06:35:43 +0000"  >&lt;p&gt;Sorry about that, again I got 2 diffs - new tests (udf_coalesce) and join32&lt;br/&gt;
Can you merge them and reload the patch ? I will commit it right away.&lt;/p&gt;</comment>
                            <comment id="12718742" author="he yongqiang" created="Fri, 12 Jun 2009 06:57:34 +0000"  >&lt;p&gt;working on it right now. please wait a minute.&lt;/p&gt;</comment>
                            <comment id="12718744" author="he yongqiang" created="Fri, 12 Jun 2009 07:08:32 +0000"  >&lt;p&gt;Added the new testcase, but join32 does not get diff in my local.&lt;/p&gt;</comment>
                            <comment id="12718933" author="namit" created="Fri, 12 Jun 2009 18:25:12 +0000"  >&lt;p&gt;There is some non-deterministic behavior. The output of join32.q is different if run stand-alone or if run as part of the test-suite, which explains the diff.&lt;/p&gt;</comment>
                            <comment id="12719093" author="he yongqiang" created="Sat, 13 Jun 2009 07:41:12 +0000"  >&lt;p&gt;Namit, Thanks for correction. Upload a new patch. I guess the diffs came from the order of file output operator&apos;s column names. And the new patch sorted field schemas according to their names. Hope this can pass the tests. Again it passed in my local.&lt;/p&gt;</comment>
                            <comment id="12719326" author="namit" created="Sun, 14 Jun 2009 20:15:48 +0000"  >&lt;p&gt;running the tests&lt;/p&gt;</comment>
                            <comment id="12719404" author="namit" created="Mon, 15 Jun 2009 05:44:04 +0000"  >&lt;p&gt;Committed. Thanks He&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12414432">HIVE-284</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12424250">HIVE-461</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12410412">HIVE-153</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12427933">HIVE-560</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12417027">HIVE-352</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12406874" name="HIVE-460.1.patch" size="5622" author="zshao" created="Thu, 30 Apr 2009 05:11:55 +0000"/>
                            <attachment id="12409390" name="hive-460-2009-05-29-noaliasallowed.patch" size="56127" author="he yongqiang" created="Fri, 29 May 2009 14:48:03 +0000"/>
                            <attachment id="12409920" name="hive-460-2009-06-04-2-195mapjoin.patch" size="955738" author="he yongqiang" created="Fri, 5 Jun 2009 01:50:09 +0000"/>
                            <attachment id="12409847" name="hive-460-2009-06-04-testcli-passed.patch" size="828590" author="he yongqiang" created="Thu, 4 Jun 2009 04:00:49 +0000"/>
                            <attachment id="12410062" name="hive-460-2009-06-06-2.patch" size="934826" author="he yongqiang" created="Sat, 6 Jun 2009 13:38:05 +0000"/>
                            <attachment id="12410312" name="hive-460-2009-06-10-2.patch" size="2238879" author="he yongqiang" created="Wed, 10 Jun 2009 13:12:04 +0000"/>
                            <attachment id="12410458" name="hive-460-2009-06-12.patch" size="2245365" author="he yongqiang" created="Fri, 12 Jun 2009 07:08:32 +0000"/>
                            <attachment id="12410535" name="hive-460-2009-06-13.patch" size="2246577" author="he yongqiang" created="Sat, 13 Jun 2009 07:41:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Apr 2009 17:37:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-461] Optimize RCFile reading by using column pruning results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-461</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;RCFile is a column-based file format introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-352&quot; title=&quot;Make Hive support column based storage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-352&quot;&gt;&lt;del&gt;HIVE-352&lt;/del&gt;&lt;/a&gt;. Column-based storage has shown better compression ratio. On our internal data set (30 columns, most of them are short integer strings), we are seeing gzip-compressed RCFile to be 20%+ smaller than gzip-compressed SequenceFile.&lt;/p&gt;

&lt;p&gt;RCFIle also has the potential to improve the reading efficiency a lot since it compresses each column separately.&lt;/p&gt;

&lt;p&gt;We should integrate RCFile with the column pruning results from Hive to make the reading faster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424250">HIVE-461</key>
            <summary>Optimize RCFile reading by using column pruning results</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2009 01:49:11 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:57 +0000</updated>
                            <resolved>Mon, 6 Jul 2009 01:05:17 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12712985" author="he yongqiang" created="Tue, 26 May 2009 12:28:49 +0000"  >&lt;p&gt;A first try. The main modifications lie in ColumnPruner, HiveInputFormat, SelectOperator, and ExecDriver( one line). &lt;br/&gt;
Also changed RCFile to set accepted column ids instead of skip column ids, and update testcases to pass in accepted column ids.&lt;br/&gt;
hive-461-2009-05-26.patch works for simple query like &quot;insert overwrite table rc2 select rc1.col1, rc1.col2 from rc1&quot;, and have not tested with complex queries.&lt;/p&gt;</comment>
                            <comment id="12724392" author="he yongqiang" created="Fri, 26 Jun 2009 05:46:44 +0000"  >&lt;p&gt;Modifications:&lt;br/&gt;
1) change RCFile to accept column id list of read columns instead of skip columns.&lt;br/&gt;
2) move the util method, which sets read column id list in conf, from RCFile to RCFileInputFormat&lt;br/&gt;
3) fetch the read column id list from table scan operator in HiveInputFormat&lt;br/&gt;
4) store the read coliumn id list in table scan when does column pruner&lt;/p&gt;</comment>
                            <comment id="12724394" author="he yongqiang" created="Fri, 26 Jun 2009 05:52:14 +0000"  >&lt;p&gt;please remove input20.q.out in the patch when test and commit.&lt;br/&gt;
input20.q.out always has wrong result in my local.&lt;/p&gt;</comment>
                            <comment id="12724461" author="zshao" created="Fri, 26 Jun 2009 10:26:41 +0000"  >&lt;p&gt;Some preliminary comments:&lt;/p&gt;

&lt;p&gt;@hive-461-2009-06-26.patch:&lt;br/&gt;
1. Use ArrayList instead of Vector: the only difference is that Vector&apos;s methods are synchronized. We don&apos;t need that&lt;br/&gt;
2. Use Integer.valueOf(int i) instead of new Integer&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; because that&apos;s more efficient&lt;br/&gt;
3. RCFileInputFormat.setReadColumnIDs/setFullyReadColumns/getReadColumnIDs -&amp;gt; Can you move these methods to some utility class? Conceptually this should not be specific to RCFile.&lt;br/&gt;
4. setReadColumnIDs and getReadColumnIDs should use the same thing (ArrayList&amp;lt;Integer&amp;gt; instead of int[])&lt;br/&gt;
5. TableScanOperator.java: Vector&amp;lt;Integer&amp;gt; neededColumnIDs; should be moved to tableScanDesc.java (and use ArrayList&amp;lt;Integer&amp;gt;)&lt;/p&gt;

&lt;p&gt;Have you figured out what&apos;s wrong with input20.q?&lt;/p&gt;</comment>
                            <comment id="12724792" author="he yongqiang" created="Sat, 27 Jun 2009 02:56:19 +0000"  >&lt;p&gt;Patched a new file integrating Zheng&apos;s suggestions.&lt;br/&gt;
However, List&amp;lt;Integer&amp;gt;neededColumnIDs is not moved from table scan operator to its desc. tableScanDesc can not be instantiated, &lt;br/&gt;
and even though i forcibly added it in, there are queries failed. &lt;/p&gt;</comment>
                            <comment id="12725316" author="zshao" created="Mon, 29 Jun 2009 19:07:06 +0000"  >&lt;p&gt;@hive-461-2009-06-27.patch:&lt;br/&gt;
Can you do 3 things:&lt;br/&gt;
1. Add a comment in TableSinkOperator about the reason that you mentioned.&lt;br/&gt;
2. Add a test case where we join 2 RCFile tables, one of them using the first column only, one of them using the second column only. We want to make sure that reading heterogeneous input files works with RCFile. (Basically verify the code in HiveInputFormat that sets the option)&lt;br/&gt;
3. Regenerate the patch since there are conflicts.&lt;/p&gt;</comment>
                            <comment id="12727189" author="he yongqiang" created="Sat, 4 Jul 2009 04:51:41 +0000"  >&lt;p&gt;a new patch and integrates Zheng&apos;s suggestions(Thanks Zheng).&lt;/p&gt;</comment>
                            <comment id="12727374" author="zshao" created="Mon, 6 Jul 2009 01:05:17 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;

&lt;p&gt;The next time you generate a patch, please use &quot;ant test ... -Doverwrite=true&quot; to generate the corrected test case results. This should avoid changing some of the test results unnecessarily.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12417027">HIVE-352</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12424247">HIVE-460</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12409031" name="hive-461-2009-05-26.patch" size="13265" author="he yongqiang" created="Tue, 26 May 2009 12:28:49 +0000"/>
                            <attachment id="12411885" name="hive-461-2009-06-26.patch" size="495840" author="he yongqiang" created="Fri, 26 Jun 2009 05:46:44 +0000"/>
                            <attachment id="12411976" name="hive-461-2009-06-27.patch" size="489426" author="he yongqiang" created="Sat, 27 Jun 2009 02:56:19 +0000"/>
                            <attachment id="12412531" name="hive-461-2009-07-04.patch" size="366612" author="he yongqiang" created="Sat, 4 Jul 2009 04:51:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 May 2009 12:28:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-461&quot; title=&quot;Optimize RCFile reading by using column pruning results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-461&quot;&gt;&lt;strike&gt;HIVE-461&lt;/strike&gt;&lt;/a&gt;. Optimize RCFile reading by using column pruning results. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-462] Avoiding Text -&gt; String -&gt; Text conversions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-462</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is a performance bug in that we still convert Text -&amp;gt; String -&amp;gt; Text sometimes.&lt;/p&gt;

&lt;p&gt;I planned to fix it together with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-405&quot; title=&quot;Cleanup operator initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-405&quot;&gt;&lt;del&gt;HIVE-405&lt;/del&gt;&lt;/a&gt; but I don&apos;t think I will be able to finish it for another 2 weeks, so let&apos;s get this done first.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424251">HIVE-462</key>
            <summary>Avoiding Text -&gt; String -&gt; Text conversions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2009 02:23:11 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:46 +0000</updated>
                            <resolved>Thu, 30 Apr 2009 05:35:20 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12704480" author="zshao" created="Thu, 30 Apr 2009 05:28:23 +0000"  >&lt;p&gt;Fixed another small performance bug: we are now mostly using Arrays instead of Lists, and the old code was converting the Arrays to Lists for each row which is bad.&lt;/p&gt;</comment>
                            <comment id="12704482" author="namit" created="Thu, 30 Apr 2009 05:35:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Zheng, I was running tests for the 1 patch - whcih passed, and I already committed that.&lt;br/&gt;
Then I saw your other other update. You can file another jira and I can commit that separately.&lt;/p&gt;

&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406867" name="HIVE-462.1.patch" size="988" author="zshao" created="Thu, 30 Apr 2009 02:23:52 +0000"/>
                            <attachment id="12406876" name="HIVE-462.2.patch" size="1993" author="zshao" created="Thu, 30 Apr 2009 05:28:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Apr 2009 05:35:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-463] Add a pre execution hook to ql</title>
                <link>https://issues.apache.org/jira/browse/HIVE-463</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There may be cases where user defined logic needs to be executed between the compilation and execution phases of a query. One simple example that we ran into is based on archival. If an external utility archives table partitions of example, then a plugin logic can check that for the partitions and take suitable action such as:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Unarchiving the partition seemlessly&lt;/li&gt;
	&lt;li&gt;Throwing an error&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;etc..&lt;/p&gt;

&lt;p&gt;This same framework can also be used for updating query compilation stats.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424334">HIVE-463</key>
            <summary>Add a pre execution hook to ql</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2009 19:06:33 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:23 +0000</updated>
                            <resolved>Tue, 5 May 2009 22:17:39 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12704794" author="athusoo" created="Thu, 30 Apr 2009 20:54:10 +0000"  >&lt;p&gt;I am planning to add and API on the following lines:&lt;/p&gt;

&lt;p&gt;execute(String queryId, String queryString, List&amp;lt;ql.metadata.Partition&amp;gt; inputPartitions, List&amp;lt;ql.metadata.Partition&amp;gt; outputPartitions, org.apache.hadoop.security.UserGroupInformation ugi) &lt;/p&gt;</comment>
                            <comment id="12705315" author="athusoo" created="Sat, 2 May 2009 18:36:35 +0000"  >&lt;p&gt;Added support for pre-execution hooks.&lt;/p&gt;

&lt;p&gt;The interface is in&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.ql.hooks.PreExecute&lt;/p&gt;

&lt;p&gt;and example test implementation is in&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.ql.hook.PreExecutePrinter in the ql/test directory&lt;/p&gt;

&lt;p&gt;I have changed the data/conf/hive-site.xml to include the following paramerter&lt;/p&gt;

&lt;p&gt;hive.exec.pre.hooks=&quot;org.apache.hadoop.hive.ql.hooks.PreExecutePrinter&quot;&lt;/p&gt;

&lt;p&gt;so that this hook is called for all tests. I had to include q/tests in the test.classpath in build-common.xml to achieve this as well.&lt;/p&gt;

&lt;p&gt;As a result all the test outputs have changed with the information emitted by this hook. Just ignore the .out files in the review and do a sanity check later after you are satisfied with the code.&lt;/p&gt;

&lt;p&gt;hive.exec.pre.hooks is a comma separated list of PreExecute hooks all of which get called before execution and after compilation. The inputs and outputs are populated only for queries and DDLs.&lt;/p&gt;</comment>
                            <comment id="12705316" author="athusoo" created="Sat, 2 May 2009 18:36:52 +0000"  >&lt;p&gt;submitting.&lt;/p&gt;</comment>
                            <comment id="12705353" author="prasadc" created="Sun, 3 May 2009 00:22:44 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;can you include ql/test/classes through a build variable so that for metastore and cli, this will not get included?&lt;/li&gt;
	&lt;li&gt;add param hive.exec.pre.hooks to the hive-default.xml&lt;/li&gt;
	&lt;li&gt;i think it better for getPreExecuteHooks() to through ClassNotFoundException and put a proper error message in the Driver.execute() otherwise it would be baffling for users what this class and why it is not found&lt;/li&gt;
	&lt;li&gt;in WriteEntity, is there a need to distinguish between local and dfs? As Joydeep pointed out, the file could be on some other file system (such as s3n). I think WriteEntity.d should be a URI or a string representation of URI and let the PreExecute script figure it out what it is.&lt;/li&gt;
	&lt;li&gt;equals() of Read and Write entities should check for NULLs.&lt;/li&gt;
	&lt;li&gt;is there a specific reason for input and output maps be LinkedHashSet?&lt;/li&gt;
	&lt;li&gt;can you include a negative testcase for non-existent preexecutehook class&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12705354" author="prasadc" created="Sun, 3 May 2009 00:24:03 +0000"  >&lt;p&gt;do you think it would be useful to pass the AST of the query?&lt;/p&gt;</comment>
                            <comment id="12705724" author="athusoo" created="Mon, 4 May 2009 20:15:24 +0000"  >&lt;p&gt;1. Not sure if we need hive.exec.pre.hooks in hive-default.xml. The HiveConf entry already defines an empty string as a default. Do you have any particular use case in mind which is not covered by that?&lt;/p&gt;

&lt;p&gt;2. Will add the error message and a negative test case&lt;br/&gt;
3. I agree passing the URI is useful, will change this to do that&lt;br/&gt;
4. Will add the null check to WriteEntity and ReadEntity&lt;br/&gt;
5. Set because we want this to not have duplicates. LinkedHashSet to make the order deterministic. Did you have anything else in mind?&lt;br/&gt;
6. Will fix the build stuff.&lt;/p&gt;</comment>
                            <comment id="12705741" author="athusoo" created="Mon, 4 May 2009 21:01:54 +0000"  >&lt;p&gt;This one fixes the error message and add a negative test. It also fixes the null check.&lt;/p&gt;

&lt;p&gt;The next patch will fix the other two issues, but I thought I might upload this one anyway for review.&lt;/p&gt;</comment>
                            <comment id="12705744" author="athusoo" created="Mon, 4 May 2009 21:05:38 +0000"  >&lt;p&gt;Also the change for dfs and non dfs files is much more involved. We make the dfs and local assumption thoughout the ql layer and we really do not maintain those as URLs. The local and dfs flag is set depending upon whether we are doing&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE DIRECTORY&lt;/p&gt;

&lt;p&gt;or &lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE LOCAL DIRECTORY.&lt;/p&gt;

&lt;p&gt;We will have to fix that semantics and language constructs before we can address this more holistically. I suggest we file a separate JIRA for that.&lt;/p&gt;</comment>
                            <comment id="12705806" author="athusoo" created="Mon, 4 May 2009 22:44:45 +0000"  >&lt;p&gt;Fixed build.xml. The class is only needed in ql and hwi tests.&lt;/p&gt;</comment>
                            <comment id="12705839" author="athusoo" created="Tue, 5 May 2009 00:12:05 +0000"  >&lt;p&gt;Fixed a bug with &quot;&quot; string as the hooks string.&lt;br/&gt;
Added a test case for this.&lt;br/&gt;
Also added the description to hive-default.xml as Prasad suggested.&lt;/p&gt;</comment>
                            <comment id="12705840" author="athusoo" created="Tue, 5 May 2009 00:13:44 +0000"  >&lt;p&gt;Updated to latest tree.&lt;/p&gt;</comment>
                            <comment id="12705853" author="athusoo" created="Tue, 5 May 2009 01:09:44 +0000"  >&lt;p&gt;Fixed the new test failures.&lt;/p&gt;</comment>
                            <comment id="12705863" author="prasadc" created="Tue, 5 May 2009 02:02:26 +0000"  >&lt;p&gt;some tests are failing because they don&apos;t have the latest output including the query&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Tests run: 233, Failures: 6, Errors: 0, Time elapsed: 2,112.817 sec
    [junit] Tests run: 47, Failures: 2, Errors: 0, Time elapsed: 80.344 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12706020" author="athusoo" created="Tue, 5 May 2009 13:27:26 +0000"  >&lt;p&gt;Fixed new tests.&lt;/p&gt;</comment>
                            <comment id="12706108" author="prasadc" created="Tue, 5 May 2009 17:06:51 +0000"  >&lt;p&gt;I am getting this error now&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;test:
    [junit] Running org.apache.hadoop.hive.jdbc.TestJdbcDriver
    [junit] Hive history file=/data/users/pchakka/workspace/oshive3/jdbc/../build/ql/tmp/hive_job_log_pchakka_200905050933_38182557.txt
    [junit] Hive history file=/data/users/pchakka/workspace/oshive3/jdbc/../build/ql/tmp/hive_job_log_pchakka_200905050933_1469267334.txt
    [junit] Pre Exec Hook &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; not found:org.apache.hadoop.hive.ql.hooks.PreExecutePrinter
    [junit] FAILED: Unknown exception : org.apache.hadoop.hive.ql.hooks.PreExecutePrinter
    [junit] Pre Exec Hook &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; not found:org.apache.hadoop.hive.ql.hooks.PreExecutePrinter
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 4.225 sec
    [junit] FAILED: Unknown exception : org.apache.hadoop.hive.ql.hooks.PreExecutePrinter
    [junit] Test org.apache.hadoop.hive.jdbc.TestJdbcDriver FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12706188" author="athusoo" created="Tue, 5 May 2009 20:40:50 +0000"  >&lt;p&gt;Ok. one more time. I hope I have not screwed up this time.. sorry for all these patches..&lt;/p&gt;</comment>
                            <comment id="12706227" author="prasadc" created="Tue, 5 May 2009 22:17:39 +0000"  >&lt;p&gt;Committed to Trunk. Thanks Ashish.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12407093" name="patch-463.txt" size="562721" author="athusoo" created="Sat, 2 May 2009 18:36:35 +0000"/>
                            <attachment id="12407178" name="patch-463_2.txt" size="573924" author="athusoo" created="Mon, 4 May 2009 21:01:54 +0000"/>
                            <attachment id="12407192" name="patch-463_3.txt" size="574254" author="athusoo" created="Mon, 4 May 2009 22:44:45 +0000"/>
                            <attachment id="12407198" name="patch-463_4.txt" size="581158" author="athusoo" created="Tue, 5 May 2009 00:12:05 +0000"/>
                            <attachment id="12407199" name="patch-463_5.txt" size="581158" author="athusoo" created="Tue, 5 May 2009 00:13:44 +0000"/>
                            <attachment id="12407203" name="patch-463_6.txt" size="602239" author="athusoo" created="Tue, 5 May 2009 01:09:44 +0000"/>
                            <attachment id="12407238" name="patch-463_7.txt" size="587767" author="athusoo" created="Tue, 5 May 2009 13:27:26 +0000"/>
                            <attachment id="12407277" name="patch-463_8.txt" size="600104" author="athusoo" created="Tue, 5 May 2009 20:40:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 3 May 2009 00:22:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-464] add alter partition method to the meastore interface</title>
                <link>https://issues.apache.org/jira/browse/HIVE-464</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;add alter_partition() interface similar to that of alter_table()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424360">HIVE-464</key>
            <summary>add alter partition method to the meastore interface</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 May 2009 00:02:08 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:13 +0000</updated>
                            <resolved>Fri, 1 May 2009 01:30:34 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12704861" author="prasadc" created="Fri, 1 May 2009 00:12:46 +0000"  >&lt;p&gt;removed the old definition for alter_partition from metastore interface and added a new one along with the implementation.&lt;/p&gt;

&lt;p&gt;lot of code is generated so take a look at the specific files listed below&lt;/p&gt;

&lt;p&gt;hive_metastore.thrift&lt;br/&gt;
HiveMetaStore.java&lt;br/&gt;
ObjectStore.java&lt;br/&gt;
TestHiveMetaStore.java&lt;/p&gt;</comment>
                            <comment id="12704867" author="zshao" created="Fri, 1 May 2009 01:30:34 +0000"  >&lt;p&gt;Committed to trunk only. Thanks Prasad.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12424363">HIVE-465</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12406979" name="hive-464.patch" size="75780" author="prasadc" created="Fri, 1 May 2009 00:12:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 May 2009 01:30:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>51127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-464&quot; title=&quot;add alter partition method to the meastore interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-464&quot;&gt;&lt;strike&gt;HIVE-464&lt;/strike&gt;&lt;/a&gt;. Add alter partition method to the meastore interface. (Prasad Chakka via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-465] support alter partition from CLI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-465</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-464&quot; title=&quot;add alter partition method to the meastore interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-464&quot;&gt;&lt;del&gt;HIVE-464&lt;/del&gt;&lt;/a&gt; adds support for alter partition in metastore interface. this JIRA is to expose that interface through CLI similar to that of &apos;alter table ...&apos;&lt;/p&gt;

&lt;p&gt;@Prasad - not a blocker for 0.5&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424363">HIVE-465</key>
            <summary>support alter partition from CLI</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 May 2009 01:10:30 +0000</created>
                <updated>Thu, 8 Dec 2011 04:06:36 +0000</updated>
                            <resolved>Thu, 8 Dec 2011 04:06:36 +0000</resolved>
                                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13133620" author="ashutoshc" created="Sun, 23 Oct 2011 12:02:36 +0000"  >&lt;p&gt;Partitions can be resolved according to the ddl in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTable%2FPartitionStatements&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTable%2FPartitionStatements&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12424360">HIVE-464</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 23 Oct 2011 12:02:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-466] Fix queries like &quot;SELECT t.*, t.a&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-466</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There was a bug in the SemanticAnalyzer that adds the columnID for one more time for &quot;*&quot;.&lt;br/&gt;
This causes queries like this to fail:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table zshao_lazy (a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;// load one row of data into zshao_lazy
&lt;/span&gt;select * from (select *, a as a2 from zshao_lazy) z order by a2 limit 10;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The query will fail at execution time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424369">HIVE-466</key>
            <summary>Fix queries like &quot;SELECT t.*, t.a&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 May 2009 06:50:08 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:47 +0000</updated>
                            <resolved>Wed, 27 May 2009 01:03:58 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12704904" author="zshao" created="Fri, 1 May 2009 06:55:00 +0000"  >&lt;p&gt;Explain shows that the second SelectOperator are trying to access field 2, but there is only field 0 and field 1 from the first SelectOperator.&lt;br/&gt;
The reason is that when the first SelectOperator is analyzing &quot;*&quot;, it adds one more to the columnId, so the columnId of the second &quot;a&quot; becomes 2 instead of 1.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select * from (select *, a as a2 from zshao_lazy) z order by a2 limit 10;
ABSTRACT SYNTAX TREE:
  (TOK_QUERY (TOK_FROM (TOK_SUBQUERY (TOK_QUERY (TOK_FROM (TOK_TABREF zshao_lazy)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF) (TOK_SELEXPR (TOK_COLREF a) a2)))) z)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_ORDERBY (TOK_COLREF a2)) (TOK_LIMIT 10)))

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        z:zshao_lazy
            Select Operator
              expressions:
                    expr: a
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                    expr: a
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              Select Operator
                expressions:
                      expr: 0
                      type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                      expr: 2
                      type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                Reduce Output Operator
                  key expressions:
                        expr: 1
                        type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                  sort order: +
                  tag: -1
                  value expressions:
                        expr: 0
                        type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
                        expr: 1
                        type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
      Reduce Operator Tree:
        Extract
          Limit
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
              GlobalTableId: 0
              table:
                  input format: org.apache.hadoop.mapred.TextInputFormat
                  output format: org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: 10


Time taken: 8.681 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12704908" author="zshao" created="Fri, 1 May 2009 07:09:21 +0000"  >&lt;p&gt;This includes some fixed tests, as well as a new test.&lt;/p&gt;

&lt;p&gt;The genSelectPlan() method is refactored so that we removed the duplicate code for processing of the expressions in &quot;select&quot; and &quot;select transform&quot;. This makes future changes much easier (e.g., &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-240&quot; title=&quot;command to create table if not exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-240&quot;&gt;&lt;del&gt;HIVE-240&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12713354" author="zshao" created="Wed, 27 May 2009 01:03:58 +0000"  >&lt;p&gt;The fix is already committed as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-420&quot; title=&quot;Support regular expressions for column in select clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-420&quot;&gt;&lt;del&gt;HIVE-420&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12422910">HIVE-420</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12406990" name="HIVE-466.1.patch" size="20673" author="zshao" created="Fri, 1 May 2009 07:09:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-467] Scratch data location should be on different filesystems for different types of intermediate data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-467</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently Hive uses the same scratch directory/path for all sorts of temporary and intermediate data. This is problematic:&lt;/p&gt;

&lt;p&gt;1. Temporary location for writing out DDL output should just be temp file on local file system. This divorces the dependence of metadata and browsing operations on a functioning hadoop cluster.&lt;br/&gt;
2. Temporary location of intermediate map-reduce data should be the default file system (which is typically the hdfs instance on the compute cluster)&lt;br/&gt;
3. Temporary location for data that needs to be &apos;moved&apos; into tables should be on the same file system as the table&apos;s location (table&apos;s location may not be same as hdfs instance of processing cluster).&lt;/p&gt;

&lt;p&gt;ie. - local storage, map-reduce intermediate storage and table storage should be distinguished. Without this distinction - using hive on environments like S3/EC2 causes problems. In such an environment - i would like to be able to:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;do metadata operations without a provisioned hadoop cluster (using data stored in S3 and metastore on local disk)&lt;/li&gt;
	&lt;li&gt;attach to a provisioned hadoop cluster and run queries&lt;/li&gt;
	&lt;li&gt;store data back in tables that are created over s3 file system&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;S3/EC2&lt;/p&gt;</environment>
        <key id="12424438">HIVE-467</key>
            <summary>Scratch data location should be on different filesystems for different types of intermediate data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 May 2009 03:03:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:38 +0000</updated>
                            <resolved>Thu, 28 May 2009 19:41:51 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12706714" author="jsensarma" created="Thu, 7 May 2009 04:12:11 +0000"  >&lt;p&gt;first try. need to add some tests (the only thing i can think of right now is making sure that explain and other statements work with invalid hdfs file system setting). if minimr is there - can write better tests.&lt;/p&gt;

&lt;p&gt;i haven&apos;t been able to make select * work without hdfs (since the map operator/intermediate dir are optimized away later after they have already been created). need some ideas on this as well.&lt;/p&gt;</comment>
                            <comment id="12708997" author="jsensarma" created="Wed, 13 May 2009 16:33:19 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;takes care of the issues mentioned here - consolidates all temp file logic into one place with different policies for local/MR/external storage&lt;br/&gt;
a) DDL/Explain operations only require local storage - tests for the same included.&lt;br/&gt;
b) insert operations write to tmp storage on file system of target. ie. if the destination is an external table on s3 - we will write to tmp storage on s3 and then move to target. unfortunately - can&apos;t think of a way to test this since don&apos;t have two functioning file systems&lt;br/&gt;
c) all else get MR intermediate storage.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;fixed a problem with external partitions where insert overwrites into an external partition were not using the external location (but the default location). test for this is included.&lt;/p&gt;

&lt;p&gt;review appreciated - i would like to publish a recipe for working against s3 storage and can&apos;t really do without this.&lt;/p&gt;</comment>
                            <comment id="12709248" author="jsensarma" created="Thu, 14 May 2009 02:32:59 +0000"  >&lt;p&gt;retry - previous attachment was bogus&lt;/p&gt;</comment>
                            <comment id="12709261" author="prasadc" created="Thu, 14 May 2009 04:13:05 +0000"  >&lt;p&gt;Good catch about overwriting external partitions. But that might undo the fix where partition dir can get created a little bit before the actual data is moved (in replaceFiles()). so down stream processes can start before data is moved.&lt;/p&gt;



&lt;p&gt;HiveMetaStore.java:~289 remove System.out.println(tblPath.toString());&lt;br/&gt;
insertexternal1.q: create and alter can be replaced with one stmt. create external table texternal(key string, val string) partitioned by (insertdate string) location &apos;file:///tmp/texternal/2008-01-01&apos;;&lt;br/&gt;
Hive.java: replaceFiles() &amp;#8211; look at the fix for 488&lt;/p&gt;

&lt;p&gt;I am going to let others review the scratch dir related stuff.&lt;/p&gt;</comment>
                            <comment id="12709740" author="jsensarma" created="Fri, 15 May 2009 06:45:05 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;contains one more fix in ExecDriver where addinputpaths was not using the right filesystem&lt;/li&gt;
	&lt;li&gt;removed the system.out.println&lt;/li&gt;
	&lt;li&gt;don&apos;t want to change insertexternal - i wanted the test to specifically cover the case where the partition location is specified to external fs (and the table isn&apos;t - which means it has a default location). the suggested test would have actually passed the old code.&lt;/li&gt;
	&lt;li&gt;Fixed Hive.java to not create partition first.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;i didn&apos;t read carefully through 488 and other jiras. it seems that hive.java&apos;s behavior is exactly the way it is in trunk now except handling the external partition case correctly. if there are other issues with the current code path - we can fix them through a separate jira?&lt;/p&gt;</comment>
                            <comment id="12709859" author="prasadc" created="Fri, 15 May 2009 14:52:27 +0000"  >&lt;p&gt;&amp;gt; with the current code path - we can fix them through a separate jira?&lt;br/&gt;
i just wanted partition to be not  created until data has been moved.&lt;/p&gt;

&lt;p&gt;the load part and the metastore part looks good to me.&lt;/p&gt;</comment>
                            <comment id="12709901" author="jsensarma" created="Fri, 15 May 2009 16:40:40 +0000"  >&lt;p&gt;&amp;gt; i just wanted partition to be not created until data has been moved. &lt;/p&gt;

&lt;p&gt;cool - that&apos;s taken care of .. (although not sure we can test without some kind of fault injection code).&lt;/p&gt;</comment>
                            <comment id="12710066" author="jsensarma" created="Sat, 16 May 2009 04:14:37 +0000"  >&lt;p&gt;would be great if someone could review the rest of the patch. some javadocs were missing on the new public apis - attaching another one.&lt;/p&gt;

&lt;p&gt;he changes are relatively trivial - they just consolidate all the tmp file logic in one place and provide four public api calls from Context.java:&lt;/p&gt;

&lt;p&gt;  public boolean isMRTmpFileURI(String uriStr)&lt;br/&gt;
  public String getMRTmpFileURI() &lt;br/&gt;
  public String getLocalTmpFileURI()   &lt;br/&gt;
  public String getExternalTmpFileURI(URI extURI)&lt;/p&gt;

&lt;p&gt;the semantics are obvious. Context.java is also simplified to not be a reusable object. There are a small number of indent only changes in BaseSemanticAnalyzer.java. Quite a bit of code reduction across the different parts of the compiler that had their own tmp file allocation logic. &lt;/p&gt;
</comment>
                            <comment id="12711914" author="rsm" created="Fri, 22 May 2009 01:26:33 +0000"  >&lt;p&gt;The diff looks good. However, there are several space issues - there should be a space after &apos;if&apos; and &apos;for&apos;. once you fix those, i can commit after running tests.&lt;/p&gt;</comment>
                            <comment id="12712891" author="jsensarma" created="Tue, 26 May 2009 07:34:31 +0000"  >&lt;p&gt;fixed the space issues and resubmitted.&lt;/p&gt;</comment>
                            <comment id="12713356" author="rsm" created="Wed, 27 May 2009 01:13:49 +0000"  >&lt;p&gt;looks good. will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="12713747" author="jsensarma" created="Wed, 27 May 2009 21:21:36 +0000"  >&lt;p&gt;the Trash constructor i was using was only available in 19.2 onwards. fixed and made sure the patch compiles with all hadoop 17/18/19&lt;/p&gt;</comment>
                            <comment id="12714127" author="rsm" created="Thu, 28 May 2009 19:41:51 +0000"  >&lt;p&gt;Committed. Thanks Joydeep!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408231" name="hive-467.3.patch" size="77419" author="jsensarma" created="Fri, 15 May 2009 06:45:05 +0000"/>
                            <attachment id="12408306" name="hive-467.4.patch" size="78766" author="jsensarma" created="Sat, 16 May 2009 04:14:37 +0000"/>
                            <attachment id="12409003" name="hive-467.5.patch" size="78608" author="jsensarma" created="Tue, 26 May 2009 07:24:50 +0000"/>
                            <attachment id="12409210" name="hive-467.6.patch" size="78940" author="jsensarma" created="Wed, 27 May 2009 21:21:36 +0000"/>
                            <attachment id="12407420" name="hive-467.patch.1" size="55774" author="jsensarma" created="Thu, 7 May 2009 04:12:11 +0000"/>
                            <attachment id="12408095" name="hive-467.patch.2" size="76035" author="jsensarma" created="Thu, 14 May 2009 02:32:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2009 04:13:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-468] add link to hive training from getting started section</title>
                <link>https://issues.apache.org/jira/browse/HIVE-468</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hey Zheng, wanted to move this email thread to JIRA since I will be out of town for the next week.&lt;/p&gt;

&lt;p&gt;Here&apos;s the thread we started last week.&lt;/p&gt;

&lt;p&gt;--------------&lt;br/&gt;
On Thu, Apr 23, 2009 at 1:42 PM, Zheng Shao &amp;lt;zshao9@gmail.com&amp;gt; wrote:&lt;br/&gt;
That&apos;s a good idea. I will add the links.&lt;/p&gt;

&lt;p&gt;Zheng&lt;/p&gt;

&lt;p&gt;On Thu, Apr 23, 2009 at 1:38 PM, Christophe Bisciglia &amp;lt;christophe@cloudera.com&amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;    Hi Zheng, how have you been?&lt;/p&gt;

&lt;p&gt;    I wanted to ask if you would be interested in linking to our Hive&lt;br/&gt;
    training videos/exercises on the hadoop.apache.org/hive page in the&lt;br/&gt;
    &quot;getting started&quot; section. We just finished videos for Pig, and the Y!&lt;br/&gt;
    team will be doing the same, so I figure it probably makes sense for&lt;br/&gt;
    Hive as well - an god forbid there be more resources for Pig on the&lt;br/&gt;
    apache pages &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    Therese are the videos I&apos;m talking about:&lt;br/&gt;
    &lt;a href=&quot;http://www.cloudera.com/hadoop-training-hive-introduction&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cloudera.com/hadoop-training-hive-introduction&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;http://www.cloudera.com/hadoop-training-hive-tutorial&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cloudera.com/hadoop-training-hive-tutorial&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The first one is a lecture, and the second walks through using Hive.&lt;br/&gt;
    We also provide a virtual machine so people can just start with a&lt;br/&gt;
    preconfigured environment. I figure this is a good way to lay the&lt;br/&gt;
    ground works so we can stay in sync and ensure that Cloudera always&lt;br/&gt;
    has up to date training for Hive.&lt;/p&gt;

&lt;p&gt;    Cheers,&lt;br/&gt;
    Christophe&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424441">HIVE-468</key>
            <summary>add link to hive training from getting started section</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="christophe@cloudera.com">Christophe Bisciglia</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 May 2009 05:14:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:28 +0000</updated>
                            <resolved>Sun, 3 May 2009 12:03:07 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12705228" author="christophe@cloudera.com" created="Sat, 2 May 2009 05:18:32 +0000"  >&lt;p&gt;Thanks for your mail. I am currently on vacation and will be slow to&lt;br/&gt;
respond to email. If you need more immediate response, please use the&lt;br/&gt;
following contacts:&lt;/p&gt;

&lt;p&gt;For Sales and Contract related issues, please contact Mike Olson:&lt;br/&gt;
mike.olson@cloudera.com&lt;/p&gt;

&lt;p&gt;For Support and Training, please contact support@cloudera.com or&lt;br/&gt;
training@cloudera.com&lt;/p&gt;

&lt;p&gt;If it is urgent, please send sms to my mobile: +16503803488&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
get hadoop: cloudera.com/hadoop&lt;br/&gt;
online training: cloudera.com/hadoop-training&lt;br/&gt;
blog: cloudera.com/blog&lt;br/&gt;
twitter: twitter.com/cloudera&lt;/p&gt;</comment>
                            <comment id="12705411" author="christophe@cloudera.com" created="Sun, 3 May 2009 12:03:07 +0000"  >&lt;p&gt;zheng actually already did this on the wiki... please pardon the extra mail / jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-469] empty files are not handled properly </title>
                <link>https://issues.apache.org/jira/browse/HIVE-469</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;empty files are not handled properly.&lt;/p&gt;

&lt;p&gt;The job fails if a union is performed on a sub-query with a empty partition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424563">HIVE-469</key>
            <summary>empty files are not handled properly </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 May 2009 22:33:22 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:19 +0000</updated>
                            <resolved>Mon, 18 May 2009 23:51:05 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12707395" author="namit" created="Fri, 8 May 2009 16:15:29 +0000"  >&lt;p&gt;incorporated ashish&apos;s comments&lt;/p&gt;</comment>
                            <comment id="12707409" author="namit" created="Fri, 8 May 2009 16:42:28 +0000"  >&lt;p&gt;As part of this, changed nullgroup3.q to drop the tables at the end - it was leading to some intermittent problems for other tests&lt;/p&gt;</comment>
                            <comment id="12708216" author="athusoo" created="Mon, 11 May 2009 20:53:45 +0000"  >&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Will run the tests and check in if they succeed.&lt;/p&gt;</comment>
                            <comment id="12709934" author="athusoo" created="Fri, 15 May 2009 19:18:55 +0000"  >&lt;p&gt;I am not able to apply this patch in 0.3 branch. Can you generate another one for 0.3? Will also try on my end.&lt;/p&gt;</comment>
                            <comment id="12709940" author="athusoo" created="Fri, 15 May 2009 19:33:51 +0000"  >&lt;p&gt;A bunch of classes that are needed in addInputPath are not there in 0.3, so I think we will have to generate a new patch for 0.3 or agree to not fix this in 0.3. I do feel that this is important enough that we should get a fix for this issue in 0.3.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12710415" author="namit" created="Mon, 18 May 2009 17:41:49 +0000"  >&lt;p&gt;I dont think we need it in 0.3 - it is a pretty esoteric case.&lt;br/&gt;
Did you already merge it in trunk ?&lt;/p&gt;</comment>
                            <comment id="12710543" author="athusoo" created="Mon, 18 May 2009 23:50:40 +0000"  >&lt;p&gt;I already merged it into trunk. Will mark this as fixed.&lt;/p&gt;</comment>
                            <comment id="12710544" author="athusoo" created="Mon, 18 May 2009 23:51:05 +0000"  >&lt;p&gt;committed. Thanks Namit!!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12426679">HIVE-524</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12407197" name="hive.469.1.patch" size="23459" author="namit" created="Tue, 5 May 2009 00:07:39 +0000"/>
                            <attachment id="12407629" name="hive.469.2.patch" size="36213" author="namit" created="Fri, 8 May 2009 16:15:29 +0000"/>
                            <attachment id="12407635" name="hive.469.3.patch" size="36681" author="namit" created="Fri, 8 May 2009 16:42:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 May 2009 20:53:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-470] Support COALESCE using GenericUDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-470</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-164&quot; title=&quot;Support CASE statement using GenericUDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-164&quot;&gt;&lt;del&gt;HIVE-164&lt;/del&gt;&lt;/a&gt; for details. We should support COALESCE which is defined in SQL-92. This is kind of a syntax sugar, but it is used very frequently in full outer joins.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424572">HIVE-470</key>
            <summary>Support COALESCE using GenericUDF</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 01:18:57 +0000</created>
                <updated>Thu, 2 May 2013 02:29:24 +0000</updated>
                            <resolved>Fri, 12 Jun 2009 00:13:59 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12716105" author="zshao" created="Thu, 4 Jun 2009 00:13:00 +0000"  >&lt;p&gt;This patch includes the code, one positive test and one negative test.&lt;/p&gt;</comment>
                            <comment id="12716123" author="prasadc" created="Thu, 4 Jun 2009 01:34:31 +0000"  >&lt;p&gt;i don&apos;t see a test for all NULL args for COALESCE. MySQL supports that.&lt;/p&gt;</comment>
                            <comment id="12716125" author="prasadc" created="Thu, 4 Jun 2009 01:37:31 +0000"  >&lt;p&gt;also might want to remove @override tags which seem to be causing issues in some environments.&lt;/p&gt;</comment>
                            <comment id="12717882" author="zshao" created="Wed, 10 Jun 2009 01:20:19 +0000"  >&lt;p&gt;This patch adds a case in which both arguments are NULL.&lt;br/&gt;
We don&apos;t support COALESCE(NULL, NULL) because COALESCE cannot figure out the return type.&lt;/p&gt;

&lt;p&gt;I didn&apos;t remove &quot;@Override&quot;. We have enough code that has this &quot;@Override&quot; for interface methods (supported by Java 1.6 but not Java 1.5)&lt;/p&gt;</comment>
                            <comment id="12718557" author="prasadc" created="Thu, 11 Jun 2009 17:03:05 +0000"  >&lt;p&gt;I don&apos;t see the new test case for COALESCE(NULL, NULL).&lt;/p&gt;

&lt;p&gt;how does mysql support it? does it type NULL to whatever type the rest of query expects it to be there in that column?&lt;/p&gt;</comment>
                            <comment id="12718567" author="namit" created="Thu, 11 Jun 2009 17:31:05 +0000"  >&lt;p&gt;Can you add a test where you are selecting from a table which contains null columns ?&lt;/p&gt;</comment>
                            <comment id="12718628" author="zshao" created="Thu, 11 Jun 2009 20:29:04 +0000"  >&lt;p&gt;Added a query from table.&lt;/p&gt;</comment>
                            <comment id="12718654" author="namit" created="Thu, 11 Jun 2009 22:10:08 +0000"  >&lt;p&gt;+1&lt;br/&gt;
looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12718675" author="namit" created="Fri, 12 Jun 2009 00:13:59 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12404780">HIVE-45</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12409829" name="HIVE-470.1.patch" size="11268" author="zshao" created="Thu, 4 Jun 2009 00:13:00 +0000"/>
                            <attachment id="12410268" name="HIVE-470.2.patch" size="11618" author="zshao" created="Wed, 10 Jun 2009 01:20:19 +0000"/>
                            <attachment id="12410426" name="HIVE-470.3.patch" size="14275" author="zshao" created="Thu, 11 Jun 2009 20:29:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Jun 2009 01:34:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-471] Add reflect() UDF for reflective invocation of Java methods</title>
                <link>https://issues.apache.org/jira/browse/HIVE-471</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are many methods in java that are static and have no arguments or can be invoked with one simple parameter. More complicated functions will require a UDF but one generic one can work as a poor-mans UDF.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT reflect(&quot;java.lang.String&quot;, &quot;valueOf&quot;, 1), reflect(&quot;java.lang.String&quot;, &quot;isEmpty&quot;)
FROM src LIMIT 1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12424573">HIVE-471</key>
            <summary>Add reflect() UDF for reflective invocation of Java methods</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 01:35:47 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:22 +0000</updated>
                            <resolved>Mon, 30 Aug 2010 04:35:05 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12705859" author="appodictic" created="Tue, 5 May 2009 01:38:34 +0000"  >&lt;p&gt;Patch implements basic reflection features.&lt;/p&gt;</comment>
                            <comment id="12705860" author="appodictic" created="Tue, 5 May 2009 01:39:06 +0000"  >&lt;p&gt;Patch adds basic features.&lt;/p&gt;</comment>
                            <comment id="12706196" author="athusoo" created="Tue, 5 May 2009 21:04:24 +0000"  >&lt;p&gt;nice idea. I like the concept.&lt;/p&gt;

&lt;p&gt;You probably should use GenericUDF framework instead of the UDF framework. That way you will be easily able to pass variable number of arguments to the function.&lt;/p&gt;</comment>
                            <comment id="12707666" author="zshao" created="Sat, 9 May 2009 13:41:32 +0000"  >&lt;p&gt;One thing for improvement is that the reflection should NOT be done on a per-row basis. We should do it once and save the Method (on the first invocation).&lt;/p&gt;</comment>
                            <comment id="12722833" author="appodictic" created="Mon, 22 Jun 2009 21:14:06 +0000"  >&lt;p&gt;I updated the reflection UDF to attempt to use GenericUDF. &lt;/p&gt;

&lt;p&gt;I have a couple questions and I can use suggestions:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;     Text t = new Text();
      t.set(&quot;&quot;+result);
      return t;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am currently doing this. I was under the impression that a GenericUDF can return anything. However my return is based on the output of reflection. It could be any type including void. How can I control the return type.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;reflect(&quot;java.lang.String&quot;, &quot;valueOf&quot;, 1)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case the reflection fails because of a Hive conversion.&lt;br/&gt;
 no method java.lang.NoSuchMethodException: java.lang.String.valueOf(org.apache.hadoop.io.IntWritable)&lt;/p&gt;

&lt;p&gt;Should I write a function to do some auto boxing? If so, is there any predefined conversions I can use as a guide? What types can I expect and so on?&lt;/p&gt;</comment>
                            <comment id="12739965" author="athusoo" created="Thu, 6 Aug 2009 09:43:22 +0000"  >&lt;p&gt;Sorry in the delay in responding. Zheng would be able to give you better answers here.&lt;/p&gt;

&lt;p&gt;For the error that you are getting I think you have to end up using ObjectInspectorConvertors I think but Zheng can confirm. &lt;/p&gt;

&lt;p&gt;For different return type you could take a look at the GenericUDFCase.java and look at how it defines ReturnObjectInspectorResolver. Similar to that you could have a ReflectionObjectInspectorResolver which returns the proper ObjectInspector corresponding to the return type.&lt;/p&gt;

&lt;p&gt;ObjectInspectors essentially encode the type and the in memory formats of the object. Let us know if you  are able to make progress by following GenericUDFCase.java.&lt;/p&gt;</comment>
                            <comment id="12793696" author="namit" created="Tue, 22 Dec 2009 18:05:36 +0000"  >&lt;p&gt;It would be good to get it in - but it is not a blocker for 0.5&lt;/p&gt;</comment>
                            <comment id="12829516" author="zshao" created="Thu, 4 Feb 2010 07:57:32 +0000"  >&lt;p&gt;Hi Edward, I modified your patch to make it work.&lt;/p&gt;

&lt;p&gt;Can you take a look and let me know any questions? It will be great to add enough comments in the code to make it clear to other developers.&lt;/p&gt;
</comment>
                            <comment id="12830431" author="pauly" created="Sat, 6 Feb 2010 02:25:58 +0000"  >&lt;p&gt;Question about the patch - for className and methodName in evaluate(), it looks like we are making a copy of the object and the object inspector so we can use ObjectInspectorUtils.compare(). But since we know that the class name and method name arguments are inspectable by a  StringObjectInspector, can&apos;t we save the the name of the class/method as a java string and check for equality with &apos;==&apos;? &lt;/p&gt;</comment>
                            <comment id="12831584" author="zshao" created="Tue, 9 Feb 2010 18:46:06 +0000"  >&lt;p&gt;In most cases, the class name/method name will be passed in as a Text (StringWritable) or a Java String (there can be other cases but relatively rare).&lt;br/&gt;
Also, the class name/method name usually do not change.&lt;/p&gt;

&lt;p&gt;With the current implementation, we avoid doing object creation for most of the time (the only function called is ObjectInspectorUtils.compare()).&lt;br/&gt;
If we convert the name to String and compare with String.equals, then we have to do an object conversion (which may involve object creation) for each of the rows.&lt;/p&gt;

&lt;p&gt;I will add these as the comments in the code. Thanks for asking. That&apos;s a good question to answer in the code comments.&lt;/p&gt;</comment>
                            <comment id="12831586" author="zshao" created="Tue, 9 Feb 2010 18:52:10 +0000"  >&lt;p&gt;This patch adds comments to explain why we use ObjectInspectorUtils.compare(...).&lt;/p&gt;</comment>
                            <comment id="12831590" author="appodictic" created="Tue, 9 Feb 2010 18:59:55 +0000"  >&lt;p&gt;@Zheng,&lt;/p&gt;

&lt;p&gt;Thank you for following up on this UDF. my version internally but this version looks/ is superior in most ways. I will test it out and do my own commit. I will also add the annotations I think all the UDF&apos;s need.&lt;/p&gt;

&lt;p&gt;Ed&lt;/p&gt;</comment>
                            <comment id="12831627" author="pauly" created="Tue, 9 Feb 2010 19:50:45 +0000"  >&lt;p&gt;Got it, thanks for the clarification. Other than that, the patch looks good.&lt;/p&gt;</comment>
                            <comment id="12832120" author="zshao" created="Wed, 10 Feb 2010 18:46:54 +0000"  >&lt;p&gt;Thanks Paul and Edward.&lt;br/&gt;
Edward, please proceed with the annotations and commit when you get time.&lt;/p&gt;</comment>
                            <comment id="12844990" author="appodictic" created="Sun, 14 Mar 2010 00:03:16 +0000"  >&lt;p&gt;Patch adds apache header, adds annotations for description, adds annotation for Deterministic=false&lt;/p&gt;</comment>
                            <comment id="12847398" author="appodictic" created="Fri, 19 Mar 2010 15:21:30 +0000"  >&lt;p&gt;Can we go +1 on this? I have three sets of UDFs I want to follow up with and since they all share the FunctionRegistry.java. They will all conflict.&lt;/p&gt;</comment>
                            <comment id="12870478" author="appodictic" created="Mon, 24 May 2010 00:43:19 +0000"  >&lt;p&gt;Should be good for trunk.&lt;/p&gt;</comment>
                            <comment id="12870764" author="pauly" created="Mon, 24 May 2010 18:30:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12870771" author="namit" created="Mon, 24 May 2010 18:43:20 +0000"  >&lt;p&gt;Will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12870775" author="namit" created="Mon, 24 May 2010 18:45:27 +0000"  >&lt;p&gt;@Edward, can you regenerate the patch - I am getting some conflicts ?&lt;/p&gt;</comment>
                            <comment id="12870778" author="pauly" created="Mon, 24 May 2010 18:46:37 +0000"  >&lt;p&gt;Almost forgot this one - show_functions.q will fail because we added a new function. @Edward, can you re-run show_functions.q and overwrite the test output?&lt;/p&gt;</comment>
                            <comment id="12902583" author="namit" created="Wed, 25 Aug 2010 19:07:32 +0000"  >&lt;p&gt;@Edward, can you regenerate the patch - this has been hanging for a long time, and we should try to get it in &lt;/p&gt;</comment>
                            <comment id="12902607" author="appodictic" created="Wed, 25 Aug 2010 20:05:07 +0000"  >&lt;p&gt;Almost two years in the making!&lt;/p&gt;</comment>
                            <comment id="12902703" author="namit" created="Wed, 25 Aug 2010 23:48:29 +0000"  >&lt;p&gt;Yes, probably the longest time for a patch.&lt;/p&gt;

&lt;p&gt;Few minor comments:&lt;/p&gt;

&lt;p&gt;1. Can you add test for desc and desc extended reflect ?&lt;br/&gt;
2. Can you add some negative test cases - the function does not exist, the parameters are wrong ..?&lt;/p&gt;
</comment>
                            <comment id="12902883" author="appodictic" created="Thu, 26 Aug 2010 14:50:26 +0000"  >&lt;p&gt;@Namit,&lt;br/&gt;
I thought we were getting rid of negative tests. Am I misinformed?&lt;/p&gt;</comment>
                            <comment id="12902928" author="namit" created="Thu, 26 Aug 2010 16:49:50 +0000"  >&lt;p&gt;@Edward, negative tests are good. We are still adding a lot of them&lt;/p&gt;</comment>
                            <comment id="12903987" author="namit" created="Sun, 29 Aug 2010 16:47:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12904081" author="namit" created="Mon, 30 Aug 2010 04:35:05 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12494484">HIVE-1877</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12434792" name="HIVE-471.1.patch" size="16465" author="zshao" created="Thu, 4 Feb 2010 07:57:32 +0000"/>
                            <attachment id="12435325" name="HIVE-471.2.patch" size="16719" author="zshao" created="Tue, 9 Feb 2010 18:52:10 +0000"/>
                            <attachment id="12438725" name="HIVE-471.3.patch" size="17913" author="appodictic" created="Sun, 14 Mar 2010 00:03:16 +0000"/>
                            <attachment id="12449510" name="HIVE-471.4.patch" size="18285" author="appodictic" created="Thu, 15 Jul 2010 00:44:58 +0000"/>
                            <attachment id="12453072" name="HIVE-471.5.patch" size="18234" author="appodictic" created="Wed, 25 Aug 2010 20:05:07 +0000"/>
                            <attachment id="12453366" name="HIVE-471.6.patch.txt" size="23098" author="appodictic" created="Sun, 29 Aug 2010 02:04:47 +0000"/>
                            <attachment id="12411456" name="hive-471-gen.diff" size="6647" author="appodictic" created="Mon, 22 Jun 2009 21:14:06 +0000"/>
                            <attachment id="12407205" name="hive-471.diff" size="4546" author="appodictic" created="Tue, 5 May 2009 01:38:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 May 2009 21:04:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-472] HiveFileFormatUtils&apos;s checkInputFormat does not include RCFile</title>
                <link>https://issues.apache.org/jira/browse/HIVE-472</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12424606">HIVE-472</key>
            <summary>HiveFileFormatUtils&apos;s checkInputFormat does not include RCFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 14:14:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:38 +0000</updated>
                            <resolved>Thu, 25 Jun 2009 01:01:23 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12706041" author="he yongqiang" created="Tue, 5 May 2009 14:20:06 +0000"  >&lt;p&gt;hive.472.1.patch adds the check of RCFile.&lt;/p&gt;

&lt;p&gt;If we get more and more FileFormats, we may need a more elegant method to do the check.&lt;/p&gt;</comment>
                            <comment id="12707044" author="athusoo" created="Thu, 7 May 2009 19:06:01 +0000"  >&lt;p&gt;Assigned.&lt;/p&gt;</comment>
                            <comment id="12707192" author="he yongqiang" created="Fri, 8 May 2009 00:35:00 +0000"  >&lt;p&gt;Thanks, Ashish.&lt;br/&gt;
This bug will cause insert overwrite into table XXX select YYY from table_rcfile not work.&lt;/p&gt;

&lt;p&gt;btw, once Hive-460 is resolved, i will start working on Hive-461. Before that, i would like to do some profiling, trying to find some optimization, taking a look at the hive&apos;s index and join(especially with small files).&lt;/p&gt;</comment>
                            <comment id="12716062" author="zshao" created="Wed, 3 Jun 2009 20:57:03 +0000"  >&lt;p&gt;@Yongqiang: I think this is a good time to move the checkFileFormat code from the utility to the InputFileFormat class. What do you think?&lt;/p&gt;</comment>
                            <comment id="12717117" author="he yongqiang" created="Mon, 8 Jun 2009 02:07:32 +0000"  >&lt;p&gt;Yes. It will be better if we can move this method out. But it has some problem since hive does not have its own InputFormat definition. &lt;br/&gt;
The input formats hive uses right now are mainly from hadoop core, such as SequenceFileInputFormat, IgnoreKeyFileInputFormat etc. And we can not add a validInput() to hadoop&apos;s input format classes.&lt;br/&gt;
One option is to create another class hierarchy (InputFormatChecker) in Hive parallized with FileFomat.&lt;br/&gt;
Another option is to keep the FileFormat&apos;s checkInputFormat, and check whether the input format argument has a method &quot;hiveValidInput&quot;. If find one, use it. And if not use the old logic in HiveFormatUtils. &lt;/p&gt;</comment>
                            <comment id="12717213" author="he yongqiang" created="Mon, 8 Jun 2009 09:56:48 +0000"  >&lt;p&gt;1) added a new interface InputFormatChecker&lt;br/&gt;
2) added a new SequenceFileInputFormatChecker implementing the newly added checker interface&lt;br/&gt;
3) let RCFileInputFormat implement the newly added checker interface&lt;/p&gt;

&lt;p&gt;It seems &apos;ant test&apos; can not successfully run with currently truck. So I did not run this patch on my local machine.&lt;/p&gt;</comment>
                            <comment id="12719573" author="he yongqiang" created="Mon, 15 Jun 2009 14:31:28 +0000"  >&lt;p&gt;Update a new patch, which passed tests in my local. The previous one has a null pointer exception.&lt;/p&gt;</comment>
                            <comment id="12722111" author="namit" created="Sat, 20 Jun 2009 01:22:37 +0000"  >&lt;p&gt;The changes look good but there are some tabs  - can you remove them and I will merge it in&lt;/p&gt;</comment>
                            <comment id="12722139" author="he yongqiang" created="Sat, 20 Jun 2009 05:01:44 +0000"  >&lt;p&gt;I use eclipse as the work env, and use two spaces instead of tabs.&lt;/p&gt;</comment>
                            <comment id="12722209" author="namit" created="Sat, 20 Jun 2009 15:44:19 +0000"  >&lt;p&gt;load_wrong_fileformat.q&lt;/p&gt;


&lt;p&gt;The above test is failing&lt;/p&gt;</comment>
                            <comment id="12722221" author="he yongqiang" created="Sat, 20 Jun 2009 17:26:25 +0000"  >&lt;p&gt;Namit, thanks for pointing the error query. I should throw an exception if a mismatch occured.&lt;br/&gt;
And the new patch added in two more testcases. &lt;/p&gt;</comment>
                            <comment id="12722725" author="namit" created="Mon, 22 Jun 2009 18:04:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The changes look good - I will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12723237" author="namit" created="Tue, 23 Jun 2009 18:24:41 +0000"  >&lt;p&gt;All the new tests are failing for me - you need to debug them&lt;/p&gt;</comment>
                            <comment id="12723404" author="he yongqiang" created="Wed, 24 Jun 2009 02:37:29 +0000"  >&lt;p&gt;Sorry, my fault. the previous patch does not include changes for MoveTask. I use the same workspace working on hive-472 and hive-560, and forgot to add MoveTask in the patch.&lt;br/&gt;
Please try the new one hive-472-2009-06-24.patch.  Again, sorry for taking your time on the wrong patch.&lt;br/&gt;
I think in order to reduce committer&apos;s time for reviewing and testing wrong patches( like the previous wrong one), we may need to let hudson to pick the patch and do the test.&lt;/p&gt;</comment>
                            <comment id="12723811" author="namit" created="Wed, 24 Jun 2009 23:57:26 +0000"  >&lt;p&gt;no problems - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12723836" author="namit" created="Thu, 25 Jun 2009 01:01:23 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410121" name="hive-472-2009-06-08.patch" size="9149" author="he yongqiang" created="Mon, 8 Jun 2009 09:56:48 +0000"/>
                            <attachment id="12410677" name="hive-472-2009-06-15.patch" size="9260" author="he yongqiang" created="Mon, 15 Jun 2009 14:31:28 +0000"/>
                            <attachment id="12411314" name="hive-472-2009-06-20-2.patch" size="14149" author="he yongqiang" created="Sat, 20 Jun 2009 17:26:25 +0000"/>
                            <attachment id="12411300" name="hive-472-2009-06-20.patch" size="9218" author="he yongqiang" created="Sat, 20 Jun 2009 05:01:44 +0000"/>
                            <attachment id="12411601" name="hive-472-2009-06-24.patch" size="14950" author="he yongqiang" created="Wed, 24 Jun 2009 02:37:29 +0000"/>
                            <attachment id="12407244" name="hive.472.1.patch" size="2363" author="he yongqiang" created="Tue, 5 May 2009 14:20:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 May 2009 19:06:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
