<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:19:37 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2013-12-17+AND+created+%3C%3D+2013-12-24+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1415] C++ binary encoder and decoder doesn&apos;t handle uninitialzed enums</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1415</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;When enums are not properly initialized and when they get encoded / decoded, C++ enum encoding and decoding traits don&apos;t check for uninitialed enums and it encodes the wrong values. When Java or C# tries to decode them, they throw out of boundary exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685091">AVRO-1415</key>
            <summary>C++ binary encoder and decoder doesn&apos;t handle uninitialzed enums</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ramanasv">Ramana Suvarapu</assignee>
                                    <reporter username="ramanasv">Ramana Suvarapu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Dec 2013 03:58:59 +0000</created>
                <updated>Fri, 28 Dec 2018 16:25:29 +0000</updated>
                            <resolved>Fri, 10 Jan 2014 07:13:35 +0000</resolved>
                                    <version>1.7.4</version>
                                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13850106" author="ramanasv" created="Tue, 17 Dec 2013 04:49:20 +0000"  >&lt;p&gt;Attached a patch to fix this problem&lt;/p&gt;</comment>
                            <comment id="13865058" author="thiru_mg" created="Wed, 8 Jan 2014 04:37:30 +0000"  >&lt;p&gt;Also added default (i.e. no-args) constructor for generated classes for records so that the enums are initialized properly even when the programmer fails to set the value explicitly.&lt;/p&gt;</comment>
                            <comment id="13866287" author="thiru_mg" created="Thu, 9 Jan 2014 03:57:15 +0000"  >&lt;p&gt;+1 except for a missing &lt;tt&gt;include&lt;/tt&gt; directive in the generated code. Attached is the modified patch which inserted the directive. Also, generated the patch from the top level folder, instead of from &lt;tt&gt;lang/c&amp;#43;&amp;#43;/impl&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this tomorrow, if there are no objections.&lt;/p&gt;</comment>
                            <comment id="13867572" author="jira-bot" created="Fri, 10 Jan 2014 07:11:18 +0000"  >&lt;p&gt;Commit 1557041 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thiru_mg&quot; class=&quot;user-hover&quot; rel=&quot;thiru_mg&quot;&gt;Thiruvalluvan M. G.&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557041&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1557041&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1415&quot; title=&quot;C++ binary encoder and decoder doesn&amp;#39;t handle uninitialzed enums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1415&quot;&gt;&lt;del&gt;AVRO-1415&lt;/del&gt;&lt;/a&gt;. C++ binary encoder and decoder doesn&apos;t handle uninitialzed enums&lt;/p&gt;</comment>
                            <comment id="13867578" author="thiru_mg" created="Fri, 10 Jan 2014 07:13:36 +0000"  >&lt;p&gt;Committed revision 1557041. Thank you Ramana&lt;/p&gt;</comment>
                            <comment id="13867598" author="hudson" created="Fri, 10 Jan 2014 07:41:04 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #424 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/424/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/424/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1415&quot; title=&quot;C++ binary encoder and decoder doesn&amp;#39;t handle uninitialzed enums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1415&quot;&gt;&lt;del&gt;AVRO-1415&lt;/del&gt;&lt;/a&gt;. C++ binary encoder and decoder doesn&apos;t handle uninitialzed enums (thiru: rev 1557041)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/impl/avrogencpp.cc&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/jsonschemas/empty_record&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/test/AvrogencppTests.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16730353" author="thiru_mg" created="Fri, 28 Dec 2018 16:25:29 +0000"  >&lt;p&gt;Closing issues that got resolved in earlier releases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12621916" name="AVRO-1415-2.patch" size="4826" author="thiru_mg" created="Wed, 8 Jan 2014 04:37:30 +0000"/>
                            <attachment id="12619033" name="AVRO-1415.patch" size="2059" author="ramanasv" created="Tue, 17 Dec 2013 04:48:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jan 2014 04:37:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364168</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qrrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1416] Minor patches to fix warnings with gcc 4.8, clang 3.3 and visual studio (old versions at least). </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1416</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove extra export symbols in Compiler.cc&lt;/li&gt;
	&lt;li&gt;add base class initializer of non copyable in copy constructor&lt;/li&gt;
	&lt;li&gt;suppress warning on unavoidable use of offsetof in test&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12685482">AVRO-1416</key>
            <summary>Minor patches to fix warnings with gcc 4.8, clang 3.3 and visual studio (old versions at least). </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drussel">Daniel Russel</assignee>
                                    <reporter username="drussel">Daniel Russel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Dec 2013 23:55:39 +0000</created>
                <updated>Wed, 2 Jan 2019 14:18:03 +0000</updated>
                            <resolved>Wed, 2 Jan 2019 14:18:03 +0000</resolved>
                                                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13853131" author="cutting" created="Thu, 19 Dec 2013 18:43:55 +0000"  >&lt;p&gt;This appears to have changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1414&quot; title=&quot;Compression with C++ DataFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1414&quot;&gt;&lt;del&gt;AVRO-1414&lt;/del&gt;&lt;/a&gt; mixed in?&lt;/p&gt;</comment>
                            <comment id="13853144" author="drussel" created="Thu, 19 Dec 2013 18:54:00 +0000"  >&lt;p&gt;Sorry, you are right. Uploading a new one.&lt;/p&gt;</comment>
                            <comment id="13853161" author="cutting" created="Thu, 19 Dec 2013 19:10:32 +0000"  >&lt;p&gt;Thiru, can you (or someone else more fluent in C++ than I am) please have a look at this?  Thanks!&lt;/p&gt;</comment>
                            <comment id="16732083" author="jira-bot" created="Wed, 2 Jan 2019 14:17:06 +0000"  >&lt;p&gt;Commit a296ebc8894ad52ae7c0946e635b93cadc709e70 in avro&apos;s branch refs/heads/master from Thiruvalluvan M. G.&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=avro.git;h=a296ebc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gitbox.apache.org/repos/asf?p=avro.git;h=a296ebc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #420 from thiru-apache/&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1416&quot; title=&quot;Minor patches to fix warnings with gcc 4.8, clang 3.3 and visual studio (old versions at least). &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1416&quot;&gt;&lt;del&gt;AVRO-1416&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fixed a few warnings in C++&lt;/p&gt;</comment>
                            <comment id="16732084" author="thiru_mg" created="Wed, 2 Jan 2019 14:18:03 +0000"  >&lt;p&gt;Applied the patch using github pull request. Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=drussel&quot; class=&quot;user-hover&quot; rel=&quot;drussel&quot;&gt;Daniel Russel&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619441" name="patch" size="14008" author="drussel" created="Wed, 18 Dec 2013 23:56:19 +0000"/>
                            <attachment id="12619621" name="patch.updated" size="2983" author="drussel" created="Thu, 19 Dec 2013 18:54:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Dec 2013 18:43:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qu5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1417] trevni-avro:hadoop2 depends on avro-mapred:hadoop1</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1417</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The problem is that classifiers are not propagated through the dependency tree, so &lt;tt&gt;org.apache.avro:trevni-avro:jar:hadoop2:1.7.5&lt;/tt&gt; will pull in &lt;tt&gt;org.apache.avro:avro-mapred:jar:hadoop1:1.7.5&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685788">AVRO-1417</key>
            <summary>trevni-avro:hadoop2 depends on avro-mapred:hadoop1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2013 11:14:20 +0000</created>
                <updated>Wed, 22 Jan 2014 10:10:35 +0000</updated>
                                                                            <component>build</component>
                    <component>trevni</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13853877" author="tomwhite" created="Fri, 20 Dec 2013 11:25:05 +0000"  >&lt;p&gt;The attached POM shows the problem.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn dependency:tree
...
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ trevni-bug ---
[INFO] org.example:trevni-bug:jar:1.0.0
[INFO] \- org.apache.avro:trevni-avro:jar:hadoop2:1.7.5:compile
[INFO]    +- org.apache.avro:trevni-core:jar:1.7.5:compile
[INFO]    |  +- org.xerial.snappy:snappy-java:jar:1.0.5:compile
[INFO]    |  \- org.apache.commons:commons-compress:jar:1.4.1:compile
[INFO]    |     \- org.tukaani:xz:jar:1.0:compile
[INFO]    +- org.apache.avro:avro-mapred:jar:hadoop1:1.7.5:compile
[INFO]    |  +- org.apache.avro:avro-ipc:jar:1.7.5:compile
[INFO]    |  |  +- org.apache.avro:avro:jar:1.7.5:compile
[INFO]    |  |  |  \- com.thoughtworks.paranamer:paranamer:jar:2.3:compile
[INFO]    |  |  +- org.mortbay.jetty:jetty:jar:6.1.26:compile
[INFO]    |  |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile
[INFO]    |  |  +- io.netty:netty:jar:3.4.0.Final:compile
[INFO]    |  |  +- org.apache.velocity:velocity:jar:1.7:compile
[INFO]    |  |  |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO]    |  |  |  \- commons-lang:commons-lang:jar:2.4:compile
[INFO]    |  |  \- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile
[INFO]    |  +- org.apache.avro:avro-ipc:jar:tests:1.7.5:compile
[INFO]    |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile
[INFO]    |  \- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile
[INFO]    \- org.slf4j:slf4j-api:jar:1.6.4:compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Avro artifacts are published correctly, but when other projects use the trevni-avro artifact with the hadoop2 classifier, the avro-mapred dependency is the one with the hadoop1 classifier since the hadoop2 profile in &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/avro/trevni-avro/1.7.5/trevni-avro-1.7.5.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/avro/trevni-avro/1.7.5/trevni-avro-1.7.5.pom&lt;/a&gt; cannot be activated at dependency resolution time.&lt;/p&gt;

&lt;p&gt;There is a simple workaround: specify the hadoop2 version of avro-mapred as an explicit dependency (see pom-workaround.xml).&lt;/p&gt;

&lt;p&gt;One way to fix this would be to publish artifacts with different version numbers (not classifiers) for avro-mapred and trevni-avro. (This is what Crunch does.) &lt;/p&gt;</comment>
                            <comment id="13854195" author="cutting" created="Fri, 20 Dec 2013 17:18:55 +0000"  >&lt;p&gt;This would be good to fix, so that folks don&apos;t have to implement the workaround.  What do you suggest?&lt;/p&gt;</comment>
                            <comment id="13878487" author="tomwhite" created="Wed, 22 Jan 2014 10:10:35 +0000"  >&lt;p&gt;Sorry, I missed your question Doug. I think we should publish artifacts with different version numbers, e.g. 1.8.0 and 1.8.0-hadoop2 (this is the Crunch pattern). Or maybe now since Hadoop 2 is the current stable release (&lt;a href=&quot;http://www.us.apache.org/dist/hadoop/common/stable/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.us.apache.org/dist/hadoop/common/stable/&lt;/a&gt;) we could have 1.8.0 as the Hadoop 2 version, and 1.8.0-hadoop1 as the Hadoop 1 version?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619799" name="pom-workaround.xml" size="767" author="tomwhite" created="Fri, 20 Dec 2013 11:25:05 +0000"/>
                            <attachment id="12619798" name="pom.xml" size="578" author="tomwhite" created="Fri, 20 Dec 2013 11:25:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Dec 2013 17:18:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qw6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1418] AvroMultipleOutputs should support sync-able writers</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1418</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;DataFileWriter supports APIs like sync() (that allows to emit synchronization markers) so that DataFileReader could later use sync() or seek() to move to a particular synchronization point.&lt;/p&gt;

&lt;p&gt;AvroMultipleOutputs does not support or provide a way to invoke sync on its individual writers. One could extend its behavior, however its design is closed for extension. (All states are private and getRecordWriter() are private). Hence AvroMultipleOutputs must first be modified so as to support extension and additional classes must be provided to support a synch able MutilpleOutputFormats. &lt;/p&gt;

&lt;p&gt;Solution&lt;br/&gt;
======&lt;/p&gt;

&lt;p&gt;I) MarkableAvroMultipleOutputs : Allows users to set synchronization points before/after writing Key-Value pairs with AvroMultipleOutputs.write()&lt;br/&gt;
A public api to invoke sync on a named output.&lt;br/&gt;
Ex: public void sync(String namedOutput, String baseOutputPath) throws IOException, InterruptedException {}&lt;/p&gt;

&lt;p&gt;To achieve above AvroMultipleOutputs should be modified so as to allow support for additional behavior. The following must be marked as protected instead of private&lt;br/&gt;
1) private static void checkBaseOutputPath(String outputPath) {}  from private.&lt;br/&gt;
2) private static void checkNamedOutputName(JobContext job, String namedOutput, boolean alreadyDefined) {} from private.&lt;br/&gt;
3) private TaskInputOutputContext&amp;lt;?, ?, ?, ?&amp;gt; context;&lt;br/&gt;
4) private Set&amp;lt;String&amp;gt; namedOutputs;&lt;br/&gt;
5) private synchronized RecordWriter getRecordWriter(TaskAttemptContext taskContext, String baseFileName)&lt;/p&gt;

&lt;p&gt;II) AvroKeyValueRecordWriter that is used by AvroMultipleOutputs as writers for individual writers is again closed for extension. It must allow to invoke sync() on writer.&lt;/p&gt;

&lt;p&gt;To achieve that the following private members must be marked protected.&lt;br/&gt;
1) private final DataFileWriter&amp;lt;GenericRecord&amp;gt; mAvroFileWriter;&lt;/p&gt;

&lt;p&gt;A MarkableAvroKeyValueRecordWriter must be provided that exposes a public API to invoke sync on its writer.&lt;br/&gt;
public void sync() throws IOException {}&lt;/p&gt;

&lt;p&gt;III) A MarkableAvroKeyValueOutputFormat that extends AvroKeyValueOutputFormat and uses MarkableAvroKeyValueRecordWriter. &lt;/p&gt;



&lt;p&gt;Include similar support for AvroKeyOutputFormat &amp;amp; AvroKeyRecordWriter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685823">AVRO-1418</key>
            <summary>AvroMultipleOutputs should support sync-able writers</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepujain">Deepak Kumar V</assignee>
                                    <reporter username="deepujain">Deepak Kumar V</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2013 14:44:05 +0000</created>
                <updated>Thu, 23 Jan 2014 21:58:54 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 22:10:39 +0000</resolved>
                                    <version>1.7.6</version>
                                    <fixVersion>1.7.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13854003" author="deepujain" created="Fri, 20 Dec 2013 14:45:20 +0000"  >&lt;p&gt;I can take up this issue as i have already implemented this for my project and wanted to contribute it back to Avro.&lt;/p&gt;</comment>
                            <comment id="13854215" author="cutting" created="Fri, 20 Dec 2013 17:26:23 +0000"  >&lt;p&gt;First, the best practice is not to propose solutions in the Jira description, but rather to just describe the problem there.  The solution should be developed in the comments.  This style minimizes edits, which are hard to follow by email.&lt;/p&gt;

&lt;p&gt;Second, can&apos;t we simply add the new sync() method to the existing classes rather than adding a number of new subclasses?  The new subclasses may abstractly seem more elegant but I worry that they overly complicate the API.  The ability to sync() seems like something that the base implementation would benefit from too, no?&lt;/p&gt;</comment>
                            <comment id="13854386" author="deepujain" created="Fri, 20 Dec 2013 18:23:51 +0000"  >&lt;p&gt;Hi Doug,&lt;br/&gt;
Your correct, I did not think about email triggered through edits. Do you want me to remove the solution from description ?&lt;/p&gt;

&lt;p&gt;I was under impression we are not suppose to modify existing AvroMultipleOutputs. (And now i think, why not). May be since i was developing the solution for my use case i was good with extension rather changing the base class.&lt;/p&gt;

&lt;p&gt;We could add sync() directly to AvroMultipleOutputs that would avoid multiple subclasses (3 each of AvroKey* and AvroKeyValue* and a Markable interface). &lt;/p&gt;</comment>
                            <comment id="13854448" author="cutting" created="Fri, 20 Dec 2013 19:15:32 +0000"  >&lt;p&gt;We can modify AvroMultipleOutputs so long as we do not make incompatible changes to its API.&lt;/p&gt;

&lt;p&gt;I would not bother removing the solution from the description at this time, that was just advice for the future.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13854456" author="deepujain" created="Fri, 20 Dec 2013 19:22:32 +0000"  >&lt;p&gt;Its my first contribution to Avro and only 3rd to Apache. Please pardon in case i miss some well known facts.&lt;/p&gt;
</comment>
                            <comment id="13854457" author="deepujain" created="Fri, 20 Dec 2013 19:22:59 +0000"  >&lt;p&gt;Please review the submitted patch&lt;/p&gt;</comment>
                            <comment id="13854460" author="deepujain" created="Fri, 20 Dec 2013 19:24:16 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="13854703" author="cutting" created="Sat, 21 Dec 2013 00:30:54 +0000"  >&lt;p&gt;This looks good to me.  I&apos;ll commit it soon unless someone objects.&lt;/p&gt;</comment>
                            <comment id="13864751" author="cutting" created="Tue, 7 Jan 2014 22:10:39 +0000"  >&lt;p&gt;I committed this.  Thanks, Deepak!&lt;/p&gt;</comment>
                            <comment id="13864752" author="jira-bot" created="Tue, 7 Jan 2014 22:11:01 +0000"  >&lt;p&gt;Commit 1556378 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1556378&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1556378&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1418&quot; title=&quot;AvroMultipleOutputs should support sync-able writers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1418&quot;&gt;&lt;del&gt;AVRO-1418&lt;/del&gt;&lt;/a&gt;. Java: Add sync support to AvroMultipleOutputs.  Contributed by Deepak Kumar V.&lt;/p&gt;</comment>
                            <comment id="13864795" author="hudson" created="Tue, 7 Jan 2014 22:39:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #418 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/418/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1418&quot; title=&quot;AvroMultipleOutputs should support sync-able writers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1418&quot;&gt;&lt;del&gt;AVRO-1418&lt;/del&gt;&lt;/a&gt;. Java: Add sync support to AvroMultipleOutputs.  Contributed by Deepak Kumar V. (cutting: rev 1556378)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/AvroKeyRecordWriter.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/AvroKeyValueRecordWriter.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/AvroMultipleOutputs.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/Syncable.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/test/java/org/apache/avro/mapreduce/TestAvroKeyRecordWriter.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/test/java/org/apache/avro/mapreduce/TestAvroKeyValueRecordWriter.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/test/java/org/apache/avro/mapreduce/TestAvroMultipleOutputsSyncable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619895" name="AVRO-1418.patch" size="33556" author="deepujain" created="Fri, 20 Dec 2013 19:24:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Dec 2013 17:26:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364885</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qw5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1. Modified org.apache.avro.mapreduce.AvroMultipleOutputs to support sync() on a given named output.&lt;br/&gt;
2. org.apache.avro.mapreduce.AvroKeyValueRecordWriter and org.apache.avro.mapreduce.AvroKeyRecordWriter implements org.apache.avro.mapreduce.Syncable&lt;br/&gt;
This allows sync to be invoked on writer instance from AvroMultipleOutputs.sync() as the writer is stored as org.apache.hadoop.mapreduce.RecordWriter (Hence could be anything apart from Sycnable).&lt;br/&gt;
&lt;br/&gt;
Test Cases&lt;br/&gt;
1) TestAvroKeyValueRecordWriter and TestAvroKeyRecordWriter modified to include a test case each for sync() tests.&lt;br/&gt;
2) TestAvroMultipleOutputsSyncable new class to test synch for AvroMultipleOutputs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
