<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:15:47 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2011-6-28+AND+created+%3C%3D+2011-7-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="7" total="7"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-844] Better null checking in GenericData</title>
                <link>https://issues.apache.org/jira/browse/AVRO-844</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;A few places where NPEs can be handled better:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;When adding an invalid field to a &lt;tt&gt;GenericData.Record&lt;/tt&gt; object, an NPE gets throw.&lt;/li&gt;
	&lt;li&gt;When creating a &lt;tt&gt;GenericData.Record&lt;/tt&gt; object with an invalid Schema an NPE is throw.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12511935">AVRO-844</key>
            <summary>Better null checking in GenericData</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="billgraham">Bill Graham</assignee>
                                    <reporter username="billgraham">Bill Graham</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jun 2011 00:23:03 +0000</created>
                <updated>Tue, 13 Dec 2011 19:06:44 +0000</updated>
                            <resolved>Fri, 1 Jul 2011 19:53:17 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13057496" author="cutting" created="Wed, 29 Jun 2011 21:54:56 +0000"  >&lt;p&gt;For the first check I think it might be better to ensure that getFields can never return null.  Right now it can only return null if you create a schema with Schema.createRecord(String,String,String,boolean) but never call Schema.setFields() before calling getFields().  I think this is an error; one should always call setFields() when creating a record schema this way.  So we might check for null and throw an exception in getFields().  That would fix this NPE and potentially lots of others.&lt;/p&gt;</comment>
                            <comment id="13058121" author="billgraham" created="Thu, 30 Jun 2011 23:03:21 +0000"  >&lt;p&gt;Good call, that makes more sense. Here&apos;s patch #2 with exceptions thrown for both getField(..) and getFields() on an empty schema. &lt;/p&gt;</comment>
                            <comment id="13058123" author="billgraham" created="Thu, 30 Jun 2011 23:04:01 +0000"  >&lt;p&gt;Good call, that makes more sense. Here&apos;s patch #2 with exceptions thrown for both getField(..) and getFields() on an empty schema. &lt;/p&gt;</comment>
                            <comment id="13058124" author="billgraham" created="Thu, 30 Jun 2011 23:05:33 +0000"  >&lt;p&gt;Sorry bout that. Seems the page attachment double-posted. Both #2 patches are the same FYI.&lt;/p&gt;</comment>
                            <comment id="13058743" author="cutting" created="Fri, 1 Jul 2011 19:53:17 +0000"  >&lt;p&gt;I committed this.  Thanks, Bill!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12484837" name="AVRO-844_2.patch" size="3302" author="billgraham" created="Thu, 30 Jun 2011 23:04:01 +0000"/>
                            <attachment id="12484836" name="AVRO-844_2.patch" size="3302" author="billgraham" created="Thu, 30 Jun 2011 23:03:21 +0000"/>
                            <attachment id="12484366" name="AVRO_844-1.patch" size="2477" author="billgraham" created="Tue, 28 Jun 2011 00:24:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jun 2011 21:54:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-845] setup.py uses Python2.7+ specific code</title>
                <link>https://issues.apache.org/jira/browse/AVRO-845</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;setup.py uses sys.version_info.major which was introduced at Python2.7 (thanks to Jeremy Lewi for reporting).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512220">AVRO-845</key>
            <summary>setup.py uses Python2.7+ specific code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tebeka">Miki Tebeka</assignee>
                                    <reporter username="tebeka">Miki Tebeka</reporter>
                        <labels>
                            <label>python</label>
                    </labels>
                <created>Wed, 29 Jun 2011 13:53:22 +0000</created>
                <updated>Fri, 12 Aug 2011 20:22:32 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 16:57:01 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.5.2</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13057235" author="tebeka" created="Wed, 29 Jun 2011 13:54:40 +0000"  >&lt;p&gt;Patch to make setup.py compatible with version &amp;lt; 2.7&lt;/p&gt;</comment>
                            <comment id="13057932" author="philip" created="Thu, 30 Jun 2011 16:56:45 +0000"  >&lt;p&gt;I&apos;ve reviewed and committed this.  Thanks for the bug fix.  I believe the bug was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-833&quot; title=&quot;Don&amp;#39;t require simplejson when not needed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-833&quot;&gt;&lt;del&gt;AVRO-833&lt;/del&gt;&lt;/a&gt;; my apologies for not spotting it in review.&lt;/p&gt;</comment>
                            <comment id="13057934" author="philip" created="Thu, 30 Jun 2011 16:58:15 +0000"  >&lt;p&gt;Note that I haven&apos;t backported this; just checked it into trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12484647" name="AVRO-845.diff" size="422" author="tebeka" created="Wed, 29 Jun 2011 13:54:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jun 2011 16:56:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-846] Error record classes do not allow you to set the exception message or cause on construction</title>
                <link>https://issues.apache.org/jira/browse/AVRO-846</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Generated error record classes create only a no-arg constructor, thus there is no way to construct one that has a message.  You can set the cause via the initCause() method but it would be nice to also allow for that.  It would be nice to replicate all of the Throwable constructors instead of just the no arg one.&lt;/p&gt;

&lt;p&gt;The use case that prompted this question was one where the error record carried a meaningful message from the server side.  When you print stack traces or look at them you most naturally look at the message in the exception rather than the error record value within the AvroRemoteException.&lt;/p&gt;

&lt;p&gt;We would like to be able to create a new copy of the exception that sets the message from within the record&apos;s fields so that the error is more visible in standard Java infrastructure.  Alternately, error records could have a well-known field or way to designate a message that could make their way into the message of the client-side exception.  I don&apos;t know how this problem translates into other language bindings.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512363">AVRO-846</key>
            <summary>Error record classes do not allow you to set the exception message or cause on construction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="puredanger">Alex Miller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jun 2011 18:12:54 +0000</created>
                <updated>Fri, 7 Oct 2011 20:23:19 +0000</updated>
                            <resolved>Tue, 30 Aug 2011 06:15:18 +0000</resolved>
                                    <version>1.5.1</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13092369" author="jbaldassari" created="Sat, 27 Aug 2011 19:48:46 +0000"  >&lt;p&gt;This functionality has been implemented as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-839&quot; title=&quot;Implement builder pattern in generated record classes that sets default values when omitted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-839&quot;&gt;&lt;del&gt;AVRO-839&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13093465" author="cutting" created="Tue, 30 Aug 2011 06:15:18 +0000"  >&lt;p&gt;This was fixed as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-839&quot; title=&quot;Implement builder pattern in generated record classes that sets default values when omitted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-839&quot;&gt;&lt;del&gt;AVRO-839&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12510523">AVRO-839</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Aug 2011 19:48:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>50514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-847] Unittest for tethered map reduce in java</title>
                <link>https://issues.apache.org/jira/browse/AVRO-847</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I was working on a unittest to run the java example of a tethered map reduce job (see Issue #512). While doing so I ran into a couple of issues. I was able to work around the issues and will submit a patch but I&apos;m not sure my fixes were correct. The issues are below.&lt;/p&gt;

&lt;p&gt;1) A deadlock appears to occur if the subprocess can&apos;t start. This happens because the parent process is waiting for the childProcess to send the configure command, which it can&apos;t do if the process failed to start. I solved this by adding some code to TetheredProcess to check if the subprocess has already exited.&lt;/p&gt;

&lt;p&gt;2) The tethered classes don&apos;t provide a way to pass command line arguments to the program executed to start the subprocess. I solved this by adding some appropriate keys to the job configuration XML file to specify a) the executable, b) the command line arguments and c) whether or not the executable should be distributed via the DistributeCache mechanism to all the nodes.&lt;/p&gt;

&lt;p&gt;3) I ran into some communication problems between the child and parent processes. These seemed to be because the child was using &quot;Sasl&quot; for the protocol but the parent was using &quot;Socket&quot; (e.g SocketServer, SocketTransciever).&lt;/p&gt;

&lt;p&gt;4) In TetherJob.setupJob I needed to set the MapOutputKeyClass to TetherData; otherwise I was getting an error about the mapper expecting type AvroKey for the data but getting type TetherData.&lt;/p&gt;

&lt;p&gt;5) During the sort phase when it called compare on the keys I was getting an exception (stack trace below). I think this is because the buffer collecting the output from the mapper wasn&apos;t being flushed. I was able to &quot;solve&quot; this problem by forcing a flush in TetherKeySerializer.serialize. My limited knowledge of the innards of map/reduce avro lead me to believe this is a less than ideal solution. I would imagine that during the M/R job, a flush should be occurring at the end of the map phase and that should make it unnecessary to invoke flush each time serialize is invoked.&lt;/p&gt;

&lt;p&gt;org.apache.avro.AvroRuntimeException: java.io.EOFException &lt;br/&gt;
at org.apache.avro.io.BinaryData.compare(BinaryData.java:74) &lt;br/&gt;
at org.apache.avro.mapred.tether.TetherKeyComparator.compare(TetherKeyComparator.java:46) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.compare(MapTask.java:942) &lt;br/&gt;
at org.apache.hadoop.util.QuickSort.fix(QuickSort.java:30) &lt;br/&gt;
at org.apache.hadoop.util.QuickSort.sortInternal(QuickSort.java:83) &lt;br/&gt;
at org.apache.hadoop.util.QuickSort.sort(QuickSort.java:59) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.sortAndSpill(MapTask.java:1228) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.flush(MapTask.java:1129) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:359) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307) &lt;br/&gt;
at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512376">AVRO-847</key>
            <summary>Unittest for tethered map reduce in java</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeremy@lewi.us">Jeremy Lewi</assignee>
                                    <reporter username="jeremy@lewi.us">Jeremy Lewi</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 30 Jun 2011 20:06:17 +0000</created>
                <updated>Tue, 1 Nov 2011 18:36:04 +0000</updated>
                            <resolved>Fri, 1 Jul 2011 16:24:12 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13058052" author="jeremy@lewi.us" created="Thu, 30 Jun 2011 20:14:35 +0000"  >&lt;p&gt;Patch which addresses the issues I pointed out and creates a unittest.&lt;/p&gt;</comment>
                            <comment id="13058077" author="cutting" created="Thu, 30 Jun 2011 21:12:10 +0000"  >&lt;p&gt;Thanks!  This looks great.&lt;/p&gt;

&lt;p&gt;Here&apos;s a new version of the patch.  Changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removed spurious whitespace changes&lt;/li&gt;
	&lt;li&gt;removed comments explaining changes&lt;/li&gt;
	&lt;li&gt;reformatted to be consistent with codebase&lt;/li&gt;
	&lt;li&gt;instead of flushing, use a non-buffering encoder (the only change of substance!)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If my changes look reasonable to you, I&apos;ll commit this.&lt;/p&gt;</comment>
                            <comment id="13058084" author="jeremy@lewi.us" created="Thu, 30 Jun 2011 21:22:41 +0000"  >&lt;p&gt;Looks good to me. &lt;/p&gt;
</comment>
                            <comment id="13058623" author="cutting" created="Fri, 1 Jul 2011 16:24:12 +0000"  >&lt;p&gt;I committed this.  Thanks, Jeremy!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12484828" name="AVRO-847.patch" size="14235" author="cutting" created="Thu, 30 Jun 2011 21:12:09 +0000"/>
                            <attachment id="12484823" name="AVRO-PATCH-847-1" size="21492" author="jeremy@lewi.us" created="Thu, 30 Jun 2011 20:14:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jun 2011 21:12:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tether, mapred</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-848] Duplicate/confusing exception logging in NettyTransceiver</title>
                <link>https://issues.apache.org/jira/browse/AVRO-848</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Duringt testing for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-842&quot; title=&quot;Internal NPE when accessing proxy to a closed server endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-842&quot;&gt;&lt;del&gt;AVRO-842&lt;/del&gt;&lt;/a&gt; I noticed that exceptions seem to be handled differently between the different transeiver types. To duplicate run my CrashTest example from &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-842&quot; title=&quot;Internal NPE when accessing proxy to a closed server endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-842&quot;&gt;&lt;del&gt;AVRO-842&lt;/del&gt;&lt;/a&gt; against the SaslSocketServer with the root logger set to INFO and the log.error() in the catch block disabled, and you&apos;ll see:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;07-01 10:58:22&amp;#93;&lt;/span&gt; INFO  org.apache.avro.ipc.SocketServer: starting /0.0.0.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;07-01 10:58:22&amp;#93;&lt;/span&gt; INFO  h2o.avro.bugs.CrashTest$MyServiceImpl: doSomething()&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;07-01 10:58:22&amp;#93;&lt;/span&gt; INFO  org.apache.avro.ipc.SocketServer: stopping /0.0.0.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;07-01 10:58:22&amp;#93;&lt;/span&gt; INFO  org.apache.avro.ipc.SaslSocketTransceiver: closing to 0.0.0.0/0.0.0.0:16221&lt;/p&gt;

&lt;p&gt;There are no spurious exceptions bubbling up, as it should be: propagated or handled exceptions should never be logged as anything but DEBUG, and preferrably not at all.&lt;/p&gt;

&lt;p&gt;However with the NettyTransceiver against the NettyServer and the root log level set to WARN (to silence INFO messages from Netty) we see the following:&lt;/p&gt;

&lt;p&gt;java.net.ConnectException: Connection refused: no further information&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:567)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.connect(NioClientSocketPipelineSink.java:384)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.processSelectedKeys(NioClientSocketPipelineSink.java:354)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.run(NioClientSocketPipelineSink.java:276)&lt;br/&gt;
	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)&lt;br/&gt;
	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:44)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;07-01 11:01:53&amp;#93;&lt;/span&gt; WARN  org.apache.avro.ipc.NettyTransceiver: Unexpected exception from downstream.&lt;br/&gt;
java.net.ConnectException: Connection refused: no further information&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_26&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:567) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_26&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.connect(NioClientSocketPipelineSink.java:384) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;netty-3.2.4.Final.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.processSelectedKeys(NioClientSocketPipelineSink.java:354) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;netty-3.2.4.Final.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.run(NioClientSocketPipelineSink.java:276) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;netty-3.2.4.Final.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_26&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_26&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_26&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Two things to note here:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the first stack trace is not loggged but seems to be a System.err dump, maybe because the exception was uncaught (ending up being handled by the thread group?) or there is a printStackTrace() somewhere; I could not immediately find the cause when I had a quick look.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the second exception is logged by NettyTransceiver and I&apos;d argue that it should not be, since:&lt;br/&gt;
a) the SaslSocketTransceiver does not do it&lt;br/&gt;
b) WARN is misleading since the exception has been caught and will be propagated&lt;br/&gt;
c) the exception might be handled properly upstream with no reason to alert the logfile authorities &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12512450">AVRO-848</key>
            <summary>Duplicate/confusing exception logging in NettyTransceiver</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="h2o">Holger Hoffst&#228;tte</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Jul 2011 09:11:00 +0000</created>
                <updated>Wed, 15 Feb 2012 00:49:23 +0000</updated>
                            <resolved>Wed, 23 Nov 2011 23:24:45 +0000</resolved>
                                    <version>1.5.1</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13141523" author="cutting" created="Tue, 1 Nov 2011 20:07:31 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-943&quot; title=&quot;TestNettyServerWithCallbacks sometimes hangs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-943&quot;&gt;&lt;del&gt;AVRO-943&lt;/del&gt;&lt;/a&gt; has fixed this.  Unless there are objections, I will close this as a duplicate of that issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12528706">AVRO-943</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Nov 2011 20:07:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-849] Python unittests don&apos;t work if avro is already installed</title>
                <link>https://issues.apache.org/jira/browse/AVRO-849</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I think there is a problem running the python unittests if avro is already installed. If avro is already installed then when we import avro or its subpackages in the unittests we can end up importing the installed avro instead of the avro version being compiled because the installed version might be higher on the path.&lt;/p&gt;

&lt;p&gt;One (slightly cumbersome way to fix this) would be to pass the the paths listed in test.path to our unittests (e.g by using an environment variable). The unittests could then adjust the path so these directories were highest on the path. The downside of this solution would be every unittest would need some boilerplate code to adjust the path.&lt;/p&gt;

&lt;p&gt;Does anyone have suggestions about how to pass the values in test.path to our unittests? I don&apos;t know anything about ant, so any help would be appreciated.&lt;/p&gt;

&lt;p&gt;Or does anyone have suggestions about a better solution which doesn&apos;t require adjusting the path in each unittest?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512476">AVRO-849</key>
            <summary>Python unittests don&apos;t work if avro is already installed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jeremy@lewi.us">Jeremy Lewi</assignee>
                                    <reporter username="jeremy@lewi.us">Jeremy Lewi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Jul 2011 15:19:14 +0000</created>
                <updated>Sat, 3 Sep 2011 14:12:29 +0000</updated>
                                            <version>1.4.1</version>
                                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13058634" author="jeremy@lewi.us" created="Fri, 1 Jul 2011 16:37:21 +0000"  >&lt;p&gt;Here is a patch to address this issue. At the start of each unittest you add the code&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import avro_fix_849
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This causes the path to be adjusted based on the location of the unittest&lt;/p&gt;</comment>
                            <comment id="13058635" author="jeremy@lewi.us" created="Fri, 1 Jul 2011 16:37:56 +0000"  >&lt;p&gt;Sorry I thought submit patch was the way to attach a patch.&lt;/p&gt;</comment>
                            <comment id="13058637" author="jeremy@lewi.us" created="Fri, 1 Jul 2011 16:40:47 +0000"  >&lt;p&gt;Here is a patch. &lt;br/&gt;
I created a module avro_849_fix.py which adjusts the path based on the location of the module. SO unittests  just need to add the following at the top&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import avro_849_fix
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13087808" author="cutting" created="Fri, 19 Aug 2011 17:18:11 +0000"  >&lt;p&gt;I&apos;m confused.  The values of test.path (lang/py/&lt;/p&gt;
{src,test,lib}
&lt;p&gt;) become the value of PYTHONPATH, which should supercede anything installed, no?&lt;/p&gt;</comment>
                            <comment id="13087872" author="jeremy@lewi.us" created="Fri, 19 Aug 2011 18:35:30 +0000"  >&lt;p&gt;I&apos;m not sure exactly how the path precedence is determined from PYTHONPATH but on my system it looks like &quot;eggs&quot; appear higher on the path then directories obtained from PYTHONPATH.&lt;/p&gt;

&lt;p&gt;A simple test&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;export PYTHONPATH=/some/dir
python -c &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; sys; print &lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;.join(sys.path)&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my case the output is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/usr/lib/python2.7/site-packages/ipython-0.11-py2.7.egg
/usr/lib/python2.7/site-packages/avro-1.6.0_SNAPSHOT-py2.7.egg
/some/dir
/usr/lib64/python27.zip
/usr/lib64/python2.7
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So at least in my case, the installed avro egg will take precedence over (lang/py/&lt;/p&gt;
{src,test,lib}
&lt;p&gt;) directories added via PYTHONPATH.&lt;/p&gt;</comment>
                            <comment id="13089704" author="cutting" created="Tue, 23 Aug 2011 19:54:07 +0000"  >&lt;p&gt;This seems to be a well-known Python problem with no easy solution.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.velocityreviews.com/forums/t716589-pythonpath-and-eggs.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.velocityreviews.com/forums/t716589-pythonpath-and-eggs.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/897792/pythons-sys-path-value&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/897792/pythons-sys-path-value&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;d be okay with the patch here if we change it to instead of &apos;avro_849_fix&apos; to be something descriptive like &apos;avro-test-path&apos; or somesuch.&lt;/p&gt;</comment>
                            <comment id="13096664" author="jeremy@lewi.us" created="Sat, 3 Sep 2011 14:03:27 +0000"  >&lt;p&gt;I renamed the module to &quot;set_avro_test_path.py&quot; to avoid using the JIRA issue number. I also removed all references to the JIRA # in the comments.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12492899" name="AVRO-849.patch" size="3859" author="jeremy@lewi.us" created="Sat, 3 Sep 2011 14:03:27 +0000"/>
                            <attachment id="12484901" name="AVRO-849.patch" size="2950" author="jeremy@lewi.us" created="Fri, 1 Jul 2011 16:40:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Aug 2011 17:18:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>python, unittests</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-850] Python protocol parsing doesn&apos;t set message error union to [&apos;string&apos;] when no errors declared</title>
                <link>https://issues.apache.org/jira/browse/AVRO-850</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;This bug applies to the python module.&lt;/p&gt;

&lt;p&gt;According to the protocol specification (&lt;a href=&quot;http://avro.apache.org/docs/current/spec.html#Messages&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/docs/current/spec.html#Messages&lt;/a&gt;) when no errors are declared in the protocol for a message, the effective error union is &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;string&amp;#39;&amp;#93;&lt;/span&gt;. The behavior of avro.protocol is not consistent with this specification. In particular if no errors are declared the &quot;errors&quot; property of Message will be None and not an instance of ErrorUnionSchema. Consequently, if a message returns an error an exception gets thrown.&lt;/p&gt;

&lt;p&gt;Patch to follow shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512726">AVRO-850</key>
            <summary>Python protocol parsing doesn&apos;t set message error union to [&apos;string&apos;] when no errors declared</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jeremy@lewi.us">Jeremy Lewi</assignee>
                                    <reporter username="jeremy@lewi.us">Jeremy Lewi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jul 2011 14:49:41 +0000</created>
                <updated>Thu, 9 Feb 2012 00:58:05 +0000</updated>
                                            <version>1.5.0</version>
                                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13059486" author="jeremy@lewi.us" created="Mon, 4 Jul 2011 15:41:22 +0000"  >&lt;p&gt;Here is a patch. In addition to fixing the issue, I added a test case to test_protocol to ensure that when no errors are declared, errors is &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;string&amp;#39;&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13196458" author="dkaminsky" created="Mon, 30 Jan 2012 21:47:39 +0000"  >&lt;p&gt;This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-748&quot; title=&quot;Python library does not include the implicit &amp;#39;string&amp;#39; error type for messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-748&quot;&gt;AVRO-748&lt;/a&gt; as far as I can tell&lt;/p&gt;</comment>
                            <comment id="13204165" author="cutting" created="Thu, 9 Feb 2012 00:58:05 +0000"  >&lt;p&gt;&amp;gt; This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-748&quot; title=&quot;Python library does not include the implicit &amp;#39;string&amp;#39; error type for messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-748&quot;&gt;AVRO-748&lt;/a&gt; as far as I can tell&lt;/p&gt;

&lt;p&gt;Yes, but this one has a patch!&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this tomorrow unless there are objections.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485160" name="AVRO-850.patch" size="1681" author="jeremy@lewi.us" created="Mon, 4 Jul 2011 15:41:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jan 2012 21:47:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>
