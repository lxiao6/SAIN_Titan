<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:17:52 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2012-10-28+AND+created+%3C%3D+2012-11-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="7" total="7"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1185] AvroJob.setInputSchema can have undesired side effects for map-only jobs</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1185</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I have a map-only MapReduce job which takes Avro input and writes non-Avro output (Hadoop Writables). &lt;/p&gt;

&lt;p&gt;The mapper is implemented as a standard Hadoop mapper with &amp;lt;AvroWrapper&amp;lt;IN&amp;gt;,NullWritable,Text,Text&amp;gt; type parameters. &lt;/p&gt;

&lt;p&gt;In the job setup, I thought I would be safe to call AvroJob.setInputSchema(MySchema.SCHEMA$), but it seems that this call makes assumptions about what the map output will be. Internally AvroJob.setInputSchema calls configureAvroInput which in turn calls configureAvroShuffle, resulting in my map output key/value types and serialization settings all being set incorrectly for my use case. &lt;/p&gt;

&lt;p&gt;This is confusing behaviour - what appears to be a simple setter has too many side effects which are not documented. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12613924">AVRO-1185</key>
            <summary>AvroJob.setInputSchema can have undesired side effects for map-only jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dbeech">Dave Beech</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 17:39:28 +0000</created>
                <updated>Mon, 29 Oct 2012 17:39:28 +0000</updated>
                                                                            <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d8ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1186] Java Annotations via IDL</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1186</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;We would like to have the ability to add Java annotations to fields in the Avro IDL (i.e. JSR 303 Bean Validation annotations). From a protocol stand point these annotations may not mean much (or could they?) but from the application stand point having this feature would allow developers to use Avro generated beans application wide. From view layer all the way to the data layer. To support this feature an IDL file could look something like this:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
@namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.annotations&quot;&lt;/span&gt;)
protocol TestProto {

  record User {
     &lt;span class=&quot;code-comment&quot;&gt;//declare the annotations that are imported in the generated record class
&lt;/span&gt;     @header{
       &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.hibernate.validator.constraints.NotBlank;
       &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.hibernate.validator.constraints.Email;
     }  
 
     &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; each field one can specify an annotation they would like to use.
&lt;/span&gt;     @{@NotBlank} string username;
     string password;
     @{@Email} string email;
  }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 


&lt;p&gt;The above IDL would generate a Java class that looks something like this:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
/**
 * Autogenerated by Avro
 * 
 * DO NOT EDIT DIRECTLY
 */
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.simvia.mode.avro; 

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.hibernate.validator.constraints.NotBlank;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.hibernate.validator.constraints.Email;

@SuppressWarnings(&lt;span class=&quot;code-quote&quot;&gt;&quot;all&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;User &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.avro.specific.SpecificRecordBase &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; org.apache.avro.specific.SpecificRecord {
  ...

  @Deprecated @NotBlank &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; java.lang.CharSequence username;
  @Deprecated &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; java.lang.CharSequence password;
  @Deprecated @Email &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; java.lang.CharSequence email;

 ...

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 


&lt;p&gt;Perhaps this is too language specific but IMO the benefits of this feature in the Java world is worth the effort and the exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614027">AVRO-1186</key>
            <summary>Java Annotations via IDL</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cutting">Doug Cutting</assignee>
                                    <reporter username="saden1">Sharmarke Aden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 14:16:11 +0000</created>
                <updated>Fri, 15 Jan 2016 16:06:29 +0000</updated>
                            <resolved>Mon, 5 Nov 2012 18:22:26 +0000</resolved>
                                                    <fixVersion>1.7.3</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13487090" author="cutting" created="Tue, 30 Oct 2012 18:20:03 +0000"  >&lt;p&gt;The IDL compiler already parses arbitrary annotations as JSON and adds them to the schema.  So the easiest way to implement this might be to change the specific compiler template to emit Java annotations for a particular &quot;javaAnnotation&quot; schema property.  The IDL might then look like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;record User {
  @javaAnnotation(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.hibernate.validator.constraints.NotBlank&quot;&lt;/span&gt;) string username;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For multiple annotations one might use a JSON array, e.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;record User {
  @javaAnnotations([&lt;span class=&quot;code-quote&quot;&gt;&quot;Deprecated&quot;&lt;/span&gt;, 
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;org.hibernate.validator.constraints.NotBlank&quot;&lt;/span&gt;])
    string username;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Would this suffice?&lt;/p&gt;</comment>
                            <comment id="13487106" author="saden1" created="Tue, 30 Oct 2012 18:33:55 +0000"  >&lt;p&gt;This is perfect. What about also adding record/class level annotations support? For example: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@javaAnnotation(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.company.MyClassAnnotation&quot;&lt;/span&gt;)
record User {
  @javaAnnotation(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.hibernate.validator.constraints.NotBlank&quot;&lt;/span&gt;) string username;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For multiple:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@javaAnnotation([&lt;span class=&quot;code-quote&quot;&gt;&quot;Deprecated&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;com.company.MyClassAnnotation&quot;&lt;/span&gt;])
record User {
  @javaAnnotations([&lt;span class=&quot;code-quote&quot;&gt;&quot;Deprecated&quot;&lt;/span&gt;, 
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;org.hibernate.validator.constraints.NotBlank&quot;&lt;/span&gt;])
    string username;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13488186" author="cutting" created="Wed, 31 Oct 2012 20:11:08 +0000"  >&lt;p&gt;Array-valued properties require &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1157&quot; title=&quot;Idl tool - parse properties as plain String OR expose the property as Json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1157&quot;&gt;&lt;del&gt;AVRO-1157&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13488187" author="cutting" created="Wed, 31 Oct 2012 20:12:49 +0000"  >&lt;p&gt;&amp;gt; What about also adding record/class level annotations support?&lt;/p&gt;

&lt;p&gt;Yes.  I&apos;ll include that too.&lt;/p&gt;</comment>
                            <comment id="13488976" author="cutting" created="Thu, 1 Nov 2012 19:58:51 +0000"  >&lt;p&gt;Here&apos;s a patch that implements this.&lt;/p&gt;

&lt;p&gt;The property &quot;javaAnnotation&quot; may have either a Json string or a Json array of strings as its value.  It may be on a schema, field, protocol or message.  The compiler will generate the provided annotation(s) on the generated class, field, interface or method, respectively.&lt;/p&gt;</comment>
                            <comment id="13488996" author="cutting" created="Thu, 1 Nov 2012 20:25:18 +0000"  >&lt;p&gt;Here&apos;s a new version of the patch that has more tests.&lt;/p&gt;</comment>
                            <comment id="13488998" author="cutting" created="Thu, 1 Nov 2012 20:25:44 +0000"  >&lt;p&gt;I&apos;ll commit this soon unless someone objects.&lt;/p&gt;</comment>
                            <comment id="13489007" author="saden1" created="Thu, 1 Nov 2012 20:34:07 +0000"  >&lt;p&gt;Wow, that was really quick. Thank you so much and keep up the great work.&lt;/p&gt;</comment>
                            <comment id="13490790" author="cutting" created="Mon, 5 Nov 2012 18:22:26 +0000"  >&lt;p&gt;I committed this.&lt;/p&gt;</comment>
                            <comment id="14955627" author="embs" created="Tue, 13 Oct 2015 20:42:20 +0000"  >&lt;p&gt;Any chance of making this to work within idl? Tests code includes only schema (JSON) occurrences.&lt;/p&gt;</comment>
                            <comment id="15101978" author="facboy" created="Fri, 15 Jan 2016 16:06:29 +0000"  >&lt;p&gt;FYI to make it work in IDL you have to be careful about where you place the annotation.  Naively you would probably lay it out like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.ipc.specific&quot;&lt;/span&gt;)
protocol JavaAnnotation {
  @javaAnnotation(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;)
  record AnnotatedRecord {
    @javaAnnotation([&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;]) 
    string name;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but this won&apos;t work, it will end up with the annotation applied to the type, which will then be ignored:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;protocol&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;JavaAnnotation&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.ipc.specific&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;types&quot;&lt;/span&gt; : [ {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;AnnotatedRecord&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt; : [ {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;javaAnnotation&quot;&lt;/span&gt; : [ &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt; ]
            }
        } ],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;javaAnnotation&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;
    } ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;messages&quot;&lt;/span&gt; : { }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead you have to make sure the annotation is applied to the field name:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.ipc.specific&quot;&lt;/span&gt;)
protocol JavaAnnotation {
  @javaAnnotation(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;)
  record AnnotatedRecord {
    string @javaAnnotation([&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;]) name;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which results in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;protocol&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;JavaAnnotation&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.ipc.specific&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;types&quot;&lt;/span&gt; : [ {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;AnnotatedRecord&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt; : [ {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;javaAnnotation&quot;&lt;/span&gt; : [ &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt; ]
        } ],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;javaAnnotation&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.TestAnnotation&quot;&lt;/span&gt;
    } ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;messages&quot;&lt;/span&gt; : { }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the annotation applied correctly to the field.&lt;/p&gt;

&lt;p&gt;It would be nice if you could apply annotations to the getter/setters, though, they only apply to the fields.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12607272">AVRO-1157</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551757" name="AVRO-1186.patch" size="11327" author="cutting" created="Thu, 1 Nov 2012 20:25:18 +0000"/>
                            <attachment id="12551753" name="AVRO-1186.patch" size="9220" author="cutting" created="Thu, 1 Nov 2012 19:58:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2012 18:20:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dbzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>IDL Java Annotation Annotations</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1187] Dart codegen + JSON encoding/decoding</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1187</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;It would be nice to have &lt;a href=&quot;http://www.dartlang.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Dart&lt;/a&gt; codegen and JSON encoding/decoding support.&lt;/p&gt;

&lt;p&gt;There has been some (unfinished) work on protobuf support for Dart: &lt;br/&gt;
&lt;a href=&quot;http://code.google.com/p/dart/issues/detail?id=951&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/dart/issues/detail?id=951&lt;/a&gt; &lt;a href=&quot;https://chromiumcodereview.appspot.com/user/Dan%20Rice&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://chromiumcodereview.appspot.com/user/Dan%20Rice&lt;/a&gt; &lt;a href=&quot;https://chromiumcodereview.appspot.com/10595002/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://chromiumcodereview.appspot.com/10595002/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But there are no Dart implementations of Avro, as best I can determine. If anybody is aware of any, or interested in helping create one, please post here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614144">AVRO-1187</key>
            <summary>Dart codegen + JSON encoding/decoding</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sqs">Quinn Slack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Oct 2012 09:45:02 +0000</created>
                <updated>Sun, 30 Dec 2018 05:48:11 +0000</updated>
                                                                            <component>misc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dei7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1188] External Schema Imports via AVSC Schema</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1188</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;There is no way for &quot;.avsc&quot; schema files to import types (i.e records, enums, etc) in external schema files. There&apos;s tremendous benefit in being able to do this as it would allow the sharing of common types between multiple schema files. Here&apos;s a use case that illustrates the typical usecase of this feature request.&lt;/p&gt;


&lt;p&gt;Suppose we have an enum called &quot;Privacy&quot; that we would like to share between multiple schemas:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//privacy.avsc
&lt;/span&gt;{ 
  &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Privacy&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;symbols&quot;&lt;/span&gt; : [&lt;span class=&quot;code-quote&quot;&gt;&quot;Public&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Private&quot;&lt;/span&gt;]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, if this feature was implemented one could import the above type into other schema files by doing something like this: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//the post.avsc 
&lt;/span&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;, 
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Post&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;imports&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;privacy.avsc&quot;&lt;/span&gt;] &lt;span class=&quot;code-comment&quot;&gt;//you can &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; one or more schemas
&lt;/span&gt;  &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt;: [{
              &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;privacy&quot;&lt;/span&gt;, 
              &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: [ &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Privacy&quot;&lt;/span&gt;], &lt;span class=&quot;code-comment&quot;&gt;//use imported Privacy type
&lt;/span&gt;              &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Private&quot;&lt;/span&gt;
            }
  ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s another schema file that also has a similar privacy concern:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//the event.avsc is another schema that also imports the privacy type
&lt;/span&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;, 
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Event&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;imports&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;privacy.avsc&quot;&lt;/span&gt;] &lt;span class=&quot;code-comment&quot;&gt;//it also imports the privacy schemas
&lt;/span&gt;  &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt;: [{
              &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;privacy&quot;&lt;/span&gt;, 
              &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: [ &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Privacy&quot;&lt;/span&gt;], &lt;span class=&quot;code-comment&quot;&gt;//use imported Privacy type
&lt;/span&gt;              &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Public&quot;&lt;/span&gt;
            }
  ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;IDL files are able to import external schemas and protocols and it would be very beneficial if schema files could import other schema files. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12614621">AVRO-1188</key>
            <summary>External Schema Imports via AVSC Schema</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="saden1">Sharmarke Aden</assignee>
                                    <reporter username="saden1">Sharmarke Aden</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Nov 2012 00:19:53 +0000</created>
                <updated>Mon, 10 Dec 2012 17:57:36 +0000</updated>
                            <resolved>Tue, 13 Nov 2012 09:56:22 +0000</resolved>
                                                    <fixVersion>1.7.3</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13490809" author="cutting" created="Mon, 5 Nov 2012 18:41:20 +0000"  >&lt;p&gt;In many cases we require that schemas are standalone, that they do not have external references.  For example, the schema included in a data file or transmitted to a remote server in RPC must be standalone.  For this reason we&apos;ve generally suggested that folks use some sort of pre-processor when they need to include schemas.  The IDL compiler is one such pre-processor but one might also reasonably use cpp, m4 or some other pre-processor for this.&lt;/p&gt;

&lt;p&gt;Note however that the Java schema parser remembers all named schemas previously parsed by the same schema.  Thus if one first parses your privacy.avsc above then post.avsc and/or event.avsc with the same parser, then the effect you desire is achieved.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://avro.apache.org/docs/current/api/java/org/apache/avro/Schema.Parser.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/docs/current/api/java/org/apache/avro/Schema.Parser.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This facility is used, e.g., by the command-line schema compiler.  Schemas are processed in the order listed on the command line so that later schemas may depend on earlier schemas.  &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-983&quot; title=&quot;maven-avro-plugin: Allow maven schema compiler to support external reference in an another avro schema file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-983&quot;&gt;&lt;del&gt;AVRO-983&lt;/del&gt;&lt;/a&gt; changes Avro&apos;s Maven plugin so that schemas are processed by a single parser in directory-traversal order, permitting dependencies.&lt;/p&gt;

&lt;p&gt;Would either of these features work for you?  If not, can you tell more about your use case?&lt;/p&gt;</comment>
                            <comment id="13490916" author="saden1" created="Mon, 5 Nov 2012 20:50:33 +0000"  >&lt;p&gt;Looking at &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-983&quot; title=&quot;maven-avro-plugin: Allow maven schema compiler to support external reference in an another avro schema file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-983&quot;&gt;&lt;del&gt;AVRO-983&lt;/del&gt;&lt;/a&gt; it seems that this issue is somewhat of a duplicate issue. I searched for a similar issue but didn&apos;t have luck finding it. Yes, utilization of the order technique will work for us though I wonder if there should be better way of schema imports based on previously loaded/compiled schemas without having to rely on the order of files/directorys. What do you think of the idea of having an explicit imports directory that&apos;s passed via command-line/maven which is processed/compiled before any other schemas? &lt;/p&gt;

&lt;p&gt;In maven one would define a configuration property called &amp;lt;importsDirectory/&amp;gt; that points to a directory containing schemas that should be processed first. Perhaps this directory could default to &quot;src/main/avro/imports&quot; which is treated as a special reserved directory by the maven plugin. The maven plugin declaration would look like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;plugin&amp;gt;
&amp;lt;groupId&amp;gt;org.apache.avro&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;avro-maven-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;executions&amp;gt;
    &amp;lt;execution&amp;gt;
	&amp;lt;goals&amp;gt;
	    &amp;lt;goal&amp;gt;schema&amp;lt;/goal&amp;gt;
	&amp;lt;/goals&amp;gt;
    &amp;lt;/execution&amp;gt;
&amp;lt;/executions&amp;gt;
&amp;lt;configuration&amp;gt;
    &amp;lt;importsDirectory&amp;gt;${basedir}/src/main/avro/imports&amp;lt;/importsDirectory&amp;gt;
&amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am not familiar with the command-line tool but I would imagine a command-line option called &quot;-imports&quot; can be added that allows a user to specify an import directory that gets processed before other schemas.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar avro-tools-XXX.jar -imports &lt;span class=&quot;code-quote&quot;&gt;&quot;/schema/&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;/directory&quot;&lt;/span&gt; ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13490966" author="cutting" created="Mon, 5 Nov 2012 21:50:57 +0000"  >&lt;p&gt;&amp;gt; What do you think of the idea of having an explicit imports directory that&apos;s passed via command-line/maven which is processed/compiled before any other schemas?&lt;/p&gt;

&lt;p&gt;I think that would be a good approach.&lt;/p&gt;</comment>
                            <comment id="13494954" author="saden1" created="Sun, 11 Nov 2012 20:13:02 +0000"  >&lt;p&gt;This patch adds the ability to import directories or files to the maven plugin&lt;/p&gt;</comment>
                            <comment id="13494956" author="saden1" created="Sun, 11 Nov 2012 20:17:30 +0000"  >&lt;p&gt;Here is a simple project that demonstrates the import feature.&lt;/p&gt;</comment>
                            <comment id="13495018" author="saden1" created="Sun, 11 Nov 2012 22:21:41 +0000"  >&lt;p&gt;Updated patch which gaurds against NPE if importedFiles is not defined&lt;/p&gt;</comment>
                            <comment id="13495019" author="saden1" created="Sun, 11 Nov 2012 22:26:50 +0000"  >&lt;p&gt;This patch also displays the same symptoms as &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-983&quot; title=&quot;maven-avro-plugin: Allow maven schema compiler to support external reference in an another avro schema file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-983&quot;&gt;&lt;del&gt;AVRO-983&lt;/del&gt;&lt;/a&gt; patch. Having a single Schema.Parser causes the IPC module to fail with &quot;Can&apos;t redefine: org.apache.avro.ipc.MD5&quot;&lt;/p&gt;</comment>
                            <comment id="13495235" author="saden1" created="Mon, 12 Nov 2012 12:59:33 +0000"  >&lt;p&gt;This patch makes everything hunky-dory and backward compatible by checking to see if the user opted in to the importing of files. If user specified importedFiles then a single schema parser is used otherwise we do things the old way and create a new schema parser every time. &lt;/p&gt;</comment>
                            <comment id="13495292" author="tomwhite" created="Mon, 12 Nov 2012 14:36:28 +0000"  >&lt;p&gt;Thanks for the patch, Sharmarke. I tried using the patch with a small project I was testing &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-983&quot; title=&quot;maven-avro-plugin: Allow maven schema compiler to support external reference in an another avro schema file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-983&quot;&gt;&lt;del&gt;AVRO-983&lt;/del&gt;&lt;/a&gt; with and it worked fine. A few comments on the patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Using a static Schema.Parser could potentially cause problems if the plugin is used more than once in a Maven project, since only one parser instance is used and it would retain references to earlier schemas. Instead, make it a non-static instance variable.&lt;/li&gt;
	&lt;li&gt;If importing files then project.addCompileSourceRoot is called twice with the same output directory. I&apos;m not sure if this is a problem, but it might be better to call it just once.&lt;/li&gt;
	&lt;li&gt;Nit: declaration of &quot;File file&quot; can be moved to the line where the object is first instantiated. This occurs in two places in the patch.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13495378" author="saden1" created="Mon, 12 Nov 2012 16:20:00 +0000"  >&lt;p&gt;Updated the patch based on Tom&apos;s valuable feedback. Please note that I also changed the plugin coUpdated the patch based on Tom&apos;s feedback. Please note that I also changed the plugin &quot;importedFiles&quot; configuration to just &quot;imports&quot;&lt;/p&gt;</comment>
                            <comment id="13495383" author="saden1" created="Mon, 12 Nov 2012 16:24:40 +0000"  >&lt;p&gt;Here is an updated project that demonstrates usage of the import functionality. The plugin deceleration essentially looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;plugin&amp;gt;
  &amp;lt;groupId&amp;gt;org.apache.avro&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;avro-maven-plugin&amp;lt;/artifactId&amp;gt;
  &amp;lt;executions&amp;gt;
    &amp;lt;execution&amp;gt;
      &amp;lt;goals&amp;gt;
        &amp;lt;goal&amp;gt;schema&amp;lt;/goal&amp;gt;
      &amp;lt;/goals&amp;gt;
    &amp;lt;/execution&amp;gt;
  &amp;lt;/executions&amp;gt;
  &amp;lt;configuration&amp;gt;
    &amp;lt;imports&amp;gt;
      &amp;lt;!-- &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; a directory --&amp;gt;
      &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&amp;gt;${basedir}/src/main/avro/imports&amp;lt;/&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&amp;gt;
      &amp;lt;!-- &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; a file --&amp;gt;
      &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&amp;gt;${basedir}/src/main/avro/directImport/PrivacyDirectImport.avsc&amp;lt;/&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&amp;gt;
    &amp;lt;/imports&amp;gt;
  &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13496071" author="tomwhite" created="Tue, 13 Nov 2012 09:56:22 +0000"  >&lt;p&gt;+1 I just committed this. Thanks, Sharmarke!&lt;/p&gt;</comment>
                            <comment id="13496465" author="saden1" created="Tue, 13 Nov 2012 19:28:58 +0000"  >&lt;p&gt;My pleasure. Thanks you guys for your guidance.&lt;/p&gt;</comment>
                            <comment id="13497436" author="cutting" created="Wed, 14 Nov 2012 21:01:21 +0000"  >&lt;p&gt;Shouldn&apos;t we add a test?  I didn&apos;t see one in the commit.&lt;/p&gt;</comment>
                            <comment id="13497481" author="saden1" created="Wed, 14 Nov 2012 21:36:12 +0000"  >&lt;p&gt;I would very much like to add unit tests but I&apos;m not sure where they should be added.&lt;/p&gt;</comment>
                            <comment id="13497540" author="cutting" created="Wed, 14 Nov 2012 22:36:04 +0000"  >&lt;p&gt;We should perhaps add directories lang/java/maven-plugin/src/test/avro/&lt;/p&gt;
{input,output,include}
&lt;p&gt; then write a test that&apos;s like TestIdl.java and TestSpecificCompilerTool.java, which compiles schemas in the input directory, specifying the include directory, and compares the output to what&apos;s in the output directory.&lt;/p&gt;
</comment>
                            <comment id="13497918" author="tomwhite" created="Thu, 15 Nov 2012 10:39:00 +0000"  >&lt;p&gt;Yes, we should have a test for this - I was a bit hasty in my commit, sorry! I didn&apos;t think there were any tests for the avro-maven-plugin, but in retrospect I realise that the ipc and mapred modules are using it, so they are tests of sorts for the plugin already. Sharmarke, are you able take a look at this?&lt;/p&gt;</comment>
                            <comment id="13498250" author="saden1" created="Thu, 15 Nov 2012 19:05:39 +0000"  >&lt;p&gt;Yes, I will take a look at it.&lt;/p&gt;


&lt;p&gt;On a side note, is there any reason why there aren&apos;t any tests for the plugin Mojos?&lt;/p&gt;</comment>
                            <comment id="13498397" author="cutting" created="Thu, 15 Nov 2012 22:18:22 +0000"  >&lt;p&gt;&amp;gt; is there any reason why there aren&apos;t any tests for the plugin Mojos?&lt;/p&gt;

&lt;p&gt;No good reason.  They were implemented as a part of the conversion from Ant to Maven and no tests were added then.&lt;/p&gt;</comment>
                            <comment id="13498867" author="saden1" created="Fri, 16 Nov 2012 15:34:25 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1207&quot; title=&quot;Add Mojo Tests to the Maven Plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1207&quot;&gt;&lt;del&gt;AVRO-1207&lt;/del&gt;&lt;/a&gt; and submitted a patch for it. It adds tests for all the mojos and it also tests schema imports.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12535725">AVRO-983</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12535725">AVRO-983</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553131" name="Avro-1188.tar.gz" size="3770" author="saden1" created="Mon, 12 Nov 2012 16:24:40 +0000"/>
                            <attachment id="12553043" name="Avro-1188.tar.gz" size="20887" author="saden1" created="Sun, 11 Nov 2012 20:17:30 +0000"/>
                            <attachment id="12553104" name="vcs-diff1160361655737792386.patch" size="5088" author="saden1" created="Mon, 12 Nov 2012 12:59:33 +0000"/>
                            <attachment id="12553051" name="vcs-diff2916139350460140957.patch" size="4713" author="saden1" created="Sun, 11 Nov 2012 22:21:41 +0000"/>
                            <attachment id="12553042" name="vcs-diff4277815358664835838.patch" size="4656" author="saden1" created="Sun, 11 Nov 2012 20:13:02 +0000"/>
                            <attachment id="12553130" name="vcs-diff6739872835137179667.patch" size="5281" author="saden1" created="Mon, 12 Nov 2012 16:20:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Nov 2012 18:41:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eonb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Schema, Import, Imports, Importing, Types, Reuse, Share</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1189] cpp build requires cmake 2.8.4</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1189</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The cmake_minimum_required setting for the C++ build is 2.6, but when I try to compile using cmake 2.8.2 I get an error because add_test doesn&apos;t understand the WORKING_DIRECTORY property. It turns out this was added in cmake 2.8.4. The CMakeLists.txt should either be updated to use some kind of workaround, or bump the minimum requirement to 2.8.4&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614743">AVRO-1189</key>
            <summary>cpp build requires cmake 2.8.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="tlipcon">Todd Lipcon</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 01:35:49 +0000</created>
                <updated>Fri, 28 Dec 2018 16:29:00 +0000</updated>
                            <resolved>Thu, 24 Jul 2014 08:39:17 +0000</resolved>
                                    <version>1.7.2</version>
                                                    <component>build</component>
                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13490408" author="tlipcon" created="Mon, 5 Nov 2012 01:47:45 +0000"  >&lt;p&gt;Attached patch uses a workaround I found on the cmake mailing lists. I tested this with cmake 2.8.2 and the tests ran and passed.&lt;/p&gt;</comment>
                            <comment id="13490450" author="thiru_mg" created="Mon, 5 Nov 2012 04:47:17 +0000"  >&lt;p&gt;This patch works well with single configuration systems like Unix Makefile. But with multi configuration systems like Mac and Windows, ctest -c &amp;lt;config&amp;gt; fails (it doesn&apos;t generate correct executable name). Ctest is a handy tool to run all tests at once on these platforms. I think it&apos;s better that we bump up the requirement to 2.8.4, which is anyway 18 months old. An alternative is to remove working directory requirements in the tests, which requires little bit of work.&lt;/p&gt;</comment>
                            <comment id="16730368" author="thiru_mg" created="Fri, 28 Dec 2018 16:29:00 +0000"  >&lt;p&gt;Closing the issues that got resolved in earlier releases&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552052" name="avro-1189.txt" size="813" author="tlipcon" created="Mon, 5 Nov 2012 01:47:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Nov 2012 04:47:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255167</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0epsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1190] C++ json parser fails to decode multibyte unicode code points</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1190</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The parser in JsonIO.cc does not handle decoding a multibyte unicode character into any kind of valid character encoding for a std::string in c++. The following snippet from JsonParser::tryString() has several flaws:&lt;/p&gt;

&lt;p&gt;1. sv is a std::string used as a vector, where each unit is a char&lt;br/&gt;
2. a single unicode hex quad encoded in JSON can represent a 16-bit value&lt;br/&gt;
3. a unicode hex quad can represent a &quot;high surrogate&quot; character meaning that it must be combined with the following quad to derive the full unicode code point&lt;br/&gt;
4. \U is not a valid unicode escape for JSON (see &lt;a href=&quot;http://www.ietf.org/rfc/rfc4627.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc4627.txt&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;JsonIO.cc&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;u&apos;&lt;/span&gt;:
            &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;U&apos;&lt;/span&gt;:
                {
                    unsigned &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n = 0;
                    &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; e[4];
                    in_.readBytes(reinterpret_cast&amp;lt;uint8_t*&amp;gt;(e), 4);
                    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 4; i++) {
                        n *= 16;
                        &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; c = e[i];
                        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isdigit(c)) {
                            n += c - &lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;;
                        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (c &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt; &amp;amp;&amp;amp; c &amp;lt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;f&apos;&lt;/span&gt;) {
                            n += c - &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt; + 10;
                        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (c &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;A&apos;&lt;/span&gt; &amp;amp;&amp;amp; c &amp;lt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;F&apos;&lt;/span&gt;) {
                            n += c - &lt;span class=&quot;code-quote&quot;&gt;&apos;A&apos;&lt;/span&gt; + 10;
                        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; unexpected(c);
                        }
                    }
                    sv.push_back(n);
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code loop creates a temporary int then decodes the quad into it and then simply pushes the int (which may be a 16-bit value) onto the std::string. This essentially means that the JSON parser does not decode any unicode characters. For example, this JSON string:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Dress up if you dare! Free cover all night! \uD83C\uDF83\uD83D\uDC7B&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;results in a decoded byte sequence for the last 4 characters:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;3C 83 3D 7B 00
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where you can see that it simply drops the high order bytes. In this particular example, \uD83C is a high-surrogate character which requires some additional handling. I am not sure what users of the c++ library expect the encoding to be, but given that we are working with json and given that avro c++ uses char instead of wchar, I would assume users would expect a UTF-8 encoded string. However, I could be wrong. There are many examples of decoders that handle this string properly - I found this one helpful while implementing a fix: &lt;a href=&quot;http://rishida.net/tools/conversion/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://rishida.net/tools/conversion/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For basics on UTF-8 &lt;a href=&quot;http://www.utf-8.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.utf-8.com/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614831">AVRO-1190</key>
            <summary>C++ json parser fails to decode multibyte unicode code points</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kehli">Keh-Li Sheng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 18:46:50 +0000</created>
                <updated>Wed, 2 Jan 2019 13:13:56 +0000</updated>
                            <resolved>Sun, 30 Dec 2018 07:20:31 +0000</resolved>
                                    <version>1.7.0</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13490818" author="kehli" created="Mon, 5 Nov 2012 18:48:17 +0000"  >&lt;p&gt;Originally submitted a request to allow \u instead of \U&lt;/p&gt;</comment>
                            <comment id="16730900" author="jira-bot" created="Sun, 30 Dec 2018 07:19:23 +0000"  >&lt;p&gt;Commit 8f94f5647b6351c219fa105f37cd01f156427f71 in avro&apos;s branch refs/heads/master from Thiruvalluvan M. G.&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=avro.git;h=8f94f56&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gitbox.apache.org/repos/asf?p=avro.git;h=8f94f56&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #417 from thiru-apache/&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1190&quot; title=&quot;C++ json parser fails to decode multibyte unicode code points&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1190&quot;&gt;&lt;del&gt;AVRO-1190&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;UTF-8 support for JSON in C++&lt;/p&gt;</comment>
                            <comment id="16730902" author="thiru_mg" created="Sun, 30 Dec 2018 07:20:31 +0000"  >&lt;p&gt;Merged the Pull Request&lt;/p&gt;</comment>
                            <comment id="16732037" author="jira-bot" created="Wed, 2 Jan 2019 13:13:56 +0000"  >&lt;p&gt;Commit 8f94f5647b6351c219fa105f37cd01f156427f71 in avro&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-2238&quot; title=&quot;Update Docker image from java to openjdk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-2238&quot;&gt;AVRO-2238&lt;/a&gt; from Thiruvalluvan M. G.&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=avro.git;h=8f94f56&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gitbox.apache.org/repos/asf?p=avro.git;h=8f94f56&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #417 from thiru-apache/&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1190&quot; title=&quot;C++ json parser fails to decode multibyte unicode code points&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1190&quot;&gt;&lt;del&gt;AVRO-1190&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;UTF-8 support for JSON in C++&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12843881">AVRO-1698</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12554070">AVRO-1080</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Dec 2018 07:19:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0er0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1191] C++ json encoder uses \U instead of \u</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1191</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;From the JSON spec &lt;a href=&quot;http://www.ietf.org/rfc/rfc4627.txt:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc4627.txt:&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2.5.  Strings&lt;/p&gt;

&lt;p&gt;   The representation of strings is similar to conventions used in the C&lt;br/&gt;
   family of programming languages.  A string begins and ends with&lt;br/&gt;
   quotation marks.  All Unicode characters may be placed within the&lt;br/&gt;
   quotation marks except for the characters that must be escaped:&lt;br/&gt;
   quotation mark, reverse solidus, and the control characters (U+0000&lt;br/&gt;
   through U+001F).&lt;/p&gt;

&lt;p&gt;   Any character may be escaped.  If the character is in the Basic&lt;br/&gt;
   Multilingual Plane (U+0000 through U+FFFF), then it may be&lt;br/&gt;
   represented as a six-character sequence: a reverse solidus, followed&lt;br/&gt;
   by the lowercase letter u, followed by four hexadecimal digits that&lt;br/&gt;
   encode the character&apos;s code point.  The hexadecimal letters A though&lt;br/&gt;
   F can be upper or lowercase.  So, for example, a string containing&lt;br/&gt;
   only a single reverse solidus character may be represented as&lt;br/&gt;
   &quot;\u005C&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But JsonCodec.cc outputs \U&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614857">AVRO-1191</key>
            <summary>C++ json encoder uses \U instead of \u</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kehli">Keh-Li Sheng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 21:41:24 +0000</created>
                <updated>Sun, 1 Apr 2018 16:19:21 +0000</updated>
                            <resolved>Sun, 1 Apr 2018 16:19:21 +0000</resolved>
                                    <version>1.7.0</version>
                                    <fixVersion>1.8.3</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16061260" author="githubbot" created="Fri, 23 Jun 2017 17:27:29 +0000"  >&lt;p&gt;GitHub user JamesAdams800 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/233&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    AVRO 1191: Fix C++ JSON Encoder to use /u escape sequence&lt;/p&gt;

&lt;p&gt;    Proposed fix to &lt;span class=&quot;error&quot;&gt;&amp;#91;1191&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1191&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1191&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/JamesAdams800/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/JamesAdams800/avro&lt;/a&gt; Avro-1191&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/233.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/233.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #233&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 49ddc8938e3268166a41f100269b93e7e3da652e&lt;br/&gt;
Author: JamesAdams800 &amp;lt;jamesadams800@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-23T17:23:42Z&lt;/p&gt;

&lt;p&gt;    AVRO 1191: Fix C++ JSON Encoder to use /u escape sequence&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16421718" author="thiru_mg" created="Sun, 1 Apr 2018 16:19:21 +0000"  >&lt;p&gt;Merged pull request&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12554070">AVRO-1080</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Jun 2017 17:27:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0er93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
