<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:26:41 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2018-5-9+AND+created+%3C%3D+2018-5-16+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="2" total="2"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-2177] avro-protobuf not honouring java_multiple_files option</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2177</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Using avro-protobuf for google protobuf timestamp models fails to extract schema due to invalid namespace resolution.&lt;br/&gt;
 &#160;&lt;br/&gt;
 Proto model for timestamp has following options defined.&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
option java_outer_classname = &lt;span class=&quot;code-quote&quot;&gt;&quot;TimestampProto&quot;&lt;/span&gt;;
option java_multiple_files = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 That would mean that the generated code for Timestamp will be at &quot;com.google.protobuf.Timestamp&quot; rather than &quot;com.google.protobuf.TimestampProto$Timestamp&quot;.&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 However, when I try to derive an avro schema from a proto model using google timestamp, avro-protobuf is not honouring the java_multiple_files option and tries to look for timestamp class at &quot;com.google.protobuf.TimestampProto$Timestamp&quot;&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.ClassNotFoundException: Failed to load classcom.google.protobuf.TimestampProto$Timestamp
 at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:60)
 at org.apache.avro.util.ClassUtils.forName(ClassUtils.java:36)
 at org.apache.avro.protobuf.ProtobufData.newRecord(ProtobufData.java:137)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 &quot;getNamespace&quot; of org.apache.avro.protobuf.ProtobufData ins&apos;t honouring multiple files option there by breaking models that import google proto definitions.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13158128">AVRO-2177</key>
            <summary>avro-protobuf not honouring java_multiple_files option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mahesh.mudi@deliveroo.co.uk">Mahesh Mudi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 May 2018 08:22:26 +0000</created>
                <updated>Fri, 11 Jan 2019 12:00:08 +0000</updated>
                                            <version>1.8.2</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16468542" author="mahesh.mudi@deliveroo.co.uk" created="Wed, 9 May 2018 08:24:58 +0000"  >&lt;p&gt;Have a fix for above and happy to submit a patch.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;</comment>
                            <comment id="16740324" author="jonbec" created="Fri, 11 Jan 2019 12:00:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mahesh.mudi%40deliveroo.co.uk&quot; class=&quot;user-hover&quot; rel=&quot;mahesh.mudi@deliveroo.co.uk&quot;&gt;Mahesh Mudi&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I&apos;m also facing this issue, both with external proto files as well as my internal ones. It&apos;d be very helpful if you could update the ticket with the fix.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Jan 2019 12:00:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tid3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-2178] avro C++ api support of tail reading of a growing avro file</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2178</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Two processes, one is writing to an avro data file, another wishes to read the latest written data.&lt;/p&gt;

&lt;p&gt;The problem with current C++ API is that when it reaches the EOF, an exception will be thrown, and from the user perspective, I have no way to retry or &apos;tail read&apos; it again from the last good position.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13158390">AVRO-2178</key>
            <summary>avro C++ api support of tail reading of a growing avro file</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="coollpe">peien</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 May 2018 06:49:38 +0000</created>
                <updated>Mon, 19 Nov 2018 04:11:35 +0000</updated>
                            <resolved>Mon, 19 Nov 2018 04:11:34 +0000</resolved>
                                    <version>1.8.2</version>
                                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="16561161" author="thiru_mg" created="Sun, 29 Jul 2018 16:32:31 +0000"  >&lt;p&gt;It is an interesting use case.&lt;/p&gt;

&lt;p&gt;I don&apos;t think implementation Avro data file in any language in this project will handle this use case well.&lt;/p&gt;

&lt;p&gt;Looking at C++ implementation specifically, we have an underlying byte stream which can be &quot;backed up&quot; a bit, but it is not guaranteed to work. I don&apos;t think it is going to be easy to support this use case.&lt;/p&gt;

&lt;p&gt;If you can take the latency impact, your reader process will have to wait for the writer to complete writing the whole file. The easiest way to achieve this is to let the writer to write into a temporary file and when done let the file be renamed to the&#160;actual destination&#160;name. This approach has a side benefit that partially written files are never visible to potential consumers.&lt;/p&gt;</comment>
                            <comment id="16585500" author="wmatthews" created="Mon, 20 Aug 2018 06:59:14 +0000"  >&lt;p&gt;I have a pull request tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-2214&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-2214&lt;/a&gt;&#160;to add support for seeking. It&apos;d give you a bit of a work around of &quot;read to the end, stat the file until it grows, seek to the last known sync marker, read to the end, repeat&quot;. Would something like that work for you?&lt;/p&gt;</comment>
                            <comment id="16637782" author="thiru_mg" created="Thu, 4 Oct 2018 03:52:05 +0000"  >&lt;p&gt;A solution to your problem is to use &lt;a href=&quot;https://en.wikipedia.org/wiki/Named_pipe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Unix named pipe&lt;/a&gt;. Instead of writing to a standard file, create a named pipe and then use that file to write and read. This would work because the reading named pipe blocks until more data is available or the writer explicitly closes the file (see &lt;a href=&quot;https://www.systutorials.com/docs/linux/man/7-pipe/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this documentation&lt;/a&gt; for example).&lt;/p&gt;</comment>
                            <comment id="16684629" author="thiru_mg" created="Tue, 13 Nov 2018 02:16:51 +0000"  >&lt;p&gt;The problem is not due to our C++ implementation, this will happen on any implementation. Will close the issue as &apos;not a problem&apos; unless someone objects to it.&lt;/p&gt;</comment>
                            <comment id="16691232" author="thiru_mg" created="Mon, 19 Nov 2018 04:11:35 +0000"  >&lt;p&gt;Since there is no way to detect if a file is being written into, distinguishing temporary EOF from real one on it is impossible. This use case cannot be resolved. The suggested method of using Unix FIFO files will work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Jul 2018 16:32:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tjz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
