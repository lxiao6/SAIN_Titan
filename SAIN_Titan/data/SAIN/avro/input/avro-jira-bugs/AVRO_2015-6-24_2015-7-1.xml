<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:22:02 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2015-6-24+AND+created+%3C%3D+2015-7-1+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="5" total="5"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1687] Converting JSON to avro fails </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1687</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I am trying to validate a JSON string that is sent to me.  Unfortunately, I get a stacktrace indicating that my schema and JSON are not compatable: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.avro.AvroTypeException: Unknown union branch hour&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; This does not seem right to me since the JSON being passed to me was created from the same schema I am using to validate it.&lt;/p&gt;

&lt;p&gt;Here are my tests&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@BeforeClass
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void testGenerateSchema() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
	             /************************************************
		      * GENERATE SCHEMA
		      ************************************************/
		&lt;span class=&quot;code-comment&quot;&gt;// get the reflected schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; packets
&lt;/span&gt;		File schemaFile = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;avro.schema&quot;&lt;/span&gt;);
		schema = ReflectData.AllowNull.get().getSchema(Packet.class);
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (DataFileWriter&amp;lt;Schema&amp;gt; schemaWiter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataFileWriter&amp;lt;&amp;gt;(
				&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumWriter&amp;lt;Schema&amp;gt;())) {
			schemaWiter.create(schema, schemaFile);
			schemaWiter.close();
		}

		assertNotNull(schemaFile);
		assertTrue(schemaFile.length() &amp;gt; 0);
	}


	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testAvroJsonToBinarySerialization() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

	             /************************************************
		      * SERIALIZE JSON
		      ************************************************/
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; json = &lt;span class=&quot;code-quote&quot;&gt;&quot;{\&quot;&lt;/span&gt;cost\&lt;span class=&quot;code-quote&quot;&gt;&quot;: 0, \&quot;&lt;/span&gt;stamp\&lt;span class=&quot;code-quote&quot;&gt;&quot;: {\&quot;&lt;/span&gt;hour\&lt;span class=&quot;code-quote&quot;&gt;&quot;: 12, \&quot;&lt;/span&gt;second\&lt;span class=&quot;code-quote&quot;&gt;&quot;: 0}}&quot;&lt;/span&gt;;
		Schema schema = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.Parser().parse(getSchema().toString());
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(schema);
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(jsonToAvro(json, schema));
    }

        &lt;span class=&quot;code-comment&quot;&gt;// Code borrowed from the Avro-Tools project
&lt;/span&gt;	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; jsonToAvro(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; json, Schema schema)
			&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
		ByteArrayOutputStream baos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
		PrintStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrintStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedOutputStream(baos));
		GenericDatumReader&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; reader = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumReader&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;(schema);
		InputStream input = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(json.getBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;));
		JsonDecoder jsonDecoder = DecoderFactory.get().jsonDecoder(schema,input);
		GenericDatumWriter&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumWriter&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;(schema);
		Encoder e = EncoderFactory.get().binaryEncoder(out, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; datum = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
			&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
				datum = reader.read(datum, jsonDecoder);
			} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (EOFException eofException) {
				&lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
			}
			writer.write(datum, e);
			e.flush();
		}
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; baos.toString(&lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12840177">AVRO-1687</key>
            <summary>Converting JSON to avro fails </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ericsodt">Dean Ericson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2015 11:17:46 +0000</created>
                <updated>Wed, 24 Jun 2015 21:48:06 +0000</updated>
                                            <version>1.7.6</version>
                    <version>1.7.7</version>
                    <version>1.8.0</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14599973" author="rdblue" created="Wed, 24 Jun 2015 19:09:08 +0000"  >&lt;p&gt;Sorry, I just commented on this problem on &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1604&quot; title=&quot;ReflectData.AllowNull fails to generate schemas when @Nullable is present.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1604&quot;&gt;&lt;del&gt;AVRO-1604&lt;/del&gt;&lt;/a&gt;, following the order in my inbox. Anyway, I think the problem is that your union isn&apos;t encoded according to the &lt;a href=&quot;https://avro.apache.org/docs/1.7.7/spec.html#json_encoding&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro spec for JSON&lt;/a&gt;. If you create the record by hand and then convert it to JSON, you&apos;ll see an extra layer for the union that tells Avro which union type the JSON record is.&lt;/p&gt;

&lt;p&gt;There are other utilities that can convert from raw JSON, as you&apos;re trying to do here. I recommend taking a look at Kite. There&apos;s also a ticket to add a special case to Avro for nullable types, like this. But that is a new JSON encoding needs someone to push it forward.&lt;/p&gt;</comment>
                            <comment id="14600069" author="ericsodt" created="Wed, 24 Jun 2015 20:17:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blue%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;blue@cloudera.com&quot;&gt;Ryan Blue&lt;/a&gt;, I am not seeing any good examples of parsing native JSON into Avro binary when i try and look through the KITE repository.  Are you aware of a specific test suite or just generally aware that they&apos;re trying to accomplish the same task? &lt;/p&gt;</comment>
                            <comment id="14600200" author="rdblue" created="Wed, 24 Jun 2015 21:39:07 +0000"  >&lt;p&gt;Kite is built around multi-file datasets and has a command-line tool that helps you import JSON (see &lt;a href=&quot;http://ingest.tips/2015/02/23/kite-adds-json-support/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ingest.tips/2015/02/23/kite-adds-json-support/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;You can also access those libraries, but they aren&apos;t public. If you&apos;re interested in them, open an issue and we can maybe put them somewhere public.&lt;/p&gt;</comment>
                            <comment id="14600222" author="ericsodt" created="Wed, 24 Jun 2015 21:48:06 +0000"  >&lt;p&gt;Yes, if you could make them available, that would be great.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Jun 2015 19:09:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gfin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1688] Ruby test_union(TestIO) is failing</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1688</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The failure message is&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  1) Failure:
test_union(TestIO) [/Users/tom/workspace/avro/lang/ruby/test/test_io.rb:340]:
&amp;lt;-3372032630846393039&amp;gt; expected but was
&amp;lt;-3.372032630846393e+18&amp;gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12840557">AVRO-1688</key>
            <summary>Ruby test_union(TestIO) is failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tomwhite">Tom White</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jun 2015 14:39:18 +0000</created>
                <updated>Wed, 12 Apr 2017 03:39:50 +0000</updated>
                            <resolved>Mon, 13 Jul 2015 16:20:03 +0000</resolved>
                                                    <fixVersion>1.7.8</fixVersion>
                    <fixVersion>1.8.0</fixVersion>
                                    <component>ruby</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14601284" author="tomwhite" created="Thu, 25 Jun 2015 14:41:24 +0000"  >&lt;p&gt;This occurs when testing a &lt;tt&gt;[&quot;double&quot;, &quot;long&quot;]&lt;/tt&gt; union with random data.&lt;/p&gt;</comment>
                            <comment id="14616704" author="tomwhite" created="Tue, 7 Jul 2015 13:31:34 +0000"  >&lt;p&gt;I think this problem is caused by the change in behaviour of equals between Bignum and Float types (&lt;a href=&quot;https://bugs.ruby-lang.org/issues/3589&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.ruby-lang.org/issues/3589&lt;/a&gt;). In earlier versions of Ruby &lt;tt&gt;10.0 == 10&lt;/tt&gt; was true, but now it&apos;s not, which is why this test has started failing.&lt;/p&gt;

&lt;p&gt;The fix is to use a union of int and long in the test.&lt;/p&gt;</comment>
                            <comment id="14616783" author="tomwhite" created="Tue, 7 Jul 2015 14:32:29 +0000"  >&lt;p&gt;With this fix all tests are passing in the Docker container.&lt;/p&gt;</comment>
                            <comment id="14620629" author="tomwhite" created="Thu, 9 Jul 2015 14:56:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; would you be able to have a look at this one please?&lt;/p&gt;</comment>
                            <comment id="14623238" author="busbey" created="Sat, 11 Jul 2015 05:05:55 +0000"  >&lt;p&gt;is this still a problem after we went back to ruby 1.8+?&lt;/p&gt;</comment>
                            <comment id="14623239" author="busbey" created="Sat, 11 Jul 2015 05:09:46 +0000"  >&lt;p&gt;the updated test passes, but doesn&apos;t this mask a problem we still have in the ruby impl for Ruby 1.9.1+? That is, won&apos;t users who have unions of double long still get unexpected results?&lt;/p&gt;</comment>
                            <comment id="14623240" author="tomwhite" created="Sat, 11 Jul 2015 05:10:17 +0000"  >&lt;p&gt;I&apos;m not sure exactly which version it changed in, but it&apos;s a problem in later versions of Ruby (which we should support).&lt;/p&gt;</comment>
                            <comment id="14623242" author="tomwhite" created="Sat, 11 Jul 2015 05:17:35 +0000"  >&lt;p&gt;Users will only get unexpected results with unions of double and long if they do equality tests. The semantics of equality between Bignum and Float changed in Ruby itself, so I don&apos;t think we need to make any changes in Avro.&lt;/p&gt;</comment>
                            <comment id="14623245" author="busbey" created="Sat, 11 Jul 2015 05:33:28 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;m not sure exactly which version it changed in, but it&apos;s a problem in later versions of Ruby (which we should support).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;it changed in 1.9.1 (which is early in the 1.9 line). agreed that we should be handling this.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Users will only get unexpected results with unions of double and long if they do equality tests. The semantics of equality between Bignum and Float changed in Ruby itself, so I don&apos;t think we need to make any changes in Avro.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not sure I follow. The test looks like it declares a default value for the union to be an instance of the double type. It then makes a record that relies on that default and finds that the values are not equal. Shouldn&apos;t both of them be Float? &lt;/p&gt;</comment>
                            <comment id="14624820" author="tomwhite" created="Mon, 13 Jul 2015 15:44:34 +0000"  >&lt;p&gt;The test that is failing is not in &lt;tt&gt;check_default&lt;/tt&gt;, but in &lt;tt&gt;check&lt;/tt&gt;, where random data is created, and then serialized and deserialized and checked for equality. The equality check fails due to the change in semantics.&lt;/p&gt;

&lt;p&gt;I&apos;ve created a new patch that changes the test so that  &lt;tt&gt;check_default&lt;/tt&gt; and &lt;tt&gt;check&lt;/tt&gt; are independent, and removes the problematic call to &lt;tt&gt;check&lt;/tt&gt; for the double/long union. This is more in-line with what the Java tests do. Does this look OK to you now?&lt;/p&gt;</comment>
                            <comment id="14624824" author="busbey" created="Mon, 13 Jul 2015 15:46:53 +0000"  >&lt;p&gt;+1 LGTM.&lt;/p&gt;</comment>
                            <comment id="14624877" author="jira-bot" created="Mon, 13 Jul 2015 16:19:24 +0000"  >&lt;p&gt;Commit 1690745 from tomwhite@apache.org in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1690745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1690745&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1688&quot; title=&quot;Ruby test_union(TestIO) is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1688&quot;&gt;&lt;del&gt;AVRO-1688&lt;/del&gt;&lt;/a&gt;. Ruby test_union(TestIO) is failing.&lt;/p&gt;</comment>
                            <comment id="14624879" author="tomwhite" created="Mon, 13 Jul 2015 16:20:03 +0000"  >&lt;p&gt;I committed this. Thanks for the review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14624913" author="hudson" created="Mon, 13 Jul 2015 16:36:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #531 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/531/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/531/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1688&quot; title=&quot;Ruby test_union(TestIO) is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1688&quot;&gt;&lt;del&gt;AVRO-1688&lt;/del&gt;&lt;/a&gt;. Ruby test_union(TestIO) is failing. (tomwhite: rev 1690745)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/ruby/test/test_io.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15965321" author="jira-bot" created="Wed, 12 Apr 2017 03:37:13 +0000"  >&lt;p&gt;Commit ff2c83f4406a8c00f9848d6897aec58cfd9e9851 in avro&apos;s branch refs/heads/branch-1.7 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=twhite&quot; class=&quot;user-hover&quot; rel=&quot;twhite&quot;&gt;Thomas White&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=avro.git;h=ff2c83f&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=avro.git;h=ff2c83f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1688&quot; title=&quot;Ruby test_union(TestIO) is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1688&quot;&gt;&lt;del&gt;AVRO-1688&lt;/del&gt;&lt;/a&gt;. Ruby test_union(TestIO) is failing.&lt;/p&gt;

&lt;p&gt;git-svn-id: &lt;a href=&quot;https://svn.apache.org/repos/asf/avro/trunk@1690745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/avro/trunk@1690745&lt;/a&gt; 13f79535-47bb-0310-9956-ffa450edef68&lt;br/&gt;
(cherry picked from commit 74b444929bfdbdd0bcdf45a80dec7b507f805428)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12716322">AVRO-1516</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12745057" name="AVRO-1688.patch" size="2377" author="tomwhite" created="Mon, 13 Jul 2015 15:44:34 +0000"/>
                            <attachment id="12743959" name="AVRO-1688.patch" size="391" author="tomwhite" created="Tue, 7 Jul 2015 13:31:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Jul 2015 05:05:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ghtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1689] Update Dockerfile to use official Java repository</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1689</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The old &lt;tt&gt;dockerfile/java:openjdk-7-jdk&lt;/tt&gt; repository is no longer working (see &lt;a href=&quot;https://forums.docker.com/t/dockerfile-java-oracle-java7-repo-not-found-issue/1472&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://forums.docker.com/t/dockerfile-java-oracle-java7-repo-not-found-issue/1472&lt;/a&gt;), so it needs updating.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12840561">AVRO-1689</key>
            <summary>Update Dockerfile to use official Java repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tomwhite">Tom White</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jun 2015 14:51:24 +0000</created>
                <updated>Mon, 1 Feb 2016 14:55:47 +0000</updated>
                            <resolved>Thu, 25 Jun 2015 16:29:52 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14601302" author="tomwhite" created="Thu, 25 Jun 2015 14:55:15 +0000"  >&lt;p&gt;Here&apos;s a patch to fix this. With this change the tests all pass with &lt;tt&gt;./build.sh test&lt;/tt&gt; except for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1688&quot; title=&quot;Ruby test_union(TestIO) is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1688&quot;&gt;&lt;del&gt;AVRO-1688&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14601438" author="rdblue" created="Thu, 25 Jun 2015 16:05:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14601480" author="jira-bot" created="Thu, 25 Jun 2015 16:28:10 +0000"  >&lt;p&gt;Commit 1687572 from tomwhite@apache.org in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1687572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1687572&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1689&quot; title=&quot;Update Dockerfile to use official Java repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1689&quot;&gt;&lt;del&gt;AVRO-1689&lt;/del&gt;&lt;/a&gt;. Update Dockerfile to use official Java repository.&lt;/p&gt;</comment>
                            <comment id="14601488" author="hudson" created="Thu, 25 Jun 2015 16:35:48 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #519 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/519/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1689&quot; title=&quot;Update Dockerfile to use official Java repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1689&quot;&gt;&lt;del&gt;AVRO-1689&lt;/del&gt;&lt;/a&gt;. Update Dockerfile to use official Java repository. (tomwhite: rev 1687572)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/share/docker/Dockerfile&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741870" name="AVRO-1689.patch" size="330" author="tomwhite" created="Thu, 25 Jun 2015 14:55:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jun 2015 16:05:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ghu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1690] Create Avro schema builder</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1690</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The avro schema builder would like to provide the functions that make it easier to construct a JSON representation of an Avro schema.&lt;/p&gt;

&lt;p&gt;The implementation: &lt;a href=&quot;https://github.com/clin7/avro/commits/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/clin7/avro/commits/trunk&lt;/a&gt;&lt;br/&gt;
Relevant commits: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/clin7/avro/commit/4f0a4ec8102a143e18499854411de70ac860dcf1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;4f0a4ec8102a143e18499854411de70ac860dcf1&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/clin7/avro/commit/751b9e4b70e4e0ef0941e4415c7b55b6c9b12af6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;751b9e4b70e4e0ef0941e4415c7b55b6c9b12af6&lt;/a&gt;&lt;br/&gt;
-&lt;a href=&quot;https://github.com/clin7/avro/commit/ca54b665f4f0ae3e59ba1f574bc628349dd6f0a1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ca54b665f4f0ae3e59ba1f574bc628349dd6f0a1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We&apos;ve started using it in Yelp. Could a python committer/reviewer do a code review on this builder? Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12841002">AVRO-1690</key>
            <summary>Create Avro schema builder</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="clin">Chia-chi Lin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jun 2015 21:56:29 +0000</created>
                <updated>Fri, 26 Jun 2015 21:57:21 +0000</updated>
                                                                            <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gkhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1691] Error parsing schema if schema is json string</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1691</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I have a schema which looks like:&lt;br/&gt;
&quot;int&quot;&lt;/p&gt;

&lt;p&gt;in file_read_header , I got an error: Cannot parse file header: Error parsing JSON: &apos;[&apos; or &apos;{&apos; expected near &apos;&quot;int&quot;&apos;&lt;/p&gt;

&lt;p&gt;I see avro-c uses json_loadb from jansson which may be populating this error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12841779">AVRO-1691</key>
            <summary>Error parsing schema if schema is json string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="VikasK">Vikas Kumar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2015 19:30:47 +0000</created>
                <updated>Thu, 4 Feb 2016 22:53:46 +0000</updated>
                            <resolved>Tue, 19 Jan 2016 20:59:58 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>c</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="15010861" author="edenhill" created="Wed, 18 Nov 2015 12:11:29 +0000"  >&lt;p&gt;Also seeing this issue with a simple &quot;string&quot;-only schema.&lt;/p&gt;

&lt;p&gt;Since this is the first type of schema defined in the documentation I hope this issue can receive some attention:&lt;br/&gt;
&quot;Schema Declaration&lt;br/&gt;
A Schema is represented in JSON by one of:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A JSON string, naming a defined type.&lt;br/&gt;
...&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15010885" author="edenhill" created="Wed, 18 Nov 2015 12:20:03 +0000"  >&lt;p&gt;Fixing this requires the JSON_DECODE_ANY flag which unfortunately is not available in the bundled jansson (v2.1), so it&apos;ll require an upgrade to a later jansson (latest stable is 2.7).&lt;/p&gt;

&lt;p&gt;The proper fix might be to depend on an external jansson instead of bundling it.&lt;/p&gt;</comment>
                            <comment id="15011230" author="busbey" created="Wed, 18 Nov 2015 15:45:40 +0000"  >&lt;p&gt;Care to have a go at updating?&lt;/p&gt;</comment>
                            <comment id="15011806" author="githubbot" created="Wed, 18 Nov 2015 19:47:47 +0000"  >&lt;p&gt;GitHub user edenhill opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/57&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Depend on external libjansson and fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
    Allow JSON string-field primitive schema definitions&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1691&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This fix requires a newer version of libjansson (&amp;gt;=2.3) that features the JSON_DECODE_ANY decoder flag. Since libjansson is widely available in distributions nowadays the old bundled copy was removed in favour of depending on libjansson as an external library.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/edenhill/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/edenhill/avro&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/57.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/57.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #57&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bada46dcf8da5f78b7ade7589225978ce63c45e1&lt;br/&gt;
Author: Magnus Edenhill &amp;lt;magnus@edenhill.se&amp;gt;&lt;br/&gt;
Date:   2015-11-18T19:08:49Z&lt;/p&gt;

&lt;p&gt;    Depend on external libjansson instead of a bundled copy&lt;/p&gt;

&lt;p&gt;commit 586eb2bc9d9bd9ee3e69ff0bdd27fdcebdfe7ced&lt;br/&gt;
Author: Magnus Edenhill &amp;lt;magnus@edenhill.se&amp;gt;&lt;br/&gt;
Date:   2015-11-18T19:30:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;: Allow JSON string-field primitive schema definitions&lt;/p&gt;

&lt;p&gt;commit 80f06f65a1069f8a28ef6136343dc6e8c7e88493&lt;br/&gt;
Author: Magnus Edenhill &amp;lt;magnus@edenhill.se&amp;gt;&lt;br/&gt;
Date:   2015-11-18T19:40:47Z&lt;/p&gt;

&lt;p&gt;    Newer Jansson (e.g 2.7) libraries output hex escapes in lowercase&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15011808" author="edenhill" created="Wed, 18 Nov 2015 19:48:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; Sure, filed a PR here: &lt;a href=&quot;https://github.com/apache/avro/pull/57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/57&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15057723" author="martinkl" created="Tue, 15 Dec 2015 09:46:06 +0000"  >&lt;p&gt;Using the OS-provided Jansson, rather than bundling it with Avro-C, is now split into a separate issue &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1769&quot; title=&quot;Depend on external libjansson instead of a bundled copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1769&quot;&gt;&lt;del&gt;AVRO-1769&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15057951" author="martinkl" created="Tue, 15 Dec 2015 12:08:02 +0000"  >&lt;p&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=edenhill&quot; class=&quot;user-hover&quot; rel=&quot;edenhill&quot;&gt;Magnus Edenhill&lt;/a&gt;&apos;s patch from the &lt;a href=&quot;https://github.com/apache/avro/pull/57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;pull request&lt;/a&gt;. The patch depends on the new version of Jansson (&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1769&quot; title=&quot;Depend on external libjansson instead of a bundled copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1769&quot;&gt;&lt;del&gt;AVRO-1769&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15107421" author="jira-bot" created="Tue, 19 Jan 2016 20:58:47 +0000"  >&lt;p&gt;Commit 1725611 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martinkl&quot; class=&quot;user-hover&quot; rel=&quot;martinkl&quot;&gt;Martin Kleppmann&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1725611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1725611&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;. C: Allow schemas consisting only of a primitive type. Contributed by Magnus Edenhill.&lt;/p&gt;</comment>
                            <comment id="15107426" author="martinkl" created="Tue, 19 Jan 2016 20:59:58 +0000"  >&lt;p&gt;+1. Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1769&quot; title=&quot;Depend on external libjansson instead of a bundled copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1769&quot;&gt;&lt;del&gt;AVRO-1769&lt;/del&gt;&lt;/a&gt; is committed, this is unblocked. I&apos;ve committed this to trunk. Thanks for your contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=edenhill&quot; class=&quot;user-hover&quot; rel=&quot;edenhill&quot;&gt;Magnus Edenhill&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15107653" author="hudson" created="Tue, 19 Jan 2016 23:13:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #571 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/571/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;. C: Allow schemas consisting only of a primitive type. Contributed by Magnus Edenhill. (martinkl: rev 1725611)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;trunk/lang/c/src/schema.c&lt;/li&gt;
	&lt;li&gt;trunk/lang/c/tests/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;trunk/lang/c/tests/test_avro_1691.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15110424" author="jira-bot" created="Thu, 21 Jan 2016 10:59:18 +0000"  >&lt;p&gt;Commit 1725902 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martinkl&quot; class=&quot;user-hover&quot; rel=&quot;martinkl&quot;&gt;Martin Kleppmann&lt;/a&gt; in branch &apos;avro/branches/branch-1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1725902&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1725902&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1691&quot; title=&quot;Error parsing schema if schema is json string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1691&quot;&gt;&lt;del&gt;AVRO-1691&lt;/del&gt;&lt;/a&gt;. C: Allow schemas consisting only of a primitive type. Contributed by Magnus Edenhill.&lt;/p&gt;</comment>
                            <comment id="15133248" author="githubbot" created="Thu, 4 Feb 2016 22:53:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/57&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12459055">AVRO-462</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12921914">AVRO-1769</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12777738" name="AVRO-1691.patch" size="5436" author="martinkl" created="Tue, 15 Dec 2015 12:08:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Nov 2015 12:11:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gpan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
