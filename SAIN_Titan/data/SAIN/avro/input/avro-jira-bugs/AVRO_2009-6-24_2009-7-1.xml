<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:12:21 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2009-6-24+AND+created+%3C%3D+2009-7-1+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="7" total="7"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-61] Support for blocking arrays/maps in python</title>
                <link>https://issues.apache.org/jira/browse/AVRO-61</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;We have introduced a blocking version of writer in Java that enables readers to efficiently skip large arrays and maps. The avro format encoded arrays and maps by encoding the number of elements by the the elements themselves. Zero element count indicates that the array/map has ended. The change we introduced is that if the element count is negative, it is followed by the byte-count of the encoded elements that follow. The reader, on seeing a negative element count should flip the sign to get the actual number of elements. In addition, if it is interested in supporting fast skip, it should use the byte count to skip the elements en-bloc instead of decoding them individually. If it does not want to support fast skip, it has to just read the byte count and ignore its value.&lt;/p&gt;

&lt;p&gt;The changes are already made in Java&apos;s ValueReader to support this. Similar changes need to done in Python as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428741">AVRO-61</key>
            <summary>Support for blocking arrays/maps in python</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ravidotg">Ravi Gummadi</assignee>
                                    <reporter username="thiru_mg">Thiruvalluvan M. G.</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2009 07:26:40 +0000</created>
                <updated>Wed, 16 Sep 2009 22:31:45 +0000</updated>
                            <resolved>Tue, 18 Aug 2009 20:57:10 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12742738" author="ravidotg" created="Thu, 13 Aug 2009 06:35:57 +0000"  >&lt;p&gt;Attaching patch that adds support of reading blocking arrays/maps to python.&lt;/p&gt;

&lt;p&gt;Please review and provide your comments.&lt;/p&gt;</comment>
                            <comment id="12742742" author="ravidotg" created="Thu, 13 Aug 2009 06:39:01 +0000"  >&lt;p&gt;The testcase in this patch passes only with the patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-88&quot; title=&quot;BlockingBinaryEncoder should override writeEnum() method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-88&quot;&gt;&lt;del&gt;AVRO-88&lt;/del&gt;&lt;/a&gt;. So made &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-88&quot; title=&quot;BlockingBinaryEncoder should override writeEnum() method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-88&quot;&gt;&lt;del&gt;AVRO-88&lt;/del&gt;&lt;/a&gt; as a blocker for this JIRA.&lt;/p&gt;</comment>
                            <comment id="12744701" author="cutting" created="Tue, 18 Aug 2009 20:57:10 +0000"  >&lt;p&gt;I just committed this.  Thanks, Ravi!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12432771">AVRO-88</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12416404" name="AVRO-61.patch" size="10269" author="ravidotg" created="Thu, 13 Aug 2009 06:35:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Aug 2009 06:35:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dxzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-62] Canonicalize protocol string before computing MD5</title>
                <link>https://issues.apache.org/jira/browse/AVRO-62</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Creating MD5 from non-canonical protocol string results in extra round trip and requires schema transfer over wire while doing inter language rpc. The protocol string should be canonicalized before computing MD5. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12428861">AVRO-62</key>
            <summary>Canonicalize protocol string before computing MD5</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sharadag">Sharad Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jun 2009 11:58:57 +0000</created>
                <updated>Tue, 14 Jul 2009 23:04:48 +0000</updated>
                            <resolved>Fri, 26 Jun 2009 08:26:38 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12724062" author="sharadag" created="Thu, 25 Jun 2009 12:08:41 +0000"  >&lt;p&gt;The canonical form could be:&lt;br/&gt;
1. Off course no spaces, newlines. tabs etc&lt;br/&gt;
2. Type and message definitions in the same order as defined in the avpr file. Types are defined using array, so those are already ordered. Messages are defined in map, so parser have to retain the order. &lt;br/&gt;
If that is too much for some parsers, how about alphabetical ordering by message names ?&lt;/p&gt;</comment>
                            <comment id="12724148" author="cutting" created="Thu, 25 Jun 2009 16:59:20 +0000"  >&lt;p&gt;If the client caches the server&apos;s protocol, the extra round-trip is only required the first time a given client connects.  For short-lived clients, this cache should be disk-based.&lt;/p&gt;

&lt;p&gt;If folks are using different JSON libraries, canonicalization may be difficult to implement, since, besides whitespace, strings can be escaped in different ways and floating point exponents have multiple forms (e.g., 1E1, 1e1, 1E+1, 1.0E1, 1.0e1, 1.0E+1 are all the same number).&lt;/p&gt;

&lt;p&gt;Note that the protocol is careful to ensure that the hash is always computed by the owner of a protocol.  So, in fact, we currently don&apos;t even rely on both sides even using the same hash function.  If they do use the same hash function, and they use the same JSON format, then a client&apos;s first round-trip can be skipped, but we should not rely on this for performance, since we want clients whose protocols do not match to perform well too.  A long-lived cache is thus a more general route to good performance.&lt;/p&gt;</comment>
                            <comment id="12724427" author="sharadag" created="Fri, 26 Jun 2009 08:25:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;For short-lived clients, this cache should be disk-based.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;makes sense. Marking as Won&apos;t fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jun 2009 16:59:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dxzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-63] Optimize #hashCode() and #equals() for Protocol and Schema</title>
                <link>https://issues.apache.org/jira/browse/AVRO-63</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;It&apos;s often useful to cache things derived from a Schema or Protocol in a WeakHashMap.  Each cache lookup involves at least one call to #equals() and #hashCode() on the Schema or Protocol.  But the Schema#hashCode() is expensive, since it must walk the entire schema, allocating objects to detect circular schemas.  It would be better if Schema cached its hash code in a field.  This can also be used optimize Schema#equals(): if two Schema&apos;s do not have the same hashCode then they cannot be equal.  With these optimizations, the only slow case would be a cache lookup of an equal but not identical Schema.  Perhaps even this can be optimized by caching its MD5 and assuming that, if the MD5 does not match, schemas are not equal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428890">AVRO-63</key>
            <summary>Optimize #hashCode() and #equals() for Protocol and Schema</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cutting">Doug Cutting</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jun 2009 19:57:04 +0000</created>
                <updated>Fri, 4 Sep 2009 16:43:14 +0000</updated>
                            <resolved>Thu, 27 Aug 2009 22:26:05 +0000</resolved>
                                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12748599" author="cutting" created="Thu, 27 Aug 2009 22:26:05 +0000"  >&lt;p&gt;This optimization is premature.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dy07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-64] testipc.py failure: &quot;error: (57, &apos;Socket is not connected&apos;)&quot;</title>
                <link>https://issues.apache.org/jira/browse/AVRO-64</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The Avro trunk fails when running &quot;ant test&quot; on Mac OS X 10.5.7 (running Java SE 1.6.0_13) inside of testipc.TestProtocol and testipcreflect.TestProtocol.  The error message is &quot;error: (57, &apos;Socket is not connected&apos;)&quot;.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X 10.5.7, Java SE 1.6.0_13, Avro svn revision 788481&lt;/p&gt;</environment>
        <key id="12429105">AVRO-64</key>
            <summary>testipc.py failure: &quot;error: (57, &apos;Socket is not connected&apos;)&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sharadag">Sharad Agarwal</assignee>
                                    <reporter username="gmporter">George Porter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jun 2009 16:18:05 +0000</created>
                <updated>Tue, 14 Jul 2009 22:50:14 +0000</updated>
                            <resolved>Tue, 7 Jul 2009 11:47:10 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12725234" author="gmporter" created="Mon, 29 Jun 2009 16:18:48 +0000"  >&lt;p&gt;Full error trace:&lt;/p&gt;

&lt;p&gt;test-py:&lt;br/&gt;
testio.py&lt;br/&gt;
testioreflect.py&lt;br/&gt;
testipc.py&lt;br/&gt;
testipcreflect.py&lt;br/&gt;
Modules: &apos;testio&apos;,&apos;testio&apos;,&apos;testioreflect&apos;,&apos;testipc&apos;,&apos;testipcreflect&apos;&lt;br/&gt;
Non-null modules arg. creating script&lt;br/&gt;
pythonpath: /Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/py:/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/test/py:/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/lib/py&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ................................EE&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ======================================================================&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ERROR: testipc (testipc.TestProtocol)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Traceback (most recent call last):&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/test/py/testipc.py&quot;, line 62, in testipc&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.checkshutdown()&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/test/py/testipc.py&quot;, line 107, in checkshutdown&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.server.close()&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/py/avro/ipc.py&quot;, line 376, in close&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.__sock.shutdown(socket.SHUT_RDWR)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;&amp;lt;string&amp;gt;&quot;, line 1, in shutdown&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; error: (57, &apos;Socket is not connected&apos;)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; &lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ======================================================================&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ERROR: testipc (testipcreflect.TestProtocol)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Traceback (most recent call last):&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/test/py/testipc.py&quot;, line 62, in testipc&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.checkshutdown()&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/test/py/testipc.py&quot;, line 107, in checkshutdown&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.server.close()&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;/Users/gp152216/Documents/Projects/BigData/DX-Trace/Serialization/avro-trunk/src/py/avro/ipc.py&quot;, line 376, in close&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;     self.__sock.shutdown(socket.SHUT_RDWR)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt;   File &quot;&amp;lt;string&amp;gt;&quot;, line 1, in shutdown&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; error: (57, &apos;Socket is not connected&apos;)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; &lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Ran 34 tests in 0.409s&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; &lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; FAILED (errors=2)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Socket server starting on  (&apos;127.0.0.1&apos;, 56742)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Connected by (&apos;127.0.0.1&apos;, 56743)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; hello: bob&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Handshake.match of protocol:Simple with&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&apos;127.0.0.1&apos;, 56743) is BOTH&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; echo: &lt;/p&gt;
{u&apos;kind&apos;: u&apos;BAR&apos;, u&apos;hash&apos;: &apos;0123456789012345&apos;, u&apos;name&apos;: u&apos;foo&apos;}
&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; echoBytes: c4512c2&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Socket server starting on  (&apos;127.0.0.1&apos;, 56744)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Connected by (&apos;127.0.0.1&apos;, 56745)&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;py-test&amp;#93;&lt;/span&gt; Handshake.match of protocol:Simple with&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&apos;127.0.0.1&apos;, 56745) is BOTH&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;/p&gt;</comment>
                            <comment id="12727464" author="sharadag" created="Mon, 6 Jul 2009 10:36:47 +0000"  >&lt;p&gt;There seems to be a bug in python on Mac. &lt;a href=&quot;http://bugs.python.org/issue4397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.python.org/issue4397&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12727507" author="sharadag" created="Mon, 6 Jul 2009 12:46:58 +0000"  >&lt;p&gt;This patch relaxes the test case to workaround the problem.&lt;/p&gt;</comment>
                            <comment id="12728016" author="tomwhite" created="Tue, 7 Jul 2009 10:14:00 +0000"  >&lt;p&gt;With the patch I get a different failure (on Mac OS X 10.5.6):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;test-py:
testio.py
testioreflect.py
testipc.py
testipcreflect.py
Modules: &apos;testio&apos;,&apos;testio&apos;,&apos;testioreflect&apos;,&apos;testipc&apos;,&apos;testipcreflect&apos;
Non-null modules arg. creating script
pythonpath: /Users/tom/workspace/avro-trunk/src/py:/Users/tom/workspace/avro-trunk/src/test/py:/Users/tom/workspace/avro-trunk/lib/py
  [py-test] ................................EE
  [py-test] ======================================================================
  [py-test] ERROR: testipc (testipc.TestProtocol)
  [py-test] ----------------------------------------------------------------------
  [py-test] Traceback (most recent call last):
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/test/py/testipc.py&quot;, line 57, in testipc
  [py-test]     self.checkhello()
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/test/py/testipc.py&quot;, line 75, in checkhello
  [py-test]     resp = self.requestor.request(&apos;hello&apos;, params)
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/py/avro/ipc.py&quot;, line 120, in request
  [py-test]     encoder.writeutf8(m.getname())
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/py/avro/io.py&quot;, line 193, in writeutf8
  [py-test]     &quot;avro STRING should be python unicode&quot;)
  [py-test] AvroTypeException: avro STRING should be python unicode
  [py-test] 
  [py-test] ======================================================================
  [py-test] ERROR: testipc (testipcreflect.TestProtocol)
  [py-test] ----------------------------------------------------------------------
  [py-test] Traceback (most recent call last):
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/test/py/testipc.py&quot;, line 57, in testipc
  [py-test]     self.checkhello()
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/test/py/testipcreflect.py&quot;, line 57, in checkhello
  [py-test]     resp = self.proxy.hello(unicode(&quot;bob&quot;))
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/py/avro/reflectipc.py&quot;, line 37, in __call__
  [py-test]     return self.requestor.request(self.methodname, args)
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/py/avro/ipc.py&quot;, line 120, in request
  [py-test]     encoder.writeutf8(m.getname())
  [py-test]   File &quot;/Users/tom/workspace/avro-trunk/src/py/avro/io.py&quot;, line 193, in writeutf8
  [py-test]     &quot;avro STRING should be python unicode&quot;)
  [py-test] AvroTypeException: avro STRING should be python unicode
  [py-test] 
  [py-test] ----------------------------------------------------------------------
  [py-test] Socket server starting on  (&apos;127.0.0.1&apos;, 55486)
  [py-test] Ran 34 tests in 0.315s
  [py-test] 
  [py-test] FAILED (errors=2)
  [py-test] Connected by (&apos;127.0.0.1&apos;, 55487)
  [py-test] Exception while closing socket (57, &apos;Socket is not connected&apos;)
  [py-test] Socket server starting on  (&apos;127.0.0.1&apos;, 55488)
  [py-test] Connected by (&apos;127.0.0.1&apos;, 55489)
  [py-test] Exception while closing socket (57, &apos;Socket is not connected&apos;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12728033" author="sharadag" created="Tue, 7 Jul 2009 11:22:10 +0000"  >&lt;p&gt;@Tom the problem looks similar to Avro-73. Can you try out the attached patch ?&lt;/p&gt;</comment>
                            <comment id="12728037" author="tomwhite" created="Tue, 7 Jul 2009 11:25:41 +0000"  >&lt;p&gt;The new patch fixes it for me.&lt;/p&gt;</comment>
                            <comment id="12728048" author="sharadag" created="Tue, 7 Jul 2009 11:47:10 +0000"  >&lt;p&gt;I committed this. Thanks Tom and George for reporting/testing this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412606" name="64_v1.patch" size="415" author="sharadag" created="Mon, 6 Jul 2009 12:46:58 +0000"/>
                            <attachment id="12412725" name="64_v2.patch" size="1657" author="sharadag" created="Tue, 7 Jul 2009 11:22:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Jul 2009 10:36:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dy0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-65] add API to access RPC session metadata</title>
                <link>https://issues.apache.org/jira/browse/AVRO-65</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Requestor and Responder should have methods that access the sessions&apos;s metadata.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429106">AVRO-65</key>
            <summary>add API to access RPC session metadata</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cutting">Doug Cutting</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jun 2009 16:48:14 +0000</created>
                <updated>Fri, 4 Sep 2009 16:43:14 +0000</updated>
                            <resolved>Wed, 15 Jul 2009 18:36:32 +0000</resolved>
                                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12725245" author="cutting" created="Mon, 29 Jun 2009 16:53:36 +0000"  >&lt;p&gt;These might look something like:&lt;/p&gt;

&lt;p&gt;void Requestor#setClientConnectMeta(Utf8,ByteBuffer); //call before the first request&lt;br/&gt;
ByteBuffer Requestor#getServerConnectMeta(Utf8); // call after a request has been made&lt;br/&gt;
void Responder#connecting(Map&amp;lt;Utf8,ByteBuffer&amp;gt; clientMeta, Map&amp;lt;Utf8,ByteBuffer&amp;gt; serverMeta);&lt;/p&gt;</comment>
                            <comment id="12731195" author="cutting" created="Tue, 14 Jul 2009 23:14:32 +0000"  >&lt;p&gt;Is this subsumed by &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-76&quot; title=&quot;Add plug-in mechanism for manipulating per-call metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-76&quot;&gt;&lt;del&gt;AVRO-76&lt;/del&gt;&lt;/a&gt;?  If so, we should resolve it as a duplicate.&lt;/p&gt;</comment>
                            <comment id="12731298" author="gmporter" created="Wed, 15 Jul 2009 06:20:54 +0000"  >&lt;p&gt;I was planning to address it in the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-76&quot; title=&quot;Add plug-in mechanism for manipulating per-call metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-76&quot;&gt;&lt;del&gt;AVRO-76&lt;/del&gt;&lt;/a&gt;.  I think it makes sense to have the plug-in API also be able to manage per-session state (setting up encryption, or doing some authentication, for example).&lt;/p&gt;</comment>
                            <comment id="12731613" author="cutting" created="Wed, 15 Jul 2009 18:36:32 +0000"  >&lt;p&gt;Resolving as a duplicate, since this will be addressed in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-76&quot; title=&quot;Add plug-in mechanism for manipulating per-call metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-76&quot;&gt;&lt;del&gt;AVRO-76&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jul 2009 06:20:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dy0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-66] add RPC per-call metadata and a plugin API to access it</title>
                <link>https://issues.apache.org/jira/browse/AVRO-66</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The RPC specification should support per-call metadata maps.  Requestor and Responder should have methods that access this per-call metadata.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429224">AVRO-66</key>
            <summary>add RPC per-call metadata and a plugin API to access it</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gmporter">George Porter</assignee>
                                    <reporter username="gmporter">George Porter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2009 19:41:19 +0000</created>
                <updated>Tue, 14 Jul 2009 22:50:14 +0000</updated>
                            <resolved>Wed, 1 Jul 2009 21:02:34 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                    <component>c</component>
                    <component>c++</component>
                    <component>java</component>
                    <component>python</component>
                    <component>spec</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="12725839" author="gmporter" created="Tue, 30 Jun 2009 22:36:07 +0000"  >&lt;p&gt;This is a simple Java implementation that supports an empty map, but does not include a public API.&lt;/p&gt;</comment>
                            <comment id="12726125" author="cutting" created="Wed, 1 Jul 2009 16:37:34 +0000"  >&lt;p&gt;A simpler and more complete way to implement this might be to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Schema META = Schema.createMap(Schema.create(Schema.Type.BYTES));
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; GenericDatumReader META_READER = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumReader(META);
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; GenericDatumWriter META_WRITER = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumWriter(META);
...
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,ByteBuffer&amp;gt; meta = (Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,ByteBuffer&amp;gt;)META_READER.read(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, in);
...
META_WRITER.write(meta, out);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, it would be good to have a Python impl committed alongside this, so that interop tests still pass.  This could probably do something similar to the above.  Do you think you&apos;ll be able to do this today?&lt;/p&gt;</comment>
                            <comment id="12726145" author="gmporter" created="Wed, 1 Jul 2009 17:39:40 +0000"  >&lt;p&gt;This patch incorporates Doug&apos;s suggestion to use a GenericDatumReader/Writer to consume and produce a map (vs low-level calls to Encoder and Decoder).&lt;/p&gt;

&lt;p&gt;This patch always sends empty maps from the Requestor to the Responder.  The Responder simply echos back to the Requestor the same Map it was given.  Finally, the Requestor discards the metadata it receives.  This will change once we implement the plugin handler mechanism shortly.&lt;/p&gt;</comment>
                            <comment id="12726156" author="cutting" created="Wed, 1 Jul 2009 18:00:31 +0000"  >&lt;p&gt;Here&apos;s a new version with some minor improvements:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;responder should not echo meta by default, but return empty;&lt;/li&gt;
	&lt;li&gt;moved &apos;static final&apos; fields ahead of non-static fields;&lt;/li&gt;
	&lt;li&gt;removed unneeded casts&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We still need equivalent Python.  I&apos;m not a Python programmer, but will attempt to fake it this afternoon if no one else does first.&lt;/p&gt;</comment>
                            <comment id="12726157" author="gmporter" created="Wed, 1 Jul 2009 18:02:04 +0000"  >&lt;p&gt;Fixed a small problem with the previous patch by replacing Strings with Utf8s&lt;/p&gt;</comment>
                            <comment id="12726163" author="gmporter" created="Wed, 1 Jul 2009 18:11:27 +0000"  >&lt;p&gt;Looks like our patches crossed in the mail.  I like this patch, but perhaps we should switch &quot;String&quot; to &quot;Utf8&quot;?&lt;/p&gt;</comment>
                            <comment id="12726166" author="cutting" created="Wed, 1 Jul 2009 18:25:07 +0000"  >&lt;p&gt;Yes, Utf8 is correct.  Will you repair or should I?&lt;/p&gt;</comment>
                            <comment id="12726174" author="gmporter" created="Wed, 1 Jul 2009 18:35:01 +0000"  >&lt;p&gt;I will&lt;br/&gt;
-George&lt;/p&gt;</comment>
                            <comment id="12726188" author="gmporter" created="Wed, 1 Jul 2009 19:08:13 +0000"  >&lt;p&gt;Updated Doug&apos;s patch to change Strings to Utf8s&lt;/p&gt;</comment>
                            <comment id="12726194" author="gmporter" created="Wed, 1 Jul 2009 19:27:56 +0000"  >&lt;p&gt;This patch includes the Java changes as before, but also changes to Python.&lt;/p&gt;

&lt;p&gt;All tests pass, and the interop tests pass as well.&lt;/p&gt;

&lt;p&gt;I&apos;m not a Python programmer, and so I&apos;m not sure if there is a better way to manifest a Map schema in the program than what I did, which was to read it out of an on-disk file called Meta.avsc&lt;/p&gt;</comment>
                            <comment id="12726196" author="gmporter" created="Wed, 1 Jul 2009 19:33:03 +0000"  >&lt;p&gt;Forgot to include Meta.avsc in the previous patch.&lt;/p&gt;</comment>
                            <comment id="12726219" author="cutting" created="Wed, 1 Jul 2009 20:42:49 +0000"  >&lt;p&gt;Here&apos;s a version that includes Python support.&lt;/p&gt;</comment>
                            <comment id="12726222" author="cutting" created="Wed, 1 Jul 2009 20:45:55 +0000"  >&lt;p&gt;I didn&apos;t see your patch when I submitted mine.  You missed the error case in the Python responder.  I inlined the schema, rather than reading it from a file.  It seems simple enough that it&apos;s not worth reading from a file.  What do you think?&lt;/p&gt;</comment>
                            <comment id="12726224" author="gmporter" created="Wed, 1 Jul 2009 20:48:09 +0000"  >&lt;p&gt;It looks like our patches crossed in the mail again...&lt;/p&gt;

&lt;p&gt;I&apos;m happy with using the Python code that you just committed vs mine, since mine included a separate Meta.avsc file that isn&apos;t necessary.&lt;/p&gt;</comment>
                            <comment id="12726226" author="cutting" created="Wed, 1 Jul 2009 21:02:34 +0000"  >&lt;p&gt;I just committed this.  Thanks, George.&lt;/p&gt;</comment>
                            <comment id="12726316" author="sharadag" created="Thu, 2 Jul 2009 04:43:33 +0000"  >&lt;p&gt;Thanks George and Doug for quickly getting in python support.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412289" name="AVRO-66.1.patch" size="3936" author="gmporter" created="Wed, 1 Jul 2009 17:39:40 +0000"/>
                            <attachment id="12412293" name="AVRO-66.2.patch" size="3866" author="gmporter" created="Wed, 1 Jul 2009 18:02:04 +0000"/>
                            <attachment id="12412314" name="AVRO-66.patch" size="6558" author="cutting" created="Wed, 1 Jul 2009 20:42:49 +0000"/>
                            <attachment id="12412304" name="AVRO-66.patch" size="6134" author="gmporter" created="Wed, 1 Jul 2009 19:33:03 +0000"/>
                            <attachment id="12412303" name="AVRO-66.patch" size="5908" author="gmporter" created="Wed, 1 Jul 2009 19:27:56 +0000"/>
                            <attachment id="12412301" name="AVRO-66.patch" size="4019" author="gmporter" created="Wed, 1 Jul 2009 19:08:13 +0000"/>
                            <attachment id="12412292" name="AVRO-66.patch" size="4047" author="cutting" created="Wed, 1 Jul 2009 18:00:31 +0000"/>
                            <attachment id="12412214" name="AVRO-66.patch" size="2439" author="gmporter" created="Tue, 30 Jun 2009 22:36:07 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12429225">AVRO-67</subtask>
                            <subtask id="12429629">AVRO-76</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Jul 2009 16:37:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dy0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-67] Modify the rpc spec to include per-call metadata</title>
                <link>https://issues.apache.org/jira/browse/AVRO-67</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Modify the rpc spec to include per-call metadata&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429225">AVRO-67</key>
            <summary>Modify the rpc spec to include per-call metadata</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12429224">AVRO-66</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gmporter">George Porter</assignee>
                                    <reporter username="gmporter">George Porter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2009 19:42:39 +0000</created>
                <updated>Tue, 14 Jul 2009 22:50:14 +0000</updated>
                            <resolved>Tue, 30 Jun 2009 21:46:54 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                    <component>spec</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12725777" author="gmporter" created="Tue, 30 Jun 2009 20:06:32 +0000"  >&lt;p&gt;This patch updates spec.xml to include optional metadata&lt;/p&gt;</comment>
                            <comment id="12725823" author="cutting" created="Tue, 30 Jun 2009 21:46:54 +0000"  >&lt;p&gt;I just committed this.  Thanks, George.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412202" name="AVRO-67.patch" size="1287" author="gmporter" created="Tue, 30 Jun 2009 20:42:54 +0000"/>
                            <attachment id="12412200" name="AVRO-67.patch" size="1277" author="gmporter" created="Tue, 30 Jun 2009 20:06:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Jun 2009 21:46:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dy13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
