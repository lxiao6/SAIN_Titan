<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:26:28 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2018-4-4+AND+created+%3C%3D+2018-4-11+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-2166] Wrong Sync header appended to the file.</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2166</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;We are using the following code, pseudo code for representation.&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 File file1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/tmpdata/message-&quot;&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis());
&#160;FileOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(file1, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&#160;DatumWriter datumWriter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumWriter&amp;lt;&amp;gt;();
&#160;writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataFileWriter(datumWriter);
&#160;writer.setCodec(CodecFactory.snappyCodec());
&#160;writer.create(avroSchema, out);
&#160;
&lt;span class=&quot;code-comment&quot;&gt;//Records are from sink connector of kafka.&#160; &#160;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//Iterator over the records and bundling them together.
&lt;/span&gt;&#160;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( set of records ... )
&#160;&#160; &#160;writer.append(value);
 writer.close();

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue which we are facing is the sync code is not matching.&lt;/p&gt;

&lt;p&gt;&#160;Original file with sync code at the end is wrong. avro tool failed with error invalid sync.&lt;/p&gt;

&lt;p&gt;Since the header.sync and sync bytes after the block didnot match.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12917574/12917574_original-snappy-file.PNG&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; manually -replaced the 16 byte with sync bytes from the header section. the file i was able to read using avro tools.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12917575/12917575_corrected-manualy.PNG&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;Thanks and Best Regards&lt;/p&gt;

&lt;p&gt;Mukesh&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13150066">AVRO-2166</key>
            <summary>Wrong Sync header appended to the file.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmukesh">mukesh katariya</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Apr 2018 16:29:37 +0000</created>
                <updated>Tue, 24 Apr 2018 06:32:37 +0000</updated>
                            <resolved>Tue, 24 Apr 2018 06:32:37 +0000</resolved>
                                    <version>1.8.2</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16426672" author="jmukesh" created="Thu, 5 Apr 2018 09:38:10 +0000"  >&lt;p&gt;I try to rebuild the avro file using snappy codec, the sync header was appended correctly this time at the end of the file.&lt;/p&gt;

&lt;p&gt;Need to understand why this strange behaviour.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12917575" name="corrected-manualy.PNG" size="50560" author="jmukesh" created="Wed, 4 Apr 2018 16:23:53 +0000"/>
                            <attachment id="12917574" name="original-snappy-file.PNG" size="45115" author="jmukesh" created="Wed, 4 Apr 2018 16:27:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s59r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This was an internal coding issue. Apologize for the same.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-2167] Block Size - retrieved as negative with Snappy codec.</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2167</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I am using the snappy codec, the bytes from 0x4fc1 to 0x4fd0,represent 16 byte sync block&lt;/p&gt;

&lt;p&gt;16 byte sync &amp;gt;&amp;gt; &#160;&#160; 1c 21 91 44 35 f6 7a 76 e1 a6 ce 8f cc bf 11 29&lt;/p&gt;

&lt;p&gt;After that there are two bytes showing 32 and 37 &#8211; which are avro long values using zigzag variable encoding.&#160; those decode to 25 and -28. Now the block size reads as negative.&lt;/p&gt;

&lt;p&gt;The Avro tool fail to read the block with following error.&lt;/p&gt;

&lt;p&gt;AvroRuntimeException &#8212;&#160; java.io.exception: Block size invalid or too large for this implemenation: -28.&lt;/p&gt;

&lt;p&gt;Also i the sync 16 bytes are missing from the end of the file.&#160;&#160; Any idea what&apos;s wrong and how we can fix the same.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12917578/12917578_original-file-2.PNG&quot; height=&quot;166&quot; width=&quot;1041&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13150071">AVRO-2167</key>
            <summary>Block Size - retrieved as negative with Snappy codec.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmukesh">mukesh katariya</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Apr 2018 16:39:43 +0000</created>
                <updated>Tue, 24 Apr 2018 06:34:15 +0000</updated>
                            <resolved>Tue, 24 Apr 2018 06:34:15 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.2</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12917578" name="original-file-2.PNG" size="53956" author="jmukesh" created="Wed, 4 Apr 2018 16:30:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s5av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This was an internal coding issue. Apologize for the same.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-2168] Sync bytes not appended to end of file. - EOF , Data Still Read.</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2168</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I have a snappy codec file which does not have 16 bytes appended to the end of file.&lt;/p&gt;

&lt;p&gt;Any reason why this happens ?&#160; as you notice 16 bytes in yellow at end of block, but after that the sync bytes are not found until the end of file.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12917695/12917695_issue.PNG&quot; height=&quot;164&quot; width=&quot;1196&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13150292">AVRO-2168</key>
            <summary>Sync bytes not appended to end of file. - EOF , Data Still Read.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmukesh">mukesh katariya</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Apr 2018 13:21:01 +0000</created>
                <updated>Tue, 24 Apr 2018 06:34:37 +0000</updated>
                            <resolved>Tue, 24 Apr 2018 06:34:37 +0000</resolved>
                                    <version>1.8.2</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16427199" author="jmukesh" created="Thu, 5 Apr 2018 16:23:04 +0000"  >&lt;p&gt;Its strange behaviour #&lt;/p&gt;

&lt;p&gt;DataFileStream.hasNextBlock API &lt;br/&gt;
 Reading from VIN#readLong blockRemaining = 59&lt;br/&gt;
 blockSize VIN#readLong= 151&lt;br/&gt;
 blockCount = 59&lt;/p&gt;

&lt;p&gt;There are only 120 bytes available to read, it&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DataBlock nextRawBlock(DataBlock reuse) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!hasNextBlock()) {
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NoSuchElementException();
  }

  
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(reuse!=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
     &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;reuse.data.length = &quot;&lt;/span&gt; + reuse.data.length);
  &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;reuse is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;);

  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (reuse == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || reuse.data.length &amp;lt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) blockSize) {
    reuse = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataBlock(blockRemaining, (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) blockSize);
  } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
    reuse.numEntries = blockRemaining;
    reuse.blockSize = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)blockSize;
  }
  &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it can&apos;t read the size requested
&lt;/span&gt;  vin.readFixed(reuse.data, 0, reuse.blockSize);
  vin.readFixed(syncBuffer);
  availableBlock = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!Arrays.equals(syncBuffer, header.sync))
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Invalid sync!&quot;&lt;/span&gt;);
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; reuse;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The line below finds a EOF , when it tries to read 151 bytes. the exception is thrown and the calling API just returns false.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  vin.readFixed(reuse.data, 0, reuse.blockSize);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The below API gets exception of EOF and returns false, and further the data is read correctly. This is an issue. Not sure why there is nosync header at the EOF.&lt;/p&gt;

&lt;p&gt;Why the data block size says 151 and content is less than that ? and still the program is able to process the record.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasNext() {
 
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
 
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (blockRemaining == 0) {
      &lt;span class=&quot;code-comment&quot;&gt;// check that the previous block was finished
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != datumIn) {
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; atEnd = datumIn.isEnd();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!atEnd) {
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Block read partially, the data may be corrupt&quot;&lt;/span&gt;);
        }
      }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hasNextBlock()) {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; has Next block = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;read next raw block..&quot;&lt;/span&gt;);
        block = nextRawBlock(block);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;decompress block&quot;&lt;/span&gt;);
        block.decompressUsing(codec); 
        blockBuffer = block.getAsByteBuffer();
   
        datumIn = DecoderFactory.get().binaryDecoder(
            blockBuffer.array(), blockBuffer.arrayOffset() +
            blockBuffer.position(), blockBuffer.remaining(), datumIn);
      }
    }
 
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; blockRemaining != 0;
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (EOFException e) {                    &lt;span class=&quot;code-comment&quot;&gt;// at EOF
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AvroRuntimeException(e);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12917695" name="issue.PNG" size="46043" author="jmukesh" created="Thu, 5 Apr 2018 13:19:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s6nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This was an internal coding issue. Apologize for the same.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-2169] Flushing of output stream in DataFileWriter&lt;D&gt;#BufferedFileOutputStream out</title>
                <link>https://issues.apache.org/jira/browse/AVRO-2169</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I am looking a the code of DataFileWriter inside the package org.apache.avro.file.&lt;/p&gt;

&lt;p&gt;private BufferedFileOutputStream out; we use the out stream.&lt;/p&gt;

&lt;p&gt;when the close method is called this stream is not flushed.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; /** Return the current position as a value that may be passed to {@link
&#160;&#160; * DataFileReader#seek(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;)}.&#160; Forces the end of the current block,
&#160;&#160; * emitting a synchronization marker. By &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; will also flush the
&#160;&#160; * block to the stream.
&#160;&#160; *
&#160;&#160; * If {@linkplain #setFlushOnEveryBlock(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)} is
&#160;&#160; * called with param set to &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, then &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; method may not flush
&#160;&#160; * the block. In &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;, the {@linkplain #flush()} must be called to
&#160;&#160; * flush the stream.
&#160;&#160; */
&#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; sync() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&#160;&#160;&#160; assertOpen();
&#160;&#160;&#160; writeBlock();
&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; out.tell();
&#160; }

&#160; /** Calls {@linkplain #sync()} and then flushes the current state of the
&#160;&#160; * file.
&#160;&#160; */
&#160; @Override
&#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void flush() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&#160;&#160;&#160; sync();
&#160;&#160;&#160; vout.flush();
&#160; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can this lead to potential issues?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13150595">AVRO-2169</key>
            <summary>Flushing of output stream in DataFileWriter&lt;D&gt;#BufferedFileOutputStream out</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmukesh">mukesh katariya</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Apr 2018 13:45:28 +0000</created>
                <updated>Tue, 24 Apr 2018 06:34:58 +0000</updated>
                            <resolved>Tue, 24 Apr 2018 06:34:58 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.2</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s8if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This was an internal coding issue. Apologize for the same.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
