<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:20:57 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2014-10-8+AND+created+%3C%3D+2014-10-15+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1592] Java keyword as an enum constant in Avro schema file causes deserialization to fail.</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1592</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The schema &lt;/p&gt;
{&quot;type&quot;: &quot;enum&quot;, &quot;name&quot;: &quot;ButtonTypeID&quot;, &quot;symbols&quot;: [&quot;default&quot;, &quot;keyboard&quot;]}
&lt;p&gt; generates the following class:&lt;/p&gt;

&lt;p&gt;public final class ButtonTypeID extends java.lang.Enum&amp;lt;ButtonTypeID&amp;gt; {&lt;br/&gt;
  public static final ButtonTypeID default$;&lt;br/&gt;
  public static final ButtonTypeID keyboard;&lt;br/&gt;
  public static final org.apache.avro.Schema SCHEMA$;&lt;br/&gt;
  public static ButtonTypeID[] values();&lt;br/&gt;
  public static ButtonTypeID valueOf(java.lang.String);&lt;br/&gt;
  public static org.apache.avro.Schema getClassSchema();&lt;br/&gt;
  static {};&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;(this is what &#8220;javap ButtonTypeID.class&#8221; produces)&lt;/p&gt;

&lt;p&gt;When I try to read my data that has the &#8220;default&#8221; value for ButtonTypeID, I get the exception:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: No enum constant ButtonTypeID.default&lt;br/&gt;
	at java.lang.Enum.valueOf(Enum.java:236)&lt;br/&gt;
	at org.apache.avro.specific.SpecificData.createEnum(SpecificData.java:106)&lt;br/&gt;
	at org.apache.avro.generic.GenericDatumReader.createEnum(GenericDatumReader.java:205)...&lt;/p&gt;

&lt;p&gt;Since &quot;default&quot; is a keyword in java, the $ is appended to the constant, but that is not taken into account when reading the data back, causing the ButtonTypeID.valueOf(&quot;default&quot;) method to fail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS, Java 1.7&lt;/p&gt;</environment>
        <key id="12746859">AVRO-1592</key>
            <summary>Java keyword as an enum constant in Avro schema file causes deserialization to fail.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="imbusy">Lukas Steiblys</assignee>
                                    <reporter username="imbusy">Lukas Steiblys</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Oct 2014 23:21:51 +0000</created>
                <updated>Mon, 1 Feb 2016 14:55:51 +0000</updated>
                            <resolved>Sat, 8 Nov 2014 00:54:41 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14164374" author="imbusy" created="Wed, 8 Oct 2014 23:22:42 +0000"  >&lt;p&gt;Minimal maven project to reproduce the bug. Run:&lt;br/&gt;
mvn package exec:java&lt;/p&gt;</comment>
                            <comment id="14166205" author="graham sanderson" created="Fri, 10 Oct 2014 02:54:59 +0000"  >&lt;p&gt;I&apos;d be tempted to move the mangle method and/or the list of reserved keywords from the specific compiler to here and share them.&lt;/p&gt;

&lt;p&gt;Also, you shouldn&apos;t change the symbol variable prior to calling the superclass (it is specific specific!)&lt;/p&gt;</comment>
                            <comment id="14166982" author="imbusy" created="Fri, 10 Oct 2014 15:29:56 +0000"  >&lt;p&gt;I don&apos;t know enough about the whole code base to change other parts of the system. It was a simple fix that solved our problem right now. I might look into the specific compiler if I can find the time.&lt;/p&gt;

&lt;p&gt;What is a good place to change the symbol then?&lt;/p&gt;</comment>
                            <comment id="14187254" author="imbusy" created="Tue, 28 Oct 2014 18:40:21 +0000"  >&lt;p&gt;Any idea when this could be merged into 1.8.0?&lt;/p&gt;</comment>
                            <comment id="14188995" author="cutting" created="Wed, 29 Oct 2014 21:06:28 +0000"  >&lt;p&gt;Here&apos;s an updated patch.&lt;/p&gt;

&lt;p&gt;Changes are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move reserved words from SpecificCompiler to SpecificData to avoid repeating them.  A small bit of logic from SpecificCompiler#mangle() is still repeated, but fixing that is harder.&lt;/li&gt;
	&lt;li&gt;In SpecificData#createEnum(), don&apos;t alter &apos;symbol&apos; parameter until after super is called.&lt;/li&gt;
	&lt;li&gt;Add a test that fails without these changes but succeeds with them.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll commit this soon unless there are objections.&lt;/p&gt;</comment>
                            <comment id="14203061" author="jira-bot" created="Sat, 8 Nov 2014 00:54:22 +0000"  >&lt;p&gt;Commit 1637493 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1637493&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1637493&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1592&quot; title=&quot;Java keyword as an enum constant in Avro schema file causes deserialization to fail.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1592&quot;&gt;&lt;del&gt;AVRO-1592&lt;/del&gt;&lt;/a&gt;. Java: Fix handling of Java reserved words as enum constants in generated code.  Contributed by Lukas Steiblys.&lt;/p&gt;</comment>
                            <comment id="14203062" author="cutting" created="Sat, 8 Nov 2014 00:54:41 +0000"  >&lt;p&gt;I committed this.  Thanks, Lukas!&lt;/p&gt;</comment>
                            <comment id="14203104" author="hudson" created="Sat, 8 Nov 2014 01:33:13 +0000"  >&lt;p&gt;FAILURE: Integrated in AvroJava #496 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/496/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/496/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1592&quot; title=&quot;Java keyword as an enum constant in Avro schema file causes deserialization to fail.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1592&quot;&gt;&lt;del&gt;AVRO-1592&lt;/del&gt;&lt;/a&gt;. Java: Fix handling of Java reserved words as enum constants in generated code.  Contributed by Lukas Steiblys. (cutting: rev 1637493)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/avro/src/main/java/org/apache/avro/specific/SpecificData.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/compiler/src/main/java/org/apache/avro/compiler/specific/SpecificCompiler.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/ipc/src/test/java/org/apache/avro/specific/TestSpecificData.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/share/test/schemas/reserved.avsc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12677997" name="AVRO-1592.patch" size="4929" author="cutting" created="Wed, 29 Oct 2014 21:06:28 +0000"/>
                            <attachment id="12673754" name="avrobug.tar.gz" size="1781" author="imbusy" created="Wed, 8 Oct 2014 23:22:42 +0000"/>
                            <attachment id="12674002" name="fix_java_keyword_enums.patch" size="2271" author="imbusy" created="Thu, 9 Oct 2014 20:55:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Oct 2014 02:54:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20yjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1593] C++ json encoder assumes &quot;C&quot; locale and generates invalid UTF-8 sequence </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1593</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;encoding a multibyte UTF-8 code point such as:&lt;/p&gt;

&lt;p&gt;&quot;\xEF\xBD\x81&quot;&lt;/p&gt;

&lt;p&gt;Incorrectly becomes:&lt;/p&gt;

&lt;p&gt;&quot;\xEF\xBD\U0081&quot;&lt;/p&gt;

&lt;p&gt;When encoded in the service running in the windows-1252 locale.  This isn&#185;t a valid UTF-8 sequence so we end up with Mojibake when reading back the JSON encoded string.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows-1252 encoding&lt;/p&gt;</environment>
        <key id="12747256">AVRO-1593</key>
            <summary>C++ json encoder assumes &quot;C&quot; locale and generates invalid UTF-8 sequence </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hatem">Hatem Helal</assignee>
                                    <reporter username="hatem">Hatem Helal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Oct 2014 10:32:59 +0000</created>
                <updated>Wed, 26 Aug 2015 22:38:32 +0000</updated>
                            <resolved>Wed, 26 Aug 2015 21:34:09 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.7.8</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14166625" author="hatem" created="Fri, 10 Oct 2014 10:38:25 +0000"  >&lt;p&gt;JsonGenerator::doEncodeString relies on calling &quot;iscntrl&quot; to determine whether a given byte is a control character.  In the windows-1252 code page the byte &quot;\x81&quot; is a control character but not in the C locale which breaks the UTF-8 byte sequence.  &lt;/p&gt;

&lt;p&gt;A workaround is to temporarily set the LC_CTYPE locale to &quot;C&quot;, do the json encoding, and then reset the LC_CTYPE back to its previous value but modifying the global locale settings isn&apos;t thread safe.  A better approach would be to use the newer &quot;std::iscntrl&quot; function which accepts a locale object.  A patch is available here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git.io/XetN-w&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://git.io/XetN-w&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14166630" author="hatem" created="Fri, 10 Oct 2014 10:47:01 +0000"  >&lt;p&gt;Use the locale specialized version of iscntrl to correctly escape only the control characters in the C-locale, like so:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git.io/XetN-w&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://git.io/XetN-w&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14166637" author="hatem" created="Fri, 10 Oct 2014 11:02:14 +0000"  >&lt;p&gt;Created pull request:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/avro/pull/15&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/15&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14252058" author="cutting" created="Thu, 18 Dec 2014 19:05:44 +0000"  >&lt;p&gt;This change looks reasonable to me.  Can someone more familiar with C++ please review it?  Thanks!&lt;/p&gt;</comment>
                            <comment id="14254446" author="thiru_mg" created="Sat, 20 Dec 2014 01:52:53 +0000"  >&lt;p&gt;Looks simple enough. But constructing a locale object for every string is very expensive. On my machine, a quick microbenchmark shows that locale construction takes 200 times more times than doing iscntrl() on a 20 character string.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat l.cpp
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;locale&amp;gt;

int main()
{
    for (size_t i = 0; i &amp;lt; 100000; ++i) {
        std::locale cl(&quot;C&quot;);
        for (size_t j = 0; j &amp;lt; 20; ++j) {
            std::iscntrl(j % 127 + 1);
        }
    }
}
$ make l
c++     l.cpp   -o l
$ time ./l

real	0m6.272s
user	0m6.244s
sys	0m0.015s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat l.cpp
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;locale&amp;gt;

int main()
{
    std::locale cl(&quot;C&quot;);
    for (size_t i = 0; i &amp;lt; 100000; ++i) {
        for (size_t j = 0; j &amp;lt; 20; ++j) {
            std::iscntrl(j % 127 + 1);
        }
    }
}
$ make l
c++     l.cpp   -o l
$ time ./l

real	0m0.033s
user	0m0.027s
sys	0m0.003s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The current implementation will have considerable impact on performance. But if we move the local as a (non-static or even better static) member of the class, will have insignificant impact on performance.&lt;/p&gt;</comment>
                            <comment id="14258175" author="hatem" created="Wed, 24 Dec 2014 11:17:31 +0000"  >&lt;p&gt;Thanks for the code review and you are right about the performance hit.  Disregard the current patch and I&apos;ll provide a new one where the C-locale object is a static member of the JsonGenerator class when I next get the chance.&lt;/p&gt;</comment>
                            <comment id="14392454" author="githubbot" created="Thu, 2 Apr 2015 09:41:30 +0000"  >&lt;p&gt;GitHub user hatemhelal opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/32&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/32&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; title=&quot;C++ json encoder assumes &amp;quot;C&amp;quot; locale and generates invalid UTF-8 sequence &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1593&quot;&gt;&lt;del&gt;AVRO-1593&lt;/del&gt;&lt;/a&gt;. Use classic locale to escape control chars&lt;/p&gt;

&lt;p&gt;    See &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1593&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/hatemhelal/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/hatemhelal/avro&lt;/a&gt; patch-1&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/32.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/32.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #32&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3c87e7cbf2a8f03c570ec763b7d92da80bc86326&lt;br/&gt;
Author: hatemhelal &amp;lt;hatem.helal@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-02T09:41:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; title=&quot;C++ json encoder assumes &amp;quot;C&amp;quot; locale and generates invalid UTF-8 sequence &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1593&quot;&gt;&lt;del&gt;AVRO-1593&lt;/del&gt;&lt;/a&gt;. Use classic locale to escape control chars&lt;/p&gt;

&lt;p&gt;    See &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1593&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14392457" author="hatem" created="Thu, 2 Apr 2015 09:43:59 +0000"  >&lt;p&gt;Just created a new pull request:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/avro/pull/32&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/32&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which uses a simpler solution of using the std::locale::classic object:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://en.cppreference.com/w/cpp/locale/locale/classic&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.cppreference.com/w/cpp/locale/locale/classic&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="14712480" author="peter_liu" created="Wed, 26 Aug 2015 04:23:08 +0000"  >&lt;p&gt;this patch looks good to me and pretty straight forward, can we please submit this patch? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14715558" author="jira-bot" created="Wed, 26 Aug 2015 21:32:45 +0000"  >&lt;p&gt;Commit 1698007 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blue%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;blue@cloudera.com&quot;&gt;Ryan Blue&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1698007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1698007&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; title=&quot;C++ json encoder assumes &amp;quot;C&amp;quot; locale and generates invalid UTF-8 sequence &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1593&quot;&gt;&lt;del&gt;AVRO-1593&lt;/del&gt;&lt;/a&gt;. Use classic locale to escape control chars. Contributed by Hatem Helal.&lt;/p&gt;

&lt;p&gt;This closes #32 and closes #15.&lt;/p&gt;</comment>
                            <comment id="14715559" author="githubbot" created="Wed, 26 Aug 2015 21:32:55 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/32&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/32&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14715562" author="rdblue" created="Wed, 26 Aug 2015 21:34:09 +0000"  >&lt;p&gt;I merged this. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hatem&quot; class=&quot;user-hover&quot; rel=&quot;hatem&quot;&gt;Hatem Helal&lt;/a&gt; for contributing the fix, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=peter_liu&quot; class=&quot;user-hover&quot; rel=&quot;peter_liu&quot;&gt;peter liu&lt;/a&gt; for reviewing!&lt;/p&gt;</comment>
                            <comment id="14715650" author="hudson" created="Wed, 26 Aug 2015 22:38:32 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #544 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/544/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/544/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1593&quot; title=&quot;C++ json encoder assumes &amp;quot;C&amp;quot; locale and generates invalid UTF-8 sequence &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1593&quot;&gt;&lt;del&gt;AVRO-1593&lt;/del&gt;&lt;/a&gt;. Use classic locale to escape control chars. Contributed by Hatem Helal.&lt;/p&gt;

&lt;p&gt;This closes #32 and closes #15. (blue: rev 1698007)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/impl/json/JsonIO.hh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Dec 2014 19:05:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i210yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1594] AVRO Enumeration Issue Python/Java</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1594</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Hello everybody,&lt;/p&gt;

&lt;p&gt;I tried to do a serialization between a Java Server and Python client and I noticed a bug with the enumeration.&lt;/p&gt;

&lt;p&gt;Context :&lt;br/&gt;
My implementation is really simple. It&apos;s a JAVA HttpServer which is able to receive messages from a client. &lt;br/&gt;
If the message has a length higher than 140 characters, the server doesn&apos;t display the message and returns a &quot;KO&quot; status with an error message to the client.&lt;br/&gt;
Otherwise, the server displays the message and returns an &quot;OK&quot; status without message.&lt;/p&gt;

&lt;p&gt;Analysis :&lt;br/&gt;
I tried to do this implementation between Java Server and Java Client and it worked well. Nevertheless, when I tried between Java Server and Python Client, the status is &quot;inverted&quot; : &lt;br/&gt;
I sent a message lower than 140 characters -&amp;gt; Result status is &quot;KO&quot;, Java Server display my message.&lt;br/&gt;
I sent a message higher than 140 characters -&amp;gt; Result status is &quot;OK&quot; , Java server didn&apos;t display my message and returned a message.&lt;/p&gt;

&lt;p&gt;Conclusion :&lt;br/&gt;
So I think there is a problem between serialization of an Enumeration between Java and Python using Avro.&lt;/p&gt;

&lt;p&gt;If you want to test by yourself, you can clone the project repository : &lt;br/&gt;
&lt;a href=&quot;https://github.com/user4me/AvroEnumerationIssue.git&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/user4me/AvroEnumerationIssue.git&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12747682">AVRO-1594</key>
            <summary>AVRO Enumeration Issue Python/Java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="MrBinary">MrBinary</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2014 09:43:34 +0000</created>
                <updated>Fri, 17 Oct 2014 10:37:16 +0000</updated>
                                            <version>1.7.7</version>
                                                    <component>java</component>
                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i213i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1595] Give access to remove threadlocal values</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1595</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Certain JVM containers like tomcat re-use threads when re-deploying applications which can leave behind threadlocal values. It would be great if there were something that could be called on shutdown to remove these.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12747749">AVRO-1595</key>
            <summary>Give access to remove threadlocal values</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bbaugher">Bryan Baugher</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2014 15:58:06 +0000</created>
                <updated>Wed, 30 May 2018 07:06:05 +0000</updated>
                                                                            <component>java</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="16494778" author="wdaehn" created="Wed, 30 May 2018 07:06:05 +0000"  >&lt;p&gt;I want to support that request and actually increase its priority.&lt;/p&gt;

&lt;p&gt;If you create something, that has to be close-able as well.&#160;&lt;/p&gt;

&lt;p&gt;see somebody else&apos;s problem here for clarity&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/14522161/apache-avro-threadlocal-objects-linger-around-on-tomcat-un-deploy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://stackoverflow.com/questions/14522161/apache-avro-threadlocal-objects-linger-around-on-tomcat-un-deploy&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 May 2018 07:06:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i213x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>
