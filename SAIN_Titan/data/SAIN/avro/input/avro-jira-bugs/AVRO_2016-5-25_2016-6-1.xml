<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:23:29 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2016-5-25+AND+created+%3C%3D+2016-6-1+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1853] Compiler::toBin(const std::string&amp; s) crashes on empty string</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1853</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Compiler::toBin(const std::string&amp;amp; s) crashes if s is empty. A simple sanity check should fix it:&lt;/p&gt;

&lt;p&gt;static vector&amp;lt;uint8_t&amp;gt; toBin(const std::string&amp;amp; s)&lt;br/&gt;
{&lt;br/&gt;
    vector&amp;lt;uint8_t&amp;gt; result;&lt;br/&gt;
    if(!s.empty())&lt;/p&gt;
    {   
        result.resize(s.size());
        std::copy(s.c_str(), s.c_str() + s.size(), &amp;amp;result[0]);
    }
&lt;p&gt;    return result;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Win64 debug&lt;/p&gt;</environment>
        <key id="12972626">AVRO-1853</key>
            <summary>Compiler::toBin(const std::string&amp; s) crashes on empty string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zi">Zoltan Ivanfi</assignee>
                                    <reporter username="HThulin">Hans Thulin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 May 2016 07:24:41 +0000</created>
                <updated>Wed, 28 Sep 2016 11:40:00 +0000</updated>
                            <resolved>Tue, 27 Sep 2016 15:06:57 +0000</resolved>
                                    <version>1.8.1</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="15507211" author="githubbot" created="Tue, 20 Sep 2016 17:33:09 +0000"  >&lt;p&gt;GitHub user zicl opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/127&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1853&quot; title=&quot;Compiler::toBin(const std::string&amp;amp; s) crashes on empty string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1853&quot;&gt;&lt;del&gt;AVRO-1853&lt;/del&gt;&lt;/a&gt;: Compiler::toBin crashes on empty string&lt;/p&gt;

&lt;p&gt;    Added a unit test triggering the bug then fixed the bug. Modified build&lt;br/&gt;
    process to use debug builds for tests to allow catching bugs of this&lt;br/&gt;
    type.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/zicl/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/zicl/avro&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/127.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/127.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #127&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 98f6b53494d368dded1d7953c05a0044c9448b17&lt;br/&gt;
Author: Zoltan Ivanfi &amp;lt;zi@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2016-09-20T17:11:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1853&quot; title=&quot;Compiler::toBin(const std::string&amp;amp; s) crashes on empty string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1853&quot;&gt;&lt;del&gt;AVRO-1853&lt;/del&gt;&lt;/a&gt;: Compiler::toBin crashes on empty string&lt;/p&gt;

&lt;p&gt;    Added a unit test triggering the bug then fixed the bug. Modified build&lt;br/&gt;
    process to use debug builds for tests to allow catching bugs of this&lt;br/&gt;
    type.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15526408" author="jira-bot" created="Tue, 27 Sep 2016 15:06:19 +0000"  >&lt;p&gt;Commit bc3fffb067c93ebece18a80f455ea4662a240e0b in avro&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zi&quot; class=&quot;user-hover&quot; rel=&quot;zi&quot;&gt;Zoltan Ivanfi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=avro.git;h=bc3fffb&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=avro.git;h=bc3fffb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1853&quot; title=&quot;Compiler::toBin(const std::string&amp;amp; s) crashes on empty string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1853&quot;&gt;&lt;del&gt;AVRO-1853&lt;/del&gt;&lt;/a&gt;: Compiler::toBin crashes on empty string. Contributed by Zoltan Ivanfi.&lt;/p&gt;

&lt;p&gt;Added a unit test triggering the bug then fixed the bug. Modified build&lt;br/&gt;
process to use debug builds for tests to allow catching bugs of this&lt;br/&gt;
type.&lt;/p&gt;</comment>
                            <comment id="15526410" author="tomwhite" created="Tue, 27 Sep 2016 15:06:57 +0000"  >&lt;p&gt;I committed this. Thanks Zoltan.&lt;/p&gt;</comment>
                            <comment id="15529351" author="githubbot" created="Wed, 28 Sep 2016 11:40:00 +0000"  >&lt;p&gt;Github user zicl closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/127&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Sep 2016 17:33:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ygr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1854] NPE on recursive datatype in JSON encoder</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1854</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;When trying to encode to JSON a record whose schema contains a recursive type embedded in another type (ie. an array), the &quot;flatten&quot; method in the &lt;tt&gt;Parser&lt;/tt&gt; leaves a hole in the middle of the symbol stack which causes a NPE to occur. My best guess is that it&apos;s leaving space for the embedded recursion but never populating the symbol, but that code is a bit obtuse so I am having trouble getting to the root cause (otherwise I would have provided a patch to solve the problem as well).&lt;/p&gt;

&lt;p&gt;Attached is a class with a short main method that replicates the problem with anonymized versions of my datatypes/record and a screenshot of the symbol stack at runtime right before the error occurs.&lt;/p&gt;

&lt;p&gt;Not yet tested in 1.8.0 but should be easy to verify.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12973499">AVRO-1854</key>
            <summary>NPE on recursive datatype in JSON encoder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dkaminsky">Douglas Kaminsky</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 May 2016 19:24:27 +0000</created>
                <updated>Fri, 27 May 2016 19:41:14 +0000</updated>
                                            <version>1.7.7</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15304627" author="zolyfarkas" created="Fri, 27 May 2016 19:27:35 +0000"  >&lt;p&gt;This is probably a duplicate of: &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1667&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1667&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="15304629" author="dkaminsky" created="Fri, 27 May 2016 19:28:54 +0000"  >&lt;p&gt;Seems that way. There&apos;s no chance of a backported fix into 1.7.x?&lt;/p&gt;</comment>
                            <comment id="15304630" author="rdblue" created="Fri, 27 May 2016 19:29:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkaminsky&quot; class=&quot;user-hover&quot; rel=&quot;dkaminsky&quot;&gt;Douglas Kaminsky&lt;/a&gt;, this looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1667&quot; title=&quot;Parser symbol tree flattening is broken for recursive schemas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1667&quot;&gt;&lt;del&gt;AVRO-1667&lt;/del&gt;&lt;/a&gt;. Could you try using 1.8.1 and see if that fixes the problem?&lt;/p&gt;</comment>
                            <comment id="15304650" author="dkaminsky" created="Fri, 27 May 2016 19:41:14 +0000"  >&lt;p&gt;I&apos;ll take a look. Upgrading may not be an option unfortunately...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12806692" name="RecursiveFlattenBugRegression.java" size="5088" author="dkaminsky" created="Fri, 27 May 2016 19:25:41 +0000"/>
                            <attachment id="12806693" name="symbolstack.png" size="119694" author="dkaminsky" created="Fri, 27 May 2016 19:27:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 May 2016 19:27:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ym53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1855] Avro-mapred not evaluating map schema correctly when values are expected to be strings</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1855</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;When reading bunch of Avro file and concatenating them using avro-mapred, there is an issue with following schema definition line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;headers&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, {&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;map&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;values&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;}]},
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Below exceptions are thrown:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: org.apache.avro.UnresolvedUnionException: Not in union [&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;,{&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;map&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;values&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;}]: {range=bytes=91553252-91557347, accept=*/*, response_status_code=206, host=108.175.39.172}
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericData.resolveUnion(GenericData.java:709)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.resolveUnion(GenericDatumWriter.java:192)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:110)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.write(GenericDatumWriter.java:73)
	at org.apache.avro.reflect.ReflectDatumWriter.write(ReflectDatumWriter.java:150)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.writeField(GenericDatumWriter.java:153)
	at org.apache.avro.reflect.ReflectDatumWriter.writeField(ReflectDatumWriter.java:182)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.writeRecord(GenericDatumWriter.java:143)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:105)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.write(GenericDatumWriter.java:73)
	at org.apache.avro.reflect.ReflectDatumWriter.write(ReflectDatumWriter.java:150)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumWriter.write(GenericDatumWriter.java:60)
	at org.apache.avro.file.DataFileWriter.append(DataFileWriter.java:302)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve fixed this in my own &lt;a href=&quot;https://github.com/mikkokupsu/avro/tree/hotfix/20160530/avro-schema-map-string-problem&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GitHub fork&lt;/a&gt; and I&apos;ve attached the patch too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12973939">AVRO-1855</key>
            <summary>Avro-mapred not evaluating map schema correctly when values are expected to be strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikkokupsu">Mikko Kupsu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 May 2016 10:49:45 +0000</created>
                <updated>Thu, 27 Jul 2017 02:11:27 +0000</updated>
                                            <version>1.8.0</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15306509" author="mikkokupsu" created="Mon, 30 May 2016 10:50:55 +0000"  >&lt;p&gt;Attached patch&lt;/p&gt;</comment>
                            <comment id="15306789" author="rdblue" created="Mon, 30 May 2016 16:05:05 +0000"  >&lt;p&gt;Thanks for reporting this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikkokupsu&quot; class=&quot;user-hover&quot; rel=&quot;mikkokupsu&quot;&gt;Mikko Kupsu&lt;/a&gt;. Can you help me understand how the patch fixes your problem? It isn&apos;t clear why not passing the schema would cause an UnresolvedUnionException. Doesn&apos;t that method require the schema to be known?&lt;/p&gt;</comment>
                            <comment id="15306898" author="mikkokupsu" created="Mon, 30 May 2016 19:22:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;, I have to admit that I don&apos;t have a slightest glue. I only have guesses.&lt;/p&gt;

&lt;p&gt;I know that the values in field &lt;em&gt;headers&lt;/em&gt; are &lt;b&gt;definitively&lt;/b&gt; Strings since I&apos;m writing storing then with a class which is created from Avro schema and it has above field schema defined. Also I&apos;m even converting them specifically to Strings while reading them as &lt;em&gt;Map&lt;/em&gt; from a &lt;em&gt;GenericRecord&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;setHeaders((Map&amp;lt;CharSequence, CharSequence&amp;gt;) record.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;headers&quot;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think something gets he type of the Map wrong since when I&apos;m seeing this there is &lt;b&gt;always&lt;/b&gt; a key-value pair where the value can interpreted as a Number. In the example above it&apos;s &lt;em&gt;response_status_code&lt;/em&gt;. Although, this is not always the case and some datums go thru OK even though having similar fields.&lt;/p&gt;

&lt;p&gt;I don&apos;t know how Avro deducts the type of a Map but could the first value it gets, have an impact on the resulting type?&lt;/p&gt;</comment>
                            <comment id="16102544" author="samschlegel" created="Thu, 27 Jul 2017 01:02:07 +0000"  >&lt;p&gt;I believe this related to &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-966&quot; title=&quot;Bug in GenericData#resolveUnion when resolving union of null and array&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-966&quot;&gt;&lt;del&gt;AVRO-966&lt;/del&gt;&lt;/a&gt; and is caused by the &lt;tt&gt;isArray&lt;/tt&gt; check coming before &lt;tt&gt;isMap&lt;/tt&gt; in &lt;tt&gt;org.apache.avro.generic.GenericData#getSchemaName&lt;/tt&gt;. I&apos;m not sure why, but &lt;tt&gt;isArray(datum)&lt;/tt&gt; is returning true when &lt;tt&gt;datum&lt;/tt&gt; is a `java.util.HashMap`, even though &lt;tt&gt;java.util.HashMap&lt;/tt&gt; is not an instance of &lt;tt&gt;java.util.Collection&lt;/tt&gt; and &lt;tt&gt;datum instanceof Collection&lt;/tt&gt; returns false when evaluated in the debugger.&lt;/p&gt;</comment>
                            <comment id="16102608" author="samschlegel" created="Thu, 27 Jul 2017 02:11:04 +0000"  >&lt;p&gt;Upon further inspection I believe might be due to &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-2058&quot; title=&quot;ReflectData#isNonStringMap returns true for Utf8 keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-2058&quot;&gt;&lt;del&gt;AVRO-2058&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12806964" name="20160530_AVRO-1855.patch" size="693" author="mikkokupsu" created="Mon, 30 May 2016 10:50:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 May 2016 16:05:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2youn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1856] Update ConcatTool to support appending to an input file instead of creating a new output file</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1856</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;It would be nice to have ConcatTool be able to append other input files into one of the input files instead of creating a new output file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12974272">AVRO-1856</key>
            <summary>Update ConcatTool to support appending to an input file instead of creating a new output file</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mike.hurley">Mike Hurley</assignee>
                                    <reporter username="mike.hurley">Mike Hurley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 May 2016 16:19:01 +0000</created>
                <updated>Fri, 1 Sep 2017 14:58:26 +0000</updated>
                                            <version>1.7.7</version>
                    <version>1.8.1</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15308029" author="mike.hurley" created="Tue, 31 May 2016 16:22:01 +0000"  >&lt;p&gt;I attached a rough patch based off the 1.7.7 label. I hope to clean this up and submit as a pull request when I have time.&lt;/p&gt;</comment>
                            <comment id="15316602" author="mike.hurley" created="Mon, 6 Jun 2016 14:54:31 +0000"  >&lt;p&gt;I created a pull request for this:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/avro/pull/99&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/99&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12933165">AVRO-1787</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13038633">AVRO-1991</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12807196" name="AVRO-1856-ConcatTool-AppendToInput.diff" size="8611" author="mike.hurley" created="Tue, 31 May 2016 16:22:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yqwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>
