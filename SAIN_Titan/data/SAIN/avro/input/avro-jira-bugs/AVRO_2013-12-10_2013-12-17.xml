<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:19:35 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2013-12-10+AND+created+%3C%3D+2013-12-17+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1411] org.apache.avro.util.Utf8 performance improvement by remove private Charset in class</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1411</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Inside org.apache.avro.util.Utf8 class, it has a private member field defined as: private static final Charset UTF8 = Charset.forName(&quot;UTF-8&quot;);&lt;/p&gt;

&lt;p&gt;and it&apos;s used as:&lt;br/&gt;
  public static final byte[] getBytesFor(String str) &lt;/p&gt;
{
    return str.getBytes(UTF8);
  }

&lt;p&gt;I guess the intention of create this object is to save object creation, but when we dive into the string.getBytes code, when it&apos;s called with Charset, it actually create a new StringEncoder in java.lang.StringCoding:&lt;br/&gt;
    static byte[] encode(Charset cs, char[] ca, int off, int len) &lt;/p&gt;
{
	StringEncoder se = new StringEncoder(cs, cs.name());
	char[] c = Arrays.copyOf(ca, ca.length);
	return se.encode(c, off, len);
    }

&lt;p&gt;If instead we just call it with string literal &quot;UTF-8&quot;, it will just reuse the threadlocal StringEncoder. &lt;/p&gt;

&lt;p&gt;We tried overwrite this class with passing string literal and proved those short lived StringEncoder objects is not created any more. Would like apache to fix this so we don&apos;t need to overwrite it anymore. &lt;/p&gt;



</description>
                <environment></environment>
        <key id="12684292">AVRO-1411</key>
            <summary>org.apache.avro.util.Utf8 performance improvement by remove private Charset in class</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tonyliu73">Tie Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Dec 2013 16:14:41 +0000</created>
                <updated>Thu, 12 Dec 2013 18:49:06 +0000</updated>
                            <resolved>Thu, 12 Dec 2013 18:49:06 +0000</resolved>
                                    <version>1.7.5</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13846520" author="cutting" created="Thu, 12 Dec 2013 18:07:26 +0000"  >&lt;p&gt;Please contribute a patch with this change.  Also please provide benchmark results.  Ideally these would use the existing performance suite (lang/java/ipc/src/test/java/org/apache/avro/io/Perf.java).  Once we can validate the performance improvement then we can probably get the change committed.&lt;/p&gt;</comment>
                            <comment id="13846558" author="robair" created="Thu, 12 Dec 2013 18:33:20 +0000"  >&lt;p&gt;This is exactly the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1348&quot; title=&quot;Improve Utf8 to String conversion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1348&quot;&gt;&lt;del&gt;AVRO-1348&lt;/del&gt;&lt;/a&gt;, I have added a patch there.&lt;/p&gt;</comment>
                            <comment id="13846578" author="tonyliu73" created="Thu, 12 Dec 2013 18:48:02 +0000"  >&lt;p&gt;I checked the patch, the patch v2 (&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616422/AVRO-1348v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616422/AVRO-1348v2.patch&lt;/a&gt;) is exactly the one i&apos;m going to submit. So I guess now it&apos;s safe to close this jira since it&apos;s duplicate with &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1348&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1348&lt;/a&gt;. With changed to use string literal &quot;UTF-8&quot;, I saw similar improvements as Rob Turner saw.&lt;/p&gt;</comment>
                            <comment id="13846579" author="tonyliu73" created="Thu, 12 Dec 2013 18:49:06 +0000"  >&lt;p&gt;duplicate as jira &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1348&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1348&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Dec 2013 18:07:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qmuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1412] Python Avro library can&apos;t read Avros made with Pig builtin AvroStorage</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1412</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Using this script:&lt;br/&gt;
from avro import schema, datafile, io&lt;br/&gt;
import pprint&lt;br/&gt;
import sys&lt;br/&gt;
import json&lt;br/&gt;
field_id = None&lt;br/&gt;
Optional key to print&lt;br/&gt;
if (len(sys.argv) &amp;gt; 2):&lt;br/&gt;
field_id = sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;br/&gt;
Test reading avros&lt;br/&gt;
rec_reader = io.DatumReader()&lt;br/&gt;
Create a &apos;data file&apos; (avro file) reader&lt;br/&gt;
df_reader = datafile.DataFileReader(&lt;br/&gt;
open(sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;),&lt;br/&gt;
rec_reader&lt;br/&gt;
)&lt;br/&gt;
the last line fails with:&lt;br/&gt;
Traceback (most recent call last):&lt;br/&gt;
File &quot;/Users/rjurney/bin/cat_avro&quot;, line 22, in &amp;lt;module&amp;gt;&lt;br/&gt;
rec_reader&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/datafile.py&quot;, line 247, in &lt;em&gt;init&lt;/em&gt;&lt;br/&gt;
self.datum_reader.writers_schema = schema.parse(self.get_meta(SCHEMA_KEY))&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/schema.py&quot;, line 784, in parse&lt;br/&gt;
return make_avsc_object(json_data, names)&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/schema.py&quot;, line 740, in make_avsc_object&lt;br/&gt;
return RecordSchema(name, namespace, fields, names, type, doc, other_props)&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/schema.py&quot;, line 653, in &lt;em&gt;init&lt;/em&gt;&lt;br/&gt;
other_props)&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/schema.py&quot;, line 294, in &lt;em&gt;init&lt;/em&gt;&lt;br/&gt;
new_name = names.add_name(name, namespace, self)&lt;br/&gt;
File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/avro/schema.py&quot;, line 268, in add_name&lt;br/&gt;
raise SchemaParseException(fail_msg)&lt;br/&gt;
avro.schema.SchemaParseException: record is a reserved type name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684577">AVRO-1412</key>
            <summary>Python Avro library can&apos;t read Avros made with Pig builtin AvroStorage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="russell.jurney">Russell Jurney</reporter>
                        <labels>
                            <label>pig</label>
                            <label>pig_avro</label>
                            <label>python</label>
                    </labels>
                <created>Fri, 13 Dec 2013 23:51:09 +0000</created>
                <updated>Fri, 20 Dec 2013 04:39:32 +0000</updated>
                            <resolved>Fri, 20 Dec 2013 04:39:32 +0000</resolved>
                                    <version>1.7.4</version>
                                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13853671" author="russell.jurney" created="Fri, 20 Dec 2013 04:38:15 +0000"  >&lt;p&gt;Resolved by &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3621&quot; title=&quot;Python Avro library can&amp;#39;t read Avros made with builtin AvroStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3621&quot;&gt;&lt;del&gt;PIG-3621&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12684414">PIG-3621</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12684414">PIG-3621</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12684414">PIG-3621</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qolj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixed in Pig 0.13/0.12.1 in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3621&quot; title=&quot;Python Avro library can&amp;#39;t read Avros made with builtin AvroStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3621&quot;&gt;&lt;strike&gt;PIG-3621&lt;/strike&gt;&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>pig</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1413] Provide static abstract getClassSchema on SpecificRecordBase (as per AVRO-1223)</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1413</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1223&quot; title=&quot;Generated classes should provide a static accessor method for .SCHEMA&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1223&quot;&gt;&lt;del&gt;AVRO-1223&lt;/del&gt;&lt;/a&gt; added support for static getClassSchema() to generated Record classes, this should be added to the abstract superclass SpecificRecordBase and also to the interface SpecificRecord in order to enable this method to be used on any generated Records.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684847">AVRO-1413</key>
            <summary>Provide static abstract getClassSchema on SpecificRecordBase (as per AVRO-1223)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tmgstev">Tristan Stevens</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Dec 2013 19:45:29 +0000</created>
                <updated>Tue, 17 Dec 2013 18:18:14 +0000</updated>
                                            <version>1.7.5</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="13849654" author="cutting" created="Mon, 16 Dec 2013 19:52:11 +0000"  >&lt;p&gt;A static method isn&apos;t inherited, so it would not help to have this in SpecificRecord or SpecificRecordBase.&lt;/p&gt;

&lt;p&gt;The non-static method that is inherited is getSchema().&lt;/p&gt;</comment>
                            <comment id="13849861" author="tmgstev" created="Mon, 16 Dec 2013 23:26:58 +0000"  >&lt;p&gt;Good shout - confusing my languages there...&lt;/p&gt;

&lt;p&gt;I think there should be a way of getting at the schema for any given SpecificRecord without having to instantiate it (and ideally without faffing about with reflection - which of course is do-able).&lt;/p&gt;

&lt;p&gt;Perhaps instead the schema should be made available from an instance of the builder - at the moment it is protected in RecordBuilderBase but a public accessor could be put on to there to allow someone to query the schema:&lt;/p&gt;

&lt;p&gt;public Schema getSchema() &lt;/p&gt;
{ return schema; }

&lt;p&gt;Similarly, should the builder provide a way of obtaining the class of the type of Records that it is able to build? something along the lines of in RecordBuilderBase:&lt;/p&gt;

&lt;p&gt;public Class getRecordClass() { return T.class);&lt;/p&gt;</comment>
                            <comment id="13850737" author="cutting" created="Tue, 17 Dec 2013 18:18:14 +0000"  >&lt;p&gt;Adding public getRecordClass() and getSchema() methods to RecordBuilderBase seems reasonable to me.&lt;/p&gt;

&lt;p&gt;Note that there is already the method SpecificData#getSchema(Type).  So if you have a class that you know is a specific record then you can use this to get its schema.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Dec 2013 19:52:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qq9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1414] Compression with C++ DataFile</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1414</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;There is no way to use compression with the C++ DataFileReader and C++ DataFileWriter, from what I can tell. Adding compression of the written blocks using boost streams is relatively straight forward and I can provide a patch if people are interested. &lt;/p&gt;

&lt;p&gt;However, there are a couple caveats:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the windows builds of boost don&apos;t currently include zlib support (required for compression) by default. You have to do extra work to get it.&lt;/li&gt;
	&lt;li&gt;I don&apos;t know if doing it that way is compatible with other avro implementations&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12685053">AVRO-1414</key>
            <summary>Compression with C++ DataFile</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drussel">Daniel Russel</assignee>
                                    <reporter username="drussel">Daniel Russel</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Dec 2013 22:07:00 +0000</created>
                <updated>Thu, 23 Jan 2014 21:58:55 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 21:54:18 +0000</resolved>
                                                    <fixVersion>1.7.6</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13850730" author="cutting" created="Tue, 17 Dec 2013 18:10:58 +0000"  >&lt;p&gt;This would be great to have.  We can test compatibility against other implementations by putting more compressed files in share/test/data and having unit tests that validate against those.&lt;/p&gt;</comment>
                            <comment id="13851207" author="drussel" created="Wed, 18 Dec 2013 01:12:54 +0000"  >&lt;p&gt;You can find a patch for nice inspection at &amp;lt;&lt;a href=&quot;https://github.com/salilab/avrocpp/compare/compression&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/salilab/avrocpp/compare/compression&lt;/a&gt;&amp;gt;. I don&apos;t see an easy way of downloading it from there though. So it is attached too.&lt;/p&gt;</comment>
                            <comment id="13852218" author="cutting" created="Wed, 18 Dec 2013 22:04:59 +0000"  >&lt;p&gt;This patch didn&apos;t apply cleanly.  Here&apos;s a version that does.&lt;/p&gt;

&lt;p&gt;I also changed it to call the ZLib codec &quot;deflate&quot; as the Avro spec suggests, however the files this generates are not readable by Java, indicating there&apos;s something wrong still.&lt;/p&gt;

&lt;p&gt;Lastly, this should perhaps not implement the non-standard &quot;gzip&quot; codec as no other implementation will be able to read it, no?  The compression of GZip is the same as ZLib.  Both use the deflate codec, but GZip has extra headers.&lt;/p&gt;</comment>
                            <comment id="13852297" author="drussel" created="Wed, 18 Dec 2013 23:26:58 +0000"  >&lt;p&gt;I updated my patch to&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove gzip&lt;/li&gt;
	&lt;li&gt;set the parameters for zlib so as to not include the compression headers with zip (the java impl the spec don&apos;t)&lt;br/&gt;
Hopefully this will make it compatible with the java implementation. It may also may make sense to play with the window_bits or strategy (see &lt;a href=&quot;http://www.boost.org/doc/libs/1_35_0/libs/iostreams/doc/classes/zlib.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.boost.org/doc/libs/1_35_0/libs/iostreams/doc/classes/zlib.html&lt;/a&gt;), but the (unspecified) defaults seem to be used in the java code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The linked patch should now be clean on svn 1552153 &amp;lt;&lt;a href=&quot;https://github.com/salilab/avrocpp/compare/d8afad009069f056168a6b10600fcf91a302b95a...compression&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/salilab/avrocpp/compare/d8afad009069f056168a6b10600fcf91a302b95a...compression&lt;/a&gt;&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13853128" author="cutting" created="Thu, 19 Dec 2013 18:40:13 +0000"  >&lt;p&gt;This looks great.  Tests pass for me and I can read the compressed file written by C++ using Java&apos;s command line tools.  +1  I will commit this soon unless someone objects.&lt;/p&gt;

&lt;p&gt;FYI for others, the patch for a GitHub commit can be obtained by adding &apos;.patch&apos; to the url, e.g.:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/salilab/avrocpp/compare/d8afad009069f056168a6b10600fcf91a302b95a...compression.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/salilab/avrocpp/compare/d8afad009069f056168a6b10600fcf91a302b95a...compression.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13853147" author="drussel" created="Thu, 19 Dec 2013 18:57:09 +0000"  >&lt;p&gt;Thanks for the github hint, I couldn&apos;t find how to do that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


</comment>
                            <comment id="13864729" author="jira-bot" created="Tue, 7 Jan 2014 21:54:15 +0000"  >&lt;p&gt;Commit 1556373 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1556373&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1556373&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1414&quot; title=&quot;Compression with C++ DataFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1414&quot;&gt;&lt;del&gt;AVRO-1414&lt;/del&gt;&lt;/a&gt;. C++: Add support for deflate-compressed data files.  Contributed by Daniel Russel.&lt;/p&gt;</comment>
                            <comment id="13864730" author="cutting" created="Tue, 7 Jan 2014 21:54:18 +0000"  >&lt;p&gt;I committed this.  Thanks, Daniel!&lt;/p&gt;</comment>
                            <comment id="13864794" author="hudson" created="Tue, 7 Jan 2014 22:39:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #418 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/418/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1414&quot; title=&quot;Compression with C++ DataFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1414&quot;&gt;&lt;del&gt;AVRO-1414&lt;/del&gt;&lt;/a&gt;. C++: Add support for deflate-compressed data files.  Contributed by Daniel Russel. (cutting: rev 1556373)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/api/DataFile.hh&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/impl/DataFile.cc&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/test/DataFileTests.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619419" name="AVRO-1414.patch" size="10205" author="cutting" created="Wed, 18 Dec 2013 22:04:59 +0000"/>
                            <attachment id="12619213" name="patch" size="10598" author="drussel" created="Wed, 18 Dec 2013 01:14:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Dec 2013 18:10:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qriv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
