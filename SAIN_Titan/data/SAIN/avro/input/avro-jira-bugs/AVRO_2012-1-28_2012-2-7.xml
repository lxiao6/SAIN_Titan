<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:16:43 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2012-1-28+AND+created+%3C%3D+2012-2-7+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="5" total="5"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1013] NettyTransceiver can hang after server restart</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1013</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I ran into a very specific scenario today which can lead to NettyTransceiver hanging indefinitely:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Start up a NettyServer&lt;/li&gt;
	&lt;li&gt;Initialize a NettyTransceiver and SpecificRequestor&lt;/li&gt;
	&lt;li&gt;Execute an RPC to establish the connection/handshake with the server&lt;/li&gt;
	&lt;li&gt;Shut down the server&lt;/li&gt;
	&lt;li&gt;Immediately execute another RPC&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;After Step 4, NettyTransceiver will detect that the connection has been closed and call NettyTransceiver#disconnect(boolean, boolean, Throwable), which sets &apos;remote&apos; to null, indicating to Requestor that the NettyTransceiver is now disconnected.  However, if an RPC is executed just after the server has closed its socket (Step 5) and before disconnect() has been called, NettyTransceiver may still try to send this RPC because &apos;remote&apos; has not yet been set to null.  This race condition is normally ok because NettyTransceiver#getChannel() will detect that the socket has been closed and then try to reestablish the connection.  Unfortunately, in this scenario getChannel() blocks forever when it attempts to acquire the write lock because the read lock has been acquired twice rather than once as getChannel() expects.  The read lock is acquired once by transceive(List&amp;lt;ByteBuffer&amp;gt;, Callback&amp;lt;List&amp;lt;ByteBuffer&amp;gt;&amp;gt;) and again by writeDataPack(NettyDataPack).&lt;/p&gt;

&lt;p&gt;The fix is fairly simple.  The writeDataPack(NettyDataPack) method (which is private) does not acquire the read lock but specifies in its contract that the read lock must acquired before calling this method.  This change prevents the read lock from being acquired more than once by any single thread.  Another change is to have NettyTransceiver#isConnected() perform two checks instead of one: remote != null &amp;amp;&amp;amp; isChannelReady(channel).  This second change should allow NettyTransceiver to detect disconnect events more quickly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12540309">AVRO-1013</key>
            <summary>NettyTransceiver can hang after server restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbaldassari">James Baldassari</assignee>
                                    <reporter username="jbaldassari">James Baldassari</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2012 00:02:35 +0000</created>
                <updated>Wed, 15 Feb 2012 00:46:29 +0000</updated>
                            <resolved>Wed, 8 Feb 2012 03:42:24 +0000</resolved>
                                    <version>1.6.1</version>
                                    <fixVersion>1.6.2</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13195894" author="jbaldassari" created="Mon, 30 Jan 2012 00:32:59 +0000"  >&lt;p&gt;The second change I described to NettyServer#isConnected() actually broke a bunch of unit tests, so I&apos;m just going to leave that method unchanged.&lt;/p&gt;</comment>
                            <comment id="13195896" author="jbaldassari" created="Mon, 30 Jan 2012 00:44:14 +0000"  >&lt;p&gt;Here&apos;s a patch with a unit test.&lt;/p&gt;</comment>
                            <comment id="13202679" author="cutting" created="Tue, 7 Feb 2012 19:40:02 +0000"  >&lt;p&gt;The new test passes for me even without the changes to NettyTransceiver.java.&lt;/p&gt;</comment>
                            <comment id="13202693" author="jbaldassari" created="Tue, 7 Feb 2012 19:50:12 +0000"  >&lt;p&gt;Yes, unfortunately I wasn&apos;t able to construct a test that triggered the bug in Avro.  I can make it happen reliably in my own application (which I&apos;m not able to publish here), but for some reason I couldn&apos;t get it to happen with the Avro unit test.  After spending hours on it, I had to settle for a test that verifies that the hang &lt;em&gt;doesn&apos;t&lt;/em&gt; happen.  If you&apos;d rather see a test that fails before the patch is applied, I can take another stab at it.&lt;/p&gt;</comment>
                            <comment id="13202707" author="cutting" created="Tue, 7 Feb 2012 19:59:12 +0000"  >&lt;p&gt;That&apos;s okay.  +1&lt;/p&gt;</comment>
                            <comment id="13203235" author="jbaldassari" created="Wed, 8 Feb 2012 03:42:24 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512380" name="AVRO-1013.patch" size="3461" author="jbaldassari" created="Mon, 30 Jan 2012 00:44:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Feb 2012 19:40:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e3tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1014] Avro-C&apos;s Avrocat does not check if avro_value_to_json fails</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1014</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;In avrocat.c, function process_file, the return value of avro_value_to_json is not checked, so if the JSON conversion fails, a free of the char *json will occur.&lt;/p&gt;

&lt;p&gt;I have attached a patch to check the return value and print an error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12540476">AVRO-1014</key>
            <summary>Avro-C&apos;s Avrocat does not check if avro_value_to_json fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lmartinking">Lucas Martin-King</reporter>
                        <labels>
                            <label>avrocat</label>
                    </labels>
                <created>Tue, 31 Jan 2012 01:06:39 +0000</created>
                <updated>Wed, 15 Feb 2012 00:46:30 +0000</updated>
                            <resolved>Wed, 1 Feb 2012 17:38:48 +0000</resolved>
                                                    <fixVersion>1.6.2</fixVersion>
                                    <component>c</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13196608" author="lmartinking" created="Tue, 31 Jan 2012 01:08:24 +0000"  >&lt;p&gt;See attached patch avrocat_check_return_value.patch&lt;/p&gt;

&lt;p&gt;Apply to latest trunk.&lt;/p&gt;</comment>
                            <comment id="13197982" author="dcreager" created="Wed, 1 Feb 2012 17:38:48 +0000"  >&lt;p&gt;Committed to SVN&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512512" name="avrocat_check_return_value.patch" size="583" author="lmartinking" created="Tue, 31 Jan 2012 01:07:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Feb 2012 17:38:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e3u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1015] Support for C++ build using Micrsoft Visual Studio on Windows</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1015</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;At present, Avro C++ builds on Cygwin but does not build natively for Windows using Visual Studio. The main stumbling block has been integration with Flex and Bison. Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-956&quot; title=&quot;Remove dependency on Flex/Bison&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-956&quot;&gt;&lt;del&gt;AVRO-956&lt;/del&gt;&lt;/a&gt; removed dependence on Flex and Bison, we should start supporting Visual Studio Builds. A few issues need to be addressed, which the forthcoming patch take care of:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;signed to unsigned conversion and vice-versa should be explicit. Otherwise the compiler generates warnings.&lt;/li&gt;
	&lt;li&gt;Floating point literals unless suffixed with f are considered double. The compiler warns about loss of precision, even though the actual values don&apos;t really need double.&lt;/li&gt;
	&lt;li&gt;Taking &amp;amp;v&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; to obtain the pointer to the underlying array in a vector fails in debug mode if the size of the vector is 0. Similar thing happens for strings as well.&lt;/li&gt;
	&lt;li&gt;If a function or a class is exposed outside a DLL, __dllexport should be specified similarly if they are used outside the DLL, __dllimport should be specified.&lt;/li&gt;
	&lt;li&gt;min and max are both functions in Standard C++ library and macros in Windows standard library, which causes conflict.&lt;/li&gt;
	&lt;li&gt;The Unix file handling does not work in Windows. It needs its own method.&lt;/li&gt;
	&lt;li&gt;Boost library and TR1 clash in a couple of places especially in &quot;make_shared&quot;.&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12541185">AVRO-1015</key>
            <summary>Support for C++ build using Micrsoft Visual Studio on Windows</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thiru_mg">Thiruvalluvan M. G.</assignee>
                                    <reporter username="thiru_mg">Thiruvalluvan M. G.</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Feb 2012 13:36:31 +0000</created>
                <updated>Wed, 15 Feb 2012 00:46:30 +0000</updated>
                            <resolved>Thu, 9 Feb 2012 18:12:12 +0000</resolved>
                                                    <fixVersion>1.6.2</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13200457" author="thiru_mg" created="Sat, 4 Feb 2012 14:37:08 +0000"  >&lt;p&gt;This patch enables building on native Windows (without Cygwin). Please see the MainPage.dox for details.&lt;br/&gt;
Tested that it works on Ubuntu, RHEL 4.7, RHEL 5.4 and Cygwin as well.&lt;/p&gt;</comment>
                            <comment id="13204189" author="thiru_mg" created="Thu, 9 Feb 2012 01:59:13 +0000"  >&lt;p&gt;If there is no objections to this patch, I&apos;ll commit this in a day.&lt;/p&gt;</comment>
                            <comment id="13204705" author="thiru_mg" created="Thu, 9 Feb 2012 18:12:13 +0000"  >&lt;p&gt;Committed revision 1242430.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12513255" name="AVRO-1015.patch" size="70563" author="thiru_mg" created="Sat, 4 Feb 2012 14:37:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e3uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1016] Expose aliases on Schema.Field</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1016</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;If i create a copy of a Schema.Field using the constructor i lose the props and aliases. I can find out what the props are and add them back in using Schema.Field.props() but there is no way to find out the aliases. Can we also expose the aliases? Set&amp;lt;String&amp;gt; Schema.Field.aliases()?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12541194">AVRO-1016</key>
            <summary>Expose aliases on Schema.Field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cutting">Doug Cutting</assignee>
                                    <reporter username="koert">koert kuipers</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Feb 2012 15:59:25 +0000</created>
                <updated>Wed, 15 Feb 2012 00:46:28 +0000</updated>
                            <resolved>Tue, 7 Feb 2012 22:22:37 +0000</resolved>
                                    <version>1.6.1</version>
                                    <fixVersion>1.6.2</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13200788" author="koert" created="Sun, 5 Feb 2012 15:02:55 +0000"  >&lt;p&gt;svn diff done in dir trunk/lang/java/avro&lt;/p&gt;</comment>
                            <comment id="13201748" author="cutting" created="Mon, 6 Feb 2012 23:08:23 +0000"  >&lt;p&gt;Here&apos;s a modified version of the patch that:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adds some tests; and&lt;/li&gt;
	&lt;li&gt;avoids printing empty alias lists when copying aliases to a new Field instance.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13201786" author="scott_carey" created="Mon, 6 Feb 2012 23:28:58 +0000"  >&lt;p&gt;Should the copy constructor also copy aliases and props?  Should we create such a copy constructor or static factory method that creates a new field based on an old one, and retains aliases and/or props?  Creating a new one, then filling out the bits one by one seems like a clumsy API.  Either way we need the exposed aliases() getter.&lt;/p&gt;</comment>
                            <comment id="13201809" author="cutting" created="Mon, 6 Feb 2012 23:40:16 +0000"  >&lt;p&gt;A copy constructor would work if you want an exact copy of the field.  I&apos;d not object to adding that.  But if you&apos;re copying a field and manipulating parts of it then a copy-constructor alone might not be sufficient.&lt;/p&gt;

&lt;p&gt;Ideally we might have a builder API for Field and Schema, where each of these could accept an existing instance as the base.  Then you could do something like:&lt;/p&gt;

&lt;p&gt;   new Builder(oldField).setName(&quot;foo&quot;).build();&lt;/p&gt;

&lt;p&gt;But that seems beyond the scope of this issue.&lt;/p&gt;</comment>
                            <comment id="13201911" author="scott_carey" created="Tue, 7 Feb 2012 01:00:31 +0000"  >&lt;p&gt;I agree, it is out of scope to go as far as a builder API.  Going half way with many static method signatures complicates the API more than it helps.&lt;/p&gt;

&lt;p&gt;+1 as is.&lt;/p&gt;</comment>
                            <comment id="13202872" author="cutting" created="Tue, 7 Feb 2012 22:22:37 +0000"  >&lt;p&gt;I committed this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12513307" name="AVRO-1016.diff" size="677" author="koert" created="Sun, 5 Feb 2012 15:02:55 +0000"/>
                            <attachment id="12513521" name="AVRO-1016.patch" size="2439" author="cutting" created="Mon, 6 Feb 2012 23:08:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Feb 2012 23:08:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e3un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1017] org.apache.avro.generic.GenericData.resolveUnion does not deal correctly with a union of two records with (different) namespace definitions</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1017</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Suppose that you define two different avro objects:&lt;/p&gt;

{&quot;name&quot;:&quot;A&quot;, &quot;namespace&quot;:&quot;com.something&quot;, &quot;type&quot;:&quot;record&quot;, ...}
{&quot;name&quot;:&quot;B&quot;, &quot;namespace&quot;:&quot;com.anotherthing&quot;, &quot;type&quot;:&quot;record&quot;, ...}

&lt;p&gt;Then define a union of the two:&lt;/p&gt;

&lt;p&gt;{&quot;name&quot;:&quot;bothAAndB&quot;, &quot;type&quot;:[&lt;/p&gt;
{&quot;name&quot;:&quot;A&quot;, &quot;namespace&quot;:&quot;com.something&quot;, &quot;type&quot;:&quot;record&quot;, ...}
&lt;p&gt;,&lt;/p&gt;
{&quot;name&quot;:&quot;B&quot;, &quot;namespace&quot;:&quot;com.anotherthing&quot;, &quot;type&quot;:&quot;record&quot;, ...}
&lt;p&gt;]}&lt;/p&gt;

&lt;p&gt;If you write an object of type A or B into a GenericRecord and try to use org.apache.avro.generic.GenericDatumWriter to store the object, you will get an org.apache.avro.UnresolvedUnionException exception.&lt;/p&gt;

&lt;p&gt;Very specifically, it looks like org.apache.avro.UnionSchema.getIndexNamed is being called by  org.apache.avro.generic.GenericDatumWriter.resolveUnion with the short name of the record, but that the org.apache.avro.UnionSchema object contains the full names of the objects. So, org.apache.avro.UnionSchema.getIndexNamed doesn&apos;t find a match and Avro fails to find an object in the union that matches the object in the datum.&lt;/p&gt;

&lt;p&gt;So... I&apos;d like to see one of two fixes: (1) an informative error message telling me that I can&apos;t form a union of records from different namespaces, or (2) a successful lookup of the schema and record writing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12541518">AVRO-1017</key>
            <summary>org.apache.avro.generic.GenericData.resolveUnion does not deal correctly with a union of two records with (different) namespace definitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jadler">Joseph Adler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Feb 2012 22:20:14 +0000</created>
                <updated>Mon, 6 Feb 2012 23:33:20 +0000</updated>
                                            <version>1.6.1</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13201777" author="jadler" created="Mon, 6 Feb 2012 23:27:31 +0000"  >&lt;p&gt;Actually, I&apos;m not so sure I&apos;m right about the issue here. I think I&apos;m confusing myself with namespaces and unions, but I&apos;m not sure how.&lt;/p&gt;</comment>
                            <comment id="13201795" author="cutting" created="Mon, 6 Feb 2012 23:32:41 +0000"  >&lt;p&gt;The correct expected behavior is (2): it should be possible to have a union with records in different namespaces.  Looking at the code it appears that both the UnionSchema constructor and GenericData#getSchemaName() call Schema.getFullName(), so I&apos;m not sure how this could fail.&lt;/p&gt;

&lt;p&gt;Can you please provide a complete, self-contained test case that illustrates the problem, ideally as a JUnit test?  Thanks!&lt;/p&gt;</comment>
                            <comment id="13201797" author="scott_carey" created="Mon, 6 Feb 2012 23:33:20 +0000"  >&lt;p&gt;Avro should be able to have a union of two different records with two different namespaces.  So if this is not user error, it is a bug.  Sample code or a unit test with the error condition would help.&lt;/p&gt;

&lt;p&gt;I may have time to try this myself within the next couple days.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Feb 2012 23:32:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e3uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>
