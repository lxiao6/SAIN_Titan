<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:13:59 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2010-5-26+AND+created+%3C%3D+2010-6-2+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="3" total="3"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-554] data files created by ruby DataWriter are extremely large</title>
                <link>https://issues.apache.org/jira/browse/AVRO-554</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Adding 10000 records of a very simple schema (3 fields) to a DataWriter results in a file that is 317mb.  The same records in JSON are 430k.&lt;/p&gt;</description>
                <environment>&lt;p&gt;avro-1.4.0-pre1, ruby 1.8.7 (2010-01-10 patchlevel 249) &lt;span class=&quot;error&quot;&gt;&amp;#91;x86_64-linux&amp;#93;&lt;/span&gt;&lt;/p&gt;</environment>
        <key id="12465587">AVRO-554</key>
            <summary>data files created by ruby DataWriter are extremely large</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="grantr">Grant Rodgers</assignee>
                                    <reporter username="grantr">Grant Rodgers</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 May 2010 17:56:52 +0000</created>
                <updated>Mon, 14 Jun 2010 01:37:07 +0000</updated>
                            <resolved>Tue, 1 Jun 2010 03:40:25 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>1.4.0</version>
                                    <fixVersion>1.3.3</fixVersion>
                                    <component>ruby</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12872307" author="grantr" created="Thu, 27 May 2010 18:01:11 +0000"  >&lt;p&gt;Attached a ruby script demonstrating the issue. Run it by executing &apos;ruby avro_comp.rb 10000&apos; (after installing the avro rubygem)&lt;/p&gt;

&lt;p&gt;Also attached two data files produced by the above script with 10 and 100 records.&lt;/p&gt;</comment>
                            <comment id="12872308" author="cutting" created="Thu, 27 May 2010 18:05:28 +0000"  >&lt;p&gt;The 10 and 100 entry files look fine.  Can you please post one that better illustrates the problem?  Thanks!&lt;/p&gt;</comment>
                            <comment id="12872310" author="grantr" created="Thu, 27 May 2010 18:08:34 +0000"  >&lt;p&gt;Doing some more tests:&lt;/p&gt;

&lt;p&gt;1000 records filesize: 7233&lt;br/&gt;
2000 records filesize: 14234&lt;br/&gt;
3000 records filesize: 13242729&lt;/p&gt;

&lt;p&gt;Attached is the file with 3000 records (gzipped)&lt;/p&gt;</comment>
                            <comment id="12872318" author="cutting" created="Thu, 27 May 2010 18:27:06 +0000"  >&lt;p&gt;Java fails to parse the 3000 entry file, complaining that it&apos;s corrupt, and &apos;od -v -c&apos; shows big blocks of nulls.&lt;/p&gt;</comment>
                            <comment id="12872722" author="grantr" created="Thu, 27 May 2010 23:39:13 +0000"  >&lt;p&gt;Need to rewind the buffer in addition to truncating (truncating does not reset the buffer position)&lt;/p&gt;</comment>
                            <comment id="12872723" author="jmhodges" created="Thu, 27 May 2010 23:41:08 +0000"  >&lt;p&gt;A test would be awesome for this. Could you write one up?&lt;/p&gt;</comment>
                            <comment id="12872724" author="grantr" created="Thu, 27 May 2010 23:41:23 +0000"  >&lt;p&gt;data file created with patch&lt;/p&gt;</comment>
                            <comment id="12872726" author="grantr" created="Thu, 27 May 2010 23:42:04 +0000"  >&lt;p&gt;Oops, wrong license on first patch.&lt;/p&gt;</comment>
                            <comment id="12872738" author="grantr" created="Fri, 28 May 2010 00:08:56 +0000"  >&lt;p&gt;Patch with test&lt;/p&gt;</comment>
                            <comment id="12873865" author="jmhodges" created="Tue, 1 Jun 2010 03:39:51 +0000"  >&lt;p&gt;Committed as r949917&lt;/p&gt;</comment>
                            <comment id="12873866" author="jmhodges" created="Tue, 1 Jun 2010 03:40:25 +0000"  >&lt;p&gt;Committed as r949917&lt;/p&gt;</comment>
                            <comment id="12875764" author="hammer" created="Fri, 4 Jun 2010 21:28:14 +0000"  >&lt;p&gt;Hey,&lt;/p&gt;

&lt;p&gt;Interesting problem here. It turns out that calling buffer.truncate(0) on StringIO buffer in Python will both clear the contents of the buffer and reset the position to 0. For a file buffer, however, you need to explicitly call buffer.reset(0) after buffer.truncate. I think Ruby&apos;s behavior is actually more reasonable. For those who&apos;d like to follow along at home, I&apos;ve opened a question on Quora to discover the source of this inconsistency in the Python buffer API: &lt;a href=&quot;http://www.quora.com/Why-does-the-behavior-of-the-truncate-method-on-a-StringIO-object-in-Python-differ-from-the-truncate-method-on-a-file&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.quora.com/Why-does-the-behavior-of-the-truncate-method-on-a-StringIO-object-in-Python-differ-from-the-truncate-method-on-a-file&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Later,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445726" name="AVRO-554-2.patch" size="1189" author="grantr" created="Fri, 28 May 2010 00:08:55 +0000"/>
                            <attachment id="12445721" name="AVRO-554.patch" size="370" author="grantr" created="Thu, 27 May 2010 23:42:04 +0000"/>
                            <attachment id="12445682" name="avro_comp.rb" size="855" author="grantr" created="Thu, 27 May 2010 18:01:11 +0000"/>
                            <attachment id="12445683" name="data10.avr" size="302" author="grantr" created="Thu, 27 May 2010 18:01:11 +0000"/>
                            <attachment id="12445684" name="data100.avr" size="933" author="grantr" created="Thu, 27 May 2010 18:01:11 +0000"/>
                            <attachment id="12445688" name="data3000.avr.gz" size="18007" author="grantr" created="Thu, 27 May 2010 18:08:34 +0000"/>
                            <attachment id="12445720" name="patched-data3000.avr" size="21254" author="grantr" created="Thu, 27 May 2010 23:41:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 May 2010 18:05:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e11b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-555] missing license header</title>
                <link>https://issues.apache.org/jira/browse/AVRO-555</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;http://ci.apache.org/projects/avro/rat-output.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ci.apache.org/projects/avro/rat-output.html&lt;/a&gt;, we are missing license headers on&lt;/p&gt;

&lt;p&gt;/home/buildslave3/slave3/avro-trunk-rat-report/build/lang/ruby/test/test_datafile.rb&lt;br/&gt;
/home/buildslave3/slave3/avro-trunk-rat-report/build/lang/ruby/test/test_socket_transport.rb&lt;br/&gt;
/home/buildslave3/slave3/avro-trunk-rat-report/build/lang/ruby/test/tool.rb&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465726">AVRO-555</key>
            <summary>missing license header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhodges">Jeff Hodges</assignee>
                                    <reporter username="jmhodges">Jeff Hodges</reporter>
                        <labels>
                    </labels>
                <created>Sun, 30 May 2010 04:51:59 +0000</created>
                <updated>Mon, 14 Jun 2010 01:37:07 +0000</updated>
                            <resolved>Sun, 30 May 2010 04:59:28 +0000</resolved>
                                    <version>1.3.3</version>
                                    <fixVersion>1.3.3</fixVersion>
                                    <component>ruby</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12873380" author="jmhodges" created="Sun, 30 May 2010 04:59:28 +0000"  >&lt;p&gt;Committed in r949477.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445871" name="AVRO-555.patch" size="3158" author="jmhodges" created="Sun, 30 May 2010 04:54:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e11j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-556] Poor performance for Reader::readBytes can be easily improved</title>
                <link>https://issues.apache.org/jira/browse/AVRO-556</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The default implementation of Reader::readBytes on 1.3.2 reads bytes into the result vector one-byte-at-a-time. For large byte arrays (~500k or so), this is horrendously slow. &lt;br/&gt;
The code can easily be changed to simply do:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;void readBytes(std::vector&amp;lt;uint8_t&amp;gt; &amp;amp;val) {
        int64_t size = readSize(); 
       val.resize(size);
       in_.readBytes(&amp;amp;val[0], size);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;..which will copy all the bytes in a single call.&lt;br/&gt;
(note: it appears this function has been changed in the trunk, but it still copies byte-by-byte, so the optimization would still apply).&lt;/p&gt;

&lt;p&gt;In my testing of serializing/deserializing a message with a 500k byte field in it 1000 times, execution time dropped from from 30+sec to 0.2sec with this optimization.&lt;/p&gt;

&lt;p&gt;The same optimization can easily be applied to readFixed(uint8_t *val...) as well.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12465804">AVRO-556</key>
            <summary>Poor performance for Reader::readBytes can be easily improved</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wrightd">Dave Wright</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 May 2010 20:12:44 +0000</created>
                <updated>Mon, 14 Jun 2010 01:37:07 +0000</updated>
                            <resolved>Sun, 6 Jun 2010 02:16:10 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12874443" author="sbanacho" created="Wed, 2 Jun 2010 06:13:20 +0000"  >&lt;p&gt;Thanks for the suggestion and tests, I will commit your changes for readBytes/Fixed soon.&lt;/p&gt;</comment>
                            <comment id="12875861" author="sbanacho" created="Sat, 5 Jun 2010 05:14:33 +0000"  >&lt;p&gt;Patch file.&lt;/p&gt;</comment>
                            <comment id="12875975" author="hammer" created="Sun, 6 Jun 2010 02:16:10 +0000"  >&lt;p&gt;Committed with revision 951653 by Scott and merged into branch-1.3 with revision 951751.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12446401" name="AVRO-556.patch" size="924" author="sbanacho" created="Sat, 5 Jun 2010 05:14:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Jun 2010 06:13:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e11r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
