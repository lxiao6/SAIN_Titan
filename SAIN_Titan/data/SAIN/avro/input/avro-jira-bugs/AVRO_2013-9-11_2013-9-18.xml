<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:19:13 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2013-9-11+AND+created+%3C%3D+2013-9-18+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="3" total="3"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1375] Python to Java RPC call error</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1375</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;first of all, i&apos;m not goot at english.. if you can&apos;t understant what i&apos;m saying .. just loot at source code and error message below~ &lt;br/&gt;
thank you.&lt;/p&gt;

&lt;p&gt;== Situation ==&lt;br/&gt;
I&apos;m using avro-quick-start sample code using github...&lt;br/&gt;
It works fine with java-to-java, python-to-python, java-to-python but It not working... java-to-python..&lt;/p&gt;

&lt;p&gt;I think it caused by difference of data type between java and mac-python-64x&lt;/p&gt;

&lt;p&gt;== avro scheme ==&lt;br/&gt;
mail.avpr&lt;br/&gt;
{&quot;namespace&quot;: &quot;example.proto&quot;,&lt;br/&gt;
 &quot;protocol&quot;: &quot;Mail&quot;,&lt;/p&gt;

&lt;p&gt; &quot;types&quot;: [&lt;br/&gt;
     {&quot;name&quot;: &quot;Message&quot;, &quot;type&quot;: &quot;record&quot;,&lt;br/&gt;
      &quot;fields&quot;: [&lt;br/&gt;
          &lt;/p&gt;
{&quot;name&quot;: &quot;to&quot;,   &quot;type&quot;: &quot;string&quot;}
&lt;p&gt;,&lt;br/&gt;
          &lt;/p&gt;
{&quot;name&quot;: &quot;from&quot;, &quot;type&quot;: &quot;string&quot;}
&lt;p&gt;,&lt;/p&gt;
          {&quot;name&quot;: &quot;body&quot;, &quot;type&quot;: &quot;string&quot;}
&lt;p&gt;      ]&lt;br/&gt;
     }&lt;br/&gt;
 ],&lt;/p&gt;

&lt;p&gt; &quot;messages&quot;: {&lt;br/&gt;
     &quot;send&quot;: {&lt;br/&gt;
         &quot;request&quot;: [&lt;/p&gt;
{&quot;name&quot;: &quot;message&quot;, &quot;type&quot;: &quot;Message&quot;}
&lt;p&gt;],&lt;br/&gt;
         &quot;response&quot;: &quot;string&quot;&lt;br/&gt;
     }&lt;br/&gt;
 }&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;== Exception Message ==&lt;/p&gt;

&lt;p&gt;877 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-2-thread-1&amp;#93;&lt;/span&gt; WARN org.apache.avro.ipc.NettyServer - Unexpected exception from downstream.&lt;br/&gt;
org.apache.avro.AvroRuntimeException: Excessively large list allocation request detected: 539959368 items! Connection closed.&lt;br/&gt;
	at org.apache.avro.ipc.NettyTransportCodec$NettyFrameDecoder.decodePackHeader(NettyTransportCodec.java:167)&lt;br/&gt;
	at org.apache.avro.ipc.NettyTransportCodec$NettyFrameDecoder.decode(NettyTransportCodec.java:139)&lt;br/&gt;
	at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:286)&lt;br/&gt;
	at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:208)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:94)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:364)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:238)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:38)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Client MacOSx64x, Server Windows7 64x&lt;/p&gt;</environment>
        <key id="12668010">AVRO-1375</key>
            <summary>Python to Java RPC call error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="archmagece">LEE, ChaeEung</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 11 Sep 2013 09:31:36 +0000</created>
                <updated>Fri, 4 Nov 2016 10:00:51 +0000</updated>
                                            <version>1.7.4</version>
                    <version>1.7.5</version>
                                                    <component>java</component>
                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15403904" author="glon.sebastien@free.fr" created="Tue, 2 Aug 2016 12:42:59 +0000"  >&lt;p&gt;I have the same error than you;&lt;br/&gt;
I think this is do to Netty.&lt;/p&gt;

&lt;p&gt;Flume and Java Avro support only NettyTransceiver.&lt;br/&gt;
but Python does not have Library for this protocol; it only support TCP and HTTP transceiver.&lt;/p&gt;

&lt;p&gt;Have you any solution to workaround this?&lt;/p&gt;</comment>
                            <comment id="15635646" author="dcamacho" created="Fri, 4 Nov 2016 08:24:59 +0000"  >&lt;p&gt;I have a possible idea that we can discuss: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Would it be possible to Wrap NettyTransceiver Java Class  in Python with any Java Callers from Python ( Pyjnius/Jnius, or Py4j) and create a NettyTransceiver Object in Python?&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="15635863" author="glon.sebastien@free.fr" created="Fri, 4 Nov 2016 10:00:51 +0000"  >&lt;p&gt;For info nettyTransceiver is message frame&lt;br/&gt;
with &lt;br/&gt;
4byte to ID (What you want)&lt;br/&gt;
4byte to Number of Frame&lt;br/&gt;
And by Frame&lt;br/&gt;
2byte for Frame message size&lt;br/&gt;
and Message&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Aug 2016 12:42:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nzwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Client,Python,Java,</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1376] not in union [&quot;string&quot;,&quot;null&quot;]</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1376</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Caused by: org.apache.avro.AvroTypeException: Not in union &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;string&amp;quot;,&amp;quot;null&amp;quot;&amp;#93;&lt;/span&gt;: &quot;hello lizard lips&quot; in field desco of avro.bobo_types&lt;br/&gt;
The string &quot;hello lizard lips&quot; is rejected. The schema definition is:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
   &quot;type&quot;: &quot;record&quot;,&lt;br/&gt;
   &quot;namespace&quot;: &quot;avro&quot;,&lt;br/&gt;
   &quot;name&quot;: &quot;bobo_types&quot;,&lt;br/&gt;
   &quot;fields&quot;: [&lt;/p&gt;
    {&quot;name&quot;: &quot;desco&quot;,&quot;type&quot;: [&quot;string&quot;, &quot;null&quot;]}
&lt;p&gt;     ]&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668064">AVRO-1376</key>
            <summary>not in union [&quot;string&quot;,&quot;null&quot;]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bkwiencien@gmail.com">Bob Kwiencien</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 15:19:44 +0000</created>
                <updated>Wed, 19 Mar 2014 05:57:42 +0000</updated>
                            <resolved>Wed, 19 Mar 2014 05:57:42 +0000</resolved>
                                    <version>1.7.1</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13764447" author="cutting" created="Wed, 11 Sep 2013 16:11:56 +0000"  >&lt;p&gt;Can you please provide a complete code example that reproduces this?  Thanks!&lt;/p&gt;</comment>
                            <comment id="13764491" author="bkwiencien@gmail.com" created="Wed, 11 Sep 2013 17:03:29 +0000"  >&lt;p&gt;bobo.avsc is the avro schema definotionfile, and bobo.java is a silly little java program that will produce the issue.&lt;/p&gt;</comment>
                            <comment id="13764493" author="bkwiencien@gmail.com" created="Wed, 11 Sep 2013 17:04:25 +0000"  >&lt;p&gt;Attahed a small java program that will create the error.&lt;/p&gt;</comment>
                            <comment id="13764517" author="cutting" created="Wed, 11 Sep 2013 17:19:44 +0000"  >&lt;p&gt;The error is thrown from the Oracle&apos;s NoSQL library&apos;s use of Avro and is not clearly an Avro problem.  You might be better off trying to get help for this from Oracle?&lt;/p&gt;</comment>
                            <comment id="13764531" author="bkwiencien@gmail.com" created="Wed, 11 Sep 2013 17:26:49 +0000"  >&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13770810" author="bkwiencien@gmail.com" created="Wed, 18 Sep 2013 14:24:06 +0000"  >&lt;p&gt;This issue is resolved. I changed JsonAvroBinding to GenericAvroBinding (with other assocaiated changes) and it works as advertised.&lt;/p&gt;</comment>
                            <comment id="13770811" author="bkwiencien@gmail.com" created="Wed, 18 Sep 2013 14:25:50 +0000"  >&lt;p&gt;reflects JsonAvroBinding-&amp;gt; GenericAvroBinding&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602613" name="bobo.avsc" size="145" author="bkwiencien@gmail.com" created="Wed, 11 Sep 2013 17:03:29 +0000"/>
                            <attachment id="12602612" name="bobo.java" size="3440" author="bkwiencien@gmail.com" created="Wed, 11 Sep 2013 17:03:29 +0000"/>
                            <attachment id="12603833" name="working_bobo.java" size="3609" author="bkwiencien@gmail.com" created="Wed, 18 Sep 2013 14:25:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Sep 2013 16:11:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o08v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1377] Fields with certained name-spaced schemas (enum, union) inside an un-name-spaced record schema can cause the schema to be serialized incorrectly</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1377</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;From email thread on user list&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Here is a condensed example of a problem I just came across

   @Test
   void testNamespaceBleed() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
       Schema schema = SchemaBuilder.record(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;).fields()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field1&quot;&lt;/span&gt;).type().enumeration(&lt;span class=&quot;code-quote&quot;&gt;&quot;Bar&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).symbols(&lt;span class=&quot;code-quote&quot;&gt;&quot;x&quot;&lt;/span&gt;).noDefault()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field2&quot;&lt;/span&gt;).type().record(&lt;span class=&quot;code-quote&quot;&gt;&quot;Humbug&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).fields().endRecord().noDefault()
               .endRecord();
       &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; schemaString = schema.toString(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
       Schema schema2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.Parser().parse(schemaString);
       Assert.assertEquals(schema, schema2); &lt;span class=&quot;code-comment&quot;&gt;// one would hope &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; were &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/span&gt;   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically the use case (which may not be very common) is with the first (namespaced) schema in a record without a namespace being an enum. Because the serialization of the enum schema does not save and restore the namespace, it becomes the default namespace (for serialization) of other fields that follow in the same record (so field2 is written without a namespace since it is in the default namespace, but when the schema is deserialized the same bug does not occur and so it appears a &quot;Humbug&quot; rather than &quot;com.foo.Humbug&quot;)&lt;/p&gt;

&lt;p&gt;Note, the following (and of course most others) all work&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   @Test
   void testNoNamespaceBleed() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
       &lt;span class=&quot;code-comment&quot;&gt;// works because the enclosing record has a namespace
&lt;/span&gt;       Schema schema = SchemaBuilder.record(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).fields() 
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field1&quot;&lt;/span&gt;).type().enumeration(&lt;span class=&quot;code-quote&quot;&gt;&quot;Bar&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).symbols(&lt;span class=&quot;code-quote&quot;&gt;&quot;x&quot;&lt;/span&gt;).noDefault()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field2&quot;&lt;/span&gt;).type().record(&lt;span class=&quot;code-quote&quot;&gt;&quot;Humbug&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).fields().endRecord().noDefault()
               .endRecord();
       &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; schemaString = schema.toString(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
       Schema schema2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.Parser().parse(schemaString);
       Assert.assertEquals(schema,schema2);

       &lt;span class=&quot;code-comment&quot;&gt;// works because the enclosing record has a namespace (even though different)
&lt;/span&gt;       schema = SchemaBuilder.record(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.bar&quot;&lt;/span&gt;).fields() 
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field1&quot;&lt;/span&gt;).type().enumeration(&lt;span class=&quot;code-quote&quot;&gt;&quot;Bar&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).symbols(&lt;span class=&quot;code-quote&quot;&gt;&quot;x&quot;&lt;/span&gt;).noDefault()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field2&quot;&lt;/span&gt;).type().record(&lt;span class=&quot;code-quote&quot;&gt;&quot;Humbug&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).fields().endRecord().noDefault()
               .endRecord();
       schemaString = schema.toString(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
       schema2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.Parser().parse(schemaString);
       Assert.assertEquals(schema,schema2);

       &lt;span class=&quot;code-comment&quot;&gt;// works because the &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; and the field are in different namespaces
&lt;/span&gt;       schema = SchemaBuilder.record(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;).fields()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field1&quot;&lt;/span&gt;).type().enumeration(&lt;span class=&quot;code-quote&quot;&gt;&quot;Bar&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.bar&quot;&lt;/span&gt;).symbols(&lt;span class=&quot;code-quote&quot;&gt;&quot;x&quot;&lt;/span&gt;).noDefault()
               .name(&lt;span class=&quot;code-quote&quot;&gt;&quot;field2&quot;&lt;/span&gt;).type().record(&lt;span class=&quot;code-quote&quot;&gt;&quot;Humbug&quot;&lt;/span&gt;).namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo&quot;&lt;/span&gt;).fields().endRecord().noDefault()
               .endRecord();
       schemaString = schema.toString(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
       schema2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.Parser().parse(schemaString);
       Assert.assertEquals(schema,schema2);
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12669144">AVRO-1377</key>
            <summary>Fields with certained name-spaced schemas (enum, union) inside an un-name-spaced record schema can cause the schema to be serialized incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="graham.sanderson">graham sanderson</assignee>
                                    <reporter username="graham sanderson">graham sanderson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 22:23:16 +0000</created>
                <updated>Thu, 23 Jan 2014 21:58:57 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 20:14:05 +0000</resolved>
                                    <version>1.7.5</version>
                                    <fixVersion>1.7.6</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13770078" author="graham sanderson" created="Tue, 17 Sep 2013 22:24:05 +0000"  >&lt;p&gt;Repsonse from Doug:&lt;/p&gt;

&lt;p&gt;Graham,&lt;/p&gt;

&lt;p&gt;This does indeed look like a bug that affects printing of both enum&lt;br/&gt;
and fixed schemas that have a namespace when nested within a record&lt;br/&gt;
with no namespace.  The fix seems as simple as the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- Schema.java (revision 1522738)
+++ Schema.java (working copy)
@@ -458,8 +458,6 @@
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (space != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!space.equals(names.space()))
          gen.writeStringField(&lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt;, space);
-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (names.space() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; namespace
&lt;/span&gt;-          names.space(space);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (names.space() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {         &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; within non-&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;        gen.writeStringField(&lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt;, &quot;&quot;);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please file an issue in Jira.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Doug&lt;/p&gt;</comment>
                            <comment id="13774268" author="graham sanderson" created="Mon, 23 Sep 2013 03:26:04 +0000"  >&lt;p&gt;Patch with Doug&apos;s suggested fix, and test case to repro the original problem in the style (and place) that seemed to match the other tests&lt;/p&gt;</comment>
                            <comment id="13780324" author="jira-bot" created="Fri, 27 Sep 2013 20:12:55 +0000"  >&lt;p&gt;Commit 1527057 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1527057&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1527057&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1377&quot; title=&quot;Fields with certained name-spaced schemas (enum, union) inside an un-name-spaced record schema can cause the schema to be serialized incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1377&quot;&gt;&lt;del&gt;AVRO-1377&lt;/del&gt;&lt;/a&gt;. Java: Fix a bug in Schema#toString() when a namespaced enum or fixed is defined within an un-namespaced record.  Contributed by Graham Sanderson.&lt;/p&gt;</comment>
                            <comment id="13780325" author="cutting" created="Fri, 27 Sep 2013 20:14:05 +0000"  >&lt;p&gt;I committed this.  Thanks, Graham!&lt;/p&gt;</comment>
                            <comment id="13780401" author="hudson" created="Fri, 27 Sep 2013 21:08:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #398 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/398/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/398/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1377&quot; title=&quot;Fields with certained name-spaced schemas (enum, union) inside an un-name-spaced record schema can cause the schema to be serialized incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1377&quot;&gt;&lt;del&gt;AVRO-1377&lt;/del&gt;&lt;/a&gt;. Java: Fix a bug in Schema#toString() when a namespaced enum or fixed is defined within an un-namespaced record.  Contributed by Graham Sanderson. (cutting: rev 1527057)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/avro/src/main/java/org/apache/avro/Schema.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/ipc/src/test/java/org/apache/avro/TestSchema.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604513" name="AVRO-1377.patch" size="2360" author="graham sanderson" created="Mon, 23 Sep 2013 03:26:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Sep 2013 20:12:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o6vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
