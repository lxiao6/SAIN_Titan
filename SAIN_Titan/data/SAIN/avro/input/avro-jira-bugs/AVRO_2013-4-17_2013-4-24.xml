<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:18:35 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2013-4-17+AND+created+%3C%3D+2013-4-24+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="11" total="11"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1299] SpecificRecordBase implements GenericRecord</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1299</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Code written for generic records should be directly applicable on equivalent specific records.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12642858">AVRO-1299</key>
            <summary>SpecificRecordBase implements GenericRecord</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kryzthov">Christophe Taton</assignee>
                                    <reporter username="kryzthov">Christophe Taton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Apr 2013 05:20:43 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:09 +0000</updated>
                            <resolved>Tue, 23 Apr 2013 17:11:53 +0000</resolved>
                                    <version>1.7.4</version>
                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13633800" author="kryzthov" created="Wed, 17 Apr 2013 05:25:21 +0000"  >&lt;p&gt;This patch updates SpecificRecordBase to implement GenericRecord.&lt;/p&gt;</comment>
                            <comment id="13634199" author="cutting" created="Wed, 17 Apr 2013 16:55:00 +0000"  >&lt;p&gt;Patch looks good but also includes changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1295&quot; title=&quot;null namespace within non-null is not print/parse consistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1295&quot;&gt;&lt;del&gt;AVRO-1295&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13634209" author="kryzthov" created="Wed, 17 Apr 2013 17:11:58 +0000"  >&lt;p&gt;Sorry for that, here is an updated diff against the latest trunk.&lt;/p&gt;</comment>
                            <comment id="13635157" author="cutting" created="Thu, 18 Apr 2013 13:35:00 +0000"  >&lt;p&gt;+1 This looks good to me.  I&apos;ll commit it soon unless there are objections.&lt;/p&gt;</comment>
                            <comment id="13635629" author="scott_carey" created="Thu, 18 Apr 2013 20:18:22 +0000"  >&lt;p&gt;I&apos;m uncomfortable with the mutator here. (put)  This may make immutable records impossible in the future.  Currently the only mutators are generated from the template, can these be optional from the compile template as well?  Or can we break up the generic record interface into read/write bits and only expose the accessor by default?&lt;/p&gt;</comment>
                            <comment id="13635640" author="kryzthov" created="Thu, 18 Apr 2013 20:24:45 +0000"  >&lt;p&gt;We can disable the put() here (ie. let it throw a runtime exception).&lt;br/&gt;
Should the same treatment happen with IndexedRecord.put() implemented by SpecificRecordBase then?&lt;/p&gt;</comment>
                            <comment id="13635652" author="kryzthov" created="Thu, 18 Apr 2013 20:30:51 +0000"  >&lt;p&gt;My previous question is actually irrelevant at this point. Is there documentation or a plan sketched as to how to bring immutable records?&lt;br/&gt;
What&apos;s the timeline to remove setters?&lt;/p&gt;</comment>
                            <comment id="13635666" author="kryzthov" created="Thu, 18 Apr 2013 20:41:25 +0000"  >&lt;p&gt;Here is a patch in which put() is not supported (throws an AvroRuntimeException).&lt;/p&gt;

&lt;p&gt;We can also explore splitting the GenericRecord interface into getter and setter interfaces.&lt;/p&gt;</comment>
                            <comment id="13635677" author="scott_carey" created="Thu, 18 Apr 2013 20:51:14 +0000"  >&lt;p&gt;I suppose IndexedRecord exists, and this is no different.&lt;/p&gt;

&lt;p&gt;The work required for immutable records is some cleanup and performance improvement to the builders (e.g. remove unnecessary boxing), then those need to be used by the DatumReader classes.&lt;/p&gt;

&lt;p&gt;There is no timeline, but I want to make sure we avoid making things harder in the future if we can and consider our options.&lt;/p&gt;</comment>
                            <comment id="13638384" author="cutting" created="Mon, 22 Apr 2013 20:05:19 +0000"  >&lt;p&gt;I don&apos;t yet see how implementing set() in SpecificRecordBase now makes implementing immutable records impossible in the future.  If this is called on an immutable record then it should throw an exception, but not on a mutable record.  What am I missing?&lt;/p&gt;</comment>
                            <comment id="13638455" author="scott_carey" created="Mon, 22 Apr 2013 21:35:01 +0000"  >&lt;p&gt;I guess only my sense of purity &amp;#8211; an Immutable object that throws an exception on set feels very dirty and a violation of the contract.  At this point, we already have a put() via IndexedRecord interface so I don&apos;t see any harm in this.&lt;/p&gt;
</comment>
                            <comment id="13638484" author="cutting" created="Mon, 22 Apr 2013 21:59:32 +0000"  >&lt;p&gt;I think we agree.  If we want to improve things for immutability then we might refactor the interfaces, but throwing an exception for mutable records seems like it accomplishes little.  So my vote is for the 101039 version of the patch.&lt;/p&gt;</comment>
                            <comment id="13638491" author="scott_carey" created="Mon, 22 Apr 2013 22:09:26 +0000"  >&lt;p&gt;I agree, 101039 seems best.  If we didn&apos;t already have IndexedRecord.put(), I might want to split the interfaces up now, but there is no reason to roll that in in this JIRA as is.&lt;/p&gt;

&lt;p&gt;Thanks Christophe!&lt;/p&gt;


&lt;p&gt;Note &amp;#8211; it will probably be slower to serialize a SpecificRecord via its GenericRecord interface, but probably only a little since there is quite a bit of overhead in both at the moment anyway.&lt;/p&gt;</comment>
                            <comment id="13639253" author="cutting" created="Tue, 23 Apr 2013 17:11:53 +0000"  >&lt;p&gt;I committed this.  Thanks, Christophe!&lt;/p&gt;</comment>
                            <comment id="13639878" author="hudson" created="Wed, 24 Apr 2013 00:11:04 +0000"  >&lt;p&gt;Integrated in AvroJava #364 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/364/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/364/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1299&quot; title=&quot;SpecificRecordBase implements GenericRecord&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1299&quot;&gt;&lt;del&gt;AVRO-1299&lt;/del&gt;&lt;/a&gt;. Java: SpecificRecordBase implements GenericRecord.  Contributed by Christophe Taton. (Revision 1471047)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cutting : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/avro/src/main/java/org/apache/avro/specific/SpecificRecordBase.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/avro/src/test/java/org/apache/avro/specific/TestSpecificData.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579094" name="AVRO-1299.20130416-222225.patch" size="5922" author="kryzthov" created="Wed, 17 Apr 2013 05:25:21 +0000"/>
                            <attachment id="12579154" name="AVRO-1299.20130417-101039.patch" size="3482" author="kryzthov" created="Wed, 17 Apr 2013 17:11:58 +0000"/>
                            <attachment id="12579414" name="AVRO-1299.20130418-133947.patch" size="3849" author="kryzthov" created="Thu, 18 Apr 2013 20:41:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Apr 2013 16:55:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jrwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1300] Copy-constructor for specific record builders: Builder(Builder other) does not copy the fields from builder &quot;other&quot;</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1300</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Here is a test that fails:&lt;/p&gt;

&lt;p&gt;  @Test&lt;br/&gt;
  public void test() &lt;/p&gt;
{
    final Player.Builder builder = Player.newBuilder()
        .setFirstName(&quot;FirstName&quot;);
    final Player.Builder other = Player.newBuilder(builder);
    Assert.assertEquals(&quot;FirstName&quot;, other.getFirstName());
  }

&lt;p&gt;The generated code looks like:&lt;/p&gt;

&lt;p&gt;  /** Creates a new Player RecordBuilder by copying an existing Builder */&lt;br/&gt;
  public static avro.examples.baseball.Player.Builder newBuilder(avro.examples.baseball.Player.Builder other) &lt;/p&gt;
{
    return new avro.examples.baseball.Player.Builder(other);
  }

&lt;p&gt;  /** Creates a Builder by copying an existing Builder */&lt;br/&gt;
  private Builder(avro.examples.baseball.Player.Builder other) &lt;/p&gt;
{
    super(other);  // calls SpecificRecordBuilderBase(SpecificRecordBuilderBase&amp;lt;T&amp;gt; other)
  }</description>
                <environment></environment>
        <key id="12643137">AVRO-1300</key>
            <summary>Copy-constructor for specific record builders: Builder(Builder other) does not copy the fields from builder &quot;other&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kryzthov">Christophe Taton</assignee>
                                    <reporter username="kryzthov">Christophe Taton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2013 06:31:26 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:05 +0000</updated>
                            <resolved>Mon, 22 Apr 2013 19:51:57 +0000</resolved>
                                    <version>1.7.5</version>
                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13635402" author="kryzthov" created="Thu, 18 Apr 2013 17:42:00 +0000"  >&lt;p&gt;Here is a patch that implements the copy-constructor for the specific builders.&lt;/p&gt;</comment>
                            <comment id="13635609" author="cutting" created="Thu, 18 Apr 2013 20:03:58 +0000"  >&lt;p&gt;+1 This looks good.  I&apos;ll commit it soon unless someone objects.&lt;/p&gt;</comment>
                            <comment id="13638375" author="cutting" created="Mon, 22 Apr 2013 19:51:57 +0000"  >&lt;p&gt;I committed this.  Thanks, Christophe!&lt;/p&gt;</comment>
                            <comment id="13638735" author="hudson" created="Tue, 23 Apr 2013 02:47:19 +0000"  >&lt;p&gt;Integrated in AvroJava #363 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/363/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/363/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1300&quot; title=&quot;Copy-constructor for specific record builders: Builder(Builder other) does not copy the fields from builder &amp;quot;other&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1300&quot;&gt;&lt;del&gt;AVRO-1300&lt;/del&gt;&lt;/a&gt;. Java: Fix generated copy constructors to copy field values.  Contributed by taton. (Revision 1470682)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cutting : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/compiler/src/main/velocity/org/apache/avro/compiler/specific/templates/java/classic/record.vm&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/test/compiler/output-string/avro/examples/baseball/Player.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/test/compiler/output/Player.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579376" name="AVRO-1300.20130418-104121.patch" size="4053" author="kryzthov" created="Thu, 18 Apr 2013 17:42:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Apr 2013 20:03:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jtlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323892</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1301] Implement GenericData$Array$Iterator.remove()</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1301</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;GenericData.Array&apos;s iterator currently doesn&apos;t implement remove().&lt;/p&gt;

&lt;p&gt;The implementation is simple and makes the behaviour more consistent if you&apos;re working on an object that may or may not have been serialised.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643257">AVRO-1301</key>
            <summary>Implement GenericData$Array$Iterator.remove()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chrisporter">Chris Porter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2013 15:40:14 +0000</created>
                <updated>Tue, 6 May 2014 14:09:18 +0000</updated>
                                                                            <component>java</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13635254" author="chrisporter" created="Thu, 18 Apr 2013 15:41:14 +0000"  >&lt;p&gt;Patch implementing behaviour.&lt;/p&gt;</comment>
                            <comment id="13990666" author="herko_ter_horst" created="Tue, 6 May 2014 14:09:18 +0000"  >&lt;p&gt;The effect of this omission is compounded by the fact that GenericData$Array inherits both remove(Object e) and removeAll(Collection) from AbstractCollection, which uses the iterator to remove items... As such, removing items from such an array throws an UnsupportedOperationException.&lt;/p&gt;

&lt;p&gt;This is a problem in our use case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579343" name="AVRO-1303.patch" size="4189" author="chrisporter" created="Thu, 18 Apr 2013 15:41:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 May 2014 14:09:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jucf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1302] Files written via Python and Avro 1.7.4 on Windows can&apos;t be read using Java program</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1302</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;I&apos;m not sure if this is a Python issue, Avro issue or Windows issue.  However, if create an Avro file on Windows using Python 2.7.4 and Avro 1.7.4.  Then try to read it with a java program, it fails with:&lt;/p&gt;


&lt;p&gt;Successfully opened the Python avro file now I&apos;m going to attempt to read from it&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.avro.AvroRuntimeException: java.io.IOException: Invalid sync!&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.hasNext(DataFileStream.java:210)&lt;br/&gt;
	at JavaPythonAvroExample.main(JavaPythonAvroExample.java:27)&lt;br/&gt;
Caused by: java.io.IOException: Invalid sync!&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.nextRawBlock(DataFileStream.java:293)&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.hasNext(DataFileStream.java:198)&lt;br/&gt;
	... 1 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643276">AVRO-1302</key>
            <summary>Files written via Python and Avro 1.7.4 on Windows can&apos;t be read using Java program</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="cconner">Christopher Conner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2013 17:01:56 +0000</created>
                <updated>Mon, 1 Feb 2016 14:55:48 +0000</updated>
                            <resolved>Thu, 6 Nov 2014 23:18:30 +0000</resolved>
                                    <version>1.7.4</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>doc</component>
                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14170939" author="lars_francke" created="Tue, 14 Oct 2014 13:52:47 +0000"  >&lt;p&gt;We are facing the same problem.&lt;/p&gt;

&lt;p&gt;I tried to build an Avro file with just one block/record and checked the resulting file. The header looks correct and the sync marker exists at the end of the block/file as well so that is all correct. Some other internal boundary/length thing must be wrong. For us we were trying to write a byte array in Python and that&apos;d cause the error. If we leave out the byte array everything works.&lt;/p&gt;</comment>
                            <comment id="14172632" author="lars_francke" created="Wed, 15 Oct 2014 17:26:01 +0000"  >&lt;p&gt;It took a day of debugging but we found the solution for our problem.&lt;/p&gt;

&lt;p&gt;It is caused by recklessly copying and pasting the example code from the Documentation. This code opens files using the &lt;tt&gt;w&lt;/tt&gt; and &lt;tt&gt;r&lt;/tt&gt; modes respectively. These modes replace newline characters with their platform-specific representations. On Windows &lt;tt&gt;\n&lt;/tt&gt; is being replaced by &lt;tt&gt;\r\n&lt;/tt&gt;. That obviously corrupts the data.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a patch that fixes the documentation to always use binary mode (&lt;tt&gt;wb&lt;/tt&gt; and &lt;tt&gt;rb&lt;/tt&gt;) and added a note that explains the importance of these.&lt;/p&gt;</comment>
                            <comment id="14173375" author="busbey" created="Thu, 16 Oct 2014 05:04:01 +0000"  >&lt;p&gt;+1 LGTM. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cconner&quot; class=&quot;user-hover&quot; rel=&quot;cconner&quot;&gt;Christopher Conner&lt;/a&gt; are you still watching this ticket? If so, can you check to see if htis fixes things for you as well?&lt;/p&gt;</comment>
                            <comment id="14173452" author="lars_francke" created="Thu, 16 Oct 2014 06:56:57 +0000"  >&lt;p&gt;Thanks Sean. And sorry Christopher for hijacking your issue. I can also create a new one if you think that&apos;s better. It just felt very much like this would be caused by the same issue.&lt;/p&gt;</comment>
                            <comment id="14173700" author="busbey" created="Thu, 16 Oct 2014 12:46:19 +0000"  >&lt;p&gt;No need to apologize! I don&apos;t think Christopher had a root cause for their problem and your reasoning looks sound.&lt;/p&gt;</comment>
                            <comment id="14198035" author="lars_francke" created="Wed, 5 Nov 2014 09:49:23 +0000"  >&lt;p&gt;You think this is good to commit? Doesn&apos;t look like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cconner&quot; class=&quot;user-hover&quot; rel=&quot;cconner&quot;&gt;Christopher Conner&lt;/a&gt; is still following the issue.&lt;/p&gt;</comment>
                            <comment id="14198442" author="busbey" created="Wed, 5 Nov 2014 14:42:53 +0000"  >&lt;p&gt;yeah, patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="14201173" author="jira-bot" created="Thu, 6 Nov 2014 23:18:11 +0000"  >&lt;p&gt;Commit 1637264 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1637264&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1637264&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1302&quot; title=&quot;Files written via Python and Avro 1.7.4 on Windows can&amp;#39;t be read using Java program&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1302&quot;&gt;&lt;del&gt;AVRO-1302&lt;/del&gt;&lt;/a&gt;. Python: Update documentation to open files as binary to prevent EOL substitution.  Contributed by Lars Francke.&lt;/p&gt;</comment>
                            <comment id="14201177" author="cutting" created="Thu, 6 Nov 2014 23:18:30 +0000"  >&lt;p&gt;I committed this.  Thanks, Lars!&lt;/p&gt;</comment>
                            <comment id="14201212" author="hudson" created="Thu, 6 Nov 2014 23:36:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #494 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/494/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/494/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1302&quot; title=&quot;Files written via Python and Avro 1.7.4 on Windows can&amp;#39;t be read using Java program&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1302&quot;&gt;&lt;del&gt;AVRO-1302&lt;/del&gt;&lt;/a&gt;. Python: Update documentation to open files as binary to prevent EOL substitution.  Contributed by Lars Francke. (cutting: rev 1637264)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/doc/src/content/xdocs/gettingstartedpython.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12675055" name="AVRO-1302.1.patch" size="2618" author="lars_francke" created="Wed, 15 Oct 2014 17:26:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Oct 2014 13:52:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jugn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1303] Python avro library does not support aliasing for schema evolution</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1303</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;as discussed &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/avro-user/201304.mbox/%3CCALEq1Z-ncmjLjvCCLeEgm%2BQvMmPAg5%2B0pVW%3De1N-%3DxtQcMApPw%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;on the mailing list&lt;/a&gt;, the Python &lt;tt&gt;avro&lt;/tt&gt; libraries don&apos;t support aliases.  (the string &lt;tt&gt;alias&lt;/tt&gt; is found nowhere in the Python source code.&lt;/p&gt;

&lt;p&gt;We should update the Python library to accept aliases in matching schemas for:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;field names&lt;/li&gt;
	&lt;li&gt;named types&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12643671">AVRO-1303</key>
            <summary>Python avro library does not support aliasing for schema evolution</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="trochee">Jeremy Kahn</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Apr 2013 20:08:22 +0000</created>
                <updated>Thu, 27 Feb 2014 18:44:20 +0000</updated>
                                            <version>1.7.4</version>
                                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jwmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1304] Python Avro match_schemas called redundantly</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1304</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;DatumReader.match_schemas(writers_schema, readers_schema) is called on every single read from the DatumReader.  However, for almost every read, the schemas used are the object members self.writers_schema and self.readers_schema.  match_schemas should be checked only once in this case, and only when the object members are modified.  This takes up 20% of my parse time upon profiling.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643748">AVRO-1304</key>
            <summary>Python Avro match_schemas called redundantly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="laserson">Uri Laserson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Apr 2013 00:26:33 +0000</created>
                <updated>Tue, 23 Apr 2013 20:18:54 +0000</updated>
                                            <version>1.7.4</version>
                                                    <component>python</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13637061" author="trochee" created="Sat, 20 Apr 2013 01:02:54 +0000"  >&lt;p&gt;This would be super useful to fix. Do you have a patch prepared?&lt;/p&gt;</comment>
                            <comment id="13637068" author="laserson" created="Sat, 20 Apr 2013 01:37:22 +0000"  >&lt;p&gt;Working on it. Trying to keep it backwards compatible us trickier than I expected.&lt;/p&gt;</comment>
                            <comment id="13638198" author="trochee" created="Mon, 22 Apr 2013 17:32:16 +0000"  >&lt;p&gt;Uri, what strategy are you using to try to fix this? Could we memoize the partner schema to short-circuit out of match_schemas (trading a small amount of memory for speed)?&lt;/p&gt;

&lt;p&gt;I&apos;m eager to improve the speed of the Python library, and a 20% speedup could shave days off my team&apos;s product delivery.&lt;/p&gt;

&lt;p&gt;Contact me offline (jeremy@trochee.net) if you&apos;d like to share your profiling setup (I can try to implement related speedups).  &lt;/p&gt;</comment>
                            <comment id="13639562" author="laserson" created="Tue, 23 Apr 2013 20:13:59 +0000"  >&lt;p&gt;DatumReader now immutable.  Changes interface just slightly.  Can&apos;t instantiate DatumReader().  Must give it schema.  (It doesn&apos;t make sense for it to have no schema.)  DataFileReader now instantiates a DatumReader internally if it should pick up the schema from the file, so it is not necessary to provide one.&lt;/p&gt;</comment>
                            <comment id="13639566" author="laserson" created="Tue, 23 Apr 2013 20:15:48 +0000"  >&lt;p&gt;In principle the similar changes can be made to the Writer classes as well.  This patch gives me a 10% performance improvement.  I updated the docs as well.&lt;/p&gt;</comment>
                            <comment id="13639572" author="laserson" created="Tue, 23 Apr 2013 20:18:54 +0000"  >&lt;p&gt;Jeremy: I made the DatumReader immutable and then memoized the match_schemas fn.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580120" name="AVRO-1304.patch" size="29094" author="laserson" created="Tue, 23 Apr 2013 20:14:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Apr 2013 01:02:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jx3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1305] BinaryDecoder is bottleneck for python avro deserialization</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1305</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The BinaryDecoder deserialization is performing things like bit manipulation in pure python that would be much faster pushed to C.  Probably a good place to implement in Cython.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643749">AVRO-1305</key>
            <summary>BinaryDecoder is bottleneck for python avro deserialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="laserson">Uri Laserson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Apr 2013 00:30:17 +0000</created>
                <updated>Sat, 20 Apr 2013 00:30:17 +0000</updated>
                                                                            <component>python</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jx47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1306] Clarify documentation for hadoop input-avro output-non-avro instructions</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1306</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The documentation for hadoop usage (input avro, output non-avro) is misleading, as the Reducer is likely not usable as a combiner.  Attached patch clarifies documentation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643853">AVRO-1306</key>
            <summary>Clarify documentation for hadoop input-avro output-non-avro instructions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="minaguib">Mina Naguib</assignee>
                                    <reporter username="minaguib">Mina Naguib</reporter>
                        <labels>
                            <label>documentation</label>
                            <label>patch</label>
                    </labels>
                <created>Sun, 21 Apr 2013 23:36:27 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:08 +0000</updated>
                            <resolved>Thu, 25 Apr 2013 13:51:50 +0000</resolved>
                                    <version>1.7.5</version>
                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13638069" author="martinkl" created="Mon, 22 Apr 2013 15:00:41 +0000"  >&lt;p&gt;This looks good to me. I&apos;ll commit it soon if there are no objections.&lt;/p&gt;</comment>
                            <comment id="13638274" author="cutting" created="Mon, 22 Apr 2013 18:24:38 +0000"  >&lt;p&gt;We might instead consider this a bug, and fix it in the code rather than the documentation.  The intent is that an AvroReducer could be used as a combiner.  TestWordCount.java specifies an AvroReducer as a Combiner.  Perhaps it&apos;s never used as such?  I note that TestReflectJob.java has a similar line commented out, perhaps masking this bug.&lt;/p&gt;

&lt;p&gt;Would fixing this be an incompatible change?  If so, would it be worth it?&lt;/p&gt;</comment>
                            <comment id="13638360" author="minaguib" created="Mon, 22 Apr 2013 19:33:46 +0000"  >&lt;p&gt;Hi Doug&lt;/p&gt;

&lt;p&gt;I don&apos;t think AvroReducer is involved here.  The patch is for the section of the doc titled:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;For jobs whose input is an Avro data file and which use an AvroMapper, but whose reducer is a non-Avro Reducer and whose output is a non-Avro format
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case, I had an AvroMapper, and a vanilla hadoop reducer (input AvroKey/AvroValue, output Text/IntWritable).  Since the output is not AvroKey/AvroValue, it&apos;s not suitable for being used as a combiner, as it&apos;s output can&apos;t be re-fed into its input.&lt;/p&gt;</comment>
                            <comment id="13640316" author="martinkl" created="Wed, 24 Apr 2013 10:27:36 +0000"  >&lt;p&gt;I agree with Mina. I don&apos;t think it&apos;s possible for reducer and combiner to be the same class in this case, because the reducer&apos;s output is non-Avro. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; any further thoughts?&lt;/p&gt;</comment>
                            <comment id="13640582" author="cutting" created="Wed, 24 Apr 2013 16:05:38 +0000"  >&lt;p&gt;Sorry, I misread.  Thanks for explaining.  +1 for the patch.&lt;/p&gt;</comment>
                            <comment id="13641802" author="martinkl" created="Thu, 25 Apr 2013 13:51:50 +0000"  >&lt;p&gt;I committed this (r1475773). Thanks, Mina!&lt;/p&gt;</comment>
                            <comment id="13642515" author="hudson" created="Fri, 26 Apr 2013 02:04:16 +0000"  >&lt;p&gt;Integrated in AvroJava #365 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/365/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/365/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1306&quot; title=&quot;Clarify documentation for hadoop input-avro output-non-avro instructions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1306&quot;&gt;&lt;del&gt;AVRO-1306&lt;/del&gt;&lt;/a&gt;. Java mapred: Fix incorrect documentation for combiners.  Contributed by Mina Naguib. (Revision 1475773)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
martinkl : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/mapred/package.html&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579763" name="input_avro_output_nonavro_doc_update.diff" size="1541" author="minaguib" created="Sun, 21 Apr 2013 23:37:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Apr 2013 15:00:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jxrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hadoop, avro, combiner</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1307] Add an avro-tool to extract samples from avro files</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1307</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;It would be nice to have an avro-tool that picks only some records from avro files.&lt;/p&gt;

&lt;p&gt;I implemented a new avro-tool cat, which takes a list of avro files with identical schemas and concatenates them into a single file, with options to discard the first n records, to limit the output size and to collect records at a certain samplerate.&lt;/p&gt;

&lt;p&gt;This tool allows a quicker peek into large avro files, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar avro-tools.jar cat input.avro output.avro --offset 50 --limit 10
# creates output.avro that contains records
# 51 to 60 from input.avro.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar avro-tools.jar cat input.avro output.avro --offset 1000 --limit 100 --samplerate .01
# samples every hundredth record from input,
# beginning at the 1000th record and limiting
# the output to 100 records. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The tool allows multiple input files or folders, in which case all files inside the folder will be used for input.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar avro-tools.jar cat data_folder output.avro --samplerate .01
# reads all the files from the data folder and
# writes every 100th record into the output file.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This tool uses the hadoop FileSystem api to handle files from any supported filesystem.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java&lt;/p&gt;</environment>
        <key id="12643957">AVRO-1307</key>
            <summary>Add an avro-tool to extract samples from avro files</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vince83">Vincenz Priesnitz</assignee>
                                    <reporter username="vince83">Vincenz Priesnitz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 16:34:35 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:07 +0000</updated>
                            <resolved>Fri, 26 Apr 2013 22:12:47 +0000</resolved>
                                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13638503" author="cutting" created="Mon, 22 Apr 2013 22:17:35 +0000"  >&lt;p&gt;This looks great!&lt;/p&gt;

&lt;p&gt;I can think of possible extensions &amp;amp; improvements (random sampling, optimized block skipping, schema projection, etc.) but those can all be added later.&lt;/p&gt;

&lt;p&gt;We should however add a test before this is committed.&lt;/p&gt;</comment>
                            <comment id="13640244" author="vince83" created="Wed, 24 Apr 2013 08:42:05 +0000"  >&lt;p&gt;I added a Junit test that tests reading file input, reading directory input, reading incompatible input schemas, offset accuracy and  offsets/samplerates that jump beyond EOF.&lt;/p&gt;

&lt;p&gt;I also shifted the file opening and closing process to the Util class. I therefore added a method to Util, that takes a List of filenames and returns a list of corresponding hadoop Pathes for those which are indeed files and for those which are directories it returns Pathes to all the files inside of them.  &lt;br/&gt;
I think this might be a useful method, since mapreduce task often create folders of avro files with matching schema.&lt;/p&gt;

</comment>
                            <comment id="13640737" author="cutting" created="Wed, 24 Apr 2013 18:08:40 +0000"  >&lt;p&gt;I don&apos;t see the test in the new patch.  Did you perhaps forget to &apos;svn add&apos; the new file?&lt;/p&gt;</comment>
                            <comment id="13641707" author="vince83" created="Thu, 25 Apr 2013 12:05:22 +0000"  >&lt;p&gt;I added the Junit tests.&lt;/p&gt;</comment>
                            <comment id="13642410" author="cutting" created="Fri, 26 Apr 2013 00:13:09 +0000"  >&lt;p&gt;Vincenz, this looks great.  I&apos;ll commit this soon unless someone objects.&lt;/p&gt;</comment>
                            <comment id="13643293" author="cutting" created="Fri, 26 Apr 2013 22:12:47 +0000"  >&lt;p&gt;I committed this.  Thanks, Vincenz!&lt;/p&gt;</comment>
                            <comment id="13643547" author="hudson" created="Sat, 27 Apr 2013 05:54:05 +0000"  >&lt;p&gt;Integrated in AvroJava #366 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/366/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/366/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1307&quot; title=&quot;Add an avro-tool to extract samples from avro files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1307&quot;&gt;&lt;del&gt;AVRO-1307&lt;/del&gt;&lt;/a&gt;. Java: Add &apos;cat&apos; tool to append and sample data files.  Contributed by Vincenz Priesnitz. (Revision 1476418)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cutting : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/main/java/org/apache/avro/tool/CatTool.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/main/java/org/apache/avro/tool/Main.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/main/java/org/apache/avro/tool/Util.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/tools/src/test/java/org/apache/avro/tool/TestCatTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580522" name="AVRO-1307-addedUnitTests-fixed.patch" size="24096" author="vince83" created="Thu, 25 Apr 2013 12:05:22 +0000"/>
                            <attachment id="12579848" name="AVRO-1307.patch" size="8797" author="vince83" created="Mon, 22 Apr 2013 16:36:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Apr 2013 22:17:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jyef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>new avro-tool cat that picks only some records from avro files</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1308] Don&apos;t call hasField on a repeated message</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1308</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;If the hasField method of a Message object is called with an argument that is a repeatable field, an exception is thrown. The ProtobufData getField method does not check to see if a field is repeatable before calling hasField.&lt;/p&gt;

&lt;p&gt;protobuf hasField Java doc:&lt;br/&gt;
&lt;a href=&quot;https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/MessageOrBuilder#hasField(com.google.protobuf.Descriptors.FieldDescriptor&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/MessageOrBuilder#hasField(com.google.protobuf.Descriptors.FieldDescriptor&lt;/a&gt;)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12643960">AVRO-1308</key>
            <summary>Don&apos;t call hasField on a repeated message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szesch">Steve Zesch</assignee>
                                    <reporter username="szesch">Steve Zesch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 16:42:04 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:08 +0000</updated>
                            <resolved>Tue, 23 Apr 2013 20:17:04 +0000</resolved>
                                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13638157" author="szesch" created="Mon, 22 Apr 2013 16:47:17 +0000"  >&lt;p&gt;Check to see if a field is repeated.&lt;/p&gt;</comment>
                            <comment id="13638284" author="cutting" created="Mon, 22 Apr 2013 18:30:26 +0000"  >&lt;p&gt;The fix looks good.  We should also add something to test.proto that triggers this bug, no?&lt;/p&gt;</comment>
                            <comment id="13639276" author="szesch" created="Tue, 23 Apr 2013 17:31:34 +0000"  >&lt;p&gt;Updated &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1308&quot; title=&quot;Don&amp;#39;t call hasField on a repeated message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1308&quot;&gt;&lt;del&gt;AVRO-1308&lt;/del&gt;&lt;/a&gt;.patch.&lt;/p&gt;

&lt;p&gt;I&apos;ve changed test.proto and TestProtobuf.java to expose the bug. I&apos;ve also regenerated Test.java&lt;/p&gt;

&lt;p&gt;When testing the original &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1308&quot; title=&quot;Don&amp;#39;t call hasField on a repeated message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1308&quot;&gt;&lt;del&gt;AVRO-1308&lt;/del&gt;&lt;/a&gt;.patch after bug 1309 was resolved, I encountered an issue. A repeated field with a count of 0 should return an empty list instead of null. Returning null results in a NullPointerException being thrown. This fix is included in the updated patch.&lt;/p&gt;</comment>
                            <comment id="13639422" author="cutting" created="Tue, 23 Apr 2013 19:00:51 +0000"  >&lt;p&gt;Here&apos;s a version of the patch that also fixes things for repeated enum fields.  Does this work for you?&lt;/p&gt;</comment>
                            <comment id="13639475" author="szesch" created="Tue, 23 Apr 2013 19:39:47 +0000"  >&lt;p&gt;Yes this works.&lt;/p&gt;</comment>
                            <comment id="13639569" author="cutting" created="Tue, 23 Apr 2013 20:17:04 +0000"  >&lt;p&gt;I committed this.&lt;/p&gt;</comment>
                            <comment id="13639876" author="hudson" created="Wed, 24 Apr 2013 00:11:03 +0000"  >&lt;p&gt;Integrated in AvroJava #364 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/364/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/364/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1308&quot; title=&quot;Don&amp;#39;t call hasField on a repeated message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1308&quot;&gt;&lt;del&gt;AVRO-1308&lt;/del&gt;&lt;/a&gt;. Java: Fix repeated protobuf messages &amp;amp; enums.  Contributed by Steve Zesch. (Revision 1471128)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cutting : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/main/java/org/apache/avro/protobuf/ProtobufData.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/main/java/org/apache/avro/protobuf/ProtobufDatumReader.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/main/java/org/apache/avro/protobuf/ProtobufDatumWriter.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/java/org/apache/avro/protobuf/Test.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/java/org/apache/avro/protobuf/TestProtobuf.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/protobuf/test.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580100" name="AVRO-1308.patch" size="29614" author="cutting" created="Tue, 23 Apr 2013 19:00:51 +0000"/>
                            <attachment id="12580087" name="AVRO-1308.patch" size="18945" author="szesch" created="Tue, 23 Apr 2013 17:31:34 +0000"/>
                            <attachment id="12579850" name="AVRO-1308.patch" size="677" author="szesch" created="Mon, 22 Apr 2013 16:46:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Apr 2013 18:30:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jyf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1309] ProtobufData does not correctly handle nested enums</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1309</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;When an enum is nested in several messages, a ClassNotFoundException is thrown when calling the DataFileWriter append method. I&apos;ve attached a stack trace.&lt;/p&gt;

&lt;p&gt;The offending line (ProtobufData.java 112):&lt;br/&gt;
Class c = Class.forName(SpecificData.getClassName(s));&lt;/p&gt;

&lt;p&gt;Say we have an enum nested as follows (I&apos;ve left out some syntax):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;message A
  message B
    message C
      &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; D
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected class name: org.foo.bar.A$B$C$D&lt;/p&gt;

&lt;p&gt;Actual class name being returned: org.foo.bar.A$D&lt;/p&gt;

&lt;p&gt;Only the package name, outer class, and enum class name are being taken into consideration. All parent classes besides the outer class are ignored. Nested messages are not afflicted by the same problem because they are resolved recursively.&lt;/p&gt;

&lt;p&gt;Please let me know if you require any more information or if anything is unclear.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643965">AVRO-1309</key>
            <summary>ProtobufData does not correctly handle nested enums</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cutting">Doug Cutting</assignee>
                                    <reporter username="szesch">Steve Zesch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 17:23:50 +0000</created>
                <updated>Tue, 20 Aug 2013 17:46:08 +0000</updated>
                            <resolved>Tue, 23 Apr 2013 17:08:09 +0000</resolved>
                                    <version>1.7.4</version>
                                    <fixVersion>1.7.5</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13638597" author="cutting" created="Tue, 23 Apr 2013 00:08:41 +0000"  >&lt;p&gt;Here&apos;s a patch that should fix this.&lt;/p&gt;

&lt;p&gt;Please let me know if this works for you.&lt;/p&gt;</comment>
                            <comment id="13639136" author="szesch" created="Tue, 23 Apr 2013 15:03:57 +0000"  >&lt;p&gt;This works.&lt;/p&gt;</comment>
                            <comment id="13639251" author="cutting" created="Tue, 23 Apr 2013 17:08:09 +0000"  >&lt;p&gt;I committed this.&lt;/p&gt;</comment>
                            <comment id="13639877" author="hudson" created="Wed, 24 Apr 2013 00:11:04 +0000"  >&lt;p&gt;Integrated in AvroJava #364 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/364/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/364/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1309&quot; title=&quot;ProtobufData does not correctly handle nested enums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1309&quot;&gt;&lt;del&gt;AVRO-1309&lt;/del&gt;&lt;/a&gt;. Java: Fix nested protobuf enums. (Revision 1471043)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cutting : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/main/java/org/apache/avro/protobuf/ProtobufData.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/java/org/apache/avro/protobuf/Test.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/java/org/apache/avro/protobuf/TestProtobuf.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/protobuf/src/test/protobuf/test.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579940" name="AVRO-1309.patch" size="23174" author="cutting" created="Tue, 23 Apr 2013 00:08:41 +0000"/>
                            <attachment id="12579857" name="cnfe_protobuf_stack_trace.txt" size="1950" author="szesch" created="Mon, 22 Apr 2013 17:25:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Apr 2013 00:08:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jyg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
