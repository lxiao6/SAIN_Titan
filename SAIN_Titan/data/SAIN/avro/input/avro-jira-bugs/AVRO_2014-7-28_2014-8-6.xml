<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:20:38 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2014-7-28+AND+created+%3C%3D+2014-8-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="7" total="7"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1553] MapReduce never uses MapOutputValueSchema </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1553</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The OutputValueSchema is always used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730221">AVRO-1553</key>
            <summary>MapReduce never uses MapOutputValueSchema </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tomwhite">Tom White</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jul 2014 14:58:55 +0000</created>
                <updated>Mon, 1 Feb 2016 14:56:05 +0000</updated>
                            <resolved>Tue, 29 Jul 2014 12:50:47 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.7.8</fixVersion>
                    <fixVersion>1.8.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14076276" author="tomwhite" created="Mon, 28 Jul 2014 15:00:56 +0000"  >&lt;p&gt;This is caused by a missing assignment in AvroDatumConverterFactory (introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1356&quot; title=&quot;AvroMultipleOutputs map only jobs do not use NamedOutput schemas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1356&quot;&gt;&lt;del&gt;AVRO-1356&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="14076384" author="tomwhite" created="Mon, 28 Jul 2014 16:58:29 +0000"  >&lt;p&gt;Added a test that fails without the fix.&lt;/p&gt;</comment>
                            <comment id="14076390" author="tomwhite" created="Mon, 28 Jul 2014 16:59:49 +0000"  >&lt;p&gt;No sooner said than done.&lt;/p&gt;</comment>
                            <comment id="14076396" author="cutting" created="Mon, 28 Jul 2014 17:05:31 +0000"  >&lt;p&gt;Patch looks good.  Test fails without patch, succeeds with.  +1&lt;/p&gt;</comment>
                            <comment id="14077672" author="jira-bot" created="Tue, 29 Jul 2014 12:50:37 +0000"  >&lt;p&gt;Commit 1614329 from tomwhite@apache.org in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1614329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1614329&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1553&quot; title=&quot;MapReduce never uses MapOutputValueSchema &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1553&quot;&gt;&lt;del&gt;AVRO-1553&lt;/del&gt;&lt;/a&gt;. Java: MapReduce never uses MapOutputValueSchema.&lt;/p&gt;</comment>
                            <comment id="14077674" author="tomwhite" created="Tue, 29 Jul 2014 12:50:47 +0000"  >&lt;p&gt;I committed this.&lt;/p&gt;</comment>
                            <comment id="14077806" author="hudson" created="Tue, 29 Jul 2014 15:09:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #470 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/470/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/470/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1553&quot; title=&quot;MapReduce never uses MapOutputValueSchema &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1553&quot;&gt;&lt;del&gt;AVRO-1553&lt;/del&gt;&lt;/a&gt;. Java: MapReduce never uses MapOutputValueSchema. (tomwhite: rev 1614329)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/main/java/org/apache/avro/hadoop/io/AvroDatumConverterFactory.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/mapred/src/test/java/org/apache/avro/mapreduce/TestKeyValueInput.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12658172" name="AVRO-1553.patch" size="5074" author="tomwhite" created="Mon, 28 Jul 2014 16:58:29 +0000"/>
                            <attachment id="12658142" name="AVRO-1553.patch" size="1364" author="tomwhite" created="Mon, 28 Jul 2014 15:00:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jul 2014 17:05:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y97b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1554] Avro should have support for common constructs like UUID and Date</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1554</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Consider the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AvroExample
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; [] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
    {
        ReflectData rdata = ReflectData.AllowNull.get();
        Schema schema = rdata.getSchema(Temp.class);
        
        ReflectDatumWriter&amp;lt;Temp&amp;gt; datumWriter = 
               &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ReflectDatumWriter (Temp.class, rdata);
        DataFileWriter&amp;lt;Temp&amp;gt; fileWriter = 
               &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataFileWriter&amp;lt;Temp&amp;gt; (datumWriter);
        ByteArrayOutputStream baos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
        fileWriter.create(schema, baos);
        fileWriter.append(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Temp());
        fileWriter.close();

        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes = baos.toByteArray();
        GenericDatumReader&amp;lt;GenericRecord&amp;gt; datumReader = 
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GenericDatumReader&amp;lt;GenericRecord&amp;gt; ();
        SeekableByteArrayInput avroInputStream = 
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SeekableByteArrayInput(bytes);
        DataFileReader&amp;lt;GenericRecord&amp;gt; fileReader = 
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataFileReader&amp;lt;GenericRecord&amp;gt;(avroInputStream, datumReader);

        schema = fileReader.getSchema();
        GenericRecord record = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        record = fileReader.next(record);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println (record);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println (record.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;));
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Temp
{
    UUID id = UUID.randomUUID();
    Date date = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date();
    BigInteger bi = BigInteger.TEN;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output from this code is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;: {}, &lt;span class=&quot;code-quote&quot;&gt;&quot;date&quot;&lt;/span&gt;: {}, &lt;span class=&quot;code-quote&quot;&gt;&quot;bi&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;10&quot;&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;UUID and Date type fields are very common in Java and can be found a lot in third-party code as well (where it may be difficult to put annotations).&lt;br/&gt;
So Avro should include a default serialization/deserialization support for such fields.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730240">AVRO-1554</key>
            <summary>Avro should have support for common constructs like UUID and Date</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sachingoyal">Sachin Goyal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jul 2014 16:01:21 +0000</created>
                <updated>Fri, 16 Sep 2016 18:31:16 +0000</updated>
                            <resolved>Fri, 16 Sep 2016 18:31:14 +0000</resolved>
                                    <version>1.7.6</version>
                                    <fixVersion>1.8.1</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>9</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14076591" author="sachingoyal" created="Mon, 28 Jul 2014 19:00:28 +0000"  >&lt;p&gt;This could be done in a couple of ways:&lt;/p&gt;

&lt;p&gt;1) Add Date and UUID in Schema.Type (so that there will be DateSchema and UUIDSchema as well) and in Symbol.java as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Symbol DATE = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Symbol.Terminal(&lt;span class=&quot;code-quote&quot;&gt;&quot;date&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Symbol UUID = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Symbol.Terminal(&lt;span class=&quot;code-quote&quot;&gt;&quot;uuid&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) Add support for class-level CustomEncoders in ReflectDatumWriter.java and ReflectDatumReader.java as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ReflectDatumReader.get().addCustomEncoder (UUID.class, org.apache.avro.encoders.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.UUIDAsStringEncoder.class);
ReflectDatumReader.get().addCustomEncoder (Date.class, org.apache.avro.encoders.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.DateAsLongEncoder.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3) Just mark these two as stringable and override ReflectDatumReader as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; newInstanceFromString(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; c, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (c == java.util.UUID.class) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; UUID.fromString(s);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (c == java.util.Date.class) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; DateFormat.parse(s);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.newInstanceFromString(c, s);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;#2 seems to be the most extensible.&lt;br/&gt;
Please vote how we can proceed with this (or if the same can be achieved by some existing method).&lt;/p&gt;</comment>
                            <comment id="14077097" author="cutting" created="Mon, 28 Jul 2014 23:05:15 +0000"  >&lt;p&gt;I agree that 2 seems to be the best approach.&lt;/p&gt;</comment>
                            <comment id="14078198" author="sachingoyal" created="Tue, 29 Jul 2014 19:15:42 +0000"  >&lt;p&gt;Attaching patch for #2 solution above.&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;Summary&lt;/ins&gt;:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;ReflectData has a field &quot;config&quot; of type AvroConfiguration.&lt;/li&gt;
	&lt;li&gt;AvroConfiguration by default stores encodings for UUID and Date.&lt;/li&gt;
	&lt;li&gt;If AvroIgnore is absent on a field, but there is a custom-encoding for its class, that encoding is used for reading/writing that field.&lt;/li&gt;
	&lt;li&gt;A small fix related to UNION type schema for custom-encoding.&lt;/li&gt;
	&lt;li&gt;Test-case included.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Diff created with diff -ru,&lt;br/&gt;
Patch using patch -i &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1554&quot; title=&quot;Avro should have support for common constructs like UUID and Date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1554&quot;&gt;&lt;del&gt;AVRO-1554&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;</comment>
                            <comment id="14078330" author="cutting" created="Tue, 29 Jul 2014 20:50:11 +0000"  >&lt;p&gt;Thanks for contributing this!&lt;/p&gt;

&lt;p&gt;A few comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I am not convinced this is the time and place to add AvroConfiguration.  I&apos;d prefer we just add methods to ReflectData that set &amp;amp; get CustomEncoders for classes.&lt;/li&gt;
	&lt;li&gt;I think we use this mechanism to implement &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1497&quot; title=&quot;Add LogicalType support to Java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1497&quot;&gt;&lt;del&gt;AVRO-1497&lt;/del&gt;&lt;/a&gt;, in particular, to implement a Decimal type as specified in &lt;a href=&quot;http://avro.apache.org/docs/current/spec.html#Decimal&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/docs/current/spec.html#Decimal&lt;/a&gt;, right?&lt;/li&gt;
	&lt;li&gt;I am confused by the handling of custom-encoded unions in the patch.  How can it be correct to discard the index on read?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14078425" author="sachingoyal" created="Tue, 29 Jul 2014 21:40:54 +0000"  >&lt;p&gt;Thank you for reviewing.&lt;/p&gt;

&lt;p&gt;I did think about adding the configuration directly to ReflectData but created a new class AvroConfig to create a more logical space (in my understand I confess) for such options. This class can also serve to populate more configuration in the future. But I am open to purge this class. Please confirm and I will submit another patch.&lt;/p&gt;

&lt;p&gt;The index needs to be discarded so that clients do not handle auto-generated UNION-type schemas. Consider the schema generated for a class having two fields - uuid and date:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{  
   &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Types&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro.reflect&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt;:[  
      {  
         &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;uuid&quot;&lt;/span&gt;,
         &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:[  
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;,
            {  
               &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;,
               &lt;span class=&quot;code-quote&quot;&gt;&quot;CustomEncoding&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;UuidAsStringEncoding&quot;&lt;/span&gt;
            }
         ],
         &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
      }
   ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the user only specified:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{  
     &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;,
     &lt;span class=&quot;code-quote&quot;&gt;&quot;CustomEncoding&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;UuidAsStringEncoding&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as the schema.It turned into a UNION because of ReflectData.AllowNull (or some other things like CircularRef that may be added in future). The index-discarding is required to:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Unwind the parser to the right symbol&lt;/li&gt;
	&lt;li&gt;Get rid of the integer written by resolveIndex while writing.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If the index is not read and discarded, then clients writing custom-encodings will need to handle such auto-generated unions. Please suggest if this can be improved.&lt;/p&gt;</comment>
                            <comment id="14078507" author="sachingoyal" created="Tue, 29 Jul 2014 22:25:19 +0000"  >&lt;p&gt;Correction! The following line above:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Consider the schema generated for a class having two fields - uuid and date:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;should have been:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Consider the schema generated for a class having just one field - uuid:&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14079643" author="sachingoyal" created="Wed, 30 Jul 2014 17:58:33 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I am confused by the handling of custom-encoded unions in the patch. How can it be correct to discard the index on read?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt;, It appears that the current implementation has a bug for not supporting unions. I am attaching a simple test &apos;CustomEncodingUnionBug.zip&apos; to demonstrate this. If &lt;b&gt;ReflectData.AllowNull&lt;/b&gt; is used, unions are produced in the schema and following exception is thrown:&lt;br/&gt;
&lt;font color=&quot;brown&quot;&gt;&lt;br/&gt;
java.io.IOException: Invalid int encoding&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:145)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:423)&lt;br/&gt;
	at org.apache.avro.io.ResolvingDecoder.doAction(ResolvingDecoder.java:229)&lt;br/&gt;
	at org.apache.avro.io.parsing.Parser.advance(Parser.java:88)&lt;br/&gt;
	at org.apache.avro.io.ResolvingDecoder.readLong(ResolvingDecoder.java:152)&lt;br/&gt;
	at org.apache.avro.reflect.DateAsLongEncoding.read(DateAsLongEncoding.java:50)&lt;br/&gt;
	at org.apache.avro.reflect.DateAsLongEncoding.read(DateAsLongEncoding.java:33)&lt;br/&gt;
	at org.apache.avro.reflect.CustomEncoding.read(CustomEncoding.java:45)&lt;br/&gt;
	at org.apache.avro.reflect.FieldAccessUnsafe$UnsafeCustomEncodedField.read(FieldAccessUnsafe.java:353)&lt;br/&gt;
	at org.apache.avro.reflect.ReflectDatumReader.readField(ReflectDatumReader.java:214)&lt;br/&gt;
	at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:183)&lt;br/&gt;
	at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:151)&lt;br/&gt;
	at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:142)&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.next(DataFileStream.java:233)&lt;br/&gt;
	at org.avro.bugs.AvroEncodeUnionTest.testEncodingWithUnion(AvroEncodeUnionTest.java:53)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;
If &lt;b&gt;AllowNull&lt;/b&gt; is not used, then the test passes without issues.&lt;br/&gt;
The submitted patch fixes this issue and includes a test for this.&lt;/p&gt;</comment>
                            <comment id="14080029" author="cutting" created="Wed, 30 Jul 2014 21:44:14 +0000"  >&lt;p&gt;That works if the values are not null, but if they&apos;re null it fails.&lt;/p&gt;

&lt;p&gt;The bug is with AllowNull, since it changes the schema to be a union, which has a different encoding.  Custom encodings are associated with the field&apos;s type and know nothing of the union that AllowNull has inserted.  So allowNull() should perhaps override getFieldAccessor() and wrap the value of super.getFieldAccessor() with an implementation that handles unions with null.&lt;/p&gt;

&lt;p&gt;Also, if the DatumWriter is passed an AllowNull, shouldn&apos;t the DatumReader be passed one too?&lt;/p&gt;

&lt;p&gt;And, yes, I don&apos;t think we should add AvroConfiguration in this patch.&lt;/p&gt;</comment>
                            <comment id="14080503" author="sachingoyal" created="Thu, 31 Jul 2014 05:12:21 +0000"  >&lt;blockquote&gt;
&lt;p&gt;That works if the values are not null, but if they&apos;re null it fails.&lt;/p&gt;

&lt;p&gt;The bug is with AllowNull, since it changes the schema to be a union, which has a different encoding. Custom encodings are associated with the field&apos;s type and know nothing of the union that AllowNull has inserted. So allowNull() should perhaps override getFieldAccessor() and wrap the value of super.getFieldAccessor() with an implementation that handles unions with null.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Great catch! I have fixed this in the new patch.&lt;br/&gt;
However, I could not override getFieldAccessor() because the corresponding &lt;b&gt;Field&lt;/b&gt; object is not there. So I added the methods ReflectDatumReader#readFieldWithAccessor() and ReflectDatumWriter#writeFieldWithAccessor(). Please suggest how you feel about this.&lt;/p&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Also, if the DatumWriter is passed an AllowNull, shouldn&apos;t the DatumReader be passed one too?&lt;br/&gt;
And, yes, I don&apos;t think we should add AvroConfiguration in this patch.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;AvroConfiguration has been removed.&lt;/p&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;
Also updated the test to use a parameterized version such that it tests with ReflectData.AllowNull as well as with plain ReflectData.&lt;/p&gt;</comment>
                            <comment id="14086864" author="cutting" created="Tue, 5 Aug 2014 22:04:20 +0000"  >&lt;p&gt;The schema used for Date should be compatible with that being specified in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-739&quot; title=&quot;Add Date/Time data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-739&quot;&gt;&lt;del&gt;AVRO-739&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The union support in writeFieldWithAccessor is not in the right place.  This only works for the unions that are generated by AllowNull, and hence the logic should be a part of the AllowNull implementation.&lt;/p&gt;</comment>
                            <comment id="14088281" author="sachingoyal" created="Wed, 6 Aug 2014 21:23:45 +0000"  >&lt;p&gt;AllowNull is currently not playing any role while writing data and ReflectDatumWriter handles all the UNIONs created by AllowNull or otherwise.&lt;br/&gt;
So I kept this method here so that other avro-generated unions like CircularRef (Reference: &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-695&quot; title=&quot;Cycle Reference Support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-695&quot;&gt;&lt;del&gt;AVRO-695&lt;/del&gt;&lt;/a&gt;) could also be handled here in the future.&lt;br/&gt;
Moving this to ReflectData.AllowNull might make it a little difficult to handle the above in ReflectDatumWriter&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-739&quot; title=&quot;Add Date/Time data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-739&quot;&gt;&lt;del&gt;AVRO-739&lt;/del&gt;&lt;/a&gt; is still under discussion I guess.&lt;br/&gt;
If I understand it correctly, the current implementation can be easily extended in that ticket to&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Improve DateAsLongEncoding to include TimeZone.&lt;/li&gt;
	&lt;li&gt;Add a custom-default-encoding for each of JodaTime, java.sql.Timestamp, java.sql.Date etc.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14134115" author="sachingoyal" created="Mon, 15 Sep 2014 16:55:04 +0000"  >&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-739&quot; title=&quot;Add Date/Time data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-739&quot;&gt;&lt;del&gt;AVRO-739&lt;/del&gt;&lt;/a&gt; is close to completion, I guess we can remove the Date fix from this patch and do only the UUID fix here.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt;, AllowNull is a subclass of ReflectData and not ReflectDatumWriter.&lt;br/&gt;
Could you please elaborate which AllowNull you referred to?&lt;/p&gt;</comment>
                            <comment id="14304131" author="sachingoyal" created="Tue, 3 Feb 2015 22:15:12 +0000"  >&lt;p&gt;Removed the DateEncoding from the patch as its already implemented in another patch.&lt;br/&gt;
This patch contains only UUID patch.&lt;/p&gt;</comment>
                            <comment id="14339333" author="rdblue" created="Thu, 26 Feb 2015 22:41:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sachingoyal&quot; class=&quot;user-hover&quot; rel=&quot;sachingoyal&quot;&gt;Sachin Goyal&lt;/a&gt; would you post this as a pull request? I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="14347323" author="githubbot" created="Wed, 4 Mar 2015 18:32:12 +0000"  >&lt;p&gt;GitHub user sachingsachin opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/19&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/19&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1554&quot; title=&quot;Avro should have support for common constructs like UUID and Date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1554&quot;&gt;&lt;del&gt;AVRO-1554&lt;/del&gt;&lt;/a&gt;: UuidAsStringEncoding class handles (de)serialization of UUID&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sachingsachin/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/sachingsachin/avro&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1554&quot; title=&quot;Avro should have support for common constructs like UUID and Date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1554&quot;&gt;&lt;del&gt;AVRO-1554&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/19.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/19.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #19&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8858e23810503d7abbddd0b799d57d5c3f075b07&lt;br/&gt;
Author: Sachin Goyal &amp;lt;sgoyal@walmart.com&amp;gt;&lt;br/&gt;
Date:   2015-03-04T18:30:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1554&quot; title=&quot;Avro should have support for common constructs like UUID and Date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1554&quot;&gt;&lt;del&gt;AVRO-1554&lt;/del&gt;&lt;/a&gt;: UuidAsStringEncoding class handles (de)serialization of UUID in Avro&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14347337" author="sachingoyal" created="Wed, 4 Mar 2015 18:39:03 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;, I have added the PR.&lt;/p&gt;</comment>
                            <comment id="14362408" author="sachingoyal" created="Sun, 15 Mar 2015 15:00:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;, Appreciate your help with &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-680&quot; title=&quot;Allow for non-string keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-680&quot;&gt;&lt;del&gt;AVRO-680&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Could you please review the patch for this one too?&lt;/p&gt;</comment>
                            <comment id="14382885" author="rdblue" created="Thu, 26 Mar 2015 22:57:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sachingoyal&quot; class=&quot;user-hover&quot; rel=&quot;sachingoyal&quot;&gt;Sachin Goyal&lt;/a&gt;, I&apos;ve been looking at the patch and thinking about ways to accomplish what you&apos;re trying to do here. I&apos;m not sure if reusing the CustomEncoding framework is a good idea, although I think it&apos;s definitely a possibility because it doesn&apos;t introduce too many changes overall. The problem is that I&apos;d rather not make directly controlling the encoder the way to implement high-level types.&lt;/p&gt;

&lt;p&gt;It seems to me that something more like a combination between Stringable and CustomEncoding is the right solution: Something that converts from a high-level type to a normal Avro type, but with an API and registration. This would also fit with the &quot;logical type&quot; concept that we introduced for decimals, dates, and times, where you have an underlying Avro type and optional representations. What do you think?&lt;/p&gt;</comment>
                            <comment id="14384310" author="rdblue" created="Fri, 27 Mar 2015 18:28:02 +0000"  >&lt;p&gt;I&apos;m working on some code to demonstrate what I&apos;ve talked about above that works with both Decimal and UUID types. Basically, I want to make it possible to register a &lt;tt&gt;Conversion&amp;lt;T&amp;gt;&lt;/tt&gt; for a logical type, like UUID, in the generic and reflect object models. Then that is called any time an object passes through &lt;tt&gt;read&lt;/tt&gt; (or &lt;tt&gt;write&lt;/tt&gt; on the write path). Registration will make the &lt;tt&gt;Class&amp;lt;T&amp;gt;&lt;/tt&gt; available so it can be looked up based on the class used in the reflected object. An internal set of logical types and object representations would need to be added for Specific.&lt;/p&gt;</comment>
                            <comment id="14385567" author="rdblue" created="Sat, 28 Mar 2015 23:23:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sachingoyal&quot; class=&quot;user-hover&quot; rel=&quot;sachingoyal&quot;&gt;Sachin Goyal&lt;/a&gt;, I&apos;ve posted a preliminary version of what I&apos;m suggesting here:&lt;br/&gt;
  &lt;a href=&quot;https://github.com/rdblue/avro/commit/6effab9fecf45ad34a2cf0cfc9a125a483534187&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/rdblue/avro/commit/6effab9fecf45ad34a2cf0cfc9a125a483534187&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That has support for decimal and UUID as the initial logical types. The read-side is implemented for reflect and generic, but I&apos;ve only tested generic so far.&lt;/p&gt;

&lt;p&gt;The nice thing about this solution is that it doesn&apos;t require the type to be a field and doesn&apos;t require that you use reflection. Even root types will be converted.&lt;/p&gt;</comment>
                            <comment id="14386151" author="sachingoyal" created="Mon, 30 Mar 2015 03:53:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I like the solution provided in &lt;a href=&quot;https://github.com/apache/avro/pull/29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/29&lt;/a&gt;&lt;br/&gt;
A couple of comments on the tests:&lt;br/&gt;
1) A test using ReflectData.AllowNull should be added which writes and then reads a class with two UUID fields - one null and one with a value.&lt;br/&gt;
2) A test for JsonEncoder should be good to add too.&lt;br/&gt;
3) A test for ReflectData.AllowNull.getSchema(&amp;lt;class-having-some-UUID-fields&amp;gt;) should be a great addition as well. We should then check if the schema returned for UUIDs is a proper one or not.&lt;/p&gt;

&lt;p&gt;It looks like there is no change required at the avro-consumer side. If that is so, then we should be good to go.&lt;/p&gt;</comment>
                            <comment id="14389450" author="rdblue" created="Tue, 31 Mar 2015 21:28:19 +0000"  >&lt;p&gt;Thanks for taking a look, Sachin. I&apos;ll add those tests as well the reflect read/write validation tests. I specifically construct schemas in the logical type tests to avoid failures in schema reflection causing failures on tests of the read and write paths, but testing the end-to-end product is needed as you point out.&lt;/p&gt;

&lt;p&gt;Is it safe to say that &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1497&quot; title=&quot;Add LogicalType support to Java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1497&quot;&gt;&lt;del&gt;AVRO-1497&lt;/del&gt;&lt;/a&gt; is a blocker for this issue?&lt;/p&gt;</comment>
                            <comment id="15133228" author="githubbot" created="Thu, 4 Feb 2016 22:53:41 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/avro/pull/19&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/pull/19&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15494368" author="cutting" created="Thu, 15 Sep 2016 20:03:52 +0000"  >&lt;p&gt;Can we mark this as fixed now, with the logical type support now committed, e.g., in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1684&quot; title=&quot;Add date, time, and timestamp to specific object model classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1684&quot;&gt;&lt;del&gt;AVRO-1684&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15497032" author="rdblue" created="Fri, 16 Sep 2016 18:31:15 +0000"  >&lt;p&gt;I agree, this is done now that there are logical types for both date and UUID.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12496081">AVRO-739</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12658465" name="AVRO-1554.patch" size="17440" author="sachingoyal" created="Tue, 29 Jul 2014 19:15:42 +0000"/>
                            <attachment id="12658840" name="AVRO-1554_2.patch" size="20814" author="sachingoyal" created="Thu, 31 Jul 2014 05:12:21 +0000"/>
                            <attachment id="12696301" name="AVRO-1554_3.patch" size="20919" author="sachingoyal" created="Tue, 3 Feb 2015 22:15:12 +0000"/>
                            <attachment id="12658689" name="CustomEncodingUnionBug.zip" size="4081" author="sachingoyal" created="Wed, 30 Jul 2014 17:58:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jul 2014 23:05:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y9bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1555] csharp IPC over HTTP support</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1555</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;provide a default implementation for Avro IPC over HTTP in C#, based on standard .NET platform HTTP components&lt;/p&gt;</description>
                <environment>&lt;p&gt;.NET/Mono&lt;/p&gt;</environment>
        <key id="12730764">AVRO-1555</key>
            <summary>csharp IPC over HTTP support</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dk-apache">Dmitry Kovalev</assignee>
                                    <reporter username="dk-apache">Dmitry Kovalev</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2014 11:25:39 +0000</created>
                <updated>Mon, 1 Feb 2016 14:56:03 +0000</updated>
                            <resolved>Mon, 4 Aug 2014 20:15:27 +0000</resolved>
                                    <version>1.7.7</version>
                                    <fixVersion>1.7.8</fixVersion>
                    <fixVersion>1.8.0</fixVersion>
                                    <component>csharp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14079201" author="dk-apache" created="Wed, 30 Jul 2014 11:34:21 +0000"  >&lt;p&gt;Proposed implementation of HttpListenerServer based on .NET standard HttpListener, and HttpTransceiver based on .NET standard HttpWebRequest, plus a new unit test demonstrating a request-reply exchange using both components.&lt;/p&gt;

&lt;p&gt;HttpTransceiver-based C# client implementation is also confirmed to interact w/o issues with Java Avro server based on ResponderServlet running in Tomcat.&lt;/p&gt;</comment>
                            <comment id="14079205" author="dk-apache" created="Wed, 30 Jul 2014 11:37:14 +0000"  >&lt;p&gt;please could you review the patch for inclusion into the text release - this is a fairly straightforward addition which does not affect any other part, passes the tests and does not introduce any dependencies&lt;/p&gt;</comment>
                            <comment id="14079432" author="cutting" created="Wed, 30 Jul 2014 16:13:37 +0000"  >&lt;p&gt;I get the following error when testing this patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;NUnit version 2.5.10.0
...
&lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment - 
   OS Version: Unix 3.2.0.67
  CLR Version: 4.0.30319.1 ( 2.10.8.1 (Debian 2.10.8.1-1ubuntu2.2) )
...
1) Test Error : Avro.Test.Ipc.HttpClientServerTest.TestRequestResponse
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.NotImplementedException : The requested feature is not implemented.
  at &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Net.HttpWebRequest.set_ClientCertificates (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Security.Cryptography.X509Certificates.X509CertificateCollection value) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at (wrapper remoting-invoke-with-check) &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Net.HttpWebRequest:set_ClientCertificates (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Security.Cryptography.X509Certificates.X509CertificateCollection)
  at Avro.ipc.HttpTransceiver.CreateAvroHttpRequest (Int64 contentLength) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.ipc.HttpTransceiver.WriteBuffers (IList`1 buffers) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.ipc.Transceiver.Transceive (IList`1 request) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.ipc.Transceiver.Transceive (IList`1 request, ICallback`1 callback) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.ipc.Requestor.Request[&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;] (Avro.ipc.RpcRequest request, ICallback`1 callback) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.ipc.Requestor.Request (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; messageName, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; request) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.Test.Ipc.HttpClientServerTest.Send (Avro.Generic.GenericRecord message) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at Avro.Test.Ipc.HttpClientServerTest.TestRequestResponse () [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
  at (wrapper managed-to-&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Reflection.MonoMethod:InternalInvoke (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Reflection.MonoMethod,object,object[],&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Exception&amp;amp;)
  at &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Reflection.MonoMethod.Invoke (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; obj, BindingFlags invokeAttr, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Reflection.Binder binder, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] parameters, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.Globalization.CultureInfo culture) [0x00000] in &amp;lt;filename unknown&amp;gt;:0 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, it would be great to add this to share/test/interop/bin/test_rpc_interop.sh if possible.&lt;/p&gt;</comment>
                            <comment id="14079436" author="dk-apache" created="Wed, 30 Jul 2014 16:15:07 +0000"  >&lt;p&gt;a slightly improved server implementation with exception handling provision and a check for more graceful &quot;shutdown&quot;&lt;/p&gt;</comment>
                            <comment id="14079454" author="dk-apache" created="Wed, 30 Jul 2014 16:25:01 +0000"  >&lt;p&gt;Hi Doug, sorry I missed your comment when I submitted the second patch. Re the exception you are getting - looks like it is Mono-specific, where not all features of HttpWebRequest are implemented... &lt;/p&gt;

&lt;p&gt;Unfortunately I have no easy way to set up a Mono env at the moment - can you please try commenting out the line in CreateAvroHttpRequest which copies the ClientCertificates property? If this helps then we could add checks for Mono around it (and possibly a few more which are not supported in Mono). If you don&apos;t have time for it then I guess I will have to somehow set up a Mono env somewhere - this is going to be a big and long pain where I work...&lt;/p&gt;

&lt;p&gt;Similarly, as I don&apos;t have a Linux environment at hand and not even a cygwin it is kind of hard for me to test the interop script right now. Please let me know if this is absolutely required. &lt;/p&gt;

&lt;p&gt;Right now I can only confirm that my C# client successfully speaks to a 1.7.6-based Java server using HttpTransceiver.&lt;/p&gt;</comment>
                            <comment id="14079501" author="dk-apache" created="Wed, 30 Jul 2014 16:52:14 +0000"  >&lt;p&gt;An attempt to fix the Mono-specific exception. According to the SO link below, while Mono implementation of HttpWebRequest doesn&apos;t support assigning to ClientCertificates collection directly, it does allow to add elements to that collection - so calling AddRange instead of assignment should fix it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12852223/https-client-certificates-with-monotouch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/12852223/https-client-certificates-with-monotouch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14079529" author="cutting" created="Wed, 30 Jul 2014 17:04:01 +0000"  >&lt;p&gt;Commenting out the client certificate stuff fixes it!  I wonder if rather than conditioning it on mono you can introspect and check to see if that feature is supported, so that when Mono supports it then it will start working?  Does that make sense?&lt;/p&gt;</comment>
                            <comment id="14079536" author="dk-apache" created="Wed, 30 Jul 2014 17:07:34 +0000"  >&lt;p&gt;Doug, try the latest patch - it should work on Mono as well. Passes on windows. Here is another post which says my latest patch should do the trick: &lt;a href=&quot;https://groups.google.com/forum/#!topic/restsharp/EAHVyh14zds&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://groups.google.com/forum/#!topic/restsharp/EAHVyh14zds&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14079541" author="cutting" created="Wed, 30 Jul 2014 17:09:55 +0000"  >&lt;p&gt;I now see you found a better solution to the client certificate issue!&lt;/p&gt;

&lt;p&gt;Modifying the interop script isn&apos;t required to commit this.  However if you implement a command-line-based RPC sender and receiver for csharp (as we have for other languages) then I&apos;d be happy to try to modify &amp;amp; test the interop script to use it.  But if we don&apos;t do this now then we can file an issue to do it later.&lt;/p&gt;

&lt;p&gt;Have you at least manually validated that HTTP-based RPC does interoperate with other language implementations?&lt;/p&gt;</comment>
                            <comment id="14079550" author="cutting" created="Wed, 30 Jul 2014 17:14:03 +0000"  >&lt;p&gt;Latest patch fails on Mono with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Errors:

/home/cutting/src/avro/trunk/lang/csharp/Avro.sln (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; targets) -&amp;gt;
(Build target) -&amp;gt;
/home/cutting/src/avro/trunk/lang/csharp/src/apache/test/Avro.test.csproj (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; targets) -&amp;gt;
/usr/lib/mono/4.0/Microsoft.CSharp.targets (CoreCompile target) -&amp;gt;

	Ipc/HttpClientServerTest.cs(33,22): error CS0584: Internal compiler error: Method not found: &lt;span class=&quot;code-quote&quot;&gt;&apos;Avro.ipc.HttpListenerServer.get_ExceptionHandler&apos;&lt;/span&gt;.
	Ipc/HttpClientServerTest.cs(33,20): error CS0266: Cannot implicitly convert type `object&lt;span class=&quot;code-quote&quot;&gt;&apos; to `Avro.ipc.HttpListenerServer&apos;&lt;/span&gt;. An explicit conversion exists (are you missing a &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;?)
	Ipc/HttpClientServerTest.cs(34,20): error CS1061: Type `Avro.ipc.HttpListenerServer&lt;span class=&quot;code-quote&quot;&gt;&apos; does not contain a definition &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; `Start&apos;&lt;/span&gt; and no extension method `Start&lt;span class=&quot;code-quote&quot;&gt;&apos; of type `Avro.ipc.HttpListenerServer&apos;&lt;/span&gt; could be found (are you missing a using directive or an assembly reference?)
	Ipc/HttpClientServerTest.cs(47,20): error CS1061: Type `Avro.ipc.HttpListenerServer&lt;span class=&quot;code-quote&quot;&gt;&apos; does not contain a definition &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; `Stop&apos;&lt;/span&gt; and no extension method `Stop&lt;span class=&quot;code-quote&quot;&gt;&apos; of type `Avro.ipc.HttpListenerServer&apos;&lt;/span&gt; could be found (are you missing a using directive or an assembly reference?)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14079555" author="dk-apache" created="Wed, 30 Jul 2014 17:15:58 +0000"  >&lt;p&gt;Ok I will look into implementing the command line server &amp;amp; client for the script later this week.&lt;/p&gt;

&lt;p&gt;As for manual validation - as mentioned, I have only validated C# client HttpTransceiver to work with a Java server - this is what I am using in production successfully. &lt;/p&gt;

&lt;p&gt;I never needed the server, I implemented it solely for the purpose of contributing the transceiver - to have something to write a unit test against, to conform to your contribution guidelines.&lt;/p&gt;</comment>
                            <comment id="14079644" author="dk-apache" created="Wed, 30 Jul 2014 17:58:52 +0000"  >&lt;p&gt;Doug, &lt;/p&gt;

&lt;p&gt;this latest problem seems to be Mono-specific again, as it compiles and works fine for me on windows. It says &quot;internal compiler error&quot; in the message, plus I have found a few old bug reports for Mono compiler which sound similar so it can be a bug in Mono compiler. I will try to investigate, but in the meantime I have uploaded yet another patch where I have removed the ExceptionHandler code that seems to cause the problem. &lt;/p&gt;

&lt;p&gt;The server is still functional and has its uses without this code - just the exception handling is not flexible. &lt;/p&gt;

&lt;p&gt;Please could you try the latest patch - and if this version works for you in Mono then I would suggest leaving it as is and then improving in a separate JIRA as/if required.&lt;/p&gt;</comment>
                            <comment id="14079659" author="cutting" created="Wed, 30 Jul 2014 18:03:28 +0000"  >&lt;p&gt;Tests pass with the latest patch.  I&apos;ll commit this soon unless there are objections.&lt;/p&gt;</comment>
                            <comment id="14085215" author="cutting" created="Mon, 4 Aug 2014 20:15:27 +0000"  >&lt;p&gt;I committed this.  Thanks, Dmitry!&lt;/p&gt;</comment>
                            <comment id="14086459" author="dk-apache" created="Tue, 5 Aug 2014 16:23:16 +0000"  >&lt;p&gt;Hi Doug, looks like the new files are missing from svn - only the previously existing files got updated - can you check pls?&lt;/p&gt;</comment>
                            <comment id="14086542" author="cutting" created="Tue, 5 Aug 2014 17:53:11 +0000"  >&lt;p&gt;Oops.  I just added them.  Thanks for checking!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12658687" name="AVRO-1555-csharp-ipc-over-http.patch" size="14696" author="dk-apache" created="Wed, 30 Jul 2014 17:50:28 +0000"/>
                            <attachment id="12658672" name="AVRO-1555-csharp-ipc-over-http.patch" size="14422" author="dk-apache" created="Wed, 30 Jul 2014 16:52:14 +0000"/>
                            <attachment id="12658664" name="AVRO-1555-csharp-ipc-over-http.patch" size="14414" author="dk-apache" created="Wed, 30 Jul 2014 16:15:07 +0000"/>
                            <attachment id="12658629" name="AVRO-1555-csharp-ipc-over-http.patch" size="13712" author="dk-apache" created="Wed, 30 Jul 2014 11:34:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Jul 2014 16:13:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ycfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1556] csharp PrimitiveSchema loses custom properties in WriteJson/ToString</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1556</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;PrimitiveSchema class overrides WriteJson method to handle a shotrcut where primitive type is given as a literal, but in doing so it ignores teh case where there are custom properties attached to it. &lt;br/&gt;
This breaks any functionality which relies on the equality of the schema re-parsed from its ToString/WriteJson output, one example being csharp codegen.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
{ &quot;type&quot;: &quot;string&quot;, &quot;logicalType&quot;:&quot;DateTimeInstant&quot;, &quot;logicalEncoding&quot;:&quot;ISO8601-datetime-offset&quot; }

&lt;p&gt;becomes &quot;type&quot; : &quot;string&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730791">AVRO-1556</key>
            <summary>csharp PrimitiveSchema loses custom properties in WriteJson/ToString</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dk-apache">Dmitry Kovalev</assignee>
                                    <reporter username="dk-apache">Dmitry Kovalev</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2014 13:37:04 +0000</created>
                <updated>Sat, 29 Jul 2017 18:43:36 +0000</updated>
                                            <version>1.7.7</version>
                                    <fixVersion>1.7.9</fixVersion>
                                    <component>csharp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14079283" author="dk-apache" created="Wed, 30 Jul 2014 13:39:55 +0000"  >&lt;p&gt;proposed fix to the &quot;primitive schema with custom properties&quot; problem, plus an extra test case for SchemaTest.TestPrimitive&lt;/p&gt;</comment>
                            <comment id="14079294" author="dk-apache" created="Wed, 30 Jul 2014 13:54:51 +0000"  >&lt;p&gt;please review this fix for inclusion into next release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12658647" name="AVRO-1556-csharp-primitiveschema-fix.patch" size="2452" author="dk-apache" created="Wed, 30 Jul 2014 13:39:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yclr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1557] downloads AVRO from the website </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1557</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Hi , &lt;br/&gt;
I think we have a little problem with the main Avro web site.&lt;br/&gt;
Usually, groups put the link to the  last build version and current stable version  under static URL, allows to automatic tools and peoples download it easily .&lt;/p&gt;

&lt;p&gt;I believe many administrators will appreciate it .&lt;/p&gt;
</description>
                <environment>&lt;p&gt;web site&lt;/p&gt;</environment>
        <key id="12731063">AVRO-1557</key>
            <summary>downloads AVRO from the website </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="evgenyr">evgeny</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2014 13:47:51 +0000</created>
                <updated>Sun, 30 Dec 2018 05:49:33 +0000</updated>
                                                                            <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="14081031" author="ajisakaa" created="Thu, 31 Jul 2014 15:53:22 +0000"  >&lt;p&gt;Moved to Avro project since this issue is nothing to do with Hadoop project.&lt;/p&gt;</comment>
                            <comment id="14081390" author="cutting" created="Thu, 31 Jul 2014 20:15:26 +0000"  >&lt;p&gt;Avro has a releases page:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://avro.apache.org/releases.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/releases.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This links to the download page, which lists mirrors:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.apache.org/dyn/closer.cgi/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dyn/closer.cgi/avro&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Each mirror has a stable/ link to the stable release.  Apache hosts two such mirrors:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.us.apache.org/dist/avro/stable/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.us.apache.org/dist/avro/stable/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.eu.apache.org/dist/avro/stable/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.eu.apache.org/dist/avro/stable/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How do you propose we improve this?&lt;/p&gt;</comment>
                            <comment id="14082053" author="evgenyr" created="Fri, 1 Aug 2014 08:07:40 +0000"  >&lt;p&gt;Hi Doug ,&lt;/p&gt;

&lt;p&gt;I think , it will be nice if  we publish direct link to stable and newest&lt;br/&gt;
version on the main webpage.&lt;br/&gt;
It should be convention, where anybody could rich your latest and current&lt;br/&gt;
versions in one click .&lt;/p&gt;

&lt;p&gt;For example :&lt;br/&gt;
&lt;a href=&quot;http://TOOLNAME/current/current.tgz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://TOOLNAME/current/current.tgz&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://TOOLNAME/last/last.tgz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://TOOLNAME/last/last.tgz&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is minimal effort, but think about ROI of this improvement.&lt;br/&gt;
Any automatic tools will be pointed to you from that moment.&lt;/p&gt;

&lt;p&gt;I am not talking about :  installation / upgrade / and uninstall procedures.&lt;br/&gt;
 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;many thanks for your email.&lt;br/&gt;
Ev.&lt;/p&gt;



&lt;p&gt;On Thu, Jul 31, 2014 at 11:16 PM, Doug Cutting (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;




&lt;p&gt;&amp;#8211; &lt;/p&gt;

&lt;p&gt;          &quot;.&quot;&lt;br/&gt;
           :&lt;br/&gt;
       &lt;em&gt;------&lt;/em&gt;     |&quot;\/&quot;|&lt;br/&gt;
     ,&apos;        `.    \  /&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  O        &amp;#95;__/  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;~~~~~&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;^&lt;/sub&gt;~~~~&lt;/p&gt;</comment>
                            <comment id="14082669" author="cutting" created="Fri, 1 Aug 2014 18:17:20 +0000"  >&lt;p&gt;Avro has a lot of different artifacts that folks can download.  I assume you think there should be a link to the current stable source release for all languages on the home page.  This could be accomplished by:&lt;br/&gt;
  &amp;#8211; adding a symlink in each release directory to an unversioned tarball, e.g. &lt;br/&gt;
    avro-src-1.7.7.tar.gz -&amp;gt; avro-src.tar.gz&lt;br/&gt;
  &amp;#8211; adding a link on the home page to the stable version of this&lt;/p&gt;

&lt;p&gt;Would we also want a link to the latest documentation tarball?&lt;/p&gt;
</comment>
                            <comment id="14082826" author="evgenyr" created="Fri, 1 Aug 2014 19:43:41 +0000"  >&lt;p&gt;Yeah, it will be great &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thank you&lt;/p&gt;





&lt;p&gt;&amp;#8211; &lt;/p&gt;

&lt;p&gt;          &quot;.&quot;&lt;br/&gt;
           :&lt;br/&gt;
       &lt;em&gt;------&lt;/em&gt;     |&quot;\/&quot;|&lt;br/&gt;
     ,&apos;        `.    \  /&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  O        &amp;#95;__/  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;~~~~~&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;sup&gt;&lt;/sub&gt;&lt;sub&gt;&lt;/sup&gt;&lt;/sub&gt;&lt;sub&gt;^&lt;/sub&gt;~~~~&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 31 Jul 2014 15:53:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ye9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1558] Avro c bindings report incorrect error</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1558</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;At datafile.c:592, avro_set_error is called to indicate that the &quot;datum is too large for file block size&quot;. However, this may sometimes be incorrect, it is hiding any errors set in avro_write_data(), which includes things such as &quot;field is invalid&quot;, etc, which are arguably more correct errors to return to the user.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12731426">AVRO-1558</key>
            <summary>Avro c bindings report incorrect error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="virtuald">Dustin Spicuzza</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Aug 2014 21:39:19 +0000</created>
                <updated>Fri, 1 Aug 2014 21:39:19 +0000</updated>
                                            <version>1.7.7</version>
                                                    <component>c</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yggv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-1559] Drop support for Ruby 1.8</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1559</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ruby 1.8 is EOL, and is even security issues aren&apos;t addressed anymore.&lt;/li&gt;
	&lt;li&gt;It is also getting hard to set up Ruby 1.8 to run the tests (e.g. on a recent OSX, it won&apos;t compile without manual fiddling).&lt;/li&gt;
	&lt;li&gt;Handling character encodings in Ruby 1.9 is very different than Ruby 1.8. Supporting both at the same time adds a lot of overhead.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12732021">AVRO-1559</key>
            <summary>Drop support for Ruby 1.8</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="wvanbergen">Willem van Bergen</assignee>
                                    <reporter username="wvanbergen">Willem van Bergen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Aug 2014 13:35:09 +0000</created>
                <updated>Tue, 8 Jan 2019 17:30:14 +0000</updated>
                                            <version>1.7.7</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>ruby</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14086271" author="wvanbergen" created="Tue, 5 Aug 2014 13:37:28 +0000"  >&lt;p&gt;This patch removes the checks for `bytesize` and `force_encoding`; on Ruby 1.9+ they will always exist.&lt;/p&gt;</comment>
                            <comment id="14616682" author="jira-bot" created="Tue, 7 Jul 2015 13:23:34 +0000"  >&lt;p&gt;Commit 1689660 from tomwhite@apache.org in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1689660&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1689660&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1559&quot; title=&quot;Drop support for Ruby 1.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1559&quot;&gt;AVRO-1559&lt;/a&gt;. Drop support for Ruby 1.8. Contributed by Willem van Bergen.&lt;/p&gt;</comment>
                            <comment id="14616686" author="tomwhite" created="Tue, 7 Jul 2015 13:25:38 +0000"  >&lt;p&gt;I committed this. Thanks Willem!&lt;/p&gt;</comment>
                            <comment id="14616708" author="hudson" created="Tue, 7 Jul 2015 13:36:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #524 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/524/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/524/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1559&quot; title=&quot;Drop support for Ruby 1.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1559&quot;&gt;AVRO-1559&lt;/a&gt;. Drop support for Ruby 1.8. Contributed by Willem van Bergen. (tomwhite: rev 1689660)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/ruby/lib/avro/data_file.rb&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/ruby/lib/avro/io.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14616730" author="wvanbergen" created="Tue, 7 Jul 2015 13:53:37 +0000"  >&lt;p&gt;Ypu may want to bump the minimum Ruby requirement to 2.0, because Ruby 1.9 is also EOL now.&lt;/p&gt;</comment>
                            <comment id="14616737" author="tomwhite" created="Tue, 7 Jul 2015 13:57:06 +0000"  >&lt;p&gt;Is that just a question of updating the version in BUILD.txt, or are there any code changes?&lt;/p&gt;</comment>
                            <comment id="14616740" author="wvanbergen" created="Tue, 7 Jul 2015 13:59:48 +0000"  >&lt;p&gt;No code changes necessary for that; just updating the documentation is fine. &lt;/p&gt;</comment>
                            <comment id="14616745" author="tomwhite" created="Tue, 7 Jul 2015 14:03:53 +0000"  >&lt;p&gt;OK, I just updated BUILD.txt.&lt;/p&gt;</comment>
                            <comment id="14616814" author="busbey" created="Tue, 7 Jul 2015 14:58:04 +0000"  >&lt;p&gt;Ruby 2.0 is bad news. Requiring it will mean that we don&apos;t work with any version of JRuby, for example, because JRuby 1.7 is Ruby 1.8 - 1.9 and JRuby 9k is Ruby 2.2.&lt;/p&gt;

&lt;p&gt;The HBase project relies on JRuby for our shell. We can probably rely on JRuby&apos;s java support to wrap the java library, but I don&apos;t if we&apos;re already doing that. We require Ruby 1.8 compatibility in our current stable line (HBase 1.y) and won&apos;t have a new major version until early 2016 probably.&lt;/p&gt;</comment>
                            <comment id="14616862" author="busbey" created="Tue, 7 Jul 2015 15:28:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomwhite&quot; class=&quot;user-hover&quot; rel=&quot;tomwhite&quot;&gt;Tom White&lt;/a&gt; could we have a DISCUSS thread on user@avro before we move from 1.8+ to 2.0 for Ruby?&lt;/p&gt;</comment>
                            <comment id="14616870" author="tomwhite" created="Tue, 7 Jul 2015 15:35:11 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~ busbey&amp;#93;&lt;/span&gt; of course. Would you like to start it? BTW is the HBase shell using Ruby Avro, or is just an illustration that projects may find it difficult to upgrade?&lt;/p&gt;
</comment>
                            <comment id="14616874" author="busbey" created="Tue, 7 Jul 2015 15:40:02 +0000"  >&lt;p&gt;Just illustrative. I believe we rely on Java Avro even in our Ruby based shell, but haven&apos;t done any of the ground work to verify that. Our requiring Ruby 1.8+ also means that those who rely on extending our tooling might also be constrained in what can change about their operational environment.&lt;/p&gt;</comment>
                            <comment id="14616912" author="tomwhite" created="Tue, 7 Jul 2015 16:07:09 +0000"  >&lt;p&gt;I&apos;ll revert this until we have consensus on when Ruby 1.8 support can be dropped. Sorry for the confusion.&lt;/p&gt;</comment>
                            <comment id="14616938" author="jira-bot" created="Tue, 7 Jul 2015 16:25:53 +0000"  >&lt;p&gt;Commit 1689710 from tomwhite@apache.org in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1689710&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1689710&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1559&quot; title=&quot;Drop support for Ruby 1.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1559&quot;&gt;AVRO-1559&lt;/a&gt;. Drop support for Ruby 1.8.&lt;/p&gt;</comment>
                            <comment id="14616947" author="hudson" created="Tue, 7 Jul 2015 16:36:16 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #526 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/526/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/526/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1559&quot; title=&quot;Drop support for Ruby 1.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1559&quot;&gt;AVRO-1559&lt;/a&gt;. Drop support for Ruby 1.8. (tomwhite: rev 1689710)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/BUILD.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/ruby/lib/avro/data_file.rb&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/ruby/lib/avro/io.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15107698" author="rdblue" created="Wed, 20 Jan 2016 00:00:38 +0000"  >&lt;p&gt;We just hit more problems with ruby 1.8 support in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1785&quot; title=&quot;Ruby: schema_normalization.rb is incompatible with Ruby 1.8.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1785&quot;&gt;&lt;del&gt;AVRO-1785&lt;/del&gt;&lt;/a&gt;. I just checked HBase and I don&apos;t think it depends on the gem after all, and Sean agreed. I think we can move forward with this.&lt;/p&gt;</comment>
                            <comment id="15107863" author="busbey" created="Wed, 20 Jan 2016 02:44:26 +0000"  >&lt;p&gt;I&apos;m +1 on dropping 1.8, provided we have a prominent release note and we&apos;re fine with the possibility of more 1.7 releases should requests come in.&lt;/p&gt;

&lt;p&gt;I&apos;d still like to avoid expressly removing 1.9 as well. I&apos;d prefer to build up 2.2+ support in a different gem.&lt;/p&gt;</comment>
                            <comment id="15110581" author="martinkl" created="Thu, 21 Jan 2016 13:36:45 +0000"  >&lt;p&gt;+1 on dropping 1.8 support but keeping 1.9 support. There&apos;s not much benefit in dropping 1.9 support at this stage, since the differences between 1.9 and 2.0 are much smaller than the differences between 1.8 and 1.9. (Ruby&apos;s version numbering was pretty messed up back then.)&lt;/p&gt;</comment>
                            <comment id="15110588" author="wvanbergen" created="Thu, 21 Jan 2016 13:39:29 +0000"  >&lt;p&gt;If we&apos;re going to drop support for Ruby versions anyway, we should drop support for 1.9 as well because it is also EOL, and will no longer receive security fixes.&lt;/p&gt;</comment>
                            <comment id="15110751" author="busbey" created="Thu, 21 Jan 2016 15:23:12 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If we&apos;re going to drop support for Ruby versions anyway, we should drop support for 1.9 as well because it is also EOL, and will no longer receive security fixes.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s not a sufficient reason for us to drop support, since there easily can still be folks relying on it that would like newer versions of Avro.&lt;/p&gt;

&lt;p&gt;If there are ways that supporting Ruby 1.9 is holding us back, I&apos;m happy to start a Ruby 2.2+ gem along-side the current 1.9+ one so that we can have a more controlled deprecation period.&lt;/p&gt;</comment>
                            <comment id="15110757" author="busbey" created="Thu, 21 Jan 2016 15:24:47 +0000"  >&lt;p&gt;for example, &lt;a href=&quot;http://jruby.org/2016/01/20/jruby-1-7-24&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;JRuby 1.7.24&lt;/a&gt; literally came out yesterday. It still supports Ruby 1.9 and it does not support any of the Ruby 2.y versions.&lt;/p&gt;</comment>
                            <comment id="15110763" author="martinkl" created="Thu, 21 Jan 2016 15:26:09 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;m happy to start a Ruby 2.2+ gem along-side the current 1.9+ one so that we can have a more controlled deprecation period.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not aware of any compelling reason to start a new gem. The current implementation supports Ruby 1.9-2.2 without problem, and I don&apos;t think 1.9 support is holding it back.&lt;/p&gt;</comment>
                            <comment id="16737259" author="tjwp" created="Tue, 8 Jan 2019 16:00:11 +0000"  >&lt;p&gt;Is it worth revisiting the question of supported Ruby versions for a Avro 1.9.0 release?&lt;/p&gt;

&lt;p&gt;At the time I&apos;m writing this comment, Ruby 2.2 and earlier are no longer maintained.&lt;/p&gt;

&lt;p&gt;I&apos;m in favor of only supporting Ruby 2.3 (released&#160;2015-12-25) and later, and explicitly testing against all the supported Ruby versions in the build.&lt;/p&gt;

&lt;p&gt;It seems unlikely to me that somebody would be willing to accept a major Avro update while being unwilling to update Ruby.&lt;/p&gt;</comment>
                            <comment id="16737323" author="busbey" created="Tue, 8 Jan 2019 17:29:34 +0000"  >&lt;p&gt;I agree for Avro 1.9.0+ we should bump to Ruby 2.3+. IIRC JRuby&apos;s current versions also support those ruby versions so we should be good.&lt;/p&gt;</comment>
                            <comment id="16737324" author="busbey" created="Tue, 8 Jan 2019 17:29:58 +0000"  >&lt;p&gt;still worth a DISCUSS thread on dev@avro, since there are some more Ruby folks floating around there now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12659888" name="AVRO-1559.patch" size="1595" author="wvanbergen" created="Tue, 5 Aug 2014 13:39:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Jul 2015 13:23:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yjsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>
