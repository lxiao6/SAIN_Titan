<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:19:17 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2013-10-2+AND+created+%3C%3D+2013-10-9+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1382] Support for python3</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1382</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I&apos;d need to use Avro from Python3, which would require essentially the following changes, which I am happy to contribute:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;rewrite except statements according to new syntax&lt;/li&gt;
	&lt;li&gt;rewrite print statements according to new syntax&lt;/li&gt;
	&lt;li&gt;basestring becomes str&lt;/li&gt;
	&lt;li&gt;update some imports (StringIO becomes io.StringIO, httplib becomes http.client)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This would apparently require branching the python code to maintain a version for python2 and a separate version for python3.&lt;/p&gt;

&lt;p&gt;Any thoughts on how to approach this?&lt;br/&gt;
Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672289">AVRO-1382</key>
            <summary>Support for python3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kryzthov">Christophe Taton</assignee>
                                    <reporter username="kryzthov">Christophe Taton</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Oct 2013 06:02:27 +0000</created>
                <updated>Thu, 23 Jan 2014 21:58:55 +0000</updated>
                            <resolved>Fri, 10 Jan 2014 19:17:21 +0000</resolved>
                                    <version>1.7.5</version>
                                    <fixVersion>1.7.6</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13786372" author="cutting" created="Fri, 4 Oct 2013 17:29:04 +0000"  >&lt;p&gt;We should perhaps maintain both python2 and python3 versions simultaneously.  If so, this might happen in a lang/py3 directory or somesuch.&lt;/p&gt;

&lt;p&gt;This also might provide the opportunity to make changes that would otherwise be incompatible, but, since this is a new API, wouldn&apos;t need to be classified as such.  Issues like &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-283&quot; title=&quot;Change the new Python implementation from dictionaries to objects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-283&quot;&gt;AVRO-283&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-973&quot; title=&quot;Union behavior not consistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-973&quot;&gt;AVRO-973&lt;/a&gt; come to mind.&lt;/p&gt;</comment>
                            <comment id="13788325" author="kryzthov" created="Mon, 7 Oct 2013 17:30:26 +0000"  >&lt;p&gt;Okay! I&apos;m actively working on lang/py3 in this branch: &lt;a href=&quot;https://github.com/kryzthov/avro/tree/AVRO-1382&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/kryzthov/avro/tree/AVRO-1382&lt;/a&gt;&lt;br/&gt;
Since this would be a new API, I&apos;d then like to take the opportunity to do some cleanup before pushing/releasing it.&lt;/p&gt;</comment>
                            <comment id="13797599" author="kryzthov" created="Thu, 17 Oct 2013 05:03:14 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I&apos;m making good progress on this. All tests but one are passing now, but I&apos;m not confident that this is ready for a release.&lt;br/&gt;
Current work is available here: &lt;a href=&quot;https://github.com/kryzthov/avro/tree/AVRO-1382&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/kryzthov/avro/tree/AVRO-1382&lt;/a&gt; (this is mostly a copy/paste of the Python2 API, with lots of refactoring, cleanups and documentation).&lt;br/&gt;
Should I keep working on my personal branch until it is ready for release, or would you rather it included in a release as &quot;experimental&quot;?&lt;br/&gt;
C.&lt;/p&gt;</comment>
                            <comment id="13837446" author="kryzthov" created="Tue, 3 Dec 2013 08:23:00 +0000"  >&lt;p&gt;Here is what I&apos;ve been working with in the last weeks.&lt;br/&gt;
It&apos;s not perfect but I would say it looks more like a reasonable base now.&lt;/p&gt;</comment>
                            <comment id="13845348" author="larroy" created="Wed, 11 Dec 2013 12:33:53 +0000"  >&lt;p&gt;Hi&lt;br/&gt;
I&apos;m also working on this as I need a python3 implementation of avro, currently working on fixing the unit tests and based on Christophe&apos;s branch: &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/larroy/avro/tree/AVRO-1382&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/larroy/avro/tree/AVRO-1382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I would like to remove the dependency on ant also.&lt;/p&gt;</comment>
                            <comment id="13845464" author="larroy" created="Wed, 11 Dec 2013 15:10:46 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Now the unittests are all passing.&lt;/p&gt;</comment>
                            <comment id="13845527" author="larroy" created="Wed, 11 Dec 2013 16:49:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://pypi.python.org/pypi/avro3k/1.7.6-SNAPSHOT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://pypi.python.org/pypi/avro3k/1.7.6-SNAPSHOT&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13845794" author="kryzthov" created="Wed, 11 Dec 2013 22:36:20 +0000"  >&lt;p&gt;Hey Pedro, thanks for the update, I&apos;ll look at this soon.&lt;br/&gt;
I also have some updates on the IPC layer that I need to push.&lt;/p&gt;

&lt;p&gt;I don&apos;t know if we want to drop integration with ant : I believe it is necessary for whoever runs the releases.&lt;br/&gt;
@cutting can you confirm?&lt;/p&gt;</comment>
                            <comment id="13845820" author="cutting" created="Wed, 11 Dec 2013 23:16:10 +0000"  >&lt;p&gt;Ant is not required.&lt;/p&gt;

&lt;p&gt;All that releases require is that the top-level build.sh script works.  In particular, that &apos;./build.sh dist&apos; puts binary release artifacts in the top-level dist/ directory, that &apos;test&apos; runs unit tests, and &apos;clean&apos; removes files generated by the other commands.&lt;/p&gt;

&lt;p&gt;If ant is replaced with some other build tool then the top-level build.sh should be updated to invoke the new tool rather than ant.  Some languages implement a lang/*/build.sh script that invokes a language-specific build tool and then copies source code archive files up to ../../dist.&lt;/p&gt;

&lt;p&gt;Also, if the build tools change then the top-level BUILD.txt file should be updated.&lt;/p&gt;
</comment>
                            <comment id="13846478" author="cutting" created="Thu, 12 Dec 2013 17:31:07 +0000"  >&lt;p&gt;One more thing to update relevant to releases are the publishing instructions for PyPi.  These are in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/AVRO/How+To+Release#HowToRelease-Publishing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/AVRO/How+To+Release#HowToRelease-Publishing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We need to add instructions here for publishing the Python 3 release artifacts.&lt;/p&gt;</comment>
                            <comment id="13859936" author="kryzthov" created="Wed, 1 Jan 2014 20:36:29 +0000"  >&lt;p&gt;Here is a new patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;build for python3 no longer requires ant&lt;/li&gt;
	&lt;li&gt;support for IPC over HTTP with basic unit-test&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13863605" author="cutting" created="Mon, 6 Jan 2014 23:11:26 +0000"  >&lt;p&gt;Several files are modified with only whitespace changes.  This should be avoided.&lt;/p&gt;

&lt;p&gt;The current patch fails for me with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% python3 setup.py test
running test
running egg_info
writing avro.egg-info/PKG-INFO
writing top-level names to avro.egg-info/top_level.txt
writing dependency_links to avro.egg-info/dependency_links.txt
writing manifest file &lt;span class=&quot;code-quote&quot;&gt;&apos;avro.egg-info/SOURCES.txt&apos;&lt;/span&gt;
running build_ext
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;setup.py&quot;&lt;/span&gt;, line 69, in &amp;lt;module&amp;gt;
    Main()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;setup.py&quot;&lt;/span&gt;, line 64, in Main
    url = &lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//hadoop.apache.org/avro&apos;&lt;/span&gt;,
&lt;/span&gt;  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/distutils/core.py&quot;&lt;/span&gt;, line 148, in setup
    dist.run_commands()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/distutils/dist.py&quot;&lt;/span&gt;, line 917, in run_commands
    self.run_command(cmd)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/distutils/dist.py&quot;&lt;/span&gt;, line 936, in run_command
    cmd_obj.run()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3/dist-packages/setuptools/command/test.py&quot;&lt;/span&gt;, line 137, in run
    self.with_project_on_sys_path(self.run_tests)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3/dist-packages/setuptools/command/test.py&quot;&lt;/span&gt;, line 117, in with_project_on_sys_path
    func()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3/dist-packages/setuptools/command/test.py&quot;&lt;/span&gt;, line 146, in run_tests
    testLoader = loader_class()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/main.py&quot;&lt;/span&gt;, line 123, in __init__
    self.parseArgs(argv)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/main.py&quot;&lt;/span&gt;, line 191, in parseArgs
    self.createTests()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/main.py&quot;&lt;/span&gt;, line 198, in createTests
    self.module)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/loader.py&quot;&lt;/span&gt;, line 132, in loadTestsFromNames
    suites = [self.loadTestsFromName(name, module) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; name in names]
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/loader.py&quot;&lt;/span&gt;, line 132, in &amp;lt;listcomp&amp;gt;
    suites = [self.loadTestsFromName(name, module) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; name in names]
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python3.2/unittest/loader.py&quot;&lt;/span&gt;, line 100, in loadTestsFromName
    parent, obj = obj, getattr(obj, part)
AttributeError: &lt;span class=&quot;code-quote&quot;&gt;&apos;module&apos;&lt;/span&gt; object has no attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;tests&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I installed python3 and python3-setuptools.  Is there something else I need?&lt;/p&gt;</comment>
                            <comment id="13863677" author="kryzthov" created="Tue, 7 Jan 2014 00:09:49 +0000"  >&lt;p&gt;Which version of setuptools are you using?&lt;br/&gt;
I&apos;m using the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;pip search setuptools
setuptools                - Easily download, build, install, upgrade, and uninstall Python packages
  INSTALLED: 2.0.2 (latest)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll revert the indentation fixes to the avsc files.&lt;/p&gt;</comment>
                            <comment id="13864490" author="cutting" created="Tue, 7 Jan 2014 18:19:23 +0000"  >&lt;p&gt;&apos;pip3 search setuptools&apos; now reports 2.0.2, but I still get the above error.&lt;/p&gt;</comment>
                            <comment id="13865163" author="kryzthov" created="Wed, 8 Jan 2014 07:20:34 +0000"  >&lt;p&gt;New patch reverts indentation fixes in avsc files.&lt;br/&gt;
I tried it with python 3.2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ python3 --version
Python 3.2.5
------------------------------------------------------------
$ pip list
pip (1.4.1)
setuptools (2.0.2)
------------------------------------------------------------
$ python3 ./setup.py test
...
Ran 48 tests in 2.043s
OK
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13865386" author="larroy" created="Wed, 8 Jan 2014 12:55:55 +0000"  >&lt;p&gt;Hi Christophe, did you integrate my changes? Should I make a pull request on github?&lt;/p&gt;</comment>
                            <comment id="13865660" author="kryzthov" created="Wed, 8 Jan 2014 17:26:11 +0000"  >&lt;p&gt;Hey Pedro,&lt;br/&gt;
I did integrate your changes, with slight modifications so as to not hardcode the avsc files&apos; content : instead, via setuptools, the avsc files are bundled as resources within the Python avro module.&lt;br/&gt;
I believe I did not miss anything, but if you could double check that&apos;d be great!&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13865932" author="cutting" created="Wed, 8 Jan 2014 21:42:50 +0000"  >&lt;p&gt;I have python 3.2.3 instead of 3.2.5 and pip 1.5 instead of 1.4.1.  I&apos;m on Ubuntu 12.04.  I still see the above reported error.  Any ideas what I should try next?&lt;/p&gt;</comment>
                            <comment id="13865939" author="kryzthov" created="Wed, 8 Jan 2014 21:48:32 +0000"  >&lt;p&gt;This is rather frustrating, let me try with your setup. If you have a chance, can you try with Python 3.3 as well?&lt;/p&gt;</comment>
                            <comment id="13865971" author="cutting" created="Wed, 8 Jan 2014 22:11:10 +0000"  >&lt;p&gt;If I &apos;touch avro/tests/_&lt;em&gt;init&lt;/em&gt;_.py then it actually tries to run run_tests.py but fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/cutting/src/avro/trunk/lang/py3/avro/tests/run_tests.py&quot;&lt;/span&gt;, line 51, in &amp;lt;module&amp;gt;
    from avro.tests.test_datafile_interop &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; *
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/cutting/src/avro/trunk/lang/py3/avro/tests/test_datafile_interop.py&quot;&lt;/span&gt;, line 39, in &amp;lt;module&amp;gt;
    INTEROP_SCHEMA = GetInteropSchema()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/cutting/src/avro/trunk/lang/py3/avro/tests/test_datafile_interop.py&quot;&lt;/span&gt;, line 36, in GetInteropSchema
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; schema.Parse(schema_json)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/cutting/src/avro/trunk/lang/py3/avro/schema.py&quot;&lt;/span&gt;, line 1277, in Parse
    % (json_string, exn))
avro.schema.SchemaParseException: Error parsing schema from JSON: &lt;span class=&quot;code-quote&quot;&gt;&apos;../../../../share/test/schemas/interop.avsc&apos;&lt;/span&gt;. Error message: ValueError(&lt;span class=&quot;code-quote&quot;&gt;&apos;No JSON object could be decoded&apos;&lt;/span&gt;,).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13866000" author="kryzthov" created="Wed, 8 Jan 2014 22:44:57 +0000"  >&lt;p&gt;Okay, that seems to be a difference between pip 1.4.1 vs 1.5.&lt;br/&gt;
I&apos;ll work on getting this to run properly with pip 1.5 and get back to you.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="13866002" author="cutting" created="Wed, 8 Jan 2014 22:45:52 +0000"  >&lt;p&gt;I uninstalled Python3.2.3, and installed Python3.3.3, setuptools 2.1 and pip 1.5 and get the JSON parse error.  This is without a avro/tests/&lt;em&gt;init&lt;/em&gt;.py file present.&lt;/p&gt;</comment>
                            <comment id="13866015" author="kryzthov" created="Wed, 8 Jan 2014 22:55:52 +0000"  >&lt;p&gt;I see now : I used symbolic links to avoid copying avsc files, and symbolic links are not preserved in diffs.&lt;br/&gt;
I&apos;ll update the setup.py to make hard copies of these files instead.&lt;/p&gt;</comment>
                            <comment id="13866148" author="kryzthov" created="Thu, 9 Jan 2014 01:01:50 +0000"  >&lt;p&gt;Here is a new patch that properly copies the resource files from the globally shared directory.&lt;br/&gt;
I believe this still requires python 3.3+ and pip 1.5.&lt;/p&gt;</comment>
                            <comment id="13866849" author="cutting" created="Thu, 9 Jan 2014 17:55:13 +0000"  >&lt;p&gt;We&apos;re getting there!  Now most of the tests pass, except all the tests in test_script.py fail with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;testMultiFile (avro.tests.test_script.TestWrite) ... Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/cutting/src/avro/trunk/lang/py3/scripts/avro&quot;&lt;/span&gt;, line 32, in &amp;lt;module&amp;gt;
    &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; avro
ImportError: No module named &lt;span class=&quot;code-quote&quot;&gt;&apos;avro&apos;&lt;/span&gt;
ERROR
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13867584" author="kryzthov" created="Fri, 10 Jan 2014 07:22:45 +0000"  >&lt;p&gt;This patch should fix test_script.py (by explicitly adding the directory containing the avro module to PYTHONPATH, when running the avro subprocess).&lt;/p&gt;</comment>
                            <comment id="13868148" author="jira-bot" created="Fri, 10 Jan 2014 19:11:57 +0000"  >&lt;p&gt;Commit 1557225 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557225&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1557225&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Add support for Python3.  Contributed by Christophe Taton.&lt;/p&gt;</comment>
                            <comment id="13868155" author="jira-bot" created="Fri, 10 Jan 2014 19:16:53 +0000"  >&lt;p&gt;Commit 1557227 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1557227&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Ignore generated files.&lt;/p&gt;</comment>
                            <comment id="13868156" author="cutting" created="Fri, 10 Jan 2014 19:17:21 +0000"  >&lt;p&gt;I committed this.  Thanks, Christophe!&lt;/p&gt;</comment>
                            <comment id="13868166" author="jira-bot" created="Fri, 10 Jan 2014 19:21:10 +0000"  >&lt;p&gt;Commit 1557229 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1557229&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Add missing license header.&lt;/p&gt;</comment>
                            <comment id="13868199" author="hudson" created="Fri, 10 Jan 2014 19:41:35 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #425 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/425/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/425/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Add missing license header. (cutting: rev 1557229)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/share/test/schemas/echo.avdl&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Ignore generated files. (cutting: rev 1557227)&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1382&quot; title=&quot;Support for python3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1382&quot;&gt;&lt;del&gt;AVRO-1382&lt;/del&gt;&lt;/a&gt;. Add support for Python3.  Contributed by Christophe Taton. (cutting: rev 1557225)&lt;/li&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/build.sh&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/datafile.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/io.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/ipc.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/protocol.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/schema.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/av_bench.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/gen_interop_data.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/run_tests.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/sample_http_client.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/sample_http_server.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_datafile.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_datafile_interop.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_io.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_ipc.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_protocol.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_schema.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/test_script.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/txsample_http_client.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tests/txsample_http_server.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/tool.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/avro/txipc.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/scripts&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/scripts/avro&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/py3/setup.py&lt;/li&gt;
	&lt;li&gt;/avro/trunk/share/test/schemas/echo.avdl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616717" name="AVRO-1382.20131203-001922.diff" size="235434" author="kryzthov" created="Tue, 3 Dec 2013 08:23:00 +0000"/>
                            <attachment id="12621016" name="AVRO-1382.20140101-123233-0800.diff" size="244301" author="kryzthov" created="Wed, 1 Jan 2014 20:36:29 +0000"/>
                            <attachment id="12621937" name="AVRO-1382.20140107-231626-0800.diff" size="241243" author="kryzthov" created="Wed, 8 Jan 2014 07:20:34 +0000"/>
                            <attachment id="12622080" name="AVRO-1382.20140108-165947-0800.diff" size="240712" author="kryzthov" created="Thu, 9 Jan 2014 01:01:50 +0000"/>
                            <attachment id="12622356" name="AVRO-1382.20140109-232110-0800.diff" size="241965" author="kryzthov" created="Fri, 10 Jan 2014 07:22:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Oct 2013 17:29:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oobj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1383] Unabe to build on Visual Studio 2003 when generated file is huge</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1383</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1370&quot; title=&quot;C++ code generation should generate individual header files for each type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1370&quot;&gt;AVRO-1370&lt;/a&gt;. Currently C++ code generation produces single file and with lot of inline functions.  If the schema file is huge, it&apos;s generating huge header file. When this header file  is used to to build the project, we are getting &quot;object file format limit exceeded : more than 65,279 sections&quot;. To fix this problem we had to use /bigobj flag to the project  and this fixed the problem.&lt;/p&gt;

&lt;p&gt;Unfortunately /bigobj is only supported from VS 2005. Prior versions of VS 2005 don&apos;t have this flag. &lt;/p&gt;

&lt;p&gt;Is it possible to split the generated file into multiple parts by class name and it&apos;s avro traits code.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows VS 2003&lt;/p&gt;</environment>
        <key id="12672828">AVRO-1383</key>
            <summary>Unabe to build on Visual Studio 2003 when generated file is huge</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ramanasv">Ramana Suvarapu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 15:07:12 +0000</created>
                <updated>Mon, 19 Nov 2018 04:14:19 +0000</updated>
                            <resolved>Mon, 19 Nov 2018 04:14:19 +0000</resolved>
                                    <version>1.7.4</version>
                                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16684626" author="thiru_mg" created="Tue, 13 Nov 2018 02:12:16 +0000"  >&lt;p&gt;VS 2003 is fifteen years old. Do we need to address this issue? Is there any objection if we close this issue as &apos;WONTFIX&apos;?&lt;/p&gt;</comment>
                            <comment id="16691236" author="thiru_mg" created="Mon, 19 Nov 2018 04:14:19 +0000"  >&lt;p&gt;Won&apos;t fix since the development platform is really old.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Nov 2018 02:12:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1orlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1384] avro-maven-plugin: Can&apos;t import idl files as classpath resources from the same set of sources </title>
                <link>https://issues.apache.org/jira/browse/AVRO-1384</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;We have a use case for importing idl files as classpath resources (it makes possible to re-use idls in downstream artifacts if all imports use classpath resources as opposed to a file-based reference). To enable this, the imports in the same artifacts should be able to use classpath resources for other avro files in the same source structure. &lt;/p&gt;

&lt;p&gt;The proposed approach is to just add the source directory of avro files to the classpath. The avro resources would then follow the directory structure. This means that if someone configures the avro-maven-plugin with a source directory like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;sourceDirectory&amp;gt;${project.basedir}/src/main/resources&amp;lt;/sourceDirectory&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;  

&lt;p&gt;And the idl files live under &lt;tt&gt;project.basedir/src/main/resources/avro&lt;/tt&gt;, the imports could be referencing other avro files like this: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; idl &lt;span class=&quot;code-quote&quot;&gt;&quot;avro/otherSchema.avdl&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Things open for discussion: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Any documentation required to make this clear to end-users?&lt;/li&gt;
	&lt;li&gt;Should I add the resources directories to the classpath as well?&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12672846">AVRO-1384</key>
            <summary>avro-maven-plugin: Can&apos;t import idl files as classpath resources from the same set of sources </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alexandre.normand">Alexandre Normand</assignee>
                                    <reporter username="alexandre.normand">Alexandre Normand</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 16:57:56 +0000</created>
                <updated>Thu, 23 Jan 2014 21:58:55 +0000</updated>
                            <resolved>Tue, 5 Nov 2013 23:15:01 +0000</resolved>
                                    <version>1.7.5</version>
                                    <fixVersion>1.7.6</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13789391" author="alexandre.normand" created="Tue, 8 Oct 2013 16:59:27 +0000"  >&lt;p&gt;This is my first draft of the patch. It includes a new avdl file in the test resources that result in a failure before the patch and succeeds after it. &lt;/p&gt;</comment>
                            <comment id="13789623" author="alexandre.normand" created="Tue, 8 Oct 2013 20:06:53 +0000"  >&lt;p&gt;Attached a new version with removal of extra formatting changes and clearer javadoc on &lt;tt&gt;sourceDirectory&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13790986" author="alexandre.normand" created="Wed, 9 Oct 2013 23:18:21 +0000"  >&lt;p&gt;Any strong objections to this? I&apos;m just trying to get a sense of the likelihood of this being accepted. If it looks reasonable, I might start using my build and rely on that feature. &lt;/p&gt;</comment>
                            <comment id="13791003" author="cutting" created="Wed, 9 Oct 2013 23:36:41 +0000"  >&lt;p&gt;This sounds reasonable to me.  I have not yet had the chance to review it closely but will try too soon.&lt;/p&gt;</comment>
                            <comment id="13803525" author="alexandre.normand" created="Wed, 23 Oct 2013 23:12:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt;: Can I be audacious and ask for a quick review of this patch? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13805731" author="cutting" created="Fri, 25 Oct 2013 21:44:40 +0000"  >&lt;p&gt;Sorry it took so long for me to look at this!&lt;/p&gt;

&lt;p&gt;It looks fine except for the inclusion of some unnecessary whitespace-only changes.  Here&apos;s a version of the patch without those.&lt;/p&gt;

&lt;p&gt;Unless someone objects, I&apos;ll commit this soon.&lt;/p&gt;</comment>
                            <comment id="13805736" author="alexandre.normand" created="Fri, 25 Oct 2013 21:48:30 +0000"  >&lt;p&gt;Thanks! (and sorry about the extra white-spaces)&lt;/p&gt;</comment>
                            <comment id="13814380" author="jira-bot" created="Tue, 5 Nov 2013 23:14:49 +0000"  >&lt;p&gt;Commit 1539184 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cutting&quot; class=&quot;user-hover&quot; rel=&quot;cutting&quot;&gt;Doug Cutting&lt;/a&gt; in branch &apos;avro/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1539184&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1539184&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1384&quot; title=&quot;avro-maven-plugin: Can&amp;#39;t import idl files as classpath resources from the same set of sources &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1384&quot;&gt;&lt;del&gt;AVRO-1384&lt;/del&gt;&lt;/a&gt;. Java: Permit Maven to find imports within project.  Contributed by Alexandre Normand.&lt;/p&gt;</comment>
                            <comment id="13814381" author="cutting" created="Tue, 5 Nov 2013 23:15:01 +0000"  >&lt;p&gt;I committed this.  Thanks, Alexandre.&lt;/p&gt;</comment>
                            <comment id="13814430" author="hudson" created="Wed, 6 Nov 2013 00:14:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in AvroJava #400 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/400/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/400/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1384&quot; title=&quot;avro-maven-plugin: Can&amp;#39;t import idl files as classpath resources from the same set of sources &quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1384&quot;&gt;&lt;del&gt;AVRO-1384&lt;/del&gt;&lt;/a&gt;. Java: Permit Maven to find imports within project.  Contributed by Alexandre Normand. (cutting: rev 1539184)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/maven-plugin/src/main/java/org/apache/avro/mojo/AbstractAvroMojo.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/maven-plugin/src/main/java/org/apache/avro/mojo/IDLProtocolMojo.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/maven-plugin/src/test/avro/AvdlClasspathImport.avdl&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/maven-plugin/src/test/java/org/apache/avro/mojo/TestIDLProtocolMojo.java&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/java/maven-plugin/src/test/resources/unit/idl/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12607419" name="AVRO-1384-rev1.patch" size="6956" author="alexandre.normand" created="Tue, 8 Oct 2013 20:06:53 +0000"/>
                            <attachment id="12610393" name="AVRO-1384.patch" size="5686" author="cutting" created="Fri, 25 Oct 2013 21:44:40 +0000"/>
                            <attachment id="12607382" name="AVRO-1384.patch" size="7626" author="alexandre.normand" created="Tue, 8 Oct 2013 16:59:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Oct 2013 23:36:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1orpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1385] Enum reader/writer resolution doesn&apos;t report errors</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1385</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;According to the specification, when a reader enum does not contain all symbols from the writer enum, an error should be signaled.&lt;/p&gt;

&lt;p&gt;ResolvingGrammarGenerator fails to report such errors.&lt;br/&gt;
In particular, mkEnumAdjust() silently maps unknown symbols of the writers with symbols named &quot;No match for &lt;span class=&quot;error&quot;&gt;&amp;#91;writer symbol&amp;#93;&lt;/span&gt;&quot;.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/io/parsing/ResolvingGrammarGenerator.java#L409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/io/parsing/ResolvingGrammarGenerator.java#L409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t this instead create an ErrorAction?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672928">AVRO-1385</key>
            <summary>Enum reader/writer resolution doesn&apos;t report errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kryzthov">Christophe Taton</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 23:54:23 +0000</created>
                <updated>Thu, 17 Oct 2013 15:33:37 +0000</updated>
                            <resolved>Thu, 17 Oct 2013 05:10:47 +0000</resolved>
                                    <version>1.7.5</version>
                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13792217" author="kryzthov" created="Fri, 11 Oct 2013 01:26:34 +0000"  >&lt;p&gt;Here is a patch with a proposed change.&lt;/p&gt;</comment>
                            <comment id="13792222" author="kryzthov" created="Fri, 11 Oct 2013 01:30:07 +0000"  >&lt;p&gt;I am not sure whether this approach works fine. Reading through the unit-tests, it looks like decoding an enum &lt;/p&gt;
{ A, B, C }
&lt;p&gt; as an enum &lt;/p&gt;
{ B, C }
&lt;p&gt; is supposed to not trigger any error at schema resolution time. I believe that this contradicts the specification. Do I misunderstand something?&lt;/p&gt;</comment>
                            <comment id="13792255" author="graham sanderson" created="Fri, 11 Oct 2013 02:07:49 +0000"  >&lt;p&gt;Note I didn&apos;t write the spec, but notice it is very clear that in the enum section, it doesn&apos;t used the word &quot;schema&quot; at all whereas it does in others.&lt;/p&gt;

&lt;p&gt;Personally I think this is desirable behavior for enums (and indeed the code appears to have been written this way), i.e. the reader&apos;s enum schema can be different from the writer&apos;s enum schema, as long as you don&apos;t attempt to read records containing enum values not in the reader&apos;s enum schema. Otherwise evolving schemas to remove enum values would be impossible.&lt;/p&gt;</comment>
                            <comment id="13792257" author="cutting" created="Fri, 11 Oct 2013 02:11:33 +0000"  >&lt;p&gt;Perhaps an error should only be thrown when an enum symbol not in the reader&apos;s schema is read?&lt;/p&gt;

&lt;p&gt;The spec says, &quot;if the writer&apos;s symbol is not present in the reader&apos;s enum, then an error is signalled&quot;.&lt;/p&gt;

&lt;p&gt;A related issue is the handling of unions.  If the reader&apos;s union contains a subset of the branches of the writer, should an exception be thrown at resolution time or only when an instance of a missing branch is encountered?  By Postel&apos;s law, we should perhaps throw an error at read-time, not at resolve-time.  If you have an enum symbol or union branch you&apos;ve never used it might be nice to be able to remove it.&lt;/p&gt;</comment>
                            <comment id="13792268" author="kryzthov" created="Fri, 11 Oct 2013 02:31:11 +0000"  >&lt;p&gt;Okay, I misread Avro specification : validation should occurs at runtime.&lt;br/&gt;
Following this principle, shouldn&apos;t int be accepted as a reader schema for a long? This now seems inconsistent to me.&lt;/p&gt;

&lt;p&gt;Secondly, is there any facility to test whether a reader schema will always succeed in decoding any instance of a particular writer schema, ie. statically resolve a pair of reader/writer?&lt;/p&gt;</comment>
                            <comment id="13792287" author="graham sanderson" created="Fri, 11 Oct 2013 02:52:26 +0000"  >&lt;p&gt;Doug - we wrote responses at the same time, but - I was wondering about other cases too, but just read the spec, because enum is a case I particularly care about (though haven&apos;t had to remove yet). I agree with you, but to be specific in this situation; I think that if at least a single possible datum exists written in the writer&apos;s schema that can be read by the reader&apos;s schema, then the failure should only be at runtime. Of course there may be some cases where for one reason or another you might choose to make further restriction for implementation reasons.&lt;/p&gt;</comment>
                            <comment id="13792873" author="cutting" created="Fri, 11 Oct 2013 17:50:14 +0000"  >&lt;p&gt;&amp;gt; Following this principle, shouldn&apos;t int be accepted as a reader schema for a long? This now seems inconsistent to me.&lt;/p&gt;

&lt;p&gt;This would be reasonable if we wanted to check that every value fits in 32 bits and throw exceptions when they don&apos;t.  We shouldn&apos;t silently discard information.&lt;/p&gt;</comment>
                            <comment id="13793914" author="kryzthov" created="Mon, 14 Oct 2013 05:12:47 +0000"  >&lt;p&gt;Hey Doug,&lt;/p&gt;

&lt;p&gt;When you say we shouldn&apos;t silently discard information, what is your opinion on the &quot;promotion&quot; of int to float, or long to float/double?&lt;br/&gt;
These promotions may cause data precision loss, since the 31 bits of an int do not fit in the 23 bits of a float.&lt;/p&gt;

&lt;p&gt;If these conversions are OK, should double also be allowed for promotion as float?&lt;/p&gt;

&lt;p&gt;C.&lt;/p&gt;</comment>
                            <comment id="13793941" author="graham sanderson" created="Mon, 14 Oct 2013 06:21:08 +0000"  >&lt;p&gt;I can see arguments both ways, but personally I think the current behavior is reasonable. Assuming you are the one controlling your schema, I don&apos;t think the intention is to avoid being surprised by a schema change. Removing a no longer used enum value is good... choosing to change the data type of a numeric value to a less precise type (with advanced warning that that is how Avro works) is probably on your own head.&lt;/p&gt;</comment>
                            <comment id="13797605" author="kryzthov" created="Thu, 17 Oct 2013 05:10:47 +0000"  >&lt;p&gt;The Java Avro API implements strict validation at decoding time, not at schema resolution time, so I&apos;ll mark this issue as invalid.&lt;/p&gt;

&lt;p&gt;In KijiSchema, we need strict validation at schema resolution time, so as to determine whether a reader schema is guaranteed to decode any datum encoded using a given writer schema.&lt;/p&gt;

&lt;p&gt;We implemented this validation here: &lt;a href=&quot;https://github.com/kijiproject/kiji-schema/blob/master/kiji-schema/src/main/java/org/kiji/schema/util/AvroUtils.java#L334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/kijiproject/kiji-schema/blob/master/kiji-schema/src/main/java/org/kiji/schema/util/AvroUtils.java#L334&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We&apos;re happy to contribute this to Avro if there is interest.&lt;br/&gt;
C.&lt;/p&gt;</comment>
                            <comment id="13798010" author="cutting" created="Thu, 17 Oct 2013 15:33:37 +0000"  >&lt;p&gt;This seems like it would be a useful contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12607929" name="AVRO-1385.base=a56e7f13c4fa976b7926649b058665f42850a349.20131010-182234.patch" size="6925" author="kryzthov" created="Fri, 11 Oct 2013 01:26:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Oct 2013 02:07:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1os7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
