<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:15:31 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2011-4-27+AND+created+%3C%3D+2011-5-4+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-812] Maven plugin could provide a &quot;help&quot; goal</title>
                <link>https://issues.apache.org/jira/browse/AVRO-812</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Maven plugins can output a nice description of their goals via a plugin:help goal. This can be autogenerated (via &lt;a href=&quot;http://maven.apache.org/plugins/maven-plugin-plugin/helpmojo-mojo.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/plugins/maven-plugin-plugin/helpmojo-mojo.html&lt;/a&gt;) as part of the build.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505286">AVRO-812</key>
            <summary>Maven plugin could provide a &quot;help&quot; goal</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="h2o">Holger Hoffst&#228;tte</assignee>
                                    <reporter username="h2o">Holger Hoffst&#228;tte</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Apr 2011 09:16:16 +0000</created>
                <updated>Fri, 6 May 2011 19:13:59 +0000</updated>
                            <resolved>Fri, 29 Apr 2011 22:09:52 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.1</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13025744" author="h2o" created="Wed, 27 Apr 2011 11:34:20 +0000"  >&lt;p&gt;Here is a trivial patch (straight from the plugin-plugin example) that automagically generates the help goal. It also fixes a typo.&lt;/p&gt;</comment>
                            <comment id="13025745" author="h2o" created="Wed, 27 Apr 2011 11:38:32 +0000"  >&lt;p&gt;mvn avro:help now gives:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;..&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Apache Avro Maven Plugin&lt;br/&gt;
  Maven plugin for Avro IDL and Specific API Compilers&lt;/p&gt;

&lt;p&gt;This plugin has 4 goals:&lt;/p&gt;

&lt;p&gt;avro:help&lt;br/&gt;
  Display help information on avro-maven-plugin.&lt;br/&gt;
  Call&lt;br/&gt;
    mvn avro:help -Ddetail=true -Dgoal=&amp;lt;goal-name&amp;gt;&lt;br/&gt;
  to display parameter details.&lt;/p&gt;

&lt;p&gt;avro:idl-protocol&lt;br/&gt;
  Compile an Avro schema file.&lt;/p&gt;

&lt;p&gt;avro:protocol&lt;br/&gt;
  Compile an Avro protocol schema file.&lt;/p&gt;

&lt;p&gt;avro:schema&lt;br/&gt;
  Compile an Avro schema file.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;..&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s not entirely clear to me what the differences between the goals are, as idl-protocol and schema claim to do the same. A few clarifying comments added to the respective goals would be nice.&lt;/p&gt;</comment>
                            <comment id="13025885" author="scott_carey" created="Wed, 27 Apr 2011 16:40:45 +0000"  >&lt;p&gt;avro:idl-protocol&lt;br/&gt;
Generate Java classes and interfaces from AvroIDL files (.avdl)&lt;/p&gt;

&lt;p&gt;avro:protocol&lt;br/&gt;
Generate Java classes and interfaces from Avro protocol files (.avpr)&lt;/p&gt;

&lt;p&gt;avro:schema&lt;br/&gt;
Generate Java classes from Avro schema files (.avsc)&lt;/p&gt;</comment>
                            <comment id="13026172" author="h2o" created="Thu, 28 Apr 2011 07:31:40 +0000"  >&lt;p&gt;Patch for better descriptions of the different plugin goals. Thanks Scott &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13026399" author="scott_carey" created="Thu, 28 Apr 2011 18:13:44 +0000"  >&lt;p&gt;+1, looks good to me.&lt;/p&gt;</comment>
                            <comment id="13027127" author="cutting" created="Fri, 29 Apr 2011 18:36:52 +0000"  >&lt;p&gt;I&apos;d like to commit this today and get it into 1.5.1 but I cannot yet verify that it works.&lt;/p&gt;

&lt;p&gt;When I run &apos;mvn avro:help&apos;, even after a &apos;mvn clean install&apos;, I see:&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; No plugin found for prefix &apos;avro&apos; in the current project and in the plugin groups &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.maven.plugins, org.codehaus.mojo&amp;#93;&lt;/span&gt; available from the repositories &lt;span class=&quot;error&quot;&gt;&amp;#91;local (/home/cutting/.m2/repository), central (http://repo1.maven.org/maven2)&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;What more is required?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13027145" author="h2o" created="Fri, 29 Apr 2011 19:07:29 +0000"  >&lt;p&gt;I was puzzled by this too but it&apos;s OK. Just as the message says the plugin is not in the &quot;official&quot; plugin groups, nor are you in a project that refers to the plugin itself. It works correctly if you call it in a client project that uses the plugin.&lt;br/&gt;
I&apos;m not sure if it would work outside a project if we moved the plugin into the official Apache plugin groupId.&lt;/p&gt;</comment>
                            <comment id="13027147" author="sgargan" created="Fri, 29 Apr 2011 19:13:08 +0000"  >&lt;p&gt;In order to run &apos;avro:help&apos; and seethe help output, the plugin needs to be defined in the plugins section of your pom.xml&lt;/p&gt;

&lt;p&gt;To view it without a plugin definition (or project for that matter) you can use the help plugin &lt;/p&gt;

&lt;p&gt;mvn help:describe -Dplugin=org.apache.avro:avro-maven-plugin:1.6.0-SNAPSHOT&lt;/p&gt;

&lt;p&gt;I&apos;ve verified this against the trunk and it outputs &lt;/p&gt;


&lt;p&gt;Name: Apache Avro Maven Plugin&lt;br/&gt;
Description: Maven plugin for Avro IDL and Specific API Compilers&lt;br/&gt;
Group Id: org.apache.avro&lt;br/&gt;
Artifact Id: avro-maven-plugin&lt;br/&gt;
Version: 1.6.0-SNAPSHOT&lt;br/&gt;
Goal Prefix: avro&lt;/p&gt;

&lt;p&gt;This plugin has 4 goals:&lt;/p&gt;

&lt;p&gt;avro:help&lt;br/&gt;
  Description: Display help information on avro-maven-plugin.&lt;br/&gt;
    Call&lt;br/&gt;
      mvn avro:help -Ddetail=true -Dgoal=&amp;lt;goal-name&amp;gt;&lt;br/&gt;
    to display parameter details.&lt;/p&gt;

&lt;p&gt;avro:idl-protocol&lt;br/&gt;
  Description: Generate Java classes and interfaces from AvroIDL files&lt;br/&gt;
    (.avdl)&lt;/p&gt;

&lt;p&gt;avro:protocol&lt;br/&gt;
  Description: Generate Java classes and interfaces from Avro protocol files&lt;br/&gt;
    (.avpr)&lt;/p&gt;

&lt;p&gt;avro:schema&lt;br/&gt;
  Description: Generate Java classes from Avro schema files (.avsc)&lt;/p&gt;

&lt;p&gt;For more information, run &apos;mvn help:describe &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; -Ddetail&apos;&lt;/p&gt;


&lt;p&gt;What branch are you using to put 1.5.1 release together, branches/release-1.5? Let me know and I&apos;ll happily commit it.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Steve.&lt;/p&gt;</comment>
                            <comment id="13027181" author="scott_carey" created="Fri, 29 Apr 2011 20:51:06 +0000"  >&lt;p&gt;avro-ipc uses avro-maven-plugin, so it should work from there.&lt;/p&gt;

&lt;p&gt;make sure that the maven-plugin is installed in your local repo and then run avro:help from the ipc module:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cd lang/java/maven-plugin
$ mvn install -DskipTests
$ cd ../ipc
$ mvn avro:help
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;produces this output:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Avro IPC 1.6.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- avro-maven-plugin:1.6.0-SNAPSHOT:help (default-cli) @ avro-ipc ---
[INFO] org.apache.avro:avro-maven-plugin:1.6.0-SNAPSHOT

Apache Avro Maven Plugin
  Maven plugin for Avro IDL and Specific API Compilers

This plugin has 4 goals:

avro:help
  Display help information on avro-maven-plugin.
  Call
    mvn avro:help -Ddetail=true -Dgoal=&amp;lt;goal-name&amp;gt;
  to display parameter details.

avro:idl-protocol
  Generate Java classes and interfaces from AvroIDL files (.avdl)

avro:protocol
  Generate Java classes and interfaces from Avro protocol files (.avpr)

avro:schema
  Generate Java classes from Avro schema files (.avsc)


[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.955s
[INFO] Finished at: Fri Apr 29 13:49:39 PDT 2011
[INFO] Final Memory: 3M/81M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;



</comment>
                            <comment id="13027183" author="scott_carey" created="Fri, 29 Apr 2011 20:54:22 +0000"  >&lt;p&gt;Also, here is detailed parameter output for the &apos;schema&apos; goal:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Avro IPC 1.6.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- avro-maven-plugin:1.6.0-SNAPSHOT:help (default-cli) @ avro-ipc ---
[INFO] org.apache.avro:avro-maven-plugin:1.6.0-SNAPSHOT

Apache Avro Maven Plugin
  Maven plugin for Avro IDL and Specific API Compilers

avro:schema
  Generate Java classes from Avro schema files (.avsc)

  Available parameters:

    excludes
      A set of Ant-like exclusion patterns used to prevent certain files from
      being processed. By default, this set is empty such that no files are
      excluded.

    includes
      A set of Ant-like inclusion patterns used to select files from the source
      directory for processing. By default, the pattern **/*.avsc is used to
      select grammar files.

    outputDirectory (Default: ${project.build.directory}/generated-sources/avro)
      (no description available)
      Expression: ${outputDirectory}

    sourceDirectory (Default: ${basedir}/src/main/avro)
      (no description available)
      Expression: ${sourceDirectory}

    testExcludes
      A set of Ant-like exclusion patterns used to prevent certain files from
      being processed. By default, this set is empty such that no files are
      excluded.

    testIncludes
      A set of Ant-like inclusion patterns used to select files from the source
      directory for processing. By default, the pattern **/*.avsc is used to
      select grammar files.

    testOutputDirectory (Default:
    ${project.build.directory}/generated-test-sources/avro)
      (no description available)
      Expression: ${outputDirectory}

    testSourceDirectory (Default: ${basedir}/src/test/avro)
      (no description available)
      Expression: ${sourceDirectory}


[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.931s
[INFO] Finished at: Fri Apr 29 13:52:28 PDT 2011
[INFO] Final Memory: 3M/81M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13027215" author="cutting" created="Fri, 29 Apr 2011 22:09:52 +0000"  >&lt;p&gt;I committed this.  Thanks, Holger!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477527" name="create-help.patch" size="991" author="h2o" created="Wed, 27 Apr 2011 11:34:20 +0000"/>
                            <attachment id="12477623" name="goal-descriptions.patch" size="1566" author="h2o" created="Thu, 28 Apr 2011 07:31:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Apr 2011 16:40:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-813] EOFException is thrown during normal operation</title>
                <link>https://issues.apache.org/jira/browse/AVRO-813</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;In an application that uses Avro as RPC mechanism (with the NettyTransceiver, but that&apos;s irrelevant), I&apos;ve noticed in jprofiler that during normal operation quite some time was spent creating EOFExceptions:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  5.4% - 2,004 ms org.apache.avro.ipc.generic.GenericResponder.readRequest
  5.0% - 1,871 ms org.apache.avro.generic.GenericDatumReader.read
  4.9% - 1,832 ms org.apache.avro.generic.GenericDatumReader.read
  4.9% - 1,832 ms org.apache.avro.generic.GenericDatumReader.readRecord
  4.5% - 1,670 ms org.apache.avro.generic.GenericDatumReader.read
  4.5% - 1,670 ms org.apache.avro.generic.GenericDatumReader.readRecord
  4.3% - 1,596 ms org.apache.avro.generic.GenericDatumReader.read
  2.8% - 1,048 ms org.apache.avro.generic.GenericDatumReader.readArray
  1.3% - 477 ms org.apache.avro.io.ValidatingDecoder.arrayNext
  1.3% - 471 ms org.apache.avro.io.BinaryDecoder.arrayNext
  1.3% - 466 ms org.apache.avro.io.BinaryDecoder.doReadItemCount
  1.3% - 466 ms org.apache.avro.io.BinaryDecoder.readLong
  1.3% - 466 ms org.apache.avro.io.BinaryDecoder.ensureBounds
  1.3% - 466 ms org.apache.avro.io.BinaryDecoder$ByteSource.compactAndFill
  1.3% - 466 ms org.apache.avro.io.BinaryDecoder$InputStreamByteSource.tryReadRaw
  1.3% - 466 ms org.apache.avro.util.ByteBufferInputStream.read
  1.3% - 466 ms org.apache.avro.util.ByteBufferInputStream.getBuffer
  1.3% - 466 ms java.io.EOFException.&amp;lt;init&amp;gt;
  1.3% - 466 ms java.io.IOException.&amp;lt;init&amp;gt;
  1.2% - 460 ms java.lang.Exception.&amp;lt;init&amp;gt;
  1.2% - 460 ms java.lang.Throwable.&amp;lt;init&amp;gt;
  1.2% - 460 ms java.lang.Throwable.fillInStackTrace
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;These exceptions are produced by the ByteBufferInputStream (which modifies InputStream&apos;s contract: return -1 at eof), but are catched higher up by the tryReadRaw method.&lt;/p&gt;

&lt;p&gt;What happens is this:&lt;/p&gt;

&lt;p&gt;The message in question has an (empty) array at the end of its message, thus the reader tries to read the size of this array in BinaryDecoder.readLong. This calls ensureBounds(10), whose contract is that it should read 10 bytes if they are available, and otherwise be quiet. ensureBounds calls via compactAndFill the tryReadRaw method. It is this method which catches the EOFException, because it only &apos;tries&apos; to read so many bytes.&lt;/p&gt;

&lt;p&gt;Note that InputStreamByteSource.readRaw (without the &apos;try&apos; part) does itself check if read &amp;lt; 0 in order to throw EOFException, making the throwing of EOFException in ByteBufferInputStream unnecessary (for this particular usage).&lt;/p&gt;

&lt;p&gt;There was some talk about EOFException in &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-392&quot; title=&quot;Binary Decoder Performance and flexibility overhaul&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-392&quot;&gt;&lt;del&gt;AVRO-392&lt;/del&gt;&lt;/a&gt; too, though it seems this particular common case was not mentioned there. When using Avro RPC, or more in general, when using Avro to read small messages rather than large files, it seems like one can very easily run into this EOFException situation, which hurts performance.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a patch which simply removes the throwing of EOFException in ByteBufferInputStream, but this will likely break other cases which rely on the EOFException being thrown (haven&apos;t researched this to the bottom).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505323">AVRO-813</key>
            <summary>EOFException is thrown during normal operation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bruno">Bruno Dumon</assignee>
                                    <reporter username="bruno">Bruno Dumon</reporter>
                        <labels>
                            <label>memex</label>
                    </labels>
                <created>Wed, 27 Apr 2011 15:44:21 +0000</created>
                <updated>Fri, 29 Jan 2016 12:35:31 +0000</updated>
                                            <version>1.5.0</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13025893" author="scott_carey" created="Wed, 27 Apr 2011 16:53:12 +0000"  >&lt;p&gt;There is some trickiness due to some common InputStreams not quite implementing the contract correctly (Deflate/Gzip were troublesome IIRC).  The ensureBounds() contract is critical for performance, but how it is achieved is much less important.   I don&apos;t have time to have a deeper look at the moment but I believe there is room for improvement here.&lt;/p&gt;</comment>
                            <comment id="14130454" author="lewismc" created="Thu, 11 Sep 2014 18:22:33 +0000"  >&lt;p&gt;I &apos;think&apos; we&apos;ve just run into this bug over on Gora when a user of Nutch upgraded Gora from 0.4 --&amp;gt; 0.5-SNAPSHOT (which we are about to release).&lt;br/&gt;
&lt;a href=&quot;http://s.apache.org/nh7&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://s.apache.org/nh7&lt;/a&gt;&lt;br/&gt;
I would like to get this fixed...&lt;br/&gt;
We are currently silently embracing this kind of Exception in the GoraMapper (which is also not good and we need to address this).&lt;/p&gt;</comment>
                            <comment id="14132903" author="lewismc" created="Sat, 13 Sep 2014 19:39:30 +0000"  >&lt;p&gt;Hi Folks, it appears that applying the changes to Avro as per the patch attached here enables us to work with the stack of Nutch 2.3-SNAPSHOT (Gora 0.4/ HBase 0.94.13/Avro 1.7.4) running against the HBase tables that were filled by Nutch 2.2.1 (Gora 0.3/ HBase 0.90.4/Avro 1.3.3).&lt;/p&gt;

&lt;p&gt;Please see &lt;a href=&quot;http://www.mail-archive.com/user%40nutch.apache.org/msg12660.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user%40nutch.apache.org/msg12660.html&lt;/a&gt; for more context on this one.&lt;/p&gt;</comment>
                            <comment id="14146222" author="dobromyslov" created="Wed, 24 Sep 2014 11:26:19 +0000"  >&lt;p&gt;Same trouble with Nutch 2.3-SNAPSHOT, Gora 0.5, HBase 0.94.18, Hadoop 2.4.0.&lt;/p&gt;</comment>
                            <comment id="14146320" author="lewismc" created="Wed, 24 Sep 2014 13:45:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dobromyslov&quot; class=&quot;user-hover&quot; rel=&quot;dobromyslov&quot;&gt;Viacheslav Dobromyslov&lt;/a&gt; can you please confirm if the patch attached here solves it for you?&lt;/p&gt;</comment>
                            <comment id="14148831" author="dobromyslov" created="Fri, 26 Sep 2014 06:22:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lewismc&quot; class=&quot;user-hover&quot; rel=&quot;lewismc&quot;&gt;Lewis John McGibbney&lt;/a&gt;, yes. The patch helped.&lt;/p&gt;</comment>
                            <comment id="14149792" author="cutting" created="Fri, 26 Sep 2014 18:49:55 +0000"  >&lt;p&gt;The patch looks reasonable to me and all existing tests pass.&lt;/p&gt;

&lt;p&gt;We can note this as an incompatible change for Avro 1.8.&lt;/p&gt;

&lt;p&gt;I&apos;m happy to commit it if someone adds new tests that fail without this change.  &lt;/p&gt;</comment>
                            <comment id="14379032" author="wh007" created="Wed, 25 Mar 2015 00:43:03 +0000"  >&lt;p&gt;Hi Folks, I use Nutch 2.3 (Gora 0.6/ HBase 0.98.10.1/Avro 1.7.6) running &apos;crawl&apos; also appear this error.&lt;/p&gt;</comment>
                            <comment id="14747050" author="lewismc" created="Wed, 16 Sep 2015 07:13:45 +0000"  >&lt;p&gt;Can anyone confirm if the EOFException looks like the following?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.io.EOFException
	at org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:473)
	at org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:128)
	at org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:423)
	at org.apache.avro.io.ResolvingDecoder.doAction(ResolvingDecoder.java:290)
	at org.apache.avro.io.parsing.Parser.advance(Parser.java:88)
	at org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:267)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:178)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:152)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readField(GenericDatumReader.java:240)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readRecord(GenericDatumReader.java:230)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:174)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:152)
	at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:144)
	at org.apache.hadoop.io.serializer.avro.AvroSerialization$AvroDeserializer.deserialize(AvroSerialization.java:127)
	at org.apache.hadoop.mapreduce.task.ReduceContextImpl.nextKeyValue(ReduceContextImpl.java:146)
	at org.apache.hadoop.mapreduce.task.ReduceContextImpl.nextKey(ReduceContextImpl.java:121)
	at org.apache.hadoop.mapreduce.lib.reduce.WrappedReducer$Context.nextKey(WrappedReducer.java:302)
	at org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:170)
	at org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:627)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:389)
	at org.apache.hadoop.mapred.LocalJobRunner$Job$ReduceTaskRunnable.run(LocalJobRunner.java:319)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14747053" author="lewismc" created="Wed, 16 Sep 2015 07:15:39 +0000"  >&lt;p&gt;BTW, the above was obtained using Nutch 2.3.1 HEAD, Gora 0.6.1, Avro 1.9.0-SNAPSHOT (patched with the attached patch on this issue) and Hadoop 2.5.1.&lt;br/&gt;
I encounter it when I run a JUnit test in Nutch 2.3.1, so it can be very easily replicated.&lt;/p&gt;</comment>
                            <comment id="14790628" author="rdblue" created="Wed, 16 Sep 2015 16:10:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lewismc&quot; class=&quot;user-hover&quot; rel=&quot;lewismc&quot;&gt;Lewis John McGibbney&lt;/a&gt;, I think this issue is reporting the fact that an exception is thrown and caught in some circumstances internally. I&apos;ve not see a case where that exception makes it up to the caller. If you&apos;re seeing an EOFException, it is probably a real one.&lt;/p&gt;

&lt;p&gt;I&apos;ve debugged this kind of thing before and it has always been a real EOFException, usually caused by files that have been cut short. If you can, I recommend checking the producer to ensure that the file writer is closed properly.&lt;/p&gt;</comment>
                            <comment id="14791584" author="lewismc" created="Thu, 17 Sep 2015 05:06:28 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rdblue&quot; class=&quot;user-hover&quot; rel=&quot;rdblue&quot;&gt;Ryan Blue&lt;/a&gt;, I found my issue. In my application I was not defining any particular serialzation definitions and was subsequently serializing the wrong data with the wrong code!&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;io.serializations&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;org.apache.hadoop.io.serializer.WritableSerialization,org.apache.hadoop.io.serializer.JavaSerialization&amp;lt;/value&amp;gt;
  &amp;lt;!-- org.apache.hadoop.io.serializer.avro.AvroSpecificSerialization,
  org.apache.hadoop.io.serializer.avro.AvroReflectSerialization,
  org.apache.hadoop.io.serializer.avro.AvroGenericSerialization, --&amp;gt;
  &amp;lt;description&amp;gt;A list of serialization classes that can be used &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;
  obtaining serializers and deserializers.&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks for reply.&lt;/p&gt;</comment>
                            <comment id="14986073" author="gcmcnutt" created="Mon, 2 Nov 2015 21:18:00 +0000"  >&lt;p&gt;I&apos;ve run into a similar case:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;code that has been running just fine on windows and linux (aws) implementations for a year&lt;/li&gt;
	&lt;li&gt;flipping over to an OSX dev environment and I quite often see these errors on receipt of a binary encoded response message.&lt;/li&gt;
	&lt;li&gt;ONLY when client and server on same mac does this exception show up:&lt;br/&gt;
 windows &amp;lt;-&amp;gt; windows &amp;#8211; fine&lt;br/&gt;
 windows client &amp;lt;-&amp;gt; mac server &amp;#8211; fine&lt;br/&gt;
 mac client &amp;lt;-&amp;gt; windows server &amp;#8211; fine&lt;br/&gt;
 mac client &amp;lt;-&amp;gt; mac server &amp;#8211; fails around 25 % of the time&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This trace shows the capture &amp;#8211; the returned byte stream and the avro portion look to be ok.  Any suggestions?  The ensureBounds(10) seems suspect.&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;2015-11-02T13:01:26.208-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG httpclient.wire.content, principal=, sourceAddr=, - &amp;lt;&amp;lt; &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x2&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x16&amp;#93;&lt;/span&gt;avro.schema&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb6&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x3&amp;#93;&lt;/span&gt;{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;StoreWireResult&quot;,&quot;namespace&quot;:&quot;com.guidewire.live.dataService.wire&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;message&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}},&lt;/p&gt;
{&quot;name&quot;:&quot;data&quot;,&quot;type&quot;:&quot;bytes&quot;,&quot;default&quot;:&quot;&quot;}
&lt;p&gt;]}&lt;span class=&quot;error&quot;&gt;&amp;#91;0x0&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xbd&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xea&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x81&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x86&amp;#93;&lt;/span&gt;C^&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb2&amp;#93;&lt;/span&gt;/9&lt;span class=&quot;error&quot;&gt;&amp;#91;0xaa&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xea&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x8d&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xd2&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xc7&amp;#93;&lt;/span&gt;2&lt;span class=&quot;error&quot;&gt;&amp;#91;0xbf&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x2&amp;#93;&lt;/span&gt;h&lt;span class=&quot;error&quot;&gt;&amp;#91;0x4&amp;#93;&lt;/span&gt;ok`df/b7/3d/20/dfb73d20-b489-4e98-96b9-c428c1b49d48&lt;span class=&quot;error&quot;&gt;&amp;#91;0xbd&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xea&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x81&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x86&amp;#93;&lt;/span&gt;C^&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb2&amp;#93;&lt;/span&gt;/9&lt;span class=&quot;error&quot;&gt;&amp;#91;0xaa&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xea&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0x8d&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xd2&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0xc7&amp;#93;&lt;/span&gt;2&lt;span class=&quot;error&quot;&gt;&amp;#91;0xbf&amp;#93;&lt;/span&gt;&quot;&lt;br/&gt;
2015-11-02T13:12:19.226-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.httpclient.HttpMethodBase, principal=, sourceAddr=, - Should close connection in response to directive: close&lt;br/&gt;
2015-11-02T13:12:19.227-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.httpclient.HttpConnection, principal=, sourceAddr=, - Releasing connection back to connection manager.&lt;br/&gt;
2015-11-02T13:12:19.227-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.httpclient.MultiThreadedHttpConnectionManager, principal=, sourceAddr=, - Freeing connection, hostConfig=HostConfiguration&lt;span class=&quot;error&quot;&gt;&amp;#91;host=http://127.0.0.1:8098&amp;#93;&lt;/span&gt;&lt;br/&gt;
2015-11-02T13:12:19.227-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.httpclient.util.IdleConnectionHandler, principal=, sourceAddr=, - Adding connection at: 1446498739227&lt;br/&gt;
2015-11-02T13:12:19.227-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.httpclient.MultiThreadedHttpConnectionManager, principal=, sourceAddr=, - Notifying no-one, there are no waiting threads&lt;br/&gt;
2015-11-02T13:12:19.227-0800 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; WARN  com.guidewire.live.dataService.services.RemoteDataServiceImpl, principal=, sourceAddr=, - &amp;lt;Remote&amp;gt; url=&lt;a href=&quot;http://127.0.0.1:8098/data/store&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://127.0.0.1:8098/data/store&lt;/a&gt;, retry=0&lt;br/&gt;
com.guidewire.live.dataService.DataServiceException: /data/store&lt;br/&gt;
	at com.guidewire.live.dataService.services.RemoteDataServiceImpl.transportOperation(RemoteDataServiceImpl.java:160)&lt;br/&gt;
	at com.guidewire.live.dataService.services.RemoteDataServiceImpl.storeWire(RemoteDataServiceImpl.java:84)&lt;br/&gt;
	at com.guidewire.live.dataService.services.StoreAsyncService$StoreResultCallable.call(StoreAsyncService.java:267)&lt;br/&gt;
	at com.guidewire.live.dataService.services.StoreAsyncService$StoreResultCallable.call(StoreAsyncService.java:236)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.net.SocketException: Connection reset&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:209)&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:141)&lt;br/&gt;
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)&lt;br/&gt;
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)&lt;br/&gt;
	at org.apache.commons.httpclient.WireLogInputStream.read(WireLogInputStream.java:69)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:133)&lt;br/&gt;
	at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:108)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder$InputStreamByteSource.tryReadRaw(BinaryDecoder.java:839)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder$ByteSource.compactAndFill(BinaryDecoder.java:692)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:471)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.readLong(BinaryDecoder.java:160)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.doReadItemCount(BinaryDecoder.java:361)&lt;br/&gt;
	at org.apache.avro.io.BinaryDecoder.readMapStart(BinaryDecoder.java:408)&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.initialize(DataFileStream.java:107)&lt;br/&gt;
	at org.apache.avro.file.DataFileStream.&amp;lt;init&amp;gt;(DataFileStream.java:84)&lt;br/&gt;
	at com.guidewire.live.dataService.util.AvroSerde.fileStreamToObject(AvroSerde.java:80)&lt;br/&gt;
	at com.guidewire.live.dataService.services.RemoteDataServiceImpl.transportOperation(RemoteDataServiceImpl.java:157)&lt;br/&gt;
	... 7 more&lt;/p&gt;
</comment>
                            <comment id="14986083" author="rdblue" created="Mon, 2 Nov 2015 21:23:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gcmcnutt&quot; class=&quot;user-hover&quot; rel=&quot;gcmcnutt&quot;&gt;Greg McNutt&lt;/a&gt;, I don&apos;t think this issue applies to your current problem. Your problem appears to be that the connection was reset. That happens in your network stack rather than in Avro.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477556" name="avro-813-patch.txt" size="2216" author="bruno" created="Wed, 27 Apr 2011 15:45:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Apr 2011 16:53:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[AVRO-814] SpecificDatumReader.newRecord always looks up the classname</title>
                <link>https://issues.apache.org/jira/browse/AVRO-814</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Even when given an instance of the record class, SpecificDatumReader looks up the Class in the SpecificData Class cache. This breaks decoding into subclasses of a generated record class without programmatically modifying the schema of the subclass, and is probably unnecessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505826">AVRO-814</key>
            <summary>SpecificDatumReader.newRecord always looks up the classname</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stuhood">Stu Hood</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Apr 2011 23:05:40 +0000</created>
                <updated>Tue, 13 Dec 2011 19:06:54 +0000</updated>
                            <resolved>Wed, 4 May 2011 18:16:37 +0000</resolved>
                                                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13027912" author="cutting" created="Mon, 2 May 2011 23:16:32 +0000"  >&lt;p&gt;I&apos;m not exactly sure what you want to happen.  Do you want a SpecificDatumReader(Class) to retain a pointer to the class and use that in newRecord()?  If so, that will only work for the class of the top-level instance, nested classes would still use the class named in the schema.&lt;/p&gt;</comment>
                            <comment id="13027984" author="stuhood" created="Tue, 3 May 2011 01:50:34 +0000"  >&lt;p&gt;I guess what I&apos;m proposing is that when given an object, newRecord would not bother to validate that it is the &quot;correct&quot; class.&lt;/p&gt;</comment>
                            <comment id="13028299" author="cutting" created="Tue, 3 May 2011 16:32:21 +0000"  >&lt;p&gt;In the case of a union this might not do the right thing.  Imagine we have a union of Foo and Bar.  If either the majority of the instances are of Foo, or if there are runs of Foo then runs of Bar, we&apos;d like to be able to re-use instances.  But when a Bar is read, and we pass a Foo instance down for reuse, we need to somehow decide whether it can actually be reused.  With specific we might test whether the instance passed is a subclass of Bar, but we&apos;d need to test at least that.  With the reflect representation even that check may not be correct, as you can have a union containing both a superclass and its subclass.&lt;/p&gt;</comment>
                            <comment id="13028873" author="stuhood" created="Wed, 4 May 2011 18:16:37 +0000"  >&lt;p&gt;&amp;gt; In the case of a union this might not do the right thing.&lt;br/&gt;
Ah, yea... I see. Thanks for the explanation Doug!&lt;/p&gt;

&lt;p&gt;I&apos;ll resolve this issue to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-248&quot; title=&quot;make unions a named type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-248&quot;&gt;AVRO-248&lt;/a&gt;, which seems like it will remove a lot of uncertainty from .specific.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 May 2011 23:16:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-815] Netty Transceiver fails processing one-way messages</title>
                <link>https://issues.apache.org/jira/browse/AVRO-815</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The Requestor uses the writeBuffers call on Transceivers to send one-way messages and the current NettyTranscevier throws an UnsupportedOperationException when this is called. A minor change is required to send a NettyDataPack instead. The unit tests use the shared sample protocol &apos;mail.avpr&apos; and this will need a one-way message definition &apos;fireandforget&apos; to allow testing of the one-way behavior. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12506101">AVRO-815</key>
            <summary>Netty Transceiver fails processing one-way messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgargan">Stephen Gargan</assignee>
                                    <reporter username="sgargan">Stephen Gargan</reporter>
                        <labels>
                            <label>ipc</label>
                            <label>netty</label>
                    </labels>
                <created>Tue, 3 May 2011 21:10:44 +0000</created>
                <updated>Fri, 12 Aug 2011 20:22:33 +0000</updated>
                            <resolved>Tue, 3 May 2011 21:25:23 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.5.2</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13028435" author="sgargan" created="Tue, 3 May 2011 21:25:23 +0000"  >&lt;p&gt;Added fix in the Transciever to send a NettyDataPack similar to request/response call. Updated the protocol definition and unit tests to appropriately test this.&lt;/p&gt;</comment>
                            <comment id="13028447" author="cutting" created="Tue, 3 May 2011 21:35:19 +0000"  >&lt;p&gt;Stephen, can you please update the 1.6.0 section of CHANGES.txt in trunk, adding a brief description of this?  Also, the general practice in Avro is to wait at a day or two after a patch is posted before committing it, in order to give others an opportunity to comment.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/AVRO/how-to-contribute.html#HowToContribute-CommittingGuidelinesforcommitters&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/AVRO/how-to-contribute.html#HowToContribute-CommittingGuidelinesforcommitters&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for fixing this bug!&lt;/p&gt;</comment>
                            <comment id="13028522" author="sgargan" created="Wed, 4 May 2011 00:22:41 +0000"  >&lt;p&gt;I&apos;ve added the comment to the CHANGES.txt. Apologies for jumping the gun with the fix.  &lt;/p&gt;</comment>
                            <comment id="13051223" author="cutting" created="Fri, 17 Jun 2011 17:56:35 +0000"  >&lt;p&gt;I merged this to the 1.5 branch for inclusion in 1.5.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 May 2011 21:35:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e2mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
