<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Mon Jan 21 19:17:43 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+AVRO+AND+created+%3E%3D+2012-9-19+AND+created+%3C%3D+2012-9-26+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="4" total="4"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[AVRO-1170] Avro&apos;s new mapreduce APIs don&apos;t work with Hadoop 2</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1170</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Avro does not compile against Hadoop since some interfaces were changed to classes between Hadoop 1 and 2 (e.g. TaskAttemptContext).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608248">AVRO-1170</key>
            <summary>Avro&apos;s new mapreduce APIs don&apos;t work with Hadoop 2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tomwhite">Tom White</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Sep 2012 14:35:42 +0000</created>
                <updated>Fri, 11 Jan 2013 16:54:15 +0000</updated>
                            <resolved>Thu, 27 Sep 2012 13:28:20 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.7.3</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13458725" author="tomwhite" created="Wed, 19 Sep 2012 14:47:10 +0000"  >&lt;p&gt;Here are the compilation failures:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project avro-mapred: Compilation failure: Compilation failure:
[ERROR] /Users/tom/workspace/avro-trunk/lang/java/mapred/src/main/java/org/apache/hadoop/io/SequenceFileBase.java:[44,6] cannot find symbol
[ERROR] symbol  : constructor BlockCompressWriter(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path,java.lang.Class,java.lang.Class,int,short,long,org.apache.hadoop.io.compress.CompressionCodec,org.apache.hadoop.util.Progressable,org.apache.hadoop.io.SequenceFile.Metadata)
[ERROR] location: class org.apache.hadoop.io.SequenceFile.BlockCompressWriter
[ERROR] /Users/tom/workspace/avro-trunk/lang/java/mapred/src/main/java/org/apache/hadoop/io/SequenceFileBase.java:[58,6] cannot find symbol
[ERROR] symbol  : constructor RecordCompressWriter(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path,java.lang.Class,java.lang.Class,int,short,long,org.apache.hadoop.io.compress.CompressionCodec,org.apache.hadoop.util.Progressable,org.apache.hadoop.io.SequenceFile.Metadata)
[ERROR] location: class org.apache.hadoop.io.SequenceFile.RecordCompressWriter
[ERROR] /Users/tom/workspace/avro-trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/AvroMultipleOutputs.java:[425,37] org.apache.hadoop.mapreduce.TaskAttemptContext is abstract; cannot be instantiated
[ERROR] /Users/tom/workspace/avro-trunk/lang/java/mapred/src/main/java/org/apache/avro/mapreduce/AvroMultipleOutputs.java:[498,18] org.apache.hadoop.mapreduce.TaskAttemptContext is abstract; cannot be instantiated
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first two are because the constructors for SequenceFile.BlockCompressWriter and SequenceFile.RecordCompressWriter have changed between Hadoop 1 and 2. I&apos;ll file a Hadoop JIRA for this.&lt;/p&gt;

&lt;p&gt;The second two are because of the change in TaskAttemptContext. This can be solved via reflection and separate Maven artifacts for the mapred JAR. The same problem was fixed in MRUnit, see &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-31&quot; title=&quot;Support Hadoop 0.22 and 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-31&quot;&gt;&lt;del&gt;MRUNIT-31&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-56&quot; title=&quot;0.8.0 release does not work with Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-56&quot;&gt;&lt;del&gt;MRUNIT-56&lt;/del&gt;&lt;/a&gt; for some background.&lt;/p&gt;</comment>
                            <comment id="13458739" author="tomwhite" created="Wed, 19 Sep 2012 15:05:56 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8825&quot; title=&quot;Reinstate constructors in SequenceFile.BlockCompressWriter and SequenceFile.RecordCompressWriter for compatibility with Hadoop 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8825&quot;&gt;&lt;del&gt;HADOOP-8825&lt;/del&gt;&lt;/a&gt; for the SequenceFile changes.&lt;/p&gt;

&lt;p&gt;Here&apos;s a patch that uses patched Hadoop JARs with the &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8825&quot; title=&quot;Reinstate constructors in SequenceFile.BlockCompressWriter and SequenceFile.RecordCompressWriter for compatibility with Hadoop 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8825&quot;&gt;&lt;del&gt;HADOOP-8825&lt;/del&gt;&lt;/a&gt; fix. Avro now compiles against Hadoop 2, however there is more work to produce separate Maven artifacts (probably via profiles).&lt;/p&gt;</comment>
                            <comment id="13458787" author="cutting" created="Wed, 19 Sep 2012 16:10:27 +0000"  >&lt;p&gt;For the createTaskAttemptContext stuff we should add a comment explaining the purpose of this, to work around incompatible API changes.&lt;/p&gt;

&lt;p&gt;For the pom.xml changes, note that the parent pom.xml sets the default version for Hadoop in Avro to 0.20.205.0, so the change here is only for the mapred module, not for the other modules that depend on hadoop (tools and trevni).  Perhaps that&apos;s intended, so that we end up testing against both versions of Hadoop.  If so, we should add a comment to that effect.  If its not intended then the version should probably be set in the parent pom.xml.  That said, we should not add a dependency on a SNAPSHOT pom, so we&apos;ll probably not commit this until there&apos;s a Hadoop release that contains the required changes or we figure out another way to fix this.&lt;/p&gt;</comment>
                            <comment id="13458829" author="tomwhite" created="Wed, 19 Sep 2012 16:38:22 +0000"  >&lt;p&gt;Here&apos;s an updated patch that does away with SequenceFileBase and requires no changes to SequenceFile in Hadoop 2.&lt;/p&gt;

&lt;p&gt;I&apos;ve also added a comment to createTaskAttemptContext. &lt;/p&gt;

&lt;p&gt;For the pom.xml version numbers - I&apos;ll fix that to use a single Hadoop version when I do the work to build dual mapred artifacts.&lt;/p&gt;</comment>
                            <comment id="13458842" author="cutting" created="Wed, 19 Sep 2012 16:49:55 +0000"  >&lt;p&gt;Nice work, Tom!&lt;/p&gt;

&lt;p&gt;To be clear, the current patch could be committed without the changes to the pom and everything would still work with Hadoop 1, right?  Would Hadoop 2 require recompilation?&lt;/p&gt;</comment>
                            <comment id="13458848" author="tomwhite" created="Wed, 19 Sep 2012 16:55:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;To be clear, the current patch could be committed without the changes to the pom and everything would still work with Hadoop 1, right?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. I haven&apos;t tested that yet, but that&apos;s the idea.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Would Hadoop 2 require recompilation?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately it would. I found this out in &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-56&quot; title=&quot;0.8.0 release does not work with Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-56&quot;&gt;&lt;del&gt;MRUNIT-56&lt;/del&gt;&lt;/a&gt; - the bytecode for method invocation is different for classes and interfaces, so a separate JAR is needed for each version.&lt;/p&gt;</comment>
                            <comment id="13458905" author="cutting" created="Wed, 19 Sep 2012 18:04:14 +0000"  >&lt;p&gt;If we build multiple jars then we might also run the tests twice, once with each version.&lt;/p&gt;</comment>
                            <comment id="13459646" author="tomwhite" created="Thu, 20 Sep 2012 14:58:20 +0000"  >&lt;p&gt;Here&apos;s a new patch with the Maven changes.&lt;/p&gt;

&lt;p&gt;For testing you can run &lt;tt&gt;mvn test -Dhadoop.version=2&lt;/tt&gt; to test the mapred module with Hadoop 2. If you don&apos;t specify the &lt;tt&gt;hadoop.version&lt;/tt&gt; property it defaults to 1 like the current behaviour. The other modules (i.e. not mapred) all build against Hadoop 1 since they use APIs that are binary compatible.&lt;/p&gt;

&lt;p&gt;For building, the idea is to create a mapred jar with a hadoop1 or hadoop2 classifier. We also create a Hadoop 1 artifact with no classifier which is the default (for backwards compatibility). For this to work we build against Hadoop 2 first, then Hadoop 1 so that the JAR with no classifier is the last one build (Hadoop 1). I&apos;ve changed the top-level build script to implement this.&lt;/p&gt;

&lt;p&gt;For deployment, the instructions at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/AVRO/How+To+Release&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/AVRO/How+To+Release&lt;/a&gt; would need to change to deploy the JARs with classifiers. Locally deploying twice worked, although I&apos;m not sure if this would work with a repository manager like Nexus:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn deploy -DskipTests=true -Dhadoop.version=2 -DaltDeploymentRepository=mine::default::file:///tmp/myrepo
mvn deploy -DskipTests=true -DaltDeploymentRepository=mine::default::file:///tmp/myrepo
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For consumers of the Maven artifacts, if you didn&apos;t specify a classifier in your dependency section then it would use Hadoop 1, as before:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.apache.avro&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;avro-mapred&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.7.2&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To use Hadoop 2, you would specify a hadoop2 classifier:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.apache.avro&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;avro-mapred&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.7.2&amp;lt;/version&amp;gt;
  &amp;lt;classifier&amp;gt;hadoop2&amp;lt;/classifier&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13460670" author="cutting" created="Fri, 21 Sep 2012 18:17:23 +0000"  >&lt;p&gt;When I apply this patch and run, &apos;mvn test -Dtest=TestAvroMultipleOutputs&apos; it fails with &quot;java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.task.TaskAttemptContext&quot;.  When I add &apos;-Dhadoop.version=2&apos; then tests pass.  When I change this to &apos;-Dhadoop.version=1&quot;, compilation fails.&lt;/p&gt;</comment>
                            <comment id="13461810" author="tomwhite" created="Mon, 24 Sep 2012 14:04:30 +0000"  >&lt;p&gt;There was a mistake in the package name which I&apos;ve now fixed (org.apache.hadoop.mapreduce.TaskAttemptContext). I&apos;ve also added a profile that matches when you specify &apos;-Dhadoop.version=1&apos;, since in the previous patch this caused neither the hadoop1 nor the hadoop2 profile to match, which caused a compilation error.&lt;/p&gt;

&lt;p&gt;You need to do a &apos;mvn clean&apos; before running the tests for a different Hadoop version, otherwise the classes are not recompiled against the new Hadoop classes and you get an IncompatibleClassChangeError. Thus:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn clean test -Dtest=TestAvroMultipleOutputs -Dhadoop.version=1
mvn clean test -Dtest=TestAvroMultipleOutputs -Dhadoop.version=2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13462008" author="cutting" created="Mon, 24 Sep 2012 19:01:54 +0000"  >&lt;p&gt;Tests now pass for me with hadoop.version unspecified or with it set to 1 or 2.&lt;/p&gt;

&lt;p&gt;It&apos;s unfortunate that we need three profiles.  I now see that your previous patch was just intended to work with either version unspecified or 2.  That might be preferable, as it removes redundancies in the pom that might later result in problems.  Regardless, we should probably add a comment describing the possible values.&lt;/p&gt;

&lt;p&gt;We should update the top-level build.sh so that it builds jars with both classifiers.  Also the release instructions will need updating so that we publish both types to Maven.&lt;/p&gt;

&lt;p&gt;Where should we document these classifiers for client applications?&lt;/p&gt;

&lt;p&gt;Thanks for all your work on this, Tom!&lt;/p&gt;</comment>
                            <comment id="13462637" author="tomwhite" created="Tue, 25 Sep 2012 10:50:52 +0000"  >&lt;p&gt;Here&apos;s a new patch with just two profiles. I&apos;ve added a comment to the top-level Java POM explaining the usage.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We should update the top-level build.sh so that it builds jars with both classifiers. Also the release instructions will need updating so that we publish both types to Maven.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I updated the top-level build.sh to build both JARs. I&apos;m not sure exactly how the release instructions change (see earlier comment), but it should be possible to figure that out at release time. We might need to put a note in them as a reminder.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Where should we document these classifiers for client applications?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How about adding a question to the FAQ? It would look a bit like last part of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1170?focusedCommentId=13459646&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13459646&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-1170?focusedCommentId=13459646&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13459646&lt;/a&gt;. I can add that once a release is made.&lt;/p&gt;
</comment>
                            <comment id="13463268" author="cutting" created="Tue, 25 Sep 2012 22:02:20 +0000"  >&lt;p&gt;+1 The latest patch looks great.  Thanks, Tom.&lt;/p&gt;</comment>
                            <comment id="13464716" author="tomwhite" created="Thu, 27 Sep 2012 13:28:20 +0000"  >&lt;p&gt;I just committed this. Thanks for the reviews, Doug.&lt;/p&gt;

&lt;p&gt;(BTW the last patch didn&apos;t include the removal of lang/java/mapred/src/main/java/org/apache/hadoop/io/SequenceFileBase.java, so I did that manually when I committed.)&lt;/p&gt;</comment>
                            <comment id="13550789" author="jojspieg" created="Fri, 11 Jan 2013 03:39:34 +0000"  >&lt;p&gt;I downloaded both jars here:&lt;br/&gt;
  wget &lt;a href=&quot;http://apache.claz.org/avro/avro-1.7.3/java/avro-mapred-1.7.3-hadoop1.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://apache.claz.org/avro/avro-1.7.3/java/avro-mapred-1.7.3-hadoop1.jar&lt;/a&gt;&lt;br/&gt;
  wget &lt;a href=&quot;http://apache.claz.org/avro/avro-1.7.3/java/avro-mapred-1.7.3-hadoop2.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://apache.claz.org/avro/avro-1.7.3/java/avro-mapred-1.7.3-hadoop2.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using either JAR with cdh3u3 (Hadoop 0.20.2) I get this error:&lt;br/&gt;
     java.lang.IncompatibleClassChangeError: Found class org.apache.hadoop.mapreduce.TaskAttemptContext, but interface was expected &lt;br/&gt;
     at org.apache.avro.mapreduce.AvroKeyInputFormat.createRecordReader(AvroKeyInputFormat.java:47)&lt;/p&gt;

&lt;p&gt;So I think both JARS are not compatible with anything before 0.23.0-mr1-cdh4b1 which appears to be when TaskAttemptContext became an interface.  &lt;/p&gt;</comment>
                            <comment id="13551250" author="tomwhite" created="Fri, 11 Jan 2013 16:49:08 +0000"  >&lt;p&gt;I decompiled AvroKeyValueOutputFormat from both JARs with javap and indeed they both have the interface form of TaskAttemptContext:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% javap -c -classpath . org/apache/avro/mapreduce/AvroKeyValueOutputFormat
...
   16:	invokeinterface	#5,  1; //InterfaceMethod org/apache/hadoop/mapreduce/TaskAttemptContext.getOutputKeyClass:()Ljava/lang/Class;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the Hadoop 1 JAR it should be &lt;tt&gt;invokevirtual&lt;/tt&gt;. I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1230&quot; title=&quot;avro-mapred-1.7.3-hadoop1.jar does not work with Hadoop 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1230&quot;&gt;&lt;del&gt;AVRO-1230&lt;/del&gt;&lt;/a&gt; to fix this. Thanks for the report Josh.&lt;/p&gt;</comment>
                            <comment id="13551255" author="jojspieg" created="Fri, 11 Jan 2013 16:54:15 +0000"  >&lt;p&gt;Thanks Tom.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546492" name="AVRO-1170.patch" size="13969" author="tomwhite" created="Tue, 25 Sep 2012 10:50:52 +0000"/>
                            <attachment id="12546296" name="AVRO-1170.patch" size="17671" author="tomwhite" created="Mon, 24 Sep 2012 14:04:30 +0000"/>
                            <attachment id="12545911" name="AVRO-1170.patch" size="16926" author="tomwhite" created="Thu, 20 Sep 2012 14:58:20 +0000"/>
                            <attachment id="12545754" name="AVRO-1170.patch" size="11800" author="tomwhite" created="Wed, 19 Sep 2012 16:38:22 +0000"/>
                            <attachment id="12545740" name="AVRO-1170.patch" size="4544" author="tomwhite" created="Wed, 19 Sep 2012 15:05:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Sep 2012 16:10:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1171] Configure method is being called twice on AvroMapper instances</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1171</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;The configure method is being called twice on each AvroMapper instance. &lt;/p&gt;

&lt;p&gt;The first call is made via reflection, when the instance is created by ReflectionUtils, and the second is made explicitly inside HadoopMapper. I think this second one could be safely removed. &lt;/p&gt;

&lt;p&gt;Ref:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCAFZSZPuM10yoBvP897ytT5PpAbv-gGFzsvE-kUn-Ue9p4SUJuQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/avro-user/201209.mbox/%3CCAFZSZPuM10yoBvP897ytT5PpAbv-gGFzsvE-kUn-Ue9p4SUJuQ%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608735">AVRO-1171</key>
            <summary>Configure method is being called twice on AvroMapper instances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbeech">Dave Beech</assignee>
                                    <reporter username="dbeech">Dave Beech</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Sep 2012 08:30:56 +0000</created>
                <updated>Mon, 10 Dec 2012 17:57:38 +0000</updated>
                            <resolved>Mon, 24 Sep 2012 21:23:54 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.7.3</fixVersion>
                                    <component>java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13461076" author="dbeech" created="Sat, 22 Sep 2012 08:44:40 +0000"  >&lt;p&gt;Same applies for AvroReducer - the second call is in HadoopReducerBase&lt;/p&gt;</comment>
                            <comment id="13461081" author="dbeech" created="Sat, 22 Sep 2012 08:56:57 +0000"  >&lt;p&gt;Here&apos;s a patch - all tests pass. &lt;/p&gt;</comment>
                            <comment id="13462154" author="cutting" created="Mon, 24 Sep 2012 21:23:54 +0000"  >&lt;p&gt;I just committed this.  Thanks, Dave!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546156" name="AVRO-1171.patch" size="1921" author="dbeech" created="Sat, 22 Sep 2012 08:56:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Sep 2012 21:23:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0awnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mapred</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1172] Avro C++ Json Decoder: Double cannot be decoded</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1172</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;Short version: Looks like the C++ version of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1099&quot; title=&quot;Int / Float cannot be decoded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1099&quot;&gt;&lt;del&gt;AVRO-1099&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Long version: When a non-decimal double is read from a json file, the parser treats it as an long, not a double, and therefore throws an exception. &lt;/p&gt;

&lt;p&gt;Two possible solutions: (1) The decoder should be able to convert longs to doubles or acknowledge that a long is a type of double. &lt;br/&gt;
(2) The encoder should always output a double with a decimal point.&lt;/p&gt;


&lt;p&gt;Example code is included below. Output is:&lt;br/&gt;
(1.01, 2.13)&lt;br/&gt;
terminate called after throwing an instance of &apos;avro::Exception&apos;&lt;br/&gt;
  what():  Incorrect token in the stream. Expected: Double, found Integer&lt;/p&gt;

&lt;p&gt;After running complex.json is: {&quot;re&quot;:1,&quot;im&quot;:2.13&lt;/p&gt;


&lt;p&gt;#include &amp;lt;iostream&amp;gt;&lt;br/&gt;
#include &amp;lt;fstream&amp;gt;&lt;/p&gt;

&lt;p&gt;using namespace std;&lt;/p&gt;

&lt;p&gt;#include &quot;cpx.hh&quot;&lt;br/&gt;
#include &quot;avro/Compiler.hh&quot;&lt;br/&gt;
#include &quot;avro/Encoder.hh&quot;&lt;br/&gt;
#include &quot;avro/Decoder.hh&quot;&lt;/p&gt;

&lt;p&gt;avro::ValidSchema load(const char* filename)&lt;br/&gt;
{&lt;br/&gt;
    std::ifstream ifs(filename);&lt;br/&gt;
    avro::ValidSchema result;&lt;br/&gt;
    avro::compileJsonSchema(ifs, result);&lt;br/&gt;
    return result;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;void OutTest()&lt;br/&gt;
{&lt;br/&gt;
    avro::ValidSchema cpxSchema = load(&quot;cpx_schema.json&quot;);&lt;/p&gt;

&lt;p&gt;    std::auto_ptr&amp;lt;avro::OutputStream&amp;gt; out = avro::fileOutputStream(&quot;complex.json&quot;,1);&lt;br/&gt;
    avro::EncoderPtr e = avro::jsonEncoder(cpxSchema);&lt;br/&gt;
    e-&amp;gt;init(*out);&lt;br/&gt;
    c::cpx c1;&lt;br/&gt;
    c1.re = 1.01;&lt;br/&gt;
    c1.im = 2.13;&lt;br/&gt;
    avro::encode(*e, c1);&lt;br/&gt;
    out-&amp;gt;flush();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;void OutTest2()&lt;br/&gt;
{&lt;br/&gt;
    avro::ValidSchema cpxSchema = load(&quot;cpx_schema.json&quot;);&lt;/p&gt;

&lt;p&gt;    std::auto_ptr&amp;lt;avro::OutputStream&amp;gt; out = avro::fileOutputStream(&quot;complex.json&quot;,1);&lt;br/&gt;
    avro::EncoderPtr e = avro::jsonEncoder(cpxSchema);&lt;br/&gt;
    e-&amp;gt;init(*out);&lt;br/&gt;
    c::cpx c1;&lt;br/&gt;
    c1.re = 1.0;&lt;br/&gt;
    c1.im = 2.13;&lt;br/&gt;
    avro::encode(*e, c1);&lt;br/&gt;
    out-&amp;gt;flush();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;void InTest()&lt;br/&gt;
{&lt;br/&gt;
    avro::ValidSchema cpxSchema = load(&quot;cpx_schema.json&quot;);&lt;br/&gt;
    std::auto_ptr&amp;lt;avro::InputStream&amp;gt; in = avro::fileInputStream(&quot;complex.json&quot;,1);&lt;br/&gt;
    avro::DecoderPtr d = avro::jsonDecoder(cpxSchema);&lt;br/&gt;
    d-&amp;gt;init(*in);&lt;br/&gt;
    c::cpx c2;&lt;br/&gt;
    avro::decode(*d, c2);&lt;br/&gt;
    std::cout &amp;lt;&amp;lt; &apos;(&apos; &amp;lt;&amp;lt; c2.re &amp;lt;&amp;lt; &quot;, &quot; &amp;lt;&amp;lt; c2.im &amp;lt;&amp;lt; &apos;)&apos; &amp;lt;&amp;lt; std::endl;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;int main()&lt;br/&gt;
{&lt;br/&gt;
    OutTest();&lt;br/&gt;
    InTest();&lt;br/&gt;
    OutTest2();&lt;br/&gt;
    InTest();&lt;br/&gt;
    return 0;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Built under msys and gcc-4.6.1 on a Windows7/64 bit machine.&lt;/p&gt;</environment>
        <key id="12609013">AVRO-1172</key>
            <summary>Avro C++ Json Decoder: Double cannot be decoded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sjoverend">Sam Overend</assignee>
                                    <reporter username="sjoverend">Sam Overend</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Tue, 25 Sep 2012 11:29:06 +0000</created>
                <updated>Fri, 28 Dec 2018 16:25:29 +0000</updated>
                            <resolved>Mon, 24 Jun 2013 08:38:28 +0000</resolved>
                                    <version>1.7.1</version>
                                                    <component>c++</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13464042" author="thiru_mg" created="Wed, 26 Sep 2012 18:36:56 +0000"  >&lt;p&gt;Good catch.&lt;/p&gt;

&lt;p&gt;This patch fixes the problem.&lt;/p&gt;

&lt;p&gt;In the sample code, instead of flushing the stream, if the encoder is flushes, the terminating close-braces would get written.&lt;/p&gt;</comment>
                            <comment id="13680598" author="thiru_mg" created="Tue, 11 Jun 2013 19:54:29 +0000"  >&lt;p&gt;I just submitted a patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1290&quot; title=&quot;Handling NaN and positive and negative infinities in C++ Json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1290&quot;&gt;&lt;del&gt;AVRO-1290&lt;/del&gt;&lt;/a&gt; which sometimes treats incoming strings as double. This situation can be handled the same way. I&apos;ll have this fixed once 1290 is resolved, which will be in the next 2 days or so.&lt;/p&gt;</comment>
                            <comment id="13689407" author="thiru_mg" created="Thu, 20 Jun 2013 17:06:15 +0000"  >&lt;p&gt;A slightly better version which exploits recent patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1290&quot; title=&quot;Handling NaN and positive and negative infinities in C++ Json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1290&quot;&gt;&lt;del&gt;AVRO-1290&lt;/del&gt;&lt;/a&gt; along with unit-tests.&lt;/p&gt;</comment>
                            <comment id="13689411" author="thiru_mg" created="Thu, 20 Jun 2013 17:09:14 +0000"  >&lt;p&gt;I&apos;ll commit this tomorrow if there are no objections.&lt;/p&gt;</comment>
                            <comment id="13691792" author="jira-bot" created="Mon, 24 Jun 2013 08:37:44 +0000"  >&lt;p&gt;Commit 1495955 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thiru_mg&quot; class=&quot;user-hover&quot; rel=&quot;thiru_mg&quot;&gt;Thiruvalluvan M. G.&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1495955&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1495955&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1172&quot; title=&quot;Avro C++ Json Decoder: Double cannot be decoded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1172&quot;&gt;&lt;del&gt;AVRO-1172&lt;/del&gt;&lt;/a&gt;. Avro C++ Json Decoder: Double cannot be decoded&lt;/p&gt;</comment>
                            <comment id="13691793" author="thiru_mg" created="Mon, 24 Jun 2013 08:38:28 +0000"  >&lt;p&gt;Committed revision 1495955.&lt;/p&gt;

&lt;p&gt;Thank you Sam Overend.&lt;/p&gt;</comment>
                            <comment id="13691843" author="hudson" created="Mon, 24 Jun 2013 09:38:34 +0000"  >&lt;p&gt;Integrated in AvroJava #379 (See &lt;a href=&quot;https://builds.apache.org/job/AvroJava/379/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/AvroJava/379/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1172&quot; title=&quot;Avro C++ Json Decoder: Double cannot be decoded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1172&quot;&gt;&lt;del&gt;AVRO-1172&lt;/del&gt;&lt;/a&gt;. Avro C++ Json Decoder: Double cannot be decoded (Revision 1495955)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
thiru : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/avro/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/impl/json/JsonIO.cc&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/impl/json/JsonIO.hh&lt;/li&gt;
	&lt;li&gt;/avro/trunk/lang/c++/test/CodecTests.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16730350" author="thiru_mg" created="Fri, 28 Dec 2018 16:25:29 +0000"  >&lt;p&gt;Closing issues that got resolved in earlier releases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588869" name="AVRO-1172-2.patch" size="4023" author="thiru_mg" created="Thu, 20 Jun 2013 17:06:15 +0000"/>
                            <attachment id="12546726" name="AVRO-1172.patch" size="1277" author="thiru_mg" created="Wed, 26 Sep 2012 18:36:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Sep 2012 18:36:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0awm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[AVRO-1173] C++ API for dynamic reading/writing based on schema</title>
                <link>https://issues.apache.org/jira/browse/AVRO-1173</link>
                <project id="12310911" key="AVRO">Apache Avro</project>
                    <description>&lt;p&gt;When I started looking at Avro I hoped it would offer some API to read values by name/id (or at least get name/id of datum while iterating over all entries).&lt;/p&gt;

&lt;p&gt;When looking at examples for C: &lt;a href=&quot;http://avro.apache.org/docs/1.6.3/api/c/index.html#_examples&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/docs/1.6.3/api/c/index.html#_examples&lt;/a&gt;&lt;br/&gt;
... or some Java examples&lt;br/&gt;
There are getters/setters which have name-arguments, and there are Record-objects constructed from schema which help reading/writing data.&lt;/p&gt;

&lt;p&gt;While testing the C++ API, I couldn&apos;t find a way to do so with it!&lt;br/&gt;
I&apos;m still not sure if I&apos;m missing some part of the API or if it is just not yet part of the C++ Interface.&lt;/p&gt;

&lt;p&gt;About C API: I could not use it, because it is C99 focused, so it can&apos;t be compiled on our VS2008 ... For the C++ API it&apos;s just some tiny tweaks to get it running.&lt;br/&gt;
About Generator: I&apos;m not interested in generating code (if I would be there are enough alternatives to Avro ...)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609032">AVRO-1173</key>
            <summary>C++ API for dynamic reading/writing based on schema</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sl.sy.ifm">Stefan Langer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Sep 2012 13:08:12 +0000</created>
                <updated>Sat, 24 Nov 2018 04:36:39 +0000</updated>
                            <resolved>Sat, 24 Nov 2018 04:36:39 +0000</resolved>
                                                                    <component>c++</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13462993" author="vnadkarni" created="Tue, 25 Sep 2012 17:20:22 +0000"  >&lt;p&gt;Regarding the C API: Since the C API is written in C99, it cannot be compiled as &quot;C&quot; code in VS2008. However, it can be compiled and run as C++ code under VS2008 &amp;#8211; See &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-551&quot; title=&quot;C: Build and pass tests on Win32&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-551&quot;&gt;&lt;del&gt;AVRO-551&lt;/del&gt;&lt;/a&gt;. If that functionality has broken subsequently, please let me know. &lt;/p&gt;</comment>
                            <comment id="13463556" author="sl.sy.ifm" created="Wed, 26 Sep 2012 06:06:27 +0000"  >&lt;p&gt;thanks for the hint ... I just tried this with 1.7.2 bundle (&quot;avro-c-1.7.2.tar.gz&quot;)&lt;br/&gt;
... it required adding two casts (so, some &quot;void*&quot; to a specific type)&lt;br/&gt;
... and there is a unistd.h in avroappend.c, which isn&apos;t available on VS2008 (but also not needed, so just commented that out for my build)&lt;br/&gt;
... and I had to tweak cmake_avrolib.bat, I have a non-english Windows so &quot;C:\Program Files&quot; is invalid (btw. replacing it with %ProgramFiles% should be international afaik)&lt;/p&gt;

&lt;p&gt;But beside this tiny tweaks it build really nice ^^&lt;br/&gt;
... is it OK to have those infos here? or should I create an jira-entry for those?&lt;/p&gt;</comment>
                            <comment id="13463977" author="vnadkarni" created="Wed, 26 Sep 2012 17:43:50 +0000"  >&lt;p&gt;It would be great if you could create a JIRA entry for the issues you fixed with the Windows build, and upload a patch file with all your changes in it. These changes would be merged by one of the committers (usually Douglas Creager for Avro-C) before the next release. &lt;/p&gt;

&lt;p&gt;Also, does anyone on the list know how the automatic build servers work for Avro? Would it be possible to add a Windows build for Avro-C, so we could catch issues more quickly when things break. &lt;/p&gt;</comment>
                            <comment id="13464043" author="cutting" created="Wed, 26 Sep 2012 18:37:11 +0000"  >&lt;p&gt;Documentation on build servers is at &lt;a href=&quot;http://ci.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ci.apache.org/&lt;/a&gt;.  There are already builtbot builds for Avro C, although some seem to be failing (e.g., fbsd).&lt;/p&gt;

&lt;p&gt;The buildbot page there says you can simply file an Infra Jira to get an Avro C Windows build added.&lt;/p&gt;</comment>
                            <comment id="13464049" author="thiru_mg" created="Wed, 26 Sep 2012 18:45:50 +0000"  >&lt;p&gt;C++ Generic is meant for reading and writing of dynamic content. One can read from and write into streams or data file using generic object. Did you look into Generic.hh?&lt;/p&gt;</comment>
                            <comment id="13464324" author="vnadkarni" created="Thu, 27 Sep 2012 00:32:31 +0000"  >&lt;p&gt;Thanks for the information about the buildbot.&lt;/p&gt;</comment>
                            <comment id="13464482" author="sl.sy.ifm" created="Thu, 27 Sep 2012 06:06:23 +0000"  >&lt;p&gt;@Thiruvalluvan:&lt;br/&gt;
Yes, I saw those Generic-Classes&lt;br/&gt;
... but the GenericRecord doesn&apos;t have something like:&lt;br/&gt;
void set(const std::string&amp;amp; name, const GenericDatum&amp;amp; v);&lt;br/&gt;
... which would be an equivalent to C-API: avro_record_set(...)&lt;/p&gt;

&lt;p&gt;And more important the documentation about the Generic-part seems to be really weak.&lt;/p&gt;</comment>
                            <comment id="13464494" author="sl.sy.ifm" created="Thu, 27 Sep 2012 06:29:19 +0000"  >&lt;p&gt;1174 was first documented as comment of 1173&lt;br/&gt;
... technical it&apos;s not really related&lt;/p&gt;</comment>
                            <comment id="16691248" author="thiru_mg" created="Mon, 19 Nov 2018 04:28:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sl.sy.ifm&quot; class=&quot;user-hover&quot; rel=&quot;sl.sy.ifm&quot;&gt;Stefan Langer&lt;/a&gt; Really sorry to come back after six year. The functionality you want is present, the usage is slightly different:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; GenericDatum&amp;amp; value = ...;
record.field(&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldname&quot;&lt;/span&gt;) = value;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12609353">AVRO-1174</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Sep 2012 17:20:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
